function c0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Zu(e){return c0(e)&&typeof e._ref=="string"}function V$e(e){return c0(e)&&Zu(e.asset)&&e.asset._ref.startsWith("image-")}function mge(e){return c0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function XPn(e){return c0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function rF(e){return c0(e)&&typeof e._type=="string"}function Sl(e){return c0(e)&&typeof e._key=="string"}function H$e(e){return e.level==="error"}const U$e=/_key\s*==\s*['"](.*)['"]/,W$e=/^\d*:\d*$/;function bc(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Pr(e){return typeof e=="string"?U$e.test(e.trim()):typeof e=="object"&&"_key"in e}function Ip(e){if(typeof e=="string"&&W$e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function v2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Xu(e){return v2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>v2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>v2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Js(e){return v2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Y$e(e){return Xu(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function im(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ka(e){return im(e)?e.jsonType==="object":!1}function Ol(e){return im(e)?e.jsonType==="array":!1}function oF(e){return Ol(e)&&e.of.every(t=>Ka(t))}function q$e(e){return Ol(e)&&e.of.every(t=>vge(t))}function Kx(e){return im(e)?e.jsonType==="boolean":!1}function gge(e){return im(e)?e.jsonType==="string":!1}function Pp(e){return im(e)?e.jsonType==="number":!1}function vge(e){return Kx(e)||gge(e)||Pp(e)}function _f(e){return im(e)&&(e.name==="reference"||_f(e.type))}function iF(e){return im(e)&&(e.name==="crossDatasetReference"||iF(e.type))}function sF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function yge(e,t){return e}function G$e(e,t){return e}function K$e(e){return e.level==="error"}function Z$e(e){return e.level==="warning"}var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function X$e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var bge={exports:{}},$k={},xge={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx=Symbol.for("react.element"),Q$e=Symbol.for("react.portal"),J$e=Symbol.for("react.fragment"),eRe=Symbol.for("react.strict_mode"),tRe=Symbol.for("react.profiler"),nRe=Symbol.for("react.provider"),rRe=Symbol.for("react.context"),oRe=Symbol.for("react.forward_ref"),iRe=Symbol.for("react.suspense"),sRe=Symbol.for("react.memo"),aRe=Symbol.for("react.lazy"),dz=Symbol.iterator;function lRe(e){return e===null||typeof e!="object"?null:(e=dz&&e[dz]||e["@@iterator"],typeof e=="function"?e:null)}var wge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_ge=Object.assign,Cge={};function u0(e,t,n){this.props=e,this.context=t,this.refs=Cge,this.updater=n||wge}u0.prototype.isReactComponent={};u0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};u0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sge(){}Sge.prototype=u0.prototype;function aF(e,t,n){this.props=e,this.context=t,this.refs=Cge,this.updater=n||wge}var lF=aF.prototype=new Sge;lF.constructor=aF;_ge(lF,u0.prototype);lF.isPureReactComponent=!0;var fz=Array.isArray,Ege=Object.prototype.hasOwnProperty,cF={current:null},kge={key:!0,ref:!0,__self:!0,__source:!0};function jge(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Ege.call(t,r)&&!kge.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Zx,type:e,key:i,ref:s,props:o,_owner:cF.current}}function cRe(e,t){return{$$typeof:Zx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uF(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zx}function uRe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hz=/\/+/g;function dD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uRe(""+e.key):t.toString(36)}function y2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zx:case Q$e:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+dD(s,0):r,fz(o)?(n="",e!=null&&(n=e.replace(hz,"$&/")+"/"),y2(o,t,n,"",function(u){return u})):o!=null&&(uF(o)&&(o=cRe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(hz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",fz(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+dD(i,a);s+=y2(i,t,n,l,o)}else if(l=lRe(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+dD(i,a++),s+=y2(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function C_(e,t,n){if(e==null)return e;var r=[],o=0;return y2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function dRe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qi={current:null},b2={transition:null},fRe={ReactCurrentDispatcher:Qi,ReactCurrentBatchConfig:b2,ReactCurrentOwner:cF};Vt.Children={map:C_,forEach:function(e,t,n){C_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C_(e,function(){t++}),t},toArray:function(e){return C_(e,function(t){return t})||[]},only:function(e){if(!uF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=u0;Vt.Fragment=J$e;Vt.Profiler=tRe;Vt.PureComponent=aF;Vt.StrictMode=eRe;Vt.Suspense=iRe;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fRe;Vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_ge({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=cF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ege.call(t,l)&&!kge.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zx,type:e.type,key:o,ref:i,props:r,_owner:s}};Vt.createContext=function(e){return e={$$typeof:rRe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nRe,_context:e},e.Consumer=e};Vt.createElement=jge;Vt.createFactory=function(e){var t=jge.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:oRe,render:e}};Vt.isValidElement=uF;Vt.lazy=function(e){return{$$typeof:aRe,_payload:{_status:-1,_result:e},_init:dRe}};Vt.memo=function(e,t){return{$$typeof:sRe,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=b2.transition;b2.transition={};try{e()}finally{b2.transition=t}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(e,t){return Qi.current.useCallback(e,t)};Vt.useContext=function(e){return Qi.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Qi.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Qi.current.useEffect(e,t)};Vt.useId=function(){return Qi.current.useId()};Vt.useImperativeHandle=function(e,t,n){return Qi.current.useImperativeHandle(e,t,n)};Vt.useInsertionEffect=function(e,t){return Qi.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Qi.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Qi.current.useMemo(e,t)};Vt.useReducer=function(e,t,n){return Qi.current.useReducer(e,t,n)};Vt.useRef=function(e){return Qi.current.useRef(e)};Vt.useState=function(e){return Qi.current.useState(e)};Vt.useSyncExternalStore=function(e,t,n){return Qi.current.useSyncExternalStore(e,t,n)};Vt.useTransition=function(){return Qi.current.useTransition()};Vt.version="18.2.0";xge.exports=Vt;var h=xge.exports;const oe=Ie(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hRe=h,pRe=Symbol.for("react.element"),mRe=Symbol.for("react.fragment"),gRe=Object.prototype.hasOwnProperty,vRe=hRe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yRe={key:!0,ref:!0,__self:!0,__source:!0};function Tge(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)gRe.call(t,r)&&!yRe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:pRe,type:e,key:i,ref:s,props:o,_owner:vRe.current}}$k.Fragment=mRe;$k.jsx=Tge;$k.jsxs=Tge;bge.exports=$k;var c=bge.exports;const bRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xRe=/_key\s*==\s*['"](.*)['"]/,Age=[],Dge="$";function d0(e,t,n){const r=typeof t=="string"?Cf(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(bc(s)){if(!Array.isArray(o))return n;o=o[s]}if(Pr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const fD=new Map;function sm(e){if(e.length===0)return Age;const t=vr(e);return fD.has(t)?fD.get(t):(fD.set(t,e),Object.freeze(e),e)}function _n(e,t){return e.length===t.length&&e.every((n,r)=>Rk(n,t[r]))}function wRe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!Rk(e[r],t[r]))return r;return n}function Rk(e,t){return Pr(e)&&Pr(t)?e._key===t._key:bc(e)?Number(e)===Number(t):Ip(e)&&Ip(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function vi(e,t){return e.every((n,r)=>Rk(n,t[r]))}function Ly(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return Rk(n,o)?sm(Ly(r,i)):t}function dF(e,t){return vi(e,t)?Ly(e,t):Age}function vr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function C3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...C3(i,r)]}const o=d0(e,[n]);return[n,...C3(o,r)]}function _Re(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return sm(C3(e,t))}function Cf(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(bRe);if(!t)throw new Error("Invalid path string");return t.map(CRe)}function CRe(e){return bc(e)?SRe(e):Pr(e)?ERe(e):Ip(e)?kRe(e):e}function SRe(e){return Number(e.replace(/[^\d]/g,""))}function ERe(e){return{_key:e.match(xRe)[1]}}function kRe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var jRe=typeof Element<"u",TRe=typeof Map=="function",ARe=typeof Set=="function",DRe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function x2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!x2(e[r],t[r]))return!1;return!0}var i;if(TRe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!x2(r.value[1],t.get(r.value[0])))return!1;return!0}if(ARe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(DRe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(jRe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!x2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var IRe=function(t,n){try{return x2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const fF=Ie(IRe);function PRe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Za=PRe;const Xx=Ie(Za);var ORe=typeof xs=="object"&&xs&&xs.Object===Object&&xs,Ige=ORe,$Re=Ige,RRe=typeof self=="object"&&self&&self.Object===Object&&self,MRe=$Re||RRe||Function("return this")(),$l=MRe,FRe=$l,LRe=function(){return FRe.Date.now()},BRe=LRe,NRe=/\s/;function zRe(e){for(var t=e.length;t--&&NRe.test(e.charAt(t)););return t}var VRe=zRe,HRe=VRe,URe=/^\s+/;function WRe(e){return e&&e.slice(0,HRe(e)+1).replace(URe,"")}var Pge=WRe,YRe=$l,qRe=YRe.Symbol,f0=qRe,pz=f0,Oge=Object.prototype,GRe=Oge.hasOwnProperty,KRe=Oge.toString,b1=pz?pz.toStringTag:void 0;function ZRe(e){var t=GRe.call(e,b1),n=e[b1];try{e[b1]=void 0;var r=!0}catch{}var o=KRe.call(e);return r&&(t?e[b1]=n:delete e[b1]),o}var XRe=ZRe,QRe=Object.prototype,JRe=QRe.toString;function eMe(e){return JRe.call(e)}var tMe=eMe,mz=f0,nMe=XRe,rMe=tMe,oMe="[object Null]",iMe="[object Undefined]",gz=mz?mz.toStringTag:void 0;function sMe(e){return e==null?e===void 0?iMe:oMe:gz&&gz in Object(e)?nMe(e):rMe(e)}var qf=sMe;function aMe(e){return e!=null&&typeof e=="object"}var Xa=aMe,lMe=qf,cMe=Xa,uMe="[object Symbol]";function dMe(e){return typeof e=="symbol"||cMe(e)&&lMe(e)==uMe}var am=dMe,fMe=Pge,vz=Za,hMe=am,yz=0/0,pMe=/^[-+]0x[0-9a-f]+$/i,mMe=/^0b[01]+$/i,gMe=/^0o[0-7]+$/i,vMe=parseInt;function yMe(e){if(typeof e=="number")return e;if(hMe(e))return yz;if(vz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fMe(e);var n=mMe.test(e);return n||gMe.test(e)?vMe(e.slice(2),n?2:8):pMe.test(e)?yz:+e}var $ge=yMe,bMe=Za,hD=BRe,bz=$ge,xMe="Expected a function",wMe=Math.max,_Me=Math.min;function CMe(e,t,n){var r,o,i,s,a,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(xMe);t=bz(t)||0,bMe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?wMe(bz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(b,t),d?m(S):s}function g(S){var E=S-l,j=S-u,k=t-E;return f?_Me(k,i-j):k}function x(S){var E=S-l,j=S-u;return l===void 0||E>=t||E<0||f&&j>=i}function b(){var S=hD();if(x(S))return y(S);a=setTimeout(b,g(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=o=a=void 0}function _(){return a===void 0?s:y(hD())}function C(){var S=hD(),E=x(S);if(r=arguments,o=this,l=S,E){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,t),m(l)}return a===void 0&&(a=setTimeout(b,t)),s}return C.cancel=w,C.flush=_,C}var Rge=CMe;const Qx=Ie(Rge);function hF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Mge={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pF=Symbol.for("react.element"),mF=Symbol.for("react.portal"),Mk=Symbol.for("react.fragment"),Fk=Symbol.for("react.strict_mode"),Lk=Symbol.for("react.profiler"),Bk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),SMe=Symbol.for("react.server_context"),zk=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Hk=Symbol.for("react.suspense_list"),Uk=Symbol.for("react.memo"),Wk=Symbol.for("react.lazy"),EMe=Symbol.for("react.offscreen"),Fge;Fge=Symbol.for("react.module.reference");function Qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pF:switch(e=e.type,e){case Mk:case Lk:case Fk:case Vk:case Hk:return e;default:switch(e=e&&e.$$typeof,e){case SMe:case Nk:case zk:case Wk:case Uk:case Bk:return e;default:return t}}case mF:return t}}}jn.ContextConsumer=Nk;jn.ContextProvider=Bk;jn.Element=pF;jn.ForwardRef=zk;jn.Fragment=Mk;jn.Lazy=Wk;jn.Memo=Uk;jn.Portal=mF;jn.Profiler=Lk;jn.StrictMode=Fk;jn.Suspense=Vk;jn.SuspenseList=Hk;jn.isAsyncMode=function(){return!1};jn.isConcurrentMode=function(){return!1};jn.isContextConsumer=function(e){return Qa(e)===Nk};jn.isContextProvider=function(e){return Qa(e)===Bk};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pF};jn.isForwardRef=function(e){return Qa(e)===zk};jn.isFragment=function(e){return Qa(e)===Mk};jn.isLazy=function(e){return Qa(e)===Wk};jn.isMemo=function(e){return Qa(e)===Uk};jn.isPortal=function(e){return Qa(e)===mF};jn.isProfiler=function(e){return Qa(e)===Lk};jn.isStrictMode=function(e){return Qa(e)===Fk};jn.isSuspense=function(e){return Qa(e)===Vk};jn.isSuspenseList=function(e){return Qa(e)===Hk};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mk||e===Lk||e===Fk||e===Vk||e===Hk||e===EMe||typeof e=="object"&&e!==null&&(e.$$typeof===Wk||e.$$typeof===Uk||e.$$typeof===Bk||e.$$typeof===Nk||e.$$typeof===zk||e.$$typeof===Fge||e.getModuleId!==void 0)};jn.typeOf=Qa;Mge.exports=jn;var Or=Mge.exports;const kMe=Ie(Or);var S3=function(e,t){return S3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},S3(e,t)};function ca(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");S3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Co=function(){return Co=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Co.apply(this,arguments)};function jMe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Lge(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Op(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ba(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Qo(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function qg(e){return this instanceof qg?(this.v=e,this):new qg(e)}function TMe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{l(r[p](m))}catch(v){f(i[0][3],v)}}function l(p){p.value instanceof qg?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function AMe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Op=="function"?Op(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}var er="-ms-",By="-moz-",bn="-webkit-",Bge="comm",Yk="rule",gF="decl",DMe="@import",Nge="@keyframes",IMe="@layer",PMe=Math.abs,vF=String.fromCharCode,E3=Object.assign;function OMe(e,t){return Ro(e,0)^45?(((t<<2^Ro(e,0))<<2^Ro(e,1))<<2^Ro(e,2))<<2^Ro(e,3):0}function zge(e){return e.trim()}function su(e,t){return(e=t.exec(e))?e[0]:e}function kt(e,t,n){return e.replace(t,n)}function w2(e,t){return e.indexOf(t)}function Ro(e,t){return e.charCodeAt(t)|0}function Ev(e,t,n){return e.slice(t,n)}function ic(e){return e.length}function Vge(e){return e.length}function uy(e,t){return t.push(e),e}function $Me(e,t){return e.map(t).join("")}function xz(e,t){return e.filter(function(n){return!su(n,t)})}var qk=1,kv=1,Hge=0,Na=0,so=0,h0="";function Gk(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:qk,column:kv,length:s,return:"",siblings:a}}function _d(e,t){return E3(Gk("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function zm(e){for(;e.root;)e=_d(e.root,{children:[e]});uy(e,e.siblings)}function RMe(){return so}function MMe(){return so=Na>0?Ro(h0,--Na):0,kv--,so===10&&(kv=1,qk--),so}function bl(){return so=Na<Hge?Ro(h0,Na++):0,kv++,so===10&&(kv=1,qk++),so}function yp(){return Ro(h0,Na)}function _2(){return Na}function Kk(e,t){return Ev(h0,e,t)}function k3(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function FMe(e){return qk=kv=1,Hge=ic(h0=e),Na=0,[]}function LMe(e){return h0="",e}function pD(e){return zge(Kk(Na-1,j3(e===91?e+2:e===40?e+1:e)))}function BMe(e){for(;(so=yp())&&so<33;)bl();return k3(e)>2||k3(so)>3?"":" "}function NMe(e,t){for(;--t&&bl()&&!(so<48||so>102||so>57&&so<65||so>70&&so<97););return Kk(e,_2()+(t<6&&yp()==32&&bl()==32))}function j3(e){for(;bl();)switch(so){case e:return Na;case 34:case 39:e!==34&&e!==39&&j3(so);break;case 40:e===41&&j3(e);break;case 92:bl();break}return Na}function zMe(e,t){for(;bl()&&e+so!==47+10;)if(e+so===42+42&&yp()===47)break;return"/*"+Kk(t,Na-1)+"*"+vF(e===47?e:bl())}function VMe(e){for(;!k3(yp());)bl();return Kk(e,Na)}function HMe(e){return LMe(C2("",null,null,null,[""],e=FMe(e),0,[0],e))}function C2(e,t,n,r,o,i,s,a,l){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,x=1,b=1,y=0,w="",_=o,C=i,S=r,E=w;x;)switch(v=y,y=bl()){case 40:if(v!=108&&Ro(E,f-1)==58){w2(E+=kt(pD(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:E+=pD(y);break;case 9:case 10:case 13:case 32:E+=BMe(v);break;case 92:E+=NMe(_2()-1,7);continue;case 47:switch(yp()){case 42:case 47:uy(UMe(zMe(bl(),_2()),t,n,l),l);break;default:E+="/"}break;case 123*g:a[u++]=ic(E)*b;case 125*g:case 59:case 0:switch(y){case 0:case 125:x=0;case 59+d:b==-1&&(E=kt(E,/\f/g,"")),m>0&&ic(E)-f&&uy(m>32?_z(E+";",r,n,f-1,l):_z(kt(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(uy(S=wz(E,t,n,u,d,o,a,w,_=[],C=[],f,i),i),y===123)if(d===0)C2(E,t,S,S,_,i,f,a,C);else switch(p===99&&Ro(E,3)===110?100:p){case 100:case 108:case 109:case 115:C2(e,S,S,r&&uy(wz(e,S,S,0,0,o,a,w,o,_=[],f,C),C),o,C,f,a,r?_:C);break;default:C2(E,S,S,S,[""],C,0,a,C)}}u=d=m=0,g=b=1,w=E="",f=s;break;case 58:f=1+ic(E),m=v;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&MMe()==125)continue}switch(E+=vF(y),y*g){case 38:b=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(ic(E)-1)*b,b=1;break;case 64:yp()===45&&(E+=pD(bl())),p=yp(),d=f=ic(w=E+=VMe(_2())),y++;break;case 45:v===45&&ic(E)==2&&(g=0)}}return i}function wz(e,t,n,r,o,i,s,a,l,u,d,f){for(var p=o-1,m=o===0?i:[""],v=Vge(m),g=0,x=0,b=0;g<r;++g)for(var y=0,w=Ev(e,p+1,p=PMe(x=s[g])),_=e;y<v;++y)(_=zge(x>0?m[y]+" "+w:kt(w,/&\f/g,m[y])))&&(l[b++]=_);return Gk(e,t,n,o===0?Yk:a,l,u,d,f)}function UMe(e,t,n,r){return Gk(e,t,n,Bge,vF(RMe()),Ev(e,2,-2),0,r)}function _z(e,t,n,r,o){return Gk(e,t,n,gF,Ev(e,0,r),Ev(e,r+1,-1),r,o)}function Uge(e,t,n){switch(OMe(e,t)){case 5103:return bn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bn+e+e;case 4789:return By+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bn+e+By+e+er+e+e;case 5936:switch(Ro(e,t+11)){case 114:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return bn+e+er+e+e;case 6165:return bn+e+er+"flex-"+e+e;case 5187:return bn+e+kt(e,/(\w+).+(:[^]+)/,bn+"box-$1$2"+er+"flex-$1$2")+e;case 5443:return bn+e+er+"flex-item-"+kt(e,/flex-|-self/g,"")+(su(e,/flex-|baseline/)?"":er+"grid-row-"+kt(e,/flex-|-self/g,""))+e;case 4675:return bn+e+er+"flex-line-pack"+kt(e,/align-content|flex-|-self/g,"")+e;case 5548:return bn+e+er+kt(e,"shrink","negative")+e;case 5292:return bn+e+er+kt(e,"basis","preferred-size")+e;case 6060:return bn+"box-"+kt(e,"-grow","")+bn+e+er+kt(e,"grow","positive")+e;case 4554:return bn+kt(e,/([^-])(transform)/g,"$1"+bn+"$2")+e;case 6187:return kt(kt(kt(e,/(zoom-|grab)/,bn+"$1"),/(image-set)/,bn+"$1"),e,"")+e;case 5495:case 3959:return kt(e,/(image-set\([^]*)/,bn+"$1$`$1");case 4968:return kt(kt(e,/(.+:)(flex-)?(.*)/,bn+"box-pack:$3"+er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bn+e+e;case 4200:if(!su(e,/flex-|baseline/))return er+"grid-column-align"+Ev(e,t)+e;break;case 2592:case 3360:return er+kt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,su(r.props,/grid-\w+-end/)})?~w2(e+(n=n[t].value),"span")?e:er+kt(e,"-start","")+e+er+"grid-row-span:"+(~w2(n,"span")?su(n,/\d+/):+su(n,/\d+/)-+su(e,/\d+/))+";":er+kt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return su(r.props,/grid-\w+-start/)})?e:er+kt(kt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return kt(e,/(.+)-inline(.+)/,bn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ic(e)-1-t>6)switch(Ro(e,t+1)){case 109:if(Ro(e,t+4)!==45)break;case 102:return kt(e,/(.+:)(.+)-([^]+)/,"$1"+bn+"$2-$3$1"+By+(Ro(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~w2(e,"stretch")?Uge(kt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return kt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,l,u){return er+o+":"+i+u+(s?er+o+"-span:"+(a?l:+l-+i)+u:"")+e});case 4949:if(Ro(e,t+6)===121)return kt(e,":",":"+bn)+e;break;case 6444:switch(Ro(e,Ro(e,14)===45?18:11)){case 120:return kt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bn+(Ro(e,14)===45?"inline-":"")+"box$3$1"+bn+"$2$3$1"+er+"$2box$3")+e;case 100:return kt(e,":",":"+er)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return kt(e,"scroll-","scroll-snap-")+e}return e}function zS(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function WMe(e,t,n,r){switch(e.type){case IMe:if(e.children.length)break;case DMe:case gF:return e.return=e.return||e.value;case Bge:return"";case Nge:return e.return=e.value+"{"+zS(e.children,r)+"}";case Yk:if(!ic(e.value=e.props.join(",")))return""}return ic(n=zS(e.children,r))?e.return=e.value+"{"+n+"}":""}function YMe(e){var t=Vge(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function qMe(e){return function(t){t.root||(t=t.return)&&e(t)}}function GMe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case gF:e.return=Uge(e.value,e.length,n);return;case Nge:return zS([_d(e,{value:kt(e.value,"@","@"+bn)})],r);case Yk:if(e.length)return $Me(n=e.props,function(o){switch(su(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":zm(_d(e,{props:[kt(o,/:(read-\w+)/,":"+By+"$1")]})),zm(_d(e,{props:[o]})),E3(e,{props:xz(n,r)});break;case"::placeholder":zm(_d(e,{props:[kt(o,/:(plac\w+)/,":"+bn+"input-$1")]})),zm(_d(e,{props:[kt(o,/:(plac\w+)/,":"+By+"$1")]})),zm(_d(e,{props:[kt(o,/:(plac\w+)/,er+"input-$1")]})),zm(_d(e,{props:[o]})),E3(e,{props:xz(n,r)});break}return""})}}var KMe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",yF=typeof window<"u"&&"HTMLElement"in window,ZMe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),XMe={},Zk=Object.freeze([]),Tv=Object.freeze({});function Wge(e,t,n){return n===void 0&&(n=Tv),e.theme!==n.theme&&e.theme||t||n.theme}var Yge=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),QMe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JMe=/(^-|-$)/g;function Cz(e){return e.replace(QMe,"-").replace(JMe,"")}var e4e=/(a)(d)/gi,Sz=function(e){return String.fromCharCode(e+(e>25?39:97))};function T3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Sz(t%52)+n;return(Sz(t%52)+n).replace(e4e,"$1-$2")}var mD,wg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},qge=function(e){return wg(5381,e)};function bF(e){return T3(qge(e)>>>0)}function t4e(e){return e.displayName||e.name||"Component"}function gD(e){return typeof e=="string"&&!0}var Gge=typeof Symbol=="function"&&Symbol.for,Kge=Gge?Symbol.for("react.memo"):60115,n4e=Gge?Symbol.for("react.forward_ref"):60112,r4e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o4e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i4e=((mD={})[n4e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mD[Kge]=Zge,mD);function Ez(e){return("type"in(t=e)&&t.type.$$typeof)===Kge?Zge:"$$typeof"in e?i4e[e.$$typeof]:r4e;var t}var s4e=Object.defineProperty,a4e=Object.getOwnPropertyNames,kz=Object.getOwnPropertySymbols,l4e=Object.getOwnPropertyDescriptor,c4e=Object.getPrototypeOf,jz=Object.prototype;function Xge(e,t,n){if(typeof t!="string"){if(jz){var r=c4e(t);r&&r!==jz&&Xge(e,r,n)}var o=a4e(t);kz&&(o=o.concat(kz(t)));for(var i=Ez(e),s=Ez(t),a=0;a<o.length;++a){var l=o[a];if(!(l in o4e||n&&n[l]||s&&l in s||i&&l in i)){var u=l4e(t,l);try{s4e(e,l,u)}catch{}}}}return e}function $p(e){return typeof e=="function"}function xF(e){return typeof e=="object"&&"styledComponentId"in e}function tp(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function VS(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Db(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function A3(e,t,n){if(n===void 0&&(n=!1),!n&&!Db(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=A3(e[r],t[r]);else if(Db(t))for(var r in t)e[r]=A3(e[r],t[r]);return e}function wF(e,t){Object.defineProperty(e,"toString",{value:t})}function Sf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var u4e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Sf(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),S2=new Map,HS=new Map,E2=1,S_=function(e){if(S2.has(e))return S2.get(e);for(;HS.has(E2);)E2++;var t=E2++;return S2.set(e,t),HS.set(t,e),t},d4e=function(e,t){E2=t+1,S2.set(e,t),HS.set(t,e)},f4e="style[".concat(jv,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),h4e=new RegExp("^".concat(jv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),p4e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},m4e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var l=a.match(h4e);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(d4e(d,u),p4e(e,d,l[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function g4e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Qge=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var l=Array.from(a.querySelectorAll("style[".concat(jv,"]")));return l[l.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(jv,"active"),r.setAttribute("data-styled-version","6.1.1");var s=g4e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},v4e=function(){function e(t){this.element=Qge(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Sf(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),y4e=function(){function e(t){this.element=Qge(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),b4e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Tz=yF,x4e={isServer:!yF,useCSSOMInjection:!ZMe},US=function(){function e(t,n,r){t===void 0&&(t=Tv),n===void 0&&(n={});var o=this;this.options=Co(Co({},x4e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&yF&&Tz&&(Tz=!1,function(i){for(var s=document.querySelectorAll(f4e),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(jv)!=="active"&&(m4e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),wF(this,function(){return function(i){for(var s=i.getTag(),a=s.length,l="",u=function(f){var p=function(b){return HS.get(b)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(jv,".g").concat(f,'[id="').concat(p,'"]'),x="";m!==void 0&&m.forEach(function(b){b.length>0&&(x+="".concat(b,","))}),l+="".concat(v).concat(g,'{content:"').concat(x,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return l}(o)})}return e.registerId=function(t){return S_(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Co(Co({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new b4e(o):r?new v4e(o):new y4e(o)}(this.options),new u4e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(S_(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(S_(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(S_(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),w4e=/&/g,_4e=/^\s*\/\/.*$/gm;function Jge(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Jge(n.children,t)),n})}function C4e(e){var t,n,r,o=e===void 0?Tv:e,i=o.options,s=i===void 0?Tv:i,a=o.plugins,l=a===void 0?Zk:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=l.slice();d.push(function(p){p.type===Yk&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(w4e,n).replace(r,u))}),s.prefix&&d.push(GMe),d.push(WMe);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var x=p.replace(_4e,""),b=HMe(v||m?"".concat(v," ").concat(m," { ").concat(x," }"):x);s.namespace&&(b=Jge(b,s.namespace));var y=[];return zS(b,YMe(d.concat(qMe(function(w){return y.push(w)})))),y};return f.hash=l.length?l.reduce(function(p,m){return m.name||Sf(15),wg(p,m.name)},5381).toString():"",f}var S4e=new US,D3=C4e(),eve=oe.createContext({shouldForwardProp:void 0,styleSheet:S4e,stylis:D3});eve.Consumer;oe.createContext(void 0);function I3(){return h.useContext(eve)}var tve=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=D3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,wF(this,function(){throw Sf(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=D3),this.name+t.hash},e}(),E4e=function(e){return e>="A"&&e<="Z"};function Az(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;E4e(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var nve=function(e){return e==null||e===!1||e===""},rve=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!nve(i)&&(Array.isArray(i)&&i.isCss||$p(i)?r.push("".concat(Az(o),":"),i,";"):Db(i)?r.push.apply(r,Qo(Qo(["".concat(o," {")],rve(i),!1),["}"],!1)):r.push("".concat(Az(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in KMe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function nf(e,t,n,r){if(nve(e))return[];if(xF(e))return[".".concat(e.styledComponentId)];if($p(e)){if(!$p(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return nf(o,t,n,r)}var i;return e instanceof tve?n?(e.inject(n,r),[e.getName(r)]):[e]:Db(e)?rve(e):Array.isArray(e)?Array.prototype.concat.apply(Zk,e.map(function(s){return nf(s,t,n,r)})):[e.toString()]}function ove(e){for(var t=0;t<e.length;t+=1){var n=e[t];if($p(n)&&!xF(n))return!1}return!0}var k4e=qge("6.1.1"),j4e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&ove(t),this.componentId=n,this.baseHash=wg(k4e,n),this.baseStyle=r,US.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=tp(o,this.staticRulesId);else{var i=VS(nf(this.rules,t,n,r)),s=T3(wg(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=tp(o,s),this.staticRulesId=s}else{for(var l=wg(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=VS(nf(f,t,n,r));l=wg(l,p+d),u+=p}}if(u){var m=T3(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=tp(o,m)}}return o},e}(),Av=oe.createContext(void 0);Av.Consumer;function ive(){var e=h.useContext(Av);if(!e)throw Sf(18);return e}function T4e(e){var t=oe.useContext(Av),n=h.useMemo(function(){return function(r,o){if(!r)throw Sf(14);if($p(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw Sf(8);return o?Co(Co({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?oe.createElement(Av.Provider,{value:n},e.children):null}var vD={};function A4e(e,t,n){var r=xF(e),o=e,i=!gD(e),s=t.attrs,a=s===void 0?Zk:s,l=t.componentId,u=l===void 0?function(_,C){var S=typeof _!="string"?"sc":Cz(_);vD[S]=(vD[S]||0)+1;var E="".concat(S,"-").concat(bF("6.1.1"+S+vD[S]));return C?"".concat(C,"-").concat(E):E}(t.displayName,t.parentComponentId):l,d=t.displayName,f=d===void 0?function(_){return gD(_)?"styled.".concat(_):"Styled(".concat(t4e(_),")")}(e):d,p=t.displayName&&t.componentId?"".concat(Cz(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;v=function(_,C){return g(_,C)&&x(_,C)}}else v=g}var b=new j4e(n,p,r?o.componentStyle:void 0);function y(_,C){return function(S,E,j){var k=S.attrs,T=S.componentStyle,A=S.defaultProps,D=S.foldedComponentIds,I=S.styledComponentId,P=S.target,M=oe.useContext(Av),$=I3(),V=S.shouldForwardProp||$.shouldForwardProp,L=function(N,G,q){for(var K,Q=Co(Co({},G),{className:void 0,theme:q}),X=0;X<N.length;X+=1){var Z=$p(K=N[X])?K(Q):K;for(var re in Z)Q[re]=re==="className"?tp(Q[re],Z[re]):re==="style"?Co(Co({},Q[re]),Z[re]):Z[re]}return G.className&&(Q.className=tp(Q.className,G.className)),Q}(k,E,Wge(E,M,A)||Tv),H=L.as||P,U={};for(var z in L)L[z]===void 0||z[0]==="$"||z==="as"||z==="theme"||(z==="forwardedAs"?U.as=L.forwardedAs:V&&!V(z,H)||(U[z]=L[z]));var Y=function(N,G){var q=I3(),K=N.generateAndInjectStyles(G,q.styleSheet,q.stylis);return K}(T,L),te=tp(D,I);return Y&&(te+=" "+Y),L.className&&(te+=" "+L.className),U[gD(H)&&!Yge.has(H)?"class":"className"]=te,U.ref=j,h.createElement(H,U)}(w,_,C)}y.displayName=f;var w=oe.forwardRef(y);return w.attrs=m,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?tp(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(C){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var j=0,k=S;j<k.length;j++)A3(C,k[j],!0);return C}({},o.defaultProps,_):_}}),wF(w,function(){return".".concat(w.styledComponentId)}),i&&Xge(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Dz(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Iz=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($p(e)||Db(e)){var r=e;return Iz(nf(Dz(Zk,Qo([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?nf(o):Iz(nf(Dz(o,t)))}function P3(e,t,n){if(n===void 0&&(n=Tv),!t)throw Sf(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,Qo([o],i,!1)))};return r.attrs=function(o){return P3(e,t,Co(Co({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return P3(e,t,Co(Co({},n),o))},r}var sve=function(e){return P3(A4e,e)},O=sve;Yge.forEach(function(e){O[e]=sve(e)});var D4e=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=ove(t),US.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(VS(nf(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&US.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function ave(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,Qo([e],t,!1)),o="sc-global-".concat(bF(JSON.stringify(r))),i=new D4e(r,o),s=function(l){var u=I3(),d=oe.useContext(Av),f=oe.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,l,u.styleSheet,d,u.stylis),oe.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,l,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,d,u.stylis]),null};function a(l,u,d,f,p){if(i.isStatic)i.renderStyles(l,XMe,d,p);else{var m=Co(Co({},u),{theme:Wge(u,f,s.defaultProps)});i.renderStyles(l,m,d,p)}}return oe.memo(s)}function Xk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=VS(de.apply(void 0,Qo([e],t,!1))),o=bF(r);return new tve(o,r)}const I4e="#101112",P4e="#fff",k2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},dy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},O4e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},$4e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},O3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},R4e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},$3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},R3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},M4e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:k2,blue:dy,purple:O4e,magenta:$4e,red:O3,orange:R4e,yellow:$3,green:R3,cyan:M4e},lve=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],oc={title:"Black",hex:I4e},Ca={title:"White",hex:P4e},Ef=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M3=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ea=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),B4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_F=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),dve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),fve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),q4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),Qk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),_g=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Jk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),za=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ej=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ua=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tj=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bp=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Au=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rp=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),gFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),yFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_ve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),wFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_Fe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Du=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Vo=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),SFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),EFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),TFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),da=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),AFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),DFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),IFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),$Fe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dv=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),El=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),lm=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),jve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Tve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),VFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),UFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kf=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),GFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Ave=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),KFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),ZFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ive=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),QFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),n6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Jx=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),AF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ove=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),DF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),IF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),d6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yi=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ml=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),rj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$ve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),lg=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),OF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oj=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),S6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ij=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),D6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),uo=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Ny=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Fve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sj=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Xr=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),V6e={"access-denied":Ef,activity:F4e,"add-circle":M3,add:ea,api:L4e,archive:B4e,"arrow-down":cve,"arrow-left":_F,"arrow-right":uve,"arrow-top-right":N4e,"arrow-up":z4e,"bar-chart":V4e,basket:H4e,bell:U4e,bill:W4e,"binary-document":p0,"block-content":dve,"block-element":fve,blockquote:Y4e,bold:hve,bolt:q4e,book:G4e,bottle:K4e,"bulb-filled":Z4e,"bulb-outline":Qk,calendar:_g,case:X4e,"chart-upward":Q4e,"checkmark-circle":Jk,checkmark:za,"chevron-down":Rl,"chevron-left":ej,"chevron-right":Qu,"chevron-up":pve,circle:J4e,clipboard:eFe,"clipboard-image":tFe,clock:mve,"close-circle":nFe,close:ua,"code-block":rFe,code:gve,cog:tj,collapse:vve,"color-wheel":oFe,comment:yve,component:iFe,compose:bp,controls:nj,copy:Au,"credit-card":sFe,crop:bve,cube:aFe,dashboard:lFe,database:cFe,desktop:xve,document:Rp,"document-pdf":uFe,"document-remove":dFe,"document-sheet":fFe,"document-text":hFe,"document-video":pFe,"document-word":mFe,"document-zip":gFe,documents:CF,dot:vFe,"double-chevron-down":yFe,"double-chevron-left":bFe,"double-chevron-right":wve,"double-chevron-up":xFe,download:SF,"drag-handle":_ve,drop:wFe,"earth-americas":Cve,"earth-globe":_Fe,edit:Du,"ellipsis-horizontal":CFe,"ellipsis-vertical":Vo,enter:SFe,"enter-right":EFe,envelope:kFe,equal:jFe,"error-filled":TFe,"error-outline":da,expand:Sve,"eye-closed":AFe,"eye-open":EF,filter:DFe,folder:IFe,generate:PFe,groq:OFe,"heart-filled":$Fe,heart:RFe,"help-circle":Dv,home:MFe,"ice-cream":FFe,image:El,"image-remove":LFe,images:BFe,"info-filled":NFe,"info-outline":lm,"inline-element":Eve,inline:zFe,"insert-above":kve,"insert-below":jve,italic:Tve,joystick:VFe,json:HFe,launch:m0,leave:kF,lemon:UFe,link:kf,"link-removed":WFe,lock:YFe,"logo-js":qFe,"logo-ts":GFe,"master-detail":Ave,menu:jF,"mobile-device":KFe,moon:TF,number:Dve,"ok-hand":ZFe,olist:Ive,overage:XFe,package:QFe,"panel-left":JFe,"panel-right":e6e,pause:t6e,pin:n6e,"pin-removed":r6e,play:o6e,plug:Pve,presentation:i6e,publish:Jx,"read-only":AF,redo:s6e,refresh:a6e,"remove-circle":l6e,remove:Ove,reset:Iu,restore:DF,retrieve:c6e,retry:u6e,revert:IF,robot:d6e,rocket:f6e,schema:h6e,search:Yi,select:Ml,share:p6e,sort:PF,sparkle:m6e,sparkles:g6e,spinner:rj,"split-horizontal":v6e,"split-vertical":y6e,square:b6e,"stack-compact":$ve,stack:Rve,star:x6e,stop:w6e,strikethrough:Mve,string:lg,sun:OF,sync:oj,"tablet-device":_6e,tag:C6e,tags:S6e,terminal:E6e,text:k6e,"th-large":j6e,"th-list":T6e,tiers:A6e,"toggle-arrow-right":ij,token:D6e,transfer:I6e,translate:P6e,trash:uo,"trend-upward":O6e,"triangle-outline":$6e,trolley:R6e,truncate:M6e,twitter:F6e,ulist:Ny,underline:Fve,undo:WS,unknown:xl,unlock:L6e,unpublish:YS,upload:sj,user:B6e,users:aj,"warning-filled":N6e,"warning-outline":Xr,wrench:z6e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=V6e[r];return i?h.createElement(i,{...o,ref:n}):null});var Lve={exports:{}},H6e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U6e=H6e,W6e=U6e;function Bve(){}function Nve(){}Nve.resetWarningCache=Bve;var Y6e=function(){function e(r,o,i,s,a,l){if(l!==W6e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Nve,resetWarningCache:Bve};return n.PropTypes=n,n};Lve.exports=Y6e();var zve=Lve.exports;const QPn=Ie(zve);var q6e=K6e,G6e=Object.prototype.hasOwnProperty;function K6e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)G6e.call(n,r)&&(e[r]=n[r])}return e}var Vve=Hve,$F=Hve.prototype;$F.space=null;$F.normal={};$F.property={};function Hve(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var Pz=q6e,Z6e=Vve,X6e=Q6e;function Q6e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new Z6e(Pz.apply(null,n),Pz.apply(null,r),s)}var RF=J6e;function J6e(e){return e.toLowerCase()}var Uve=Wve,Ja=Wve.prototype;Ja.space=null;Ja.attribute=null;Ja.property=null;Ja.boolean=!1;Ja.booleanish=!1;Ja.overloadedBoolean=!1;Ja.number=!1;Ja.commaSeparated=!1;Ja.spaceSeparated=!1;Ja.commaOrSpaceSeparated=!1;Ja.mustUseProperty=!1;Ja.defined=!1;function Wve(e,t){this.property=e,this.attribute=t}var $c={},eLe=0;$c.boolean=cm();$c.booleanish=cm();$c.overloadedBoolean=cm();$c.number=cm();$c.spaceSeparated=cm();$c.commaSeparated=cm();$c.commaOrSpaceSeparated=cm();function cm(){return Math.pow(2,++eLe)}var Yve=Uve,Oz=$c,qve=MF;MF.prototype=new Yve;MF.prototype.defined=!0;var Gve=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],tLe=Gve.length;function MF(e,t,n,r){var o=-1,i;for($z(this,"space",r),Yve.call(this,e,t);++o<tLe;)i=Gve[o],$z(this,i,(n&Oz[i])===Oz[i])}function $z(e,t,n){n&&(e[t]=n)}var Rz=RF,nLe=Vve,rLe=qve,ew=oLe;function oLe(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},l,u;for(l in o)u=new rLe(l,i(r,l),o[l],t),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),s[l]=u,a[Rz(l)]=l,a[Rz(u.attribute)]=l;return new nLe(s,a,t)}var iLe=ew,sLe=iLe({space:"xlink",transform:aLe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function aLe(e,t){return"xlink:"+t.slice(5).toLowerCase()}var lLe=ew,cLe=lLe({space:"xml",transform:uLe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function uLe(e,t){return"xml:"+t.slice(3).toLowerCase()}var dLe=fLe;function fLe(e,t){return t in e?e[t]:t}var hLe=dLe,Kve=pLe;function pLe(e,t){return hLe(e,t.toLowerCase())}var mLe=ew,gLe=Kve,vLe=mLe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:gLe,properties:{xmlns:null,xmlnsXLink:null}}),FF=$c,yLe=ew,as=FF.booleanish,va=FF.number,vh=FF.spaceSeparated,bLe=yLe({transform:xLe,properties:{ariaActiveDescendant:null,ariaAtomic:as,ariaAutoComplete:null,ariaBusy:as,ariaChecked:as,ariaColCount:va,ariaColIndex:va,ariaColSpan:va,ariaControls:vh,ariaCurrent:null,ariaDescribedBy:vh,ariaDetails:null,ariaDisabled:as,ariaDropEffect:vh,ariaErrorMessage:null,ariaExpanded:as,ariaFlowTo:vh,ariaGrabbed:as,ariaHasPopup:null,ariaHidden:as,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vh,ariaLevel:va,ariaLive:null,ariaModal:as,ariaMultiLine:as,ariaMultiSelectable:as,ariaOrientation:null,ariaOwns:vh,ariaPlaceholder:null,ariaPosInSet:va,ariaPressed:as,ariaReadOnly:as,ariaRelevant:null,ariaRequired:as,ariaRoleDescription:vh,ariaRowCount:va,ariaRowIndex:va,ariaRowSpan:va,ariaSelected:as,ariaSetSize:va,ariaSort:null,ariaValueMax:va,ariaValueMin:va,ariaValueNow:va,ariaValueText:null,role:null}});function xLe(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var g0=$c,wLe=ew,_Le=Kve,$t=g0.boolean,CLe=g0.overloadedBoolean,x1=g0.booleanish,Jn=g0.number,$i=g0.spaceSeparated,E_=g0.commaSeparated,SLe=wLe({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:_Le,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:E_,acceptCharset:$i,accessKey:$i,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:$i,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:$i,cols:Jn,colSpan:null,content:null,contentEditable:x1,controls:$t,controlsList:$i,coords:Jn|E_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:CLe,draggable:x1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:$i,height:Jn,hidden:$t,high:Jn,href:null,hrefLang:null,htmlFor:$i,httpEquiv:$i,id:null,imageSizes:null,imageSrcSet:E_,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:$i,itemRef:$i,itemScope:$t,itemType:$i,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:Jn,manifest:null,max:null,maxLength:Jn,media:null,method:null,min:null,minLength:Jn,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:Jn,pattern:null,ping:$i,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:$i,required:$t,reversed:$t,rows:Jn,rowSpan:Jn,sandbox:$i,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:Jn,sizes:null,slot:null,span:Jn,spellCheck:x1,src:null,srcDoc:null,srcLang:null,srcSet:E_,start:Jn,step:null,style:null,tabIndex:Jn,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:x1,width:Jn,wrap:null,align:null,aLink:null,archive:$i,axis:null,background:null,bgColor:null,border:Jn,borderColor:null,bottomMargin:Jn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:Jn,leftMargin:Jn,link:null,longDesc:null,lowSrc:null,marginHeight:Jn,marginWidth:Jn,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:Jn,rules:null,scheme:null,scrolling:x1,standby:null,summary:null,text:null,topMargin:Jn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:Jn,security:null,unselectable:null}}),ELe=X6e,kLe=sLe,jLe=cLe,TLe=vLe,ALe=bLe,DLe=SLe,ILe=ELe([jLe,kLe,TLe,ALe,DLe]),PLe=RF,OLe=qve,$Le=Uve,LF="data",RLe=LLe,MLe=/^data[-\w.:]+$/i,Zve=/-[a-z]/g,FLe=/[A-Z]/g;function LLe(e,t){var n=PLe(t),r=t,o=$Le;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===LF&&MLe.test(t)&&(t.charAt(4)==="-"?r=BLe(t):t=NLe(t),o=OLe),new o(r,t))}function BLe(e){var t=e.slice(5).replace(Zve,VLe);return LF+t.charAt(0).toUpperCase()+t.slice(1)}function NLe(e){var t=e.slice(4);return Zve.test(t)?e:(t=t.replace(FLe,zLe),t.charAt(0)!=="-"&&(t="-"+t),LF+t)}function zLe(e){return"-"+e.toLowerCase()}function VLe(e){return e.charAt(1).toUpperCase()}var HLe=ULe,Mz=/[#.]/g;function ULe(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,l;i<n.length;)Mz.lastIndex=i,l=Mz.exec(n),s=n.slice(i,l?l.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),l&&(a=l[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var BF={};BF.parse=qLe;BF.stringify=GLe;var Fz="",WLe=" ",YLe=/[ \t\n\r\f]+/g;function qLe(e){var t=String(e||Fz).trim();return t===Fz?[]:t.split(YLe)}function GLe(e){return e.join(WLe).trim()}var NF={};NF.parse=KLe;NF.stringify=ZLe;var F3=",",Lz=" ",fy="";function KLe(e){for(var t=[],n=String(e||fy),r=n.indexOf(F3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(F3,o);return t}function ZLe(e,t){var n=t||{},r=n.padLeft===!1?fy:Lz,o=n.padRight?Lz:fy;return e[e.length-1]===fy&&(e=e.concat(fy)),e.join(o+F3+r).trim()}var XLe=RLe,Bz=RF,QLe=HLe,Nz=BF.parse,zz=NF.parse,JLe=t8e,e8e={}.hasOwnProperty;function t8e(e,t,n){var r=n?s8e(n):null;return o;function o(s,a){var l=QLe(s,t),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&e8e.call(r,d)?r[d]:d,a&&n8e(a,l)&&(u.unshift(a),a=null),a)for(f in a)i(l.properties,f,a[f]);return Xve(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function i(s,a,l){var u,d,f;l==null||l!==l||(u=XLe(e,a),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=Nz(f):u.commaSeparated?f=zz(f):u.commaOrSpaceSeparated&&(f=Nz(zz(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=i8e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=o8e(u,d,f))}}function n8e(e,t){return typeof e=="string"||"length"in e||r8e(t.tagName,e)}function r8e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function Xve(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)Xve(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function o8e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return Vz(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=Vz(e,t,n[r]);return i}function Vz(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||Bz(n)===Bz(t))&&(r=!0),r}function i8e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function s8e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var a8e=ILe,l8e=JLe,Qve=l8e(a8e,"div");Qve.displayName="html";var c8e=Qve,u8e=c8e;const d8e="",f8e="&",h8e="",p8e="",m8e="",g8e="",v8e="",y8e="",b8e="",x8e="",w8e="",_8e="",C8e="",S8e="",E8e="",k8e=">",j8e="",T8e="",A8e="",D8e="",I8e="<",P8e="",O8e="",$8e="",R8e="",M8e="",F8e="",L8e="",B8e='"',N8e="",z8e="",V8e="",H8e="",U8e="",W8e="",Y8e="",q8e="",G8e="",K8e="",Z8e="",X8e="",Q8e="&",J8e="",e9e="",t9e="",n9e="",r9e="",o9e="",i9e="",s9e="",a9e="",l9e="",c9e="",u9e="",d9e="",f9e="",h9e="",p9e="",m9e="",g9e="",v9e="",y9e=">",b9e="",x9e="",w9e="",_9e="",C9e="",S9e="",E9e="",k9e="<",j9e="",T9e="",A9e="",D9e="",I9e="",P9e="",O9e="",$9e="",R9e="",M9e="",F9e="",L9e="",B9e="",N9e="",z9e="",V9e="",H9e="",U9e='"',W9e="",Y9e="",q9e="",G9e="",K9e="",Z9e="",X9e="",Q9e="",J9e="",e7e="",t7e="",n7e="",r7e="",o7e="",i7e="",s7e="",a7e="",l7e="",c7e={AElig:d8e,AMP:f8e,Aacute:h8e,Acirc:p8e,Agrave:m8e,Aring:g8e,Atilde:v8e,Auml:y8e,COPY:b8e,Ccedil:x8e,ETH:w8e,Eacute:_8e,Ecirc:C8e,Egrave:S8e,Euml:E8e,GT:k8e,Iacute:j8e,Icirc:T8e,Igrave:A8e,Iuml:D8e,LT:I8e,Ntilde:P8e,Oacute:O8e,Ocirc:$8e,Ograve:R8e,Oslash:M8e,Otilde:F8e,Ouml:L8e,QUOT:B8e,REG:N8e,THORN:z8e,Uacute:V8e,Ucirc:H8e,Ugrave:U8e,Uuml:W8e,Yacute:Y8e,aacute:q8e,acirc:G8e,acute:K8e,aelig:Z8e,agrave:X8e,amp:Q8e,aring:J8e,atilde:e9e,auml:t9e,brvbar:n9e,ccedil:r9e,cedil:o9e,cent:i9e,copy:s9e,curren:a9e,deg:l9e,divide:c9e,eacute:u9e,ecirc:d9e,egrave:f9e,eth:h9e,euml:p9e,frac12:m9e,frac14:g9e,frac34:v9e,gt:y9e,iacute:b9e,icirc:x9e,iexcl:w9e,igrave:_9e,iquest:C9e,iuml:S9e,laquo:E9e,lt:k9e,macr:j9e,micro:T9e,middot:A9e,nbsp:D9e,not:I9e,ntilde:P9e,oacute:O9e,ocirc:$9e,ograve:R9e,ordf:M9e,ordm:F9e,oslash:L9e,otilde:B9e,ouml:N9e,para:z9e,plusmn:V9e,pound:H9e,quot:U9e,raquo:W9e,reg:Y9e,sect:q9e,shy:G9e,sup1:K9e,sup2:Z9e,sup3:X9e,szlig:Q9e,thorn:J9e,times:e7e,uacute:t7e,ucirc:n7e,ugrave:r7e,uml:o7e,uuml:i7e,yacute:s7e,yen:a7e,yuml:l7e},u7e={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var Jve=d7e;function d7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var f7e=h7e;function h7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var p7e=m7e;function m7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var g7e=p7e,v7e=Jve,y7e=b7e;function b7e(e){return g7e(e)||v7e(e)}var k_,x7e=59,w7e=_7e;function _7e(e){var t="&"+e+";",n;return k_=k_||document.createElement("i"),k_.innerHTML=t,n=k_.textContent,n.charCodeAt(n.length-1)===x7e&&e!=="semi"||n===t?!1:n}var Hz=c7e,Uz=u7e,C7e=Jve,S7e=f7e,e0e=y7e,E7e=w7e,k7e=B7e,j7e={}.hasOwnProperty,Vm=String.fromCharCode,T7e=Function.prototype,Wz={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},A7e=9,Yz=10,D7e=12,I7e=32,qz=38,P7e=59,O7e=60,$7e=61,R7e=35,M7e=88,F7e=120,L7e=65533,cg="named",zF="hexadecimal",VF="decimal",HF={};HF[zF]=16;HF[VF]=10;var lj={};lj[cg]=e0e;lj[VF]=C7e;lj[zF]=S7e;var t0e=1,n0e=2,r0e=3,o0e=4,i0e=5,L3=6,s0e=7,Gf={};Gf[t0e]="Named character references must be terminated by a semicolon";Gf[n0e]="Numeric character references must be terminated by a semicolon";Gf[r0e]="Named character references cannot be empty";Gf[o0e]="Numeric character references cannot be empty";Gf[i0e]="Named character references must be known";Gf[L3]="Numeric character references cannot be disallowed";Gf[s0e]="Numeric character references cannot be outside the permissible Unicode range";function B7e(e,t){var n={},r,o;t||(t={});for(o in Wz)r=t[o],n[o]=r??Wz[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),N7e(e,n)}function N7e(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,l=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,x=d.line||1,b="",y=[],w,_,C,S,E,j,k,T,A,D,I,P,M,$,V,L,H,U,z;for(typeof n=="string"&&(n=n.charCodeAt(0)),L=Y(),T=s?te:T7e,m--,p++;++m<p;)if(E===Yz&&(g=f[v]||1),E=e.charCodeAt(m),E===qz){if(k=e.charCodeAt(m+1),k===A7e||k===Yz||k===D7e||k===I7e||k===qz||k===O7e||k!==k||n&&k===n){b+=Vm(E),g++;continue}for(M=m+1,P=M,z=M,k===R7e?(z=++P,k=e.charCodeAt(z),k===M7e||k===F7e?($=zF,z=++P):$=VF):$=cg,w="",I="",S="",V=lj[$],z--;++z<p&&(k=e.charCodeAt(z),!!V(k));)S+=Vm(k),$===cg&&j7e.call(Hz,S)&&(w=S,I=Hz[S]);C=e.charCodeAt(z)===P7e,C&&(z++,_=$===cg?E7e(S):!1,_&&(w=S,I=_)),U=1+z-M,!C&&!r||(S?$===cg?(C&&!I?T(i0e,1):(w!==S&&(z=P+w.length,U=1+z-P,C=!1),C||(A=w?t0e:r0e,t.attribute?(k=e.charCodeAt(z),k===$7e?(T(A,U),I=null):e0e(k)?I=null:T(A,U)):T(A,U))),j=I):(C||T(n0e,U),j=parseInt(S,HF[$]),z7e(j)?(T(s0e,U),j=Vm(L7e)):j in Uz?(T(L3,U),j=Uz[j]):(D="",V7e(j)&&T(L3,U),j>65535&&(j-=65536,D+=Vm(j>>>10|55296),j=56320|j&1023),j=D+Vm(j))):$!==cg&&T(o0e,U)),j?(N(),L=Y(),m=z-1,g+=z-M+1,y.push(j),H=Y(),H.offset++,i&&i.call(l,j,{start:L,end:H},e.slice(M-1,z)),L=H):(S=e.slice(M-1,z),b+=S,g+=S.length,m=z-1)}else E===10&&(x++,v++,g=0),E===E?(b+=Vm(E),g++):N();return y.join("");function Y(){return{line:x,column:g,offset:m+(d.offset||0)}}function te(G,q){var K=Y();K.column+=q,K.offset+=q,s.call(u,Gf[G],K,G)}function N(){b&&(y.push(b),o&&o.call(a,b,{start:L,end:Y()}),b="")}}function z7e(e){return e>=55296&&e<=57343||e>1114111}function V7e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var a0e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof l?new l(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,_){_=_||{};var C,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),_[S])return _[S];C={},_[S]=C;for(var E in w)w.hasOwnProperty(E)&&(C[E]=y(w[E],_));return C;case"Array":return S=a.util.objId(w),_[S]?_[S]:(C=[],_[S]=C,w.forEach(function(j,k){C[k]=y(j,_)}),C);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(C){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var _ in w)if(w[_].src==y)return w[_]}return null}},isActive:function(y,w,_){for(var C="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(C))return!1;y=y.parentElement}return!!_}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var _=a.util.clone(a.languages[y]);for(var C in w)_[C]=w[C];return _},insertBefore:function(y,w,_,C){C=C||a.languages;var S=C[y],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in _)_.hasOwnProperty(k)&&(E[k]=_[k]);_.hasOwnProperty(j)||(E[j]=S[j])}var T=C[y];return C[y]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=y&&(this[A]=E)}),E},DFS:function y(w,_,C,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){_.call(w,j,w[j],C||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,y(k,_,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,y(k,_,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,_){var C={callback:_,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),a.hooks.run("before-all-elements-highlight",C);for(var S=0,E;E=C.elements[S++];)a.highlightElement(E,w===!0,C.callback)},highlightElement:function(y,w,_){var C=a.util.getLanguage(y),S=a.languages[C];a.util.setLanguage(y,C);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,C);var j=y.textContent,k={element:y,language:C,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),_&&_.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),_&&_.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(y,w,_){var C={code:y,grammar:w,language:_};if(a.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=a.tokenize(C.code,C.grammar),a.hooks.run("after-tokenize",C),l.stringify(a.util.encode(C.tokens),C.language)},tokenize:function(y,w){var _=w.rest;if(_){for(var C in _)w[C]=_[C];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),v(S)},hooks:{all:{},add:function(y,w){var _=a.hooks.all;_[y]=_[y]||[],_[y].push(w)},run:function(y,w){var _=a.hooks.all[y];if(!(!_||!_.length))for(var C=0,S;S=_[C++];)S(w)}},Token:l};r.Prism=a;function l(y,w,_,C){this.type=y,this.content=w,this.alias=_,this.length=(C||"").length|0}l.stringify=function y(w,_){if(typeof w=="string")return w;if(Array.isArray(w)){var C="";return w.forEach(function(T){C+=y(T,_)}),C}var S={type:w.type,content:y(w.content,_),tag:"span",classes:["token",w.type],attributes:{},language:_},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,_,C){y.lastIndex=w;var S=y.exec(_);if(S&&C&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(y,w,_,C,S,E){for(var j in _)if(!(!_.hasOwnProperty(j)||!_[j])){var k=_[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,M=A.alias;if(P&&!A.pattern.global){var $=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,$+"g")}for(var V=A.pattern||A,L=C.next,H=S;L!==w.tail&&!(E&&H>=E.reach);H+=L.value.length,L=L.next){var U=L.value;if(w.length>y.length)return;if(!(U instanceof l)){var z=1,Y;if(P){if(Y=u(V,H,y,I),!Y||Y.index>=y.length)break;var q=Y.index,te=Y.index+Y[0].length,N=H;for(N+=L.value.length;q>=N;)L=L.next,N+=L.value.length;if(N-=L.value.length,H=N,L.value instanceof l)continue;for(var G=L;G!==w.tail&&(N<te||typeof G.value=="string");G=G.next)z++,N+=G.value.length;z--,U=y.slice(H,N),Y.index-=H}else if(Y=u(V,0,U,I),!Y)continue;var q=Y.index,K=Y[0],Q=U.slice(0,q),X=U.slice(q+K.length),Z=H+U.length;E&&Z>E.reach&&(E.reach=Z);var re=L.prev;Q&&(re=p(w,re,Q),H+=Q.length),m(w,re,z);var le=new l(j,D?a.tokenize(K,D):K,M,K);if(L=p(w,re,le),X&&p(w,L,X),z>1){var he={cause:j+","+T,reach:Z};d(y,w,_,L.prev,H,he),E&&he.reach>E.reach&&(E.reach=he.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,_){var C=w.next,S={value:_,prev:w,next:C};return w.next=S,C.prev=S,y.length++,S}function m(y,w,_){for(var C=w.next,S=0;S<_&&C!==y.tail;S++)C=C.next;w.next=C,C.prev=w,y.length-=S}function v(y){for(var w=[],_=y.head.next;_!==y.tail;)w.push(_.value),_=_.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),_=w.language,C=w.code,S=w.immediateClose;r.postMessage(a.highlight(C,a.languages[_],_)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function x(){a.manual||a.highlightAll()}if(!a.manual){var b=document.readyState;b==="loading"||b==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",x):window.requestAnimationFrame?window.requestAnimationFrame(x):window.setTimeout(x,16)}return a}(t);e.exports&&(e.exports=n),typeof xs<"u"&&(xs.Prism=n)})(a0e);var H7e=a0e.exports,U7e=UF;UF.displayName="markup";UF.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function UF(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var W7e=WF;WF.displayName="css";WF.aliases=[];function WF(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var Y7e=YF;YF.displayName="clike";YF.aliases=[];function YF(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var l0e=qF;qF.displayName="javascript";qF.aliases=["js"];function qF(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const q7e=Ie(l0e);var hy=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof xs=="object"?xs:{},G7e=uBe();hy.Prism={manual:!0,disableWorkerMessageHandler:!0};var K7e=u8e,Z7e=k7e,c0e=H7e,X7e=U7e,Q7e=W7e,J7e=Y7e,eBe=l0e;G7e();var GF={}.hasOwnProperty;function u0e(){}u0e.prototype=c0e;var lo=new u0e,tBe=lo;lo.highlight=rBe;lo.register=tw;lo.alias=nBe;lo.registered=oBe;lo.listLanguages=iBe;tw(X7e);tw(Q7e);tw(J7e);tw(eBe);lo.util.encode=lBe;lo.Token.stringify=sBe;function tw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");lo.languages[e.displayName]===void 0&&e(lo)}function nBe(e,t){var n=lo.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function rBe(e,t){var n=c0e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(lo.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(GF.call(lo.languages,t))r=lo.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function oBe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return GF.call(lo.languages,e)}function iBe(){var e=lo.languages,t=[],n;for(n in e)GF.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function sBe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:lo.util.type(e)==="Array"?aBe(e,t):(r={type:e.type,content:lo.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),lo.hooks.run("wrap",r),K7e(r.tag+"."+r.classes.join("."),cBe(r.attributes),r.content))}function aBe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=lo.Token.stringify(i,t,n);return n}function lBe(e){return e}function cBe(e){var t;for(t in e)e[t]=Z7e(e[t]);return e}function uBe(){var e="Prism"in hy,t=e?hy.Prism:void 0;return n;function n(){e?hy.Prism=t:delete hy.Prism,e=void 0,t=void 0}}var d0e={},dBe=h;function fBe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return dBe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(f0e(n+1)))}return e.value}function f0e(e){return function(n,r){return fBe(n,r,e)}}d0e.depth=f0e;var h0e=p0e;function p0e(e){if(e==null)return gBe;if(typeof e=="string")return mBe(e);if(typeof e=="object")return"length"in e?pBe(e):hBe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function hBe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function pBe(e){for(var t=[],n=-1;++n<e.length;)t[n]=p0e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function mBe(e){return t;function t(n){return!!(n&&n.type===e)}}function gBe(){return!0}var vBe=h0e,yBe=xBe,bBe={}.hasOwnProperty;function xBe(e,t,n){var r=vBe(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,l){var u,d,f,p,m;if(!r(s,a,l))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)bBe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var wBe=_Be;function _Be(e){return e}var CBe=cj,SBe=h0e,EBe=wBe,m0e=!0,g0e="skip",B3=!1;cj.CONTINUE=m0e;cj.SKIP=g0e;cj.EXIT=B3;function cj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=SBe(t),o=r?-1:1,s(e,null,[])();function s(a,l,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+EBe(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,x;if((!t||i(a,l,u[u.length-1]||null))&&(v=kBe(n(a,u)),v[0]===B3))return v;if(a.children&&v[0]!==g0e)for(x=(r?a.children.length:-1)+o;x>-1&&x<a.children.length;){if(g=s(a.children[x],x,m)(),g[0]===B3)return g;x=typeof g[1]=="number"?g[1]:x+o}return v}}}function kBe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[m0e,e]:[e]}var jBe=typeof WeakMap=="function"?nw:rw;function nw(){this.map=new WeakMap}nw.prototype.has=function(e){return this.map.has(e)};nw.prototype.set=function(e,t){return this.map.set(e,t),this};nw.prototype.get=function(e){return this.map.get(e)};nw.prototype.clear=function(){};function rw(){this.keys=[],this.values=[]}rw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};rw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};rw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};rw.prototype.clear=function(){this.keys=[],this.values=[]};var TBe=yBe,Gz=CBe,yD=jBe;function v0e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=v0e(r.children,t),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function ABe(e,t){var n={type:"root",children:t},r=new yD,o=new yD,i=new yD,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var v=m.length;v--;){var g=f.get(m[v]),x=m[v+1],b=f.get(x)||p;g.children.indexOf(b)===-1&&g.children.push(b)}}Gz(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var l=TBe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(Gz(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(x){x.lineStart=Math.max(x.lineStart,v.lineStart),x.lineEnd=Math.max(x.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),l?l.children:[]);return r.clear(),o.clear(),i.clear(),d}function DBe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function IBe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return ABe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],l=r[i];l&&l.lineEnd<a.line;l=r[++i])o.push(l);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(DBe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function PBe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=v0e(e).nodes;return IBe(r,n,t)}var OBe=PBe,$Be=h,Ms=zve,KF=tBe,RBe=d0e,MBe=OBe,Kz=$Be.createElement;function ow(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=KF.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=MBe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(RBe.depth(0)),s=Kz("code",n,i);return e.inline?s:Kz("pre",r,s)}ow.propTypes={className:Ms.string,inline:Ms.bool,language:Ms.string.isRequired,value:Ms.string.isRequired,markers:Ms.arrayOf(Ms.oneOfType([Ms.number,Ms.shape({line:Ms.number.isRequired,className:Ms.string,component:Ms.oneOfType([Ms.node,Ms.func])})]))};ow.defaultProps={className:"refractor",inline:!1};ow.registerLanguage=function(e){return KF.register(e)};ow.hasLanguage=function(e){return KF.registered(e)};var FBe=ow;const Mp=Ie(FBe),LBe=["top","right","bottom","left"],jf=Math.min,Ks=Math.max,qS=Math.round,j_=Math.floor,Tf=e=>({x:e,y:e}),BBe={left:"right",right:"left",bottom:"top",top:"bottom"},NBe={start:"end",end:"start"};function N3(e,t,n){return Ks(e,jf(t,n))}function um(e,t){return typeof e=="function"?e(t):e}function Af(e){return e.split("-")[0]}function v0(e){return e.split("-")[1]}function y0e(e){return e==="x"?"y":"x"}function ZF(e){return e==="y"?"height":"width"}function iw(e){return["top","bottom"].includes(Af(e))?"y":"x"}function XF(e){return y0e(iw(e))}function zBe(e,t,n){n===void 0&&(n=!1);const r=v0(e),o=XF(e),i=ZF(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=GS(s)),[s,GS(s)]}function VBe(e){const t=GS(e);return[z3(e),t,z3(t)]}function z3(e){return e.replace(/start|end/g,t=>NBe[t])}function HBe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function UBe(e,t,n,r){const o=v0(e);let i=HBe(Af(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(z3)))),i}function GS(e){return e.replace(/left|right|bottom|top/g,t=>BBe[t])}function WBe(e){return{top:0,right:0,bottom:0,left:0,...e}}function b0e(e){return typeof e!="number"?WBe(e):{top:e,right:e,bottom:e,left:e}}function KS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Zz(e,t,n){let{reference:r,floating:o}=e;const i=iw(t),s=XF(t),a=ZF(s),l=Af(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(v0(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const YBe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=Zz(u,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:x,fn:b}=a[g],{x:y,y:w,data:_,reset:C}=await b({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[x]:{...m[x],..._}},C&&v<=50){v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:d,y:f}=Zz(u,p,l)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Iv(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=um(t,e),v=b0e(m),x=a[p?f==="floating"?"reference":"floating":f],b=KS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=KS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(b.top-C.top+v.top)/_.y,bottom:(C.bottom-b.bottom+v.bottom)/_.y,left:(b.left-C.left+v.left)/_.x,right:(C.right-b.right+v.right)/_.x}}const Xz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=um(e,t)||{};if(u==null)return{};const f=b0e(d),p={x:n,y:r},m=XF(o),v=ZF(m),g=await s.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-p[m]-i.floating[v],C=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=_/2-C/2,k=E/2-g[v]/2-1,T=jf(f[b],k),A=jf(f[y],k),D=T,I=E-g[v]-A,P=E/2-g[v]/2+j,M=N3(D,P,I),$=!l.arrow&&v0(o)!=null&&P!=M&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,V=$?P<D?P-D:P-I:0;return{[m]:p[m]+V,data:{[m]:M,centerOffset:P-M-V,...$&&{alignmentOffset:V}},reset:$}}}),x0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=um(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Af(o),y=Af(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=p||(y||!g?[GS(a)]:VBe(a));!p&&v!=="none"&&_.push(...UBe(a,g,v,w));const C=[a,..._],S=await Iv(t,x),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[b]),f){const D=zBe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=C[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter(M=>M.overflows[0]<=0).sort((M,$)=>M.overflows[1]-$.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const M=(A=j.map($=>[$.placement,$.overflows.filter(V=>V>0).reduce((V,L)=>V+L,0)]).sort(($,V)=>$[1]-V[1])[0])==null?void 0:A[0];M&&(P=M);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function Qz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jz(e){return LBe.some(t=>e[t]>=0)}const qBe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=um(e,t);switch(r){case"referenceHidden":{const i=await Iv(t,{...o,elementContext:"reference"}),s=Qz(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Jz(s)}}}case"escaped":{const i=await Iv(t,{...o,altBoundary:!0}),s=Qz(i,n.floating);return{data:{escapedOffsets:s,escaped:Jz(s)}}}default:return{}}}}};async function GBe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Af(n),a=v0(n),l=iw(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=um(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const w0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await GBe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},_0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...l}=um(e,t),u={x:n,y:r},d=await Iv(t,l),f=iw(Af(o)),p=y0e(f);let m=u[p],v=u[f];if(i){const x=p==="y"?"top":"left",b=p==="y"?"bottom":"right",y=m+d[x],w=m-d[b];m=N3(y,m,w)}if(s){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+d[x],w=v-d[b];v=N3(y,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},KBe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=um(e,t),l=await Iv(t,a),u=Af(n),d=v0(n),f=iw(n)==="y",{width:p,height:m}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const x=m-l[v],b=p-l[g],y=!t.middlewareData.shift;let w=x,_=b;if(f){const S=p-l.left-l.right;_=d||y?jf(b,S):S}else{const S=m-l.top-l.bottom;w=d||y?jf(x,S):S}if(y&&!d){const S=Ks(l.left,0),E=Ks(l.right,0),j=Ks(l.top,0),k=Ks(l.bottom,0);f?_=p-2*(S!==0||E!==0?S+E:Ks(l.left,l.right)):w=m-2*(j!==0||k!==0?j+k:Ks(l.top,l.bottom))}await s({...t,availableWidth:_,availableHeight:w});const C=await o.getDimensions(i.floating);return p!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Df(e){return C0e(e)?(e.nodeName||"").toLowerCase():"#document"}function ta(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ju(e){var t;return(t=(C0e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C0e(e){return e instanceof Node||e instanceof ta(e).Node}function Pu(e){return e instanceof Element||e instanceof ta(e).Element}function Tc(e){return e instanceof HTMLElement||e instanceof ta(e).HTMLElement}function eV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ta(e).ShadowRoot}function sw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Va(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function ZBe(e){return["table","td","th"].includes(Df(e))}function QF(e){const t=JF(),n=Va(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function XBe(e){let t=Pv(e);for(;Tc(t)&&!uj(t);){if(QF(t))return t;t=Pv(t)}return null}function JF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uj(e){return["html","body","#document"].includes(Df(e))}function Va(e){return ta(e).getComputedStyle(e)}function dj(e){return Pu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Pv(e){if(Df(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eV(e)&&e.host||Ju(e);return eV(t)?t.host:t}function S0e(e){const t=Pv(e);return uj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tc(t)&&sw(t)?t:S0e(t)}function Ib(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=S0e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ta(o);return i?t.concat(s,s.visualViewport||[],sw(o)?o:[],s.frameElement&&n?Ib(s.frameElement):[]):t.concat(o,Ib(o,[],n))}function E0e(e){const t=Va(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=qS(n)!==i||qS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function e6(e){return Pu(e)?e:e.contextElement}function Gg(e){const t=e6(e);if(!Tc(t))return Tf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=E0e(t);let s=(i?qS(n.width):n.width)/r,a=(i?qS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const QBe=Tf(0);function k0e(e){const t=ta(e);return!JF()||!t.visualViewport?QBe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JBe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ta(e)?!1:t}function Fp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=e6(e);let s=Tf(1);t&&(r?Pu(r)&&(s=Gg(r)):s=Gg(e));const a=JBe(i,n,r)?k0e(i):Tf(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=ta(i),m=r&&Pu(r)?ta(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Gg(v),x=v.getBoundingClientRect(),b=Va(v),y=x.left+(v.clientLeft+parseFloat(b.paddingLeft))*g.x,w=x.top+(v.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=y,u+=w,v=ta(v).frameElement}}return KS({width:d,height:f,x:l,y:u})}function eNe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Tc(n),i=Ju(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Tf(1);const l=Tf(0);if((o||!o&&r!=="fixed")&&((Df(n)!=="body"||sw(i))&&(s=dj(n)),Tc(n))){const u=Fp(n);a=Gg(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function tNe(e){return Array.from(e.getClientRects())}function j0e(e){return Fp(Ju(e)).left+dj(e).scrollLeft}function nNe(e){const t=Ju(e),n=dj(e),r=e.ownerDocument.body,o=Ks(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ks(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+j0e(e);const a=-n.scrollTop;return Va(r).direction==="rtl"&&(s+=Ks(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function rNe(e,t){const n=ta(e),r=Ju(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=JF();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function oNe(e,t){const n=Fp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Tc(e)?Gg(e):Tf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function tV(e,t,n){let r;if(t==="viewport")r=rNe(e,n);else if(t==="document")r=nNe(Ju(e));else if(Pu(t))r=oNe(t,n);else{const o=k0e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return KS(r)}function T0e(e,t){const n=Pv(e);return n===t||!Pu(n)||uj(n)?!1:Va(n).position==="fixed"||T0e(n,t)}function iNe(e,t){const n=t.get(e);if(n)return n;let r=Ib(e,[],!1).filter(a=>Pu(a)&&Df(a)!=="body"),o=null;const i=Va(e).position==="fixed";let s=i?Pv(e):e;for(;Pu(s)&&!uj(s);){const a=Va(s),l=QF(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||sw(s)&&!l&&T0e(e,s))?r=r.filter(d=>d!==s):o=a,s=Pv(s)}return t.set(e,r),r}function sNe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?iNe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=tV(t,d,o);return u.top=Ks(f.top,u.top),u.right=jf(f.right,u.right),u.bottom=jf(f.bottom,u.bottom),u.left=Ks(f.left,u.left),u},tV(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aNe(e){return E0e(e)}function lNe(e,t,n){const r=Tc(t),o=Ju(t),i=n==="fixed",s=Fp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Tf(0);if(r||!r&&!i)if((Df(t)!=="body"||sw(o))&&(a=dj(t)),r){const u=Fp(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&(l.x=j0e(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function nV(e,t){return!Tc(e)||Va(e).position==="fixed"?null:t?t(e):e.offsetParent}function A0e(e,t){const n=ta(e);if(!Tc(e))return n;let r=nV(e,t);for(;r&&ZBe(r)&&Va(r).position==="static";)r=nV(r,t);return r&&(Df(r)==="html"||Df(r)==="body"&&Va(r).position==="static"&&!QF(r))?n:r||XBe(e)||n}const cNe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||A0e,i=this.getDimensions;return{reference:lNe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function uNe(e){return Va(e).direction==="rtl"}const dNe={convertOffsetParentRelativeRectToViewportRelativeRect:eNe,getDocumentElement:Ju,getClippingRect:sNe,getOffsetParent:A0e,getElementRects:cNe,getClientRects:tNe,getDimensions:aNe,getScale:Gg,isElement:Pu,isRTL:uNe};function fNe(e,t){let n=null,r;const o=Ju(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=j_(d),v=j_(o.clientWidth-(u+f)),g=j_(o.clientHeight-(d+p)),x=j_(u),y={rootMargin:-m+"px "+-v+"px "+-g+"px "+-x+"px",threshold:Ks(0,jf(1,l))||1};let w=!0;function _(C){const S=C[0].intersectionRatio;if(S!==l){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return s(!0),i}function D0e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=e6(e),d=o||i?[...u?Ib(u):[],...Ib(t)]:[];d.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&a?fNe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let v,g=l?Fp(e):null;l&&x();function x(){const b=Fp(e);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,v=requestAnimationFrame(x)}return n(),()=>{d.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const hNe=(e,t,n)=>{const r=new Map,o={platform:dNe,...n},i={...o.platform,_c:r};return YBe(e,t,{...o,platform:i})};var I0e={exports:{}},fa={},P0e={exports:{}},O0e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,H){var U=L.length;L.push(H);e:for(;0<U;){var z=U-1>>>1,Y=L[z];if(0<o(Y,H))L[z]=H,L[U]=Y,U=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],U=L.pop();if(U!==H){L[0]=U;e:for(var z=0,Y=L.length,te=Y>>>1;z<te;){var N=2*(z+1)-1,G=L[N],q=N+1,K=L[q];if(0>o(G,U))q<Y&&0>o(K,G)?(L[z]=K,L[q]=U,z=q):(L[z]=G,L[N]=U,z=N);else if(q<Y&&0>o(K,U))L[z]=K,L[q]=U,z=q;else break e}}return H}function o(L,H){var U=L.sortIndex-H.sortIndex;return U!==0?U:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=L)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function _(L){if(g=!1,w(L),!v)if(n(l)!==null)v=!0,$(C);else{var H=n(u);H!==null&&V(_,H.startTime-L)}}function C(L,H){v=!1,g&&(g=!1,b(j),j=-1),m=!0;var U=p;try{for(w(H),f=n(l);f!==null&&(!(f.expirationTime>H)||L&&!A());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var Y=z(f.expirationTime<=H);H=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(H)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var N=n(u);N!==null&&V(_,N.startTime-H),te=!1}return te}finally{f=null,p=U,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var L=e.unstable_now();T=L;var H=!0;try{H=E(!0,L)}finally{H?I():(S=!1,E=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,M=P.port2;P.port1.onmessage=D,I=function(){M.postMessage(null)}}else I=function(){x(D,0)};function $(L){E=L,S||(S=!0,I())}function V(L,H){j=x(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var U=p;p=H;try{return L()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=p;p=L;try{return H()}finally{p=U}},e.unstable_scheduleCallback=function(L,H,U){var z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,L={id:d++,callback:H,priorityLevel:L,startTime:U,expirationTime:Y,sortIndex:-1},U>z?(L.sortIndex=U,t(u,L),n(l)===null&&L===n(u)&&(g?(b(j),j=-1):g=!0,V(_,U-z))):(L.sortIndex=Y,t(l,L),v||m||(v=!0,$(C))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var H=p;return function(){var U=p;p=H;try{return L.apply(this,arguments)}finally{p=U}}}})(O0e);P0e.exports=O0e;var pNe=P0e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0e=h,oa=pNe;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R0e=new Set,Pb={};function dm(e,t){Ov(e,t),Ov(e+"Capture",t)}function Ov(e,t){for(Pb[e]=t,e=0;e<t.length;e++)R0e.add(t[e])}var Ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V3=Object.prototype.hasOwnProperty,mNe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rV={},oV={};function gNe(e){return V3.call(oV,e)?!0:V3.call(rV,e)?!1:mNe.test(e)?oV[e]=!0:(rV[e]=!0,!1)}function vNe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yNe(e,t,n,r){if(t===null||typeof t>"u"||vNe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ji(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Jo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jo[e]=new Ji(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jo[t]=new Ji(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jo[e]=new Ji(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jo[e]=new Ji(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jo[e]=new Ji(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jo[e]=new Ji(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jo[e]=new Ji(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jo[e]=new Ji(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jo[e]=new Ji(e,5,!1,e.toLowerCase(),null,!1,!1)});var t6=/[\-:]([a-z])/g;function n6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t6,n6);Jo[t]=new Ji(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t6,n6);Jo[t]=new Ji(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t6,n6);Jo[t]=new Ji(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!1,!1)});Jo.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!0,!0)});function r6(e,t,n,r){var o=Jo.hasOwnProperty(t)?Jo[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yNe(t,n,o,r)&&(n=null),r||o===null?gNe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ed=$0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T_=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),o6=Symbol.for("react.strict_mode"),H3=Symbol.for("react.profiler"),M0e=Symbol.for("react.provider"),F0e=Symbol.for("react.context"),i6=Symbol.for("react.forward_ref"),U3=Symbol.for("react.suspense"),W3=Symbol.for("react.suspense_list"),s6=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),L0e=Symbol.for("react.offscreen"),iV=Symbol.iterator;function w1(e){return e===null||typeof e!="object"?null:(e=iV&&e[iV]||e["@@iterator"],typeof e=="function"?e:null)}var $r=Object.assign,bD;function py(e){if(bD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bD=t&&t[1]||""}return`
`+bD+e}var xD=!1;function wD(e,t){if(!e||xD)return"";xD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{xD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?py(e):""}function bNe(e){switch(e.tag){case 5:return py(e.type);case 16:return py("Lazy");case 13:return py("Suspense");case 19:return py("SuspenseList");case 0:case 2:case 15:return e=wD(e.type,!1),e;case 11:return e=wD(e.type.render,!1),e;case 1:return e=wD(e.type,!0),e;default:return""}}function Y3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sg:return"Fragment";case Cg:return"Portal";case H3:return"Profiler";case o6:return"StrictMode";case U3:return"Suspense";case W3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F0e:return(e.displayName||"Context")+".Consumer";case M0e:return(e._context.displayName||"Context")+".Provider";case i6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case s6:return t=e.displayName||null,t!==null?t:Y3(e.type)||"Memo";case jd:t=e._payload,e=e._init;try{return Y3(e(t))}catch{}}return null}function xNe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y3(t);case 8:return t===o6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function If(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B0e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wNe(e){var t=B0e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function A_(e){e._valueTracker||(e._valueTracker=wNe(e))}function N0e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B0e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ZS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function q3(e,t){var n=t.checked;return $r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=If(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z0e(e,t){t=t.checked,t!=null&&r6(e,"checked",t,!1)}function G3(e,t){z0e(e,t);var n=If(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?K3(e,t.type,n):t.hasOwnProperty("defaultValue")&&K3(e,t.type,If(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function K3(e,t,n){(t!=="number"||ZS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var my=Array.isArray;function Kg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+If(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Z3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return $r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(my(n)){if(1<n.length)throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:If(n)}}function V0e(e,t){var n=If(t.value),r=If(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H0e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H0e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var D_,U0e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(D_=D_||document.createElement("div"),D_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=D_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ob(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_Ne=["Webkit","ms","Moz","O"];Object.keys(zy).forEach(function(e){_Ne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zy[t]=zy[e]})});function W0e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zy.hasOwnProperty(e)&&zy[e]?(""+t).trim():t+"px"}function Y0e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=W0e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var CNe=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q3(e,t){if(t){if(CNe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function J3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e$=null;function a6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t$=null,Zg=null,Xg=null;function uV(e){if(e=cw(e)){if(typeof t$!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=gj(t),t$(e.stateNode,e.type,t))}}function q0e(e){Zg?Xg?Xg.push(e):Xg=[e]:Zg=e}function G0e(){if(Zg){var e=Zg,t=Xg;if(Xg=Zg=null,uV(e),t)for(e=0;e<t.length;e++)uV(t[e])}}function K0e(e,t){return e(t)}function Z0e(){}var _D=!1;function X0e(e,t,n){if(_D)return e(t,n);_D=!0;try{return K0e(e,t,n)}finally{_D=!1,(Zg!==null||Xg!==null)&&(Z0e(),G0e())}}function $b(e,t){var n=e.stateNode;if(n===null)return null;var r=gj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var n$=!1;if(Ou)try{var _1={};Object.defineProperty(_1,"passive",{get:function(){n$=!0}}),window.addEventListener("test",_1,_1),window.removeEventListener("test",_1,_1)}catch{n$=!1}function SNe(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Vy=!1,XS=null,QS=!1,r$=null,ENe={onError:function(e){Vy=!0,XS=e}};function kNe(e,t,n,r,o,i,s,a,l){Vy=!1,XS=null,SNe.apply(ENe,arguments)}function jNe(e,t,n,r,o,i,s,a,l){if(kNe.apply(this,arguments),Vy){if(Vy){var u=XS;Vy=!1,XS=null}else throw Error(ke(198));QS||(QS=!0,r$=u)}}function fm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Q0e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dV(e){if(fm(e)!==e)throw Error(ke(188))}function TNe(e){var t=e.alternate;if(!t){if(t=fm(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return dV(o),e;if(i===r)return dV(o),t;i=i.sibling}throw Error(ke(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function J0e(e){return e=TNe(e),e!==null?e1e(e):null}function e1e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e1e(e);if(t!==null)return t;e=e.sibling}return null}var t1e=oa.unstable_scheduleCallback,fV=oa.unstable_cancelCallback,ANe=oa.unstable_shouldYield,DNe=oa.unstable_requestPaint,qr=oa.unstable_now,INe=oa.unstable_getCurrentPriorityLevel,l6=oa.unstable_ImmediatePriority,n1e=oa.unstable_UserBlockingPriority,JS=oa.unstable_NormalPriority,PNe=oa.unstable_LowPriority,r1e=oa.unstable_IdlePriority,fj=null,xc=null;function ONe(e){if(xc&&typeof xc.onCommitFiberRoot=="function")try{xc.onCommitFiberRoot(fj,e,void 0,(e.current.flags&128)===128)}catch{}}var wl=Math.clz32?Math.clz32:MNe,$Ne=Math.log,RNe=Math.LN2;function MNe(e){return e>>>=0,e===0?32:31-($Ne(e)/RNe|0)|0}var I_=64,P_=4194304;function gy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function e5(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=gy(a):(i&=s,i!==0&&(r=gy(i)))}else s=n&~o,s!==0?r=gy(s):i!==0&&(r=gy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wl(t),o=1<<n,r|=e[n],t&=~o;return r}function FNe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LNe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wl(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=FNe(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function o$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o1e(){var e=I_;return I_<<=1,!(I_&4194240)&&(I_=64),e}function CD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function aw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wl(t),e[t]=n}function BNe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function c6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sn=0;function i1e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s1e,u6,a1e,l1e,c1e,i$=!1,O_=[],rf=null,of=null,sf=null,Rb=new Map,Mb=new Map,Md=[],NNe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hV(e,t){switch(e){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":of=null;break;case"mouseover":case"mouseout":sf=null;break;case"pointerover":case"pointerout":Rb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mb.delete(t.pointerId)}}function C1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=cw(t),t!==null&&u6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zNe(e,t,n,r,o){switch(t){case"focusin":return rf=C1(rf,e,t,n,r,o),!0;case"dragenter":return of=C1(of,e,t,n,r,o),!0;case"mouseover":return sf=C1(sf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rb.set(i,C1(Rb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mb.set(i,C1(Mb.get(i)||null,e,t,n,r,o)),!0}return!1}function u1e(e){var t=np(e.target);if(t!==null){var n=fm(t);if(n!==null){if(t=n.tag,t===13){if(t=Q0e(n),t!==null){e.blockedOn=t,c1e(e.priority,function(){a1e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=s$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);e$=r,n.target.dispatchEvent(r),e$=null}else return t=cw(n),t!==null&&u6(t),e.blockedOn=n,!1;t.shift()}return!0}function pV(e,t,n){j2(e)&&n.delete(t)}function VNe(){i$=!1,rf!==null&&j2(rf)&&(rf=null),of!==null&&j2(of)&&(of=null),sf!==null&&j2(sf)&&(sf=null),Rb.forEach(pV),Mb.forEach(pV)}function S1(e,t){e.blockedOn===t&&(e.blockedOn=null,i$||(i$=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,VNe)))}function Fb(e){function t(o){return S1(o,e)}if(0<O_.length){S1(O_[0],e);for(var n=1;n<O_.length;n++){var r=O_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rf!==null&&S1(rf,e),of!==null&&S1(of,e),sf!==null&&S1(sf,e),Rb.forEach(t),Mb.forEach(t),n=0;n<Md.length;n++)r=Md[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Md.length&&(n=Md[0],n.blockedOn===null);)u1e(n),n.blockedOn===null&&Md.shift()}var Qg=ed.ReactCurrentBatchConfig,t5=!0;function HNe(e,t,n,r){var o=Sn,i=Qg.transition;Qg.transition=null;try{Sn=1,d6(e,t,n,r)}finally{Sn=o,Qg.transition=i}}function UNe(e,t,n,r){var o=Sn,i=Qg.transition;Qg.transition=null;try{Sn=4,d6(e,t,n,r)}finally{Sn=o,Qg.transition=i}}function d6(e,t,n,r){if(t5){var o=s$(e,t,n,r);if(o===null)OD(e,t,r,n5,n),hV(e,r);else if(zNe(o,e,t,n,r))r.stopPropagation();else if(hV(e,r),t&4&&-1<NNe.indexOf(e)){for(;o!==null;){var i=cw(o);if(i!==null&&s1e(i),i=s$(e,t,n,r),i===null&&OD(e,t,r,n5,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else OD(e,t,r,null,n)}}var n5=null;function s$(e,t,n,r){if(n5=null,e=a6(r),e=np(e),e!==null)if(t=fm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Q0e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return n5=e,null}function d1e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(INe()){case l6:return 1;case n1e:return 4;case JS:case PNe:return 16;case r1e:return 536870912;default:return 16}default:return 16}}var zd=null,f6=null,T2=null;function f1e(){if(T2)return T2;var e,t=f6,n=t.length,r,o="value"in zd?zd.value:zd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return T2=o.slice(e,1<r?1-r:void 0)}function A2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $_(){return!0}function mV(){return!1}function ha(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$_:mV,this.isPropagationStopped=mV,this}return $r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$_)},persist:function(){},isPersistent:$_}),t}var y0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h6=ha(y0),lw=$r({},y0,{view:0,detail:0}),WNe=ha(lw),SD,ED,E1,hj=$r({},lw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==E1&&(E1&&e.type==="mousemove"?(SD=e.screenX-E1.screenX,ED=e.screenY-E1.screenY):ED=SD=0,E1=e),SD)},movementY:function(e){return"movementY"in e?e.movementY:ED}}),gV=ha(hj),YNe=$r({},hj,{dataTransfer:0}),qNe=ha(YNe),GNe=$r({},lw,{relatedTarget:0}),kD=ha(GNe),KNe=$r({},y0,{animationName:0,elapsedTime:0,pseudoElement:0}),ZNe=ha(KNe),XNe=$r({},y0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QNe=ha(XNe),JNe=$r({},y0,{data:0}),vV=ha(JNe),eze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nze[e])?!!t[e]:!1}function p6(){return rze}var oze=$r({},lw,{key:function(e){if(e.key){var t=eze[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=A2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tze[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p6,charCode:function(e){return e.type==="keypress"?A2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?A2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ize=ha(oze),sze=$r({},hj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yV=ha(sze),aze=$r({},lw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p6}),lze=ha(aze),cze=$r({},y0,{propertyName:0,elapsedTime:0,pseudoElement:0}),uze=ha(cze),dze=$r({},hj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fze=ha(dze),hze=[9,13,27,32],m6=Ou&&"CompositionEvent"in window,Hy=null;Ou&&"documentMode"in document&&(Hy=document.documentMode);var pze=Ou&&"TextEvent"in window&&!Hy,h1e=Ou&&(!m6||Hy&&8<Hy&&11>=Hy),bV=String.fromCharCode(32),xV=!1;function p1e(e,t){switch(e){case"keyup":return hze.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m1e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eg=!1;function mze(e,t){switch(e){case"compositionend":return m1e(t);case"keypress":return t.which!==32?null:(xV=!0,bV);case"textInput":return e=t.data,e===bV&&xV?null:e;default:return null}}function gze(e,t){if(Eg)return e==="compositionend"||!m6&&p1e(e,t)?(e=f1e(),T2=f6=zd=null,Eg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h1e&&t.locale!=="ko"?null:t.data;default:return null}}var vze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vze[e.type]:t==="textarea"}function g1e(e,t,n,r){q0e(r),t=r5(t,"onChange"),0<t.length&&(n=new h6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Uy=null,Lb=null;function yze(e){j1e(e,0)}function pj(e){var t=Tg(e);if(N0e(t))return e}function bze(e,t){if(e==="change")return t}var v1e=!1;if(Ou){var jD;if(Ou){var TD="oninput"in document;if(!TD){var _V=document.createElement("div");_V.setAttribute("oninput","return;"),TD=typeof _V.oninput=="function"}jD=TD}else jD=!1;v1e=jD&&(!document.documentMode||9<document.documentMode)}function CV(){Uy&&(Uy.detachEvent("onpropertychange",y1e),Lb=Uy=null)}function y1e(e){if(e.propertyName==="value"&&pj(Lb)){var t=[];g1e(t,Lb,e,a6(e)),X0e(yze,t)}}function xze(e,t,n){e==="focusin"?(CV(),Uy=t,Lb=n,Uy.attachEvent("onpropertychange",y1e)):e==="focusout"&&CV()}function wze(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pj(Lb)}function _ze(e,t){if(e==="click")return pj(t)}function Cze(e,t){if(e==="input"||e==="change")return pj(t)}function Sze(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kl=typeof Object.is=="function"?Object.is:Sze;function Bb(e,t){if(kl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!V3.call(t,o)||!kl(e[o],t[o]))return!1}return!0}function SV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EV(e,t){var n=SV(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SV(n)}}function b1e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b1e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x1e(){for(var e=window,t=ZS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ZS(e.document)}return t}function g6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eze(e){var t=x1e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b1e(n.ownerDocument.documentElement,n)){if(r!==null&&g6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=EV(n,i);var s=EV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kze=Ou&&"documentMode"in document&&11>=document.documentMode,kg=null,a$=null,Wy=null,l$=!1;function kV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l$||kg==null||kg!==ZS(r)||(r=kg,"selectionStart"in r&&g6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wy&&Bb(Wy,r)||(Wy=r,r=r5(a$,"onSelect"),0<r.length&&(t=new h6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kg)))}function R_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jg={animationend:R_("Animation","AnimationEnd"),animationiteration:R_("Animation","AnimationIteration"),animationstart:R_("Animation","AnimationStart"),transitionend:R_("Transition","TransitionEnd")},AD={},w1e={};Ou&&(w1e=document.createElement("div").style,"AnimationEvent"in window||(delete jg.animationend.animation,delete jg.animationiteration.animation,delete jg.animationstart.animation),"TransitionEvent"in window||delete jg.transitionend.transition);function mj(e){if(AD[e])return AD[e];if(!jg[e])return e;var t=jg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in w1e)return AD[e]=t[n];return e}var _1e=mj("animationend"),C1e=mj("animationiteration"),S1e=mj("animationstart"),E1e=mj("transitionend"),k1e=new Map,jV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kf(e,t){k1e.set(e,t),dm(t,[e])}for(var DD=0;DD<jV.length;DD++){var ID=jV[DD],jze=ID.toLowerCase(),Tze=ID[0].toUpperCase()+ID.slice(1);Kf(jze,"on"+Tze)}Kf(_1e,"onAnimationEnd");Kf(C1e,"onAnimationIteration");Kf(S1e,"onAnimationStart");Kf("dblclick","onDoubleClick");Kf("focusin","onFocus");Kf("focusout","onBlur");Kf(E1e,"onTransitionEnd");Ov("onMouseEnter",["mouseout","mouseover"]);Ov("onMouseLeave",["mouseout","mouseover"]);Ov("onPointerEnter",["pointerout","pointerover"]);Ov("onPointerLeave",["pointerout","pointerover"]);dm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dm("onBeforeInput",["compositionend","keypress","textInput","paste"]);dm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aze=new Set("cancel close invalid load scroll toggle".split(" ").concat(vy));function TV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jNe(r,t,void 0,e),e.currentTarget=null}function j1e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;TV(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;TV(o,a,u),i=l}}}if(QS)throw e=r$,QS=!1,r$=null,e}function tr(e,t){var n=t[h$];n===void 0&&(n=t[h$]=new Set);var r=e+"__bubble";n.has(r)||(T1e(t,e,2,!1),n.add(r))}function PD(e,t,n){var r=0;t&&(r|=4),T1e(n,e,r,t)}var M_="_reactListening"+Math.random().toString(36).slice(2);function Nb(e){if(!e[M_]){e[M_]=!0,R0e.forEach(function(n){n!=="selectionchange"&&(Aze.has(n)||PD(n,!1,e),PD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[M_]||(t[M_]=!0,PD("selectionchange",!1,t))}}function T1e(e,t,n,r){switch(d1e(t)){case 1:var o=HNe;break;case 4:o=UNe;break;default:o=d6}n=o.bind(null,t,n,e),o=void 0,!n$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function OD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=np(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}X0e(function(){var u=i,d=a6(n),f=[];e:{var p=k1e.get(e);if(p!==void 0){var m=h6,v=e;switch(e){case"keypress":if(A2(n)===0)break e;case"keydown":case"keyup":m=ize;break;case"focusin":v="focus",m=kD;break;case"focusout":v="blur",m=kD;break;case"beforeblur":case"afterblur":m=kD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qNe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lze;break;case _1e:case C1e:case S1e:m=ZNe;break;case E1e:m=uze;break;case"scroll":m=WNe;break;case"wheel":m=fze;break;case"copy":case"cut":case"paste":m=QNe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yV}var g=(t&4)!==0,x=!g&&e==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=$b(y,b),_!=null&&g.push(zb(y,_,w)))),x)break;y=y.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==e$&&(v=n.relatedTarget||n.fromElement)&&(np(v)||v[$u]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?np(v):null,v!==null&&(x=fm(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=gV,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=yV,_="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?p:Tg(m),w=v==null?p:Tg(v),p=new g(_,y+"leave",m,n,d),p.target=x,p.relatedTarget=w,_=null,np(d)===u&&(g=new g(b,y+"enter",v,n,d),g.target=w,g.relatedTarget=x,_=g),x=_,m&&v)t:{for(g=m,b=v,y=0,w=g;w;w=Hm(w))y++;for(w=0,_=b;_;_=Hm(_))w++;for(;0<y-w;)g=Hm(g),y--;for(;0<w-y;)b=Hm(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Hm(g),b=Hm(b)}g=null}else g=null;m!==null&&AV(f,p,m,g,!1),v!==null&&x!==null&&AV(f,x,v,g,!0)}}e:{if(p=u?Tg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=bze;else if(wV(p))if(v1e)C=Cze;else{C=wze;var S=xze}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=_ze);if(C&&(C=C(e,u))){g1e(f,C,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&K3(p,"number",p.value)}switch(S=u?Tg(u):window,e){case"focusin":(wV(S)||S.contentEditable==="true")&&(kg=S,a$=u,Wy=null);break;case"focusout":Wy=a$=kg=null;break;case"mousedown":l$=!0;break;case"contextmenu":case"mouseup":case"dragend":l$=!1,kV(f,n,d);break;case"selectionchange":if(kze)break;case"keydown":case"keyup":kV(f,n,d)}var E;if(m6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Eg?p1e(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(h1e&&n.locale!=="ko"&&(Eg||j!=="onCompositionStart"?j==="onCompositionEnd"&&Eg&&(E=f1e()):(zd=d,f6="value"in zd?zd.value:zd.textContent,Eg=!0)),S=r5(u,j),0<S.length&&(j=new vV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=m1e(n),E!==null&&(j.data=E)))),(E=pze?mze(e,n):gze(e,n))&&(u=r5(u,"onBeforeInput"),0<u.length&&(d=new vV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}j1e(f,t)})}function zb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function r5(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=$b(e,n),i!=null&&r.unshift(zb(e,i,o)),i=$b(e,t),i!=null&&r.push(zb(e,i,o))),e=e.return}return r}function Hm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AV(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=$b(n,i),l!=null&&s.unshift(zb(n,l,a))):o||(l=$b(n,i),l!=null&&s.push(zb(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Dze=/\r\n?/g,Ize=/\u0000|\uFFFD/g;function DV(e){return(typeof e=="string"?e:""+e).replace(Dze,`
`).replace(Ize,"")}function F_(e,t,n){if(t=DV(t),DV(e)!==t&&n)throw Error(ke(425))}function o5(){}var c$=null,u$=null;function d$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f$=typeof setTimeout=="function"?setTimeout:void 0,Pze=typeof clearTimeout=="function"?clearTimeout:void 0,IV=typeof Promise=="function"?Promise:void 0,Oze=typeof queueMicrotask=="function"?queueMicrotask:typeof IV<"u"?function(e){return IV.resolve(null).then(e).catch($ze)}:f$;function $ze(e){setTimeout(function(){throw e})}function $D(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Fb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Fb(t)}function af(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var b0=Math.random().toString(36).slice(2),cc="__reactFiber$"+b0,Vb="__reactProps$"+b0,$u="__reactContainer$"+b0,h$="__reactEvents$"+b0,Rze="__reactListeners$"+b0,Mze="__reactHandles$"+b0;function np(e){var t=e[cc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$u]||n[cc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=PV(e);e!==null;){if(n=e[cc])return n;e=PV(e)}return t}e=n,n=e.parentNode}return null}function cw(e){return e=e[cc]||e[$u],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function gj(e){return e[Vb]||null}var p$=[],Ag=-1;function Zf(e){return{current:e}}function ir(e){0>Ag||(e.current=p$[Ag],p$[Ag]=null,Ag--)}function Hn(e,t){Ag++,p$[Ag]=e.current,e.current=t}var Pf={},Ci=Zf(Pf),Es=Zf(!1),Lp=Pf;function $v(e,t){var n=e.type.contextTypes;if(!n)return Pf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ks(e){return e=e.childContextTypes,e!=null}function i5(){ir(Es),ir(Ci)}function OV(e,t,n){if(Ci.current!==Pf)throw Error(ke(168));Hn(Ci,t),Hn(Es,n)}function A1e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ke(108,xNe(e)||"Unknown",o));return $r({},n,r)}function s5(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pf,Lp=Ci.current,Hn(Ci,e),Hn(Es,Es.current),!0}function $V(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=A1e(e,t,Lp),r.__reactInternalMemoizedMergedChildContext=e,ir(Es),ir(Ci),Hn(Ci,e)):ir(Es),Hn(Es,n)}var uu=null,vj=!1,RD=!1;function D1e(e){uu===null?uu=[e]:uu.push(e)}function Fze(e){vj=!0,D1e(e)}function Xf(){if(!RD&&uu!==null){RD=!0;var e=0,t=Sn;try{var n=uu;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}uu=null,vj=!1}catch(o){throw uu!==null&&(uu=uu.slice(e+1)),t1e(l6,Xf),o}finally{Sn=t,RD=!1}}return null}var Dg=[],Ig=0,a5=null,l5=0,Ea=[],ka=0,Bp=null,pu=1,mu="";function Ph(e,t){Dg[Ig++]=l5,Dg[Ig++]=a5,a5=e,l5=t}function I1e(e,t,n){Ea[ka++]=pu,Ea[ka++]=mu,Ea[ka++]=Bp,Bp=e;var r=pu;e=mu;var o=32-wl(r)-1;r&=~(1<<o),n+=1;var i=32-wl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,pu=1<<32-wl(t)+o|n<<o|r,mu=i+e}else pu=1<<i|n<<o|r,mu=e}function v6(e){e.return!==null&&(Ph(e,1),I1e(e,1,0))}function y6(e){for(;e===a5;)a5=Dg[--Ig],Dg[Ig]=null,l5=Dg[--Ig],Dg[Ig]=null;for(;e===Bp;)Bp=Ea[--ka],Ea[ka]=null,mu=Ea[--ka],Ea[ka]=null,pu=Ea[--ka],Ea[ka]=null}var na=null,Xs=null,yr=!1,ul=null;function P1e(e,t){var n=Pa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function RV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,na=e,Xs=af(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,na=e,Xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bp!==null?{id:pu,overflow:mu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,na=e,Xs=null,!0):!1;default:return!1}}function m$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function g$(e){if(yr){var t=Xs;if(t){var n=t;if(!RV(e,t)){if(m$(e))throw Error(ke(418));t=af(n.nextSibling);var r=na;t&&RV(e,t)?P1e(r,n):(e.flags=e.flags&-4097|2,yr=!1,na=e)}}else{if(m$(e))throw Error(ke(418));e.flags=e.flags&-4097|2,yr=!1,na=e}}}function MV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;na=e}function L_(e){if(e!==na)return!1;if(!yr)return MV(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d$(e.type,e.memoizedProps)),t&&(t=Xs)){if(m$(e))throw O1e(),Error(ke(418));for(;t;)P1e(e,t),t=af(t.nextSibling)}if(MV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xs=af(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xs=null}}else Xs=na?af(e.stateNode.nextSibling):null;return!0}function O1e(){for(var e=Xs;e;)e=af(e.nextSibling)}function Rv(){Xs=na=null,yr=!1}function b6(e){ul===null?ul=[e]:ul.push(e)}var Lze=ed.ReactCurrentBatchConfig;function ll(e,t){if(e&&e.defaultProps){t=$r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var c5=Zf(null),u5=null,Pg=null,x6=null;function w6(){x6=Pg=u5=null}function _6(e){var t=c5.current;ir(c5),e._currentValue=t}function v$(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jg(e,t){u5=e,x6=Pg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(x6!==e)if(e={context:e,memoizedValue:t,next:null},Pg===null){if(u5===null)throw Error(ke(308));Pg=e,u5.dependencies={lanes:0,firstContext:e}}else Pg=Pg.next=e;return t}var rp=null;function C6(e){rp===null?rp=[e]:rp.push(e)}function $1e(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,C6(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ru(e,r)}function Ru(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Td=!1;function S6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R1e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _u(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ru(e,n)}return o=r.interleaved,o===null?(t.next=t,C6(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ru(e,n)}function D2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c6(e,n)}}function FV(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function d5(e,t,n,r){var o=e.updateQueue;Td=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=$r({},f,p);break e;case 2:Td=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);zp|=s,e.lanes=s,e.memoizedState=f}}function LV(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ke(191,o));o.call(r)}}}var M1e=new $0e.Component().refs;function y$(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yj={isMounted:function(e){return(e=e._reactInternals)?fm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qi(),o=uf(e),i=_u(r,o);i.payload=t,n!=null&&(i.callback=n),t=lf(e,i,o),t!==null&&(_l(t,e,o,r),D2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qi(),o=uf(e),i=_u(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=lf(e,i,o),t!==null&&(_l(t,e,o,r),D2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qi(),r=uf(e),o=_u(n,r);o.tag=2,t!=null&&(o.callback=t),t=lf(e,o,r),t!==null&&(_l(t,e,r,n),D2(t,e,r))}};function BV(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Bb(n,r)||!Bb(o,i):!0}function F1e(e,t,n){var r=!1,o=Pf,i=t.contextType;return typeof i=="object"&&i!==null?i=Ha(i):(o=ks(t)?Lp:Ci.current,r=t.contextTypes,i=(r=r!=null)?$v(e,o):Pf),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function NV(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yj.enqueueReplaceState(t,t.state,null)}function b$(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=M1e,S6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ha(i):(i=ks(t)?Lp:Ci.current,o.context=$v(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(y$(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&yj.enqueueReplaceState(o,o.state,null),d5(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function k1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===M1e&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function B_(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zV(e){var t=e._init;return t(e._payload)}function L1e(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function o(b,y){return b=df(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function a(b,y,w,_){return y===null||y.tag!==6?(y=VD(w,b.mode,_),y.return=b,y):(y=o(y,w),y.return=b,y)}function l(b,y,w,_){var C=w.type;return C===Sg?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jd&&zV(C)===y.type)?(_=o(y,w.props),_.ref=k1(b,y,w),_.return=b,_):(_=M2(w.type,w.key,w.props,null,b.mode,_),_.ref=k1(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=HD(w,b.mode,_),y.return=b,y):(y=o(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,C){return y===null||y.tag!==7?(y=wp(w,b.mode,_,C),y.return=b,y):(y=o(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=VD(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case T_:return w=M2(y.type,y.key,y.props,null,b.mode,w),w.ref=k1(b,null,y),w.return=b,w;case Cg:return y=HD(y,b.mode,w),y.return=b,y;case jd:var _=y._init;return f(b,_(y._payload),w)}if(my(y)||w1(y))return y=wp(y,b.mode,w,null),y.return=b,y;B_(b,y)}return null}function p(b,y,w,_){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T_:return w.key===C?l(b,y,w,_):null;case Cg:return w.key===C?u(b,y,w,_):null;case jd:return C=w._init,p(b,y,C(w._payload),_)}if(my(w)||w1(w))return C!==null?null:d(b,y,w,_,null);B_(b,w)}return null}function m(b,y,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,a(y,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case T_:return b=b.get(_.key===null?w:_.key)||null,l(y,b,_,C);case Cg:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,C);case jd:var S=_._init;return m(b,y,w,S(_._payload),C)}if(my(_)||w1(_))return b=b.get(w)||null,d(y,b,_,C,null);B_(y,_)}return null}function v(b,y,w,_){for(var C=null,S=null,E=y,j=y=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(b,E,w[j],_);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(b,E),y=i(T,y,j),S===null?C=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(b,E),yr&&Ph(b,j),C;if(E===null){for(;j<w.length;j++)E=f(b,w[j],_),E!==null&&(y=i(E,y,j),S===null?C=E:S.sibling=E,S=E);return yr&&Ph(b,j),C}for(E=r(b,E);j<w.length;j++)k=m(E,b,j,w[j],_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),y=i(k,y,j),S===null?C=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(b,A)}),yr&&Ph(b,j),C}function g(b,y,w,_){var C=w1(w);if(typeof C!="function")throw Error(ke(150));if(w=C.call(w),w==null)throw Error(ke(151));for(var S=C=null,E=y,j=y=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(b,E,T.value,_);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(b,E),y=i(A,y,j),S===null?C=A:S.sibling=A,S=A,E=k}if(T.done)return n(b,E),yr&&Ph(b,j),C;if(E===null){for(;!T.done;j++,T=w.next())T=f(b,T.value,_),T!==null&&(y=i(T,y,j),S===null?C=T:S.sibling=T,S=T);return yr&&Ph(b,j),C}for(E=r(b,E);!T.done;j++,T=w.next())T=m(E,b,j,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?C=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(b,D)}),yr&&Ph(b,j),C}function x(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Sg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case T_:e:{for(var C=w.key,S=y;S!==null;){if(S.key===C){if(C=w.type,C===Sg){if(S.tag===7){n(b,S.sibling),y=o(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jd&&zV(C)===S.type){n(b,S.sibling),y=o(S,w.props),y.ref=k1(b,S,w),y.return=b,b=y;break e}n(b,S);break}else t(b,S);S=S.sibling}w.type===Sg?(y=wp(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=M2(w.type,w.key,w.props,null,b.mode,_),_.ref=k1(b,y,w),_.return=b,b=_)}return s(b);case Cg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=o(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=HD(w,b.mode,_),y.return=b,b=y}return s(b);case jd:return S=w._init,x(b,y,S(w._payload),_)}if(my(w))return v(b,y,w,_);if(w1(w))return g(b,y,w,_);B_(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=o(y,w),y.return=b,b=y):(n(b,y),y=VD(w,b.mode,_),y.return=b,b=y),s(b)):n(b,y)}return x}var Mv=L1e(!0),B1e=L1e(!1),uw={},wc=Zf(uw),Hb=Zf(uw),Ub=Zf(uw);function op(e){if(e===uw)throw Error(ke(174));return e}function E6(e,t){switch(Hn(Ub,t),Hn(Hb,e),Hn(wc,uw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:X3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=X3(t,e)}ir(wc),Hn(wc,t)}function Fv(){ir(wc),ir(Hb),ir(Ub)}function N1e(e){op(Ub.current);var t=op(wc.current),n=X3(t,e.type);t!==n&&(Hn(Hb,e),Hn(wc,n))}function k6(e){Hb.current===e&&(ir(wc),ir(Hb))}var kr=Zf(0);function f5(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var MD=[];function j6(){for(var e=0;e<MD.length;e++)MD[e]._workInProgressVersionPrimary=null;MD.length=0}var I2=ed.ReactCurrentDispatcher,FD=ed.ReactCurrentBatchConfig,Np=0,Ir=null,bo=null,Mo=null,h5=!1,Yy=!1,Wb=0,Bze=0;function ui(){throw Error(ke(321))}function T6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kl(e[n],t[n]))return!1;return!0}function A6(e,t,n,r,o,i){if(Np=i,Ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I2.current=e===null||e.memoizedState===null?Hze:Uze,e=n(r,o),Yy){i=0;do{if(Yy=!1,Wb=0,25<=i)throw Error(ke(301));i+=1,Mo=bo=null,t.updateQueue=null,I2.current=Wze,e=n(r,o)}while(Yy)}if(I2.current=p5,t=bo!==null&&bo.next!==null,Np=0,Mo=bo=Ir=null,h5=!1,t)throw Error(ke(300));return e}function D6(){var e=Wb!==0;return Wb=0,e}function ec(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Ir.memoizedState=Mo=e:Mo=Mo.next=e,Mo}function Ua(){if(bo===null){var e=Ir.alternate;e=e!==null?e.memoizedState:null}else e=bo.next;var t=Mo===null?Ir.memoizedState:Mo.next;if(t!==null)Mo=t,bo=e;else{if(e===null)throw Error(ke(310));bo=e,e={memoizedState:bo.memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},Mo===null?Ir.memoizedState=Mo=e:Mo=Mo.next=e}return Mo}function Yb(e,t){return typeof t=="function"?t(e):t}function LD(e){var t=Ua(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=bo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Np&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ir.lanes|=d,zp|=d}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,kl(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ir.lanes|=i,zp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function BD(e){var t=Ua(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);kl(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function z1e(){}function V1e(e,t){var n=Ir,r=Ua(),o=t(),i=!kl(r.memoizedState,o);if(i&&(r.memoizedState=o,ws=!0),r=r.queue,I6(W1e.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Mo!==null&&Mo.memoizedState.tag&1){if(n.flags|=2048,qb(9,U1e.bind(null,n,r,o,t),void 0,null),No===null)throw Error(ke(349));Np&30||H1e(n,t,o)}return o}function H1e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function U1e(e,t,n,r){t.value=n,t.getSnapshot=r,Y1e(t)&&q1e(e)}function W1e(e,t,n){return n(function(){Y1e(t)&&q1e(e)})}function Y1e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kl(e,n)}catch{return!0}}function q1e(e){var t=Ru(e,1);t!==null&&_l(t,e,1,-1)}function VV(e){var t=ec();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yb,lastRenderedState:e},t.queue=e,e=e.dispatch=Vze.bind(null,Ir,e),[t.memoizedState,e]}function qb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function G1e(){return Ua().memoizedState}function P2(e,t,n,r){var o=ec();Ir.flags|=e,o.memoizedState=qb(1|t,n,void 0,r===void 0?null:r)}function bj(e,t,n,r){var o=Ua();r=r===void 0?null:r;var i=void 0;if(bo!==null){var s=bo.memoizedState;if(i=s.destroy,r!==null&&T6(r,s.deps)){o.memoizedState=qb(t,n,i,r);return}}Ir.flags|=e,o.memoizedState=qb(1|t,n,i,r)}function HV(e,t){return P2(8390656,8,e,t)}function I6(e,t){return bj(2048,8,e,t)}function K1e(e,t){return bj(4,2,e,t)}function Z1e(e,t){return bj(4,4,e,t)}function X1e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q1e(e,t,n){return n=n!=null?n.concat([e]):null,bj(4,4,X1e.bind(null,t,e),n)}function P6(){}function J1e(e,t){var n=Ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eye(e,t){var n=Ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tye(e,t,n){return Np&21?(kl(n,t)||(n=o1e(),Ir.lanes|=n,zp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n)}function Nze(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=FD.transition;FD.transition={};try{e(!1),t()}finally{Sn=n,FD.transition=r}}function nye(){return Ua().memoizedState}function zze(e,t,n){var r=uf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rye(e))oye(t,n);else if(n=$1e(e,t,n,r),n!==null){var o=qi();_l(n,e,r,o),iye(n,t,r)}}function Vze(e,t,n){var r=uf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rye(e))oye(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,kl(a,s)){var l=t.interleaved;l===null?(o.next=o,C6(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=$1e(e,t,o,r),n!==null&&(o=qi(),_l(n,e,r,o),iye(n,t,r))}}function rye(e){var t=e.alternate;return e===Ir||t!==null&&t===Ir}function oye(e,t){Yy=h5=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iye(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c6(e,n)}}var p5={readContext:Ha,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},Hze={readContext:Ha,useCallback:function(e,t){return ec().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:HV,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,P2(4194308,4,X1e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return P2(4194308,4,e,t)},useInsertionEffect:function(e,t){return P2(4,2,e,t)},useMemo:function(e,t){var n=ec();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ec();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zze.bind(null,Ir,e),[r.memoizedState,e]},useRef:function(e){var t=ec();return e={current:e},t.memoizedState=e},useState:VV,useDebugValue:P6,useDeferredValue:function(e){return ec().memoizedState=e},useTransition:function(){var e=VV(!1),t=e[0];return e=Nze.bind(null,e[1]),ec().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ir,o=ec();if(yr){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=t(),No===null)throw Error(ke(349));Np&30||H1e(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,HV(W1e.bind(null,r,i,e),[e]),r.flags|=2048,qb(9,U1e.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ec(),t=No.identifierPrefix;if(yr){var n=mu,r=pu;n=(r&~(1<<32-wl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bze++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uze={readContext:Ha,useCallback:J1e,useContext:Ha,useEffect:I6,useImperativeHandle:Q1e,useInsertionEffect:K1e,useLayoutEffect:Z1e,useMemo:eye,useReducer:LD,useRef:G1e,useState:function(){return LD(Yb)},useDebugValue:P6,useDeferredValue:function(e){var t=Ua();return tye(t,bo.memoizedState,e)},useTransition:function(){var e=LD(Yb)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:z1e,useSyncExternalStore:V1e,useId:nye,unstable_isNewReconciler:!1},Wze={readContext:Ha,useCallback:J1e,useContext:Ha,useEffect:I6,useImperativeHandle:Q1e,useInsertionEffect:K1e,useLayoutEffect:Z1e,useMemo:eye,useReducer:BD,useRef:G1e,useState:function(){return BD(Yb)},useDebugValue:P6,useDeferredValue:function(e){var t=Ua();return bo===null?t.memoizedState=e:tye(t,bo.memoizedState,e)},useTransition:function(){var e=BD(Yb)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:z1e,useSyncExternalStore:V1e,useId:nye,unstable_isNewReconciler:!1};function Lv(e,t){try{var n="",r=t;do n+=bNe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ND(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function x$(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yze=typeof WeakMap=="function"?WeakMap:Map;function sye(e,t,n){n=_u(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){g5||(g5=!0,D$=r),x$(e,t)},n}function aye(e,t,n){n=_u(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){x$(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){x$(e,t),typeof r!="function"&&(cf===null?cf=new Set([this]):cf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function UV(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yze;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=sVe.bind(null,e,t,n),t.then(e,e))}function WV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YV(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_u(-1,1),t.tag=2,lf(n,t,1))),n.lanes|=1),e)}var qze=ed.ReactCurrentOwner,ws=!1;function Ni(e,t,n,r){t.child=e===null?B1e(t,null,n,r):Mv(t,e.child,n,r)}function qV(e,t,n,r,o){n=n.render;var i=t.ref;return Jg(t,o),r=A6(e,t,n,r,i,o),n=D6(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(yr&&n&&v6(t),t.flags|=1,Ni(e,t,r,o),t.child)}function GV(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!N6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,lye(e,t,i,r,o)):(e=M2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bb,n(s,r)&&e.ref===t.ref)return Mu(e,t,o)}return t.flags|=1,e=df(i,r),e.ref=t.ref,e.return=t,t.child=e}function lye(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bb(i,r)&&e.ref===t.ref)if(ws=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ws=!0);else return t.lanes=e.lanes,Mu(e,t,o)}return w$(e,t,n,r,o)}function cye(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn($g,Vs),Vs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn($g,Vs),Vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Hn($g,Vs),Vs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Hn($g,Vs),Vs|=r;return Ni(e,t,o,n),t.child}function uye(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function w$(e,t,n,r,o){var i=ks(n)?Lp:Ci.current;return i=$v(t,i),Jg(t,o),n=A6(e,t,n,r,i,o),r=D6(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(yr&&r&&v6(t),t.flags|=1,Ni(e,t,n,o),t.child)}function KV(e,t,n,r,o){if(ks(n)){var i=!0;s5(t)}else i=!1;if(Jg(t,o),t.stateNode===null)O2(e,t),F1e(t,n,r),b$(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ha(u):(u=ks(n)?Lp:Ci.current,u=$v(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&NV(t,s,r,u),Td=!1;var p=t.memoizedState;s.state=p,d5(t,r,s,o),l=t.memoizedState,a!==r||p!==l||Es.current||Td?(typeof d=="function"&&(y$(t,n,d,r),l=t.memoizedState),(a=Td||BV(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,R1e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ll(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ha(l):(l=ks(n)?Lp:Ci.current,l=$v(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&NV(t,s,r,l),Td=!1,p=t.memoizedState,s.state=p,d5(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||Es.current||Td?(typeof m=="function"&&(y$(t,n,m,r),v=t.memoizedState),(u=Td||BV(t,n,u,r,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _$(e,t,n,r,i,o)}function _$(e,t,n,r,o,i){uye(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&$V(t,n,!1),Mu(e,t,i);r=t.stateNode,qze.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mv(t,e.child,null,i),t.child=Mv(t,null,a,i)):Ni(e,t,a,i),t.memoizedState=r.state,o&&$V(t,n,!0),t.child}function dye(e){var t=e.stateNode;t.pendingContext?OV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OV(e,t.context,!1),E6(e,t.containerInfo)}function ZV(e,t,n,r,o){return Rv(),b6(o),t.flags|=256,Ni(e,t,n,r),t.child}var C$={dehydrated:null,treeContext:null,retryLane:0};function S$(e){return{baseLanes:e,cachePool:null,transitions:null}}function fye(e,t,n){var r=t.pendingProps,o=kr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Hn(kr,o&1),e===null)return g$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=_j(s,r,0,null),e=wp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=S$(n),t.memoizedState=C$,e):O6(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Gze(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=df(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=df(a,i):(i=wp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?S$(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=C$,r}return i=e.child,e=i.sibling,r=df(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function O6(e,t){return t=_j({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function N_(e,t,n,r){return r!==null&&b6(r),Mv(t,e.child,null,n),e=O6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gze(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ND(Error(ke(422))),N_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=_j({mode:"visible",children:r.children},o,0,null),i=wp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mv(t,e.child,null,s),t.child.memoizedState=S$(s),t.memoizedState=C$,i);if(!(t.mode&1))return N_(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ke(419)),r=ND(i,r,void 0),N_(e,t,s,r)}if(a=(s&e.childLanes)!==0,ws||a){if(r=No,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ru(e,o),_l(r,e,o,-1))}return B6(),r=ND(Error(ke(421))),N_(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=aVe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Xs=af(o.nextSibling),na=t,yr=!0,ul=null,e!==null&&(Ea[ka++]=pu,Ea[ka++]=mu,Ea[ka++]=Bp,pu=e.id,mu=e.overflow,Bp=t),t=O6(t,r.children),t.flags|=4096,t)}function XV(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v$(e.return,t,n)}function zD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function hye(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ni(e,t,r.children,n),r=kr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XV(e,n,t);else if(e.tag===19)XV(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(kr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&f5(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&f5(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zD(t,!0,n,null,i);break;case"together":zD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function O2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=df(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=df(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kze(e,t,n){switch(t.tag){case 3:dye(t),Rv();break;case 5:N1e(t);break;case 1:ks(t.type)&&s5(t);break;case 4:E6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Hn(c5,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(kr,kr.current&1),t.flags|=128,null):n&t.child.childLanes?fye(e,t,n):(Hn(kr,kr.current&1),e=Mu(e,t,n),e!==null?e.sibling:null);Hn(kr,kr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hye(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Hn(kr,kr.current),r)break;return null;case 22:case 23:return t.lanes=0,cye(e,t,n)}return Mu(e,t,n)}var pye,E$,mye,gye;pye=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E$=function(){};mye=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,op(wc.current);var i=null;switch(n){case"input":o=q3(e,o),r=q3(e,r),i=[];break;case"select":o=$r({},o,{value:void 0}),r=$r({},r,{value:void 0}),i=[];break;case"textarea":o=Z3(e,o),r=Z3(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=o5)}Q3(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tr("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};gye=function(e,t,n,r){n!==r&&(t.flags|=4)};function j1(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function di(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zze(e,t,n){var r=t.pendingProps;switch(y6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(t),null;case 1:return ks(t.type)&&i5(),di(t),null;case 3:return r=t.stateNode,Fv(),ir(Es),ir(Ci),j6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(L_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ul!==null&&(O$(ul),ul=null))),E$(e,t),di(t),null;case 5:k6(t);var o=op(Ub.current);if(n=t.type,e!==null&&t.stateNode!=null)mye(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return di(t),null}if(e=op(wc.current),L_(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[cc]=t,r[Vb]=i,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(o=0;o<vy.length;o++)tr(vy[o],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":sV(r,i),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tr("invalid",r);break;case"textarea":lV(r,i),tr("invalid",r)}Q3(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&F_(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&F_(r.textContent,a,e),o=["children",""+a]):Pb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tr("scroll",r)}switch(n){case"input":A_(r),aV(r,i,!0);break;case"textarea":A_(r),cV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=o5)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H0e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[cc]=t,e[Vb]=r,pye(e,t,!1,!1),t.stateNode=e;e:{switch(s=J3(n,r),n){case"dialog":tr("cancel",e),tr("close",e),o=r;break;case"iframe":case"object":case"embed":tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<vy.length;o++)tr(vy[o],e);o=r;break;case"source":tr("error",e),o=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),o=r;break;case"details":tr("toggle",e),o=r;break;case"input":sV(e,r),o=q3(e,r),tr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$r({},r,{value:void 0}),tr("invalid",e);break;case"textarea":lV(e,r),o=Z3(e,r),tr("invalid",e);break;default:o=r}Q3(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Y0e(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U0e(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ob(e,l):typeof l=="number"&&Ob(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pb.hasOwnProperty(i)?l!=null&&i==="onScroll"&&tr("scroll",e):l!=null&&r6(e,i,l,s))}switch(n){case"input":A_(e),aV(e,r,!1);break;case"textarea":A_(e),cV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+If(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kg(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=o5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return di(t),null;case 6:if(e&&t.stateNode!=null)gye(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));if(n=op(Ub.current),op(wc.current),L_(t)){if(r=t.stateNode,n=t.memoizedProps,r[cc]=t,(i=r.nodeValue!==n)&&(e=na,e!==null))switch(e.tag){case 3:F_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&F_(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cc]=t,t.stateNode=r}return di(t),null;case 13:if(ir(kr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Xs!==null&&t.mode&1&&!(t.flags&128))O1e(),Rv(),t.flags|=98560,i=!1;else if(i=L_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[cc]=t}else Rv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;di(t),i=!1}else ul!==null&&(O$(ul),ul=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||kr.current&1?So===0&&(So=3):B6())),t.updateQueue!==null&&(t.flags|=4),di(t),null);case 4:return Fv(),E$(e,t),e===null&&Nb(t.stateNode.containerInfo),di(t),null;case 10:return _6(t.type._context),di(t),null;case 17:return ks(t.type)&&i5(),di(t),null;case 19:if(ir(kr),i=t.memoizedState,i===null)return di(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)j1(i,!1);else{if(So!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=f5(e),s!==null){for(t.flags|=128,j1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(kr,kr.current&1|2),t.child}e=e.sibling}i.tail!==null&&qr()>Bv&&(t.flags|=128,r=!0,j1(i,!1),t.lanes=4194304)}else{if(!r)if(e=f5(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),j1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!yr)return di(t),null}else 2*qr()-i.renderingStartTime>Bv&&n!==1073741824&&(t.flags|=128,r=!0,j1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qr(),t.sibling=null,n=kr.current,Hn(kr,r?n&1|2:n&1),t):(di(t),null);case 22:case 23:return L6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vs&1073741824&&(di(t),t.subtreeFlags&6&&(t.flags|=8192)):di(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function Xze(e,t){switch(y6(t),t.tag){case 1:return ks(t.type)&&i5(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fv(),ir(Es),ir(Ci),j6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k6(t),null;case 13:if(ir(kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));Rv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(kr),null;case 4:return Fv(),null;case 10:return _6(t.type._context),null;case 22:case 23:return L6(),null;case 24:return null;default:return null}}var z_=!1,yi=!1,Qze=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Og(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mr(e,t,r)}else n.current=null}function k$(e,t,n){try{n()}catch(r){Mr(e,t,r)}}var QV=!1;function Jze(e,t){if(c$=t5,e=x1e(),g6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u$={focusedElem:e,selectionRange:n},t5=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ll(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(_){Mr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return v=QV,QV=!1,v}function qy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&k$(t,n,i)}o=o.next}while(o!==r)}}function xj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function j$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vye(e){var t=e.alternate;t!==null&&(e.alternate=null,vye(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cc],delete t[Vb],delete t[h$],delete t[Rze],delete t[Mze])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yye(e){return e.tag===5||e.tag===3||e.tag===4}function JV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yye(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=o5));else if(r!==4&&(e=e.child,e!==null))for(T$(e,t,n),e=e.sibling;e!==null;)T$(e,t,n),e=e.sibling}function A$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(A$(e,t,n),e=e.sibling;e!==null;)A$(e,t,n),e=e.sibling}var Uo=null,cl=!1;function md(e,t,n){for(n=n.child;n!==null;)bye(e,t,n),n=n.sibling}function bye(e,t,n){if(xc&&typeof xc.onCommitFiberUnmount=="function")try{xc.onCommitFiberUnmount(fj,n)}catch{}switch(n.tag){case 5:yi||Og(n,t);case 6:var r=Uo,o=cl;Uo=null,md(e,t,n),Uo=r,cl=o,Uo!==null&&(cl?(e=Uo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Uo.removeChild(n.stateNode));break;case 18:Uo!==null&&(cl?(e=Uo,n=n.stateNode,e.nodeType===8?$D(e.parentNode,n):e.nodeType===1&&$D(e,n),Fb(e)):$D(Uo,n.stateNode));break;case 4:r=Uo,o=cl,Uo=n.stateNode.containerInfo,cl=!0,md(e,t,n),Uo=r,cl=o;break;case 0:case 11:case 14:case 15:if(!yi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&k$(n,t,s),o=o.next}while(o!==r)}md(e,t,n);break;case 1:if(!yi&&(Og(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mr(n,t,a)}md(e,t,n);break;case 21:md(e,t,n);break;case 22:n.mode&1?(yi=(r=yi)||n.memoizedState!==null,md(e,t,n),yi=r):md(e,t,n);break;default:md(e,t,n)}}function eH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qze),t.forEach(function(r){var o=lVe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ol(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Uo=a.stateNode,cl=!1;break e;case 3:Uo=a.stateNode.containerInfo,cl=!0;break e;case 4:Uo=a.stateNode.containerInfo,cl=!0;break e}a=a.return}if(Uo===null)throw Error(ke(160));bye(i,s,o),Uo=null,cl=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Mr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xye(t,e),t=t.sibling}function xye(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ol(t,e),Wl(e),r&4){try{qy(3,e,e.return),xj(3,e)}catch(g){Mr(e,e.return,g)}try{qy(5,e,e.return)}catch(g){Mr(e,e.return,g)}}break;case 1:ol(t,e),Wl(e),r&512&&n!==null&&Og(n,n.return);break;case 5:if(ol(t,e),Wl(e),r&512&&n!==null&&Og(n,n.return),e.flags&32){var o=e.stateNode;try{Ob(o,"")}catch(g){Mr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&z0e(o,i),J3(a,s);var u=J3(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?Y0e(o,f):d==="dangerouslySetInnerHTML"?U0e(o,f):d==="children"?Ob(o,f):r6(o,d,f,u)}switch(a){case"input":G3(o,i);break;case"textarea":V0e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Kg(o,!!i.multiple,i.defaultValue,!0):Kg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Vb]=i}catch(g){Mr(e,e.return,g)}}break;case 6:if(ol(t,e),Wl(e),r&4){if(e.stateNode===null)throw Error(ke(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Mr(e,e.return,g)}}break;case 3:if(ol(t,e),Wl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fb(t.containerInfo)}catch(g){Mr(e,e.return,g)}break;case 4:ol(t,e),Wl(e);break;case 13:ol(t,e),Wl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(M6=qr())),r&4&&eH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(yi=(u=yi)||d,ol(t,e),yi=u):ol(t,e),Wl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Be=e,d=e.child;d!==null;){for(f=Be=d;Be!==null;){switch(p=Be,m=p.child,p.tag){case 0:case 11:case 14:case 15:qy(4,p,p.return);break;case 1:Og(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Mr(r,n,g)}}break;case 5:Og(p,p.return);break;case 22:if(p.memoizedState!==null){nH(f);continue}}m!==null?(m.return=p,Be=m):nH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=W0e("display",s))}catch(g){Mr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Mr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ol(t,e),Wl(e),r&4&&eH(e);break;case 21:break;default:ol(t,e),Wl(e)}}function Wl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yye(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ob(o,""),r.flags&=-33);var i=JV(e);A$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=JV(e);T$(e,a,s);break;default:throw Error(ke(161))}}catch(l){Mr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eVe(e,t,n){Be=e,wye(e)}function wye(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var o=Be,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||z_;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||yi;a=z_;var u=yi;if(z_=s,(yi=l)&&!u)for(Be=o;Be!==null;)s=Be,l=s.child,s.tag===22&&s.memoizedState!==null?rH(o):l!==null?(l.return=s,Be=l):rH(o);for(;i!==null;)Be=i,wye(i),i=i.sibling;Be=o,z_=a,yi=u}tH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Be=i):tH(e)}}function tH(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yi||xj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ll(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&LV(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}LV(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}yi||t.flags&512&&j$(t)}catch(p){Mr(t,t.return,p)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function nH(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function rH(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xj(4,t)}catch(l){Mr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Mr(t,o,l)}}var i=t.return;try{j$(t)}catch(l){Mr(t,i,l)}break;case 5:var s=t.return;try{j$(t)}catch(l){Mr(t,s,l)}}}catch(l){Mr(t,t.return,l)}if(t===e){Be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Be=a;break}Be=t.return}}var tVe=Math.ceil,m5=ed.ReactCurrentDispatcher,$6=ed.ReactCurrentOwner,Ma=ed.ReactCurrentBatchConfig,tn=0,No=null,ao=null,Xo=0,Vs=0,$g=Zf(0),So=0,Gb=null,zp=0,wj=0,R6=0,Gy=null,ms=null,M6=0,Bv=1/0,au=null,g5=!1,D$=null,cf=null,V_=!1,Vd=null,v5=0,Ky=0,I$=null,$2=-1,R2=0;function qi(){return tn&6?qr():$2!==-1?$2:$2=qr()}function uf(e){return e.mode&1?tn&2&&Xo!==0?Xo&-Xo:Lze.transition!==null?(R2===0&&(R2=o1e()),R2):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:d1e(e.type)),e):1}function _l(e,t,n,r){if(50<Ky)throw Ky=0,I$=null,Error(ke(185));aw(e,n,r),(!(tn&2)||e!==No)&&(e===No&&(!(tn&2)&&(wj|=n),So===4&&Fd(e,Xo)),js(e,r),n===1&&tn===0&&!(t.mode&1)&&(Bv=qr()+500,vj&&Xf()))}function js(e,t){var n=e.callbackNode;LNe(e,t);var r=e5(e,e===No?Xo:0);if(r===0)n!==null&&fV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fV(n),t===1)e.tag===0?Fze(oH.bind(null,e)):D1e(oH.bind(null,e)),Oze(function(){!(tn&6)&&Xf()}),n=null;else{switch(i1e(r)){case 1:n=l6;break;case 4:n=n1e;break;case 16:n=JS;break;case 536870912:n=r1e;break;default:n=JS}n=Aye(n,_ye.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _ye(e,t){if($2=-1,R2=0,tn&6)throw Error(ke(327));var n=e.callbackNode;if(ev()&&e.callbackNode!==n)return null;var r=e5(e,e===No?Xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=y5(e,r);else{t=r;var o=tn;tn|=2;var i=Sye();(No!==e||Xo!==t)&&(au=null,Bv=qr()+500,xp(e,t));do try{oVe();break}catch(a){Cye(e,a)}while(1);w6(),m5.current=i,tn=o,ao!==null?t=0:(No=null,Xo=0,t=So)}if(t!==0){if(t===2&&(o=o$(e),o!==0&&(r=o,t=P$(e,o))),t===1)throw n=Gb,xp(e,0),Fd(e,r),js(e,qr()),n;if(t===6)Fd(e,r);else{if(o=e.current.alternate,!(r&30)&&!nVe(o)&&(t=y5(e,r),t===2&&(i=o$(e),i!==0&&(r=i,t=P$(e,i))),t===1))throw n=Gb,xp(e,0),Fd(e,r),js(e,qr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ke(345));case 2:Oh(e,ms,au);break;case 3:if(Fd(e,r),(r&130023424)===r&&(t=M6+500-qr(),10<t)){if(e5(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){qi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=f$(Oh.bind(null,e,ms,au),t);break}Oh(e,ms,au);break;case 4:if(Fd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-wl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=qr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tVe(r/1960))-r,10<r){e.timeoutHandle=f$(Oh.bind(null,e,ms,au),r);break}Oh(e,ms,au);break;case 5:Oh(e,ms,au);break;default:throw Error(ke(329))}}}return js(e,qr()),e.callbackNode===n?_ye.bind(null,e):null}function P$(e,t){var n=Gy;return e.current.memoizedState.isDehydrated&&(xp(e,t).flags|=256),e=y5(e,t),e!==2&&(t=ms,ms=n,t!==null&&O$(t)),e}function O$(e){ms===null?ms=e:ms.push.apply(ms,e)}function nVe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kl(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fd(e,t){for(t&=~R6,t&=~wj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wl(t),r=1<<n;e[n]=-1,t&=~r}}function oH(e){if(tn&6)throw Error(ke(327));ev();var t=e5(e,0);if(!(t&1))return js(e,qr()),null;var n=y5(e,t);if(e.tag!==0&&n===2){var r=o$(e);r!==0&&(t=r,n=P$(e,r))}if(n===1)throw n=Gb,xp(e,0),Fd(e,t),js(e,qr()),n;if(n===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oh(e,ms,au),js(e,qr()),null}function F6(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(Bv=qr()+500,vj&&Xf())}}function Vp(e){Vd!==null&&Vd.tag===0&&!(tn&6)&&ev();var t=tn;tn|=1;var n=Ma.transition,r=Sn;try{if(Ma.transition=null,Sn=1,e)return e()}finally{Sn=r,Ma.transition=n,tn=t,!(tn&6)&&Xf()}}function L6(){Vs=$g.current,ir($g)}function xp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pze(n)),ao!==null)for(n=ao.return;n!==null;){var r=n;switch(y6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&i5();break;case 3:Fv(),ir(Es),ir(Ci),j6();break;case 5:k6(r);break;case 4:Fv();break;case 13:ir(kr);break;case 19:ir(kr);break;case 10:_6(r.type._context);break;case 22:case 23:L6()}n=n.return}if(No=e,ao=e=df(e.current,null),Xo=Vs=t,So=0,Gb=null,R6=wj=zp=0,ms=Gy=null,rp!==null){for(t=0;t<rp.length;t++)if(n=rp[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}rp=null}return e}function Cye(e,t){do{var n=ao;try{if(w6(),I2.current=p5,h5){for(var r=Ir.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}h5=!1}if(Np=0,Mo=bo=Ir=null,Yy=!1,Wb=0,$6.current=null,n===null||n.return===null){So=1,Gb=t,ao=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Xo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=WV(s);if(m!==null){m.flags&=-257,YV(m,s,a,i,t),m.mode&1&&UV(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){UV(i,u,t),B6();break e}l=Error(ke(426))}}else if(yr&&a.mode&1){var x=WV(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),YV(x,s,a,i,t),b6(Lv(l,a));break e}}i=l=Lv(l,a),So!==4&&(So=2),Gy===null?Gy=[i]:Gy.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=sye(i,l,t);FV(i,b);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cf===null||!cf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=aye(i,a,t);FV(i,_);break e}}i=i.return}while(i!==null)}kye(n)}catch(C){t=C,ao===n&&n!==null&&(ao=n=n.return);continue}break}while(1)}function Sye(){var e=m5.current;return m5.current=p5,e===null?p5:e}function B6(){(So===0||So===3||So===2)&&(So=4),No===null||!(zp&268435455)&&!(wj&268435455)||Fd(No,Xo)}function y5(e,t){var n=tn;tn|=2;var r=Sye();(No!==e||Xo!==t)&&(au=null,xp(e,t));do try{rVe();break}catch(o){Cye(e,o)}while(1);if(w6(),tn=n,m5.current=r,ao!==null)throw Error(ke(261));return No=null,Xo=0,So}function rVe(){for(;ao!==null;)Eye(ao)}function oVe(){for(;ao!==null&&!ANe();)Eye(ao)}function Eye(e){var t=Tye(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,t===null?kye(e):ao=t,$6.current=null}function kye(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xze(n,t),n!==null){n.flags&=32767,ao=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{So=6,ao=null;return}}else if(n=Zze(n,t,Vs),n!==null){ao=n;return}if(t=t.sibling,t!==null){ao=t;return}ao=t=e}while(t!==null);So===0&&(So=5)}function Oh(e,t,n){var r=Sn,o=Ma.transition;try{Ma.transition=null,Sn=1,iVe(e,t,n,r)}finally{Ma.transition=o,Sn=r}return null}function iVe(e,t,n,r){do ev();while(Vd!==null);if(tn&6)throw Error(ke(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(BNe(e,i),e===No&&(ao=No=null,Xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||V_||(V_=!0,Aye(JS,function(){return ev(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ma.transition,Ma.transition=null;var s=Sn;Sn=1;var a=tn;tn|=4,$6.current=null,Jze(e,n),xye(n,e),Eze(u$),t5=!!c$,u$=c$=null,e.current=n,eVe(n),DNe(),tn=a,Sn=s,Ma.transition=i}else e.current=n;if(V_&&(V_=!1,Vd=e,v5=o),i=e.pendingLanes,i===0&&(cf=null),ONe(n.stateNode),js(e,qr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(g5)throw g5=!1,e=D$,D$=null,e;return v5&1&&e.tag!==0&&ev(),i=e.pendingLanes,i&1?e===I$?Ky++:(Ky=0,I$=e):Ky=0,Xf(),null}function ev(){if(Vd!==null){var e=i1e(v5),t=Ma.transition,n=Sn;try{if(Ma.transition=null,Sn=16>e?16:e,Vd===null)var r=!1;else{if(e=Vd,Vd=null,v5=0,tn&6)throw Error(ke(331));var o=tn;for(tn|=4,Be=e.current;Be!==null;){var i=Be,s=i.child;if(Be.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Be=u;Be!==null;){var d=Be;switch(d.tag){case 0:case 11:case 15:qy(8,d,i)}var f=d.child;if(f!==null)f.return=d,Be=f;else for(;Be!==null;){d=Be;var p=d.sibling,m=d.return;if(vye(d),d===u){Be=null;break}if(p!==null){p.return=m,Be=p;break}Be=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Be=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Be=s;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qy(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Be=b;break e}Be=i.return}}var y=e.current;for(Be=y;Be!==null;){s=Be;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Be=w;else e:for(s=y;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xj(9,a)}}catch(C){Mr(a,a.return,C)}if(a===s){Be=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Be=_;break e}Be=a.return}}if(tn=o,Xf(),xc&&typeof xc.onPostCommitFiberRoot=="function")try{xc.onPostCommitFiberRoot(fj,e)}catch{}r=!0}return r}finally{Sn=n,Ma.transition=t}}return!1}function iH(e,t,n){t=Lv(n,t),t=sye(e,t,1),e=lf(e,t,1),t=qi(),e!==null&&(aw(e,1,t),js(e,t))}function Mr(e,t,n){if(e.tag===3)iH(e,e,n);else for(;t!==null;){if(t.tag===3){iH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cf===null||!cf.has(r))){e=Lv(n,e),e=aye(t,e,1),t=lf(t,e,1),e=qi(),t!==null&&(aw(t,1,e),js(t,e));break}}t=t.return}}function sVe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&n,No===e&&(Xo&n)===n&&(So===4||So===3&&(Xo&130023424)===Xo&&500>qr()-M6?xp(e,0):R6|=n),js(e,t)}function jye(e,t){t===0&&(e.mode&1?(t=P_,P_<<=1,!(P_&130023424)&&(P_=4194304)):t=1);var n=qi();e=Ru(e,t),e!==null&&(aw(e,t,n),js(e,n))}function aVe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jye(e,n)}function lVe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(t),jye(e,n)}var Tye;Tye=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Es.current)ws=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ws=!1,Kze(e,t,n);ws=!!(e.flags&131072)}else ws=!1,yr&&t.flags&1048576&&I1e(t,l5,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;O2(e,t),e=t.pendingProps;var o=$v(t,Ci.current);Jg(t,n),o=A6(null,t,r,e,o,n);var i=D6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(r)?(i=!0,s5(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,S6(t),o.updater=yj,t.stateNode=o,o._reactInternals=t,b$(t,r,e,n),t=_$(null,t,r,!0,i,n)):(t.tag=0,yr&&i&&v6(t),Ni(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(O2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=uVe(r),e=ll(r,e),o){case 0:t=w$(null,t,r,e,n);break e;case 1:t=KV(null,t,r,e,n);break e;case 11:t=qV(null,t,r,e,n);break e;case 14:t=GV(null,t,r,ll(r.type,e),n);break e}throw Error(ke(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),w$(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),KV(e,t,r,o,n);case 3:e:{if(dye(t),e===null)throw Error(ke(387));r=t.pendingProps,i=t.memoizedState,o=i.element,R1e(e,t),d5(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Lv(Error(ke(423)),t),t=ZV(e,t,r,n,o);break e}else if(r!==o){o=Lv(Error(ke(424)),t),t=ZV(e,t,r,n,o);break e}else for(Xs=af(t.stateNode.containerInfo.firstChild),na=t,yr=!0,ul=null,n=B1e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rv(),r===o){t=Mu(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return N1e(t),e===null&&g$(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,d$(r,o)?s=null:i!==null&&d$(r,i)&&(t.flags|=32),uye(e,t),Ni(e,t,s,n),t.child;case 6:return e===null&&g$(t),null;case 13:return fye(e,t,n);case 4:return E6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mv(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),qV(e,t,r,o,n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:return Ni(e,t,t.pendingProps.children,n),t.child;case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Hn(c5,r._currentValue),r._currentValue=s,i!==null)if(kl(i.value,s)){if(i.children===o.children&&!Es.current){t=Mu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_u(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),v$(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ke(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),v$(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ni(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Jg(t,n),o=Ha(o),r=r(o),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return r=t.type,o=ll(r,t.pendingProps),o=ll(r.type,o),GV(e,t,r,o,n);case 15:return lye(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),O2(e,t),t.tag=1,ks(r)?(e=!0,s5(t)):e=!1,Jg(t,n),F1e(t,r,o),b$(t,r,o,n),_$(null,t,r,!0,e,n);case 19:return hye(e,t,n);case 22:return cye(e,t,n)}throw Error(ke(156,t.tag))};function Aye(e,t){return t1e(e,t)}function cVe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(e,t,n,r){return new cVe(e,t,n,r)}function N6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uVe(e){if(typeof e=="function")return N6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i6)return 11;if(e===s6)return 14}return 2}function df(e,t){var n=e.alternate;return n===null?(n=Pa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function M2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")N6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sg:return wp(n.children,o,i,t);case o6:s=8,o|=8;break;case H3:return e=Pa(12,n,t,o|2),e.elementType=H3,e.lanes=i,e;case U3:return e=Pa(13,n,t,o),e.elementType=U3,e.lanes=i,e;case W3:return e=Pa(19,n,t,o),e.elementType=W3,e.lanes=i,e;case L0e:return _j(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M0e:s=10;break e;case F0e:s=9;break e;case i6:s=11;break e;case s6:s=14;break e;case jd:s=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Pa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wp(e,t,n,r){return e=Pa(7,e,r,t),e.lanes=n,e}function _j(e,t,n,r){return e=Pa(22,e,r,t),e.elementType=L0e,e.lanes=n,e.stateNode={isHidden:!1},e}function VD(e,t,n){return e=Pa(6,e,null,t),e.lanes=n,e}function HD(e,t,n){return t=Pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dVe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CD(0),this.expirationTimes=CD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function z6(e,t,n,r,o,i,s,a,l){return e=new dVe(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S6(i),e}function fVe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dye(e){if(!e)return Pf;e=e._reactInternals;e:{if(fm(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var n=e.type;if(ks(n))return A1e(e,n,t)}return t}function Iye(e,t,n,r,o,i,s,a,l){return e=z6(n,r,!0,e,o,i,s,a,l),e.context=Dye(null),n=e.current,r=qi(),o=uf(n),i=_u(r,o),i.callback=t??null,lf(n,i,o),e.current.lanes=o,aw(e,o,r),js(e,r),e}function Cj(e,t,n,r){var o=t.current,i=qi(),s=uf(o);return n=Dye(n),t.context===null?t.context=n:t.pendingContext=n,t=_u(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lf(o,t,s),e!==null&&(_l(e,o,s,i),D2(e,o,s)),s}function b5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function V6(e,t){sH(e,t),(e=e.alternate)&&sH(e,t)}function hVe(){return null}var Pye=typeof reportError=="function"?reportError:function(e){console.error(e)};function H6(e){this._internalRoot=e}Sj.prototype.render=H6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));Cj(e,t,null,null)};Sj.prototype.unmount=H6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(function(){Cj(null,e,null,null)}),t[$u]=null}};function Sj(e){this._internalRoot=e}Sj.prototype.unstable_scheduleHydration=function(e){if(e){var t=l1e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&t!==0&&t<Md[n].priority;n++);Md.splice(n,0,e),n===0&&u1e(e)}};function U6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ej(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function aH(){}function pVe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=b5(s);i.call(u)}}var s=Iye(t,r,e,0,null,!1,!1,"",aH);return e._reactRootContainer=s,e[$u]=s.current,Nb(e.nodeType===8?e.parentNode:e),Vp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=b5(l);a.call(u)}}var l=z6(e,0,!1,null,null,!1,!1,"",aH);return e._reactRootContainer=l,e[$u]=l.current,Nb(e.nodeType===8?e.parentNode:e),Vp(function(){Cj(t,l,n,r)}),l}function kj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=b5(s);a.call(l)}}Cj(t,s,e,o)}else s=pVe(n,t,e,o,r);return b5(s)}s1e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gy(t.pendingLanes);n!==0&&(c6(t,n|1),js(t,qr()),!(tn&6)&&(Bv=qr()+500,Xf()))}break;case 13:Vp(function(){var r=Ru(e,1);if(r!==null){var o=qi();_l(r,e,1,o)}}),V6(e,1)}};u6=function(e){if(e.tag===13){var t=Ru(e,134217728);if(t!==null){var n=qi();_l(t,e,134217728,n)}V6(e,134217728)}};a1e=function(e){if(e.tag===13){var t=uf(e),n=Ru(e,t);if(n!==null){var r=qi();_l(n,e,t,r)}V6(e,t)}};l1e=function(){return Sn};c1e=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};t$=function(e,t,n){switch(t){case"input":if(G3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=gj(r);if(!o)throw Error(ke(90));N0e(r),G3(r,o)}}}break;case"textarea":V0e(e,n);break;case"select":t=n.value,t!=null&&Kg(e,!!n.multiple,t,!1)}};K0e=F6;Z0e=Vp;var mVe={usingClientEntryPoint:!1,Events:[cw,Tg,gj,q0e,G0e,F6]},T1={findFiberByHostInstance:np,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gVe={bundleType:T1.bundleType,version:T1.version,rendererPackageName:T1.rendererPackageName,rendererConfig:T1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J0e(e),e===null?null:e.stateNode},findFiberByHostInstance:T1.findFiberByHostInstance||hVe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H_.isDisabled&&H_.supportsFiber)try{fj=H_.inject(gVe),xc=H_}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mVe;fa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U6(t))throw Error(ke(200));return fVe(e,t,null,n)};fa.createRoot=function(e,t){if(!U6(e))throw Error(ke(299));var n=!1,r="",o=Pye;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=z6(e,1,!1,null,null,n,!1,r,o),e[$u]=t.current,Nb(e.nodeType===8?e.parentNode:e),new H6(t)};fa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=J0e(t),e=e===null?null:e.stateNode,e};fa.flushSync=function(e){return Vp(e)};fa.hydrate=function(e,t,n){if(!Ej(t))throw Error(ke(200));return kj(null,e,t,!0,n)};fa.hydrateRoot=function(e,t,n){if(!U6(e))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Pye;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Iye(t,null,e,1,n??null,o,!1,i,s),e[$u]=t.current,Nb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Sj(t)};fa.render=function(e,t,n){if(!Ej(t))throw Error(ke(200));return kj(null,e,t,!1,n)};fa.unmountComponentAtNode=function(e){if(!Ej(e))throw Error(ke(40));return e._reactRootContainer?(Vp(function(){kj(null,null,e,!1,function(){e._reactRootContainer=null,e[$u]=null})}),!0):!1};fa.unstable_batchedUpdates=F6;fa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ej(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return kj(e,t,n,!1,r)};fa.version="18.2.0-next-9e3b772b8-20220608";function Oye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oye)}catch(e){console.error(e)}}Oye(),I0e.exports=fa;var uc=I0e.exports;const vVe=Ie(uc),$ye=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?Xz({element:t.current,padding:n}).fn(o):{}:t?Xz({element:t,padding:n}).fn(o):{}}}};var F2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function x5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!x5(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!x5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Rye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lH(e,t){const n=Rye(e);return Math.round(t*n)/n}function cH(e){const t=h.useRef(e);return F2(()=>{t.current=e}),t}function Mye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);x5(p,r)||m(r);const[v,g]=h.useState(null),[x,b]=h.useState(null),y=h.useCallback($=>{$!=S.current&&(S.current=$,g($))},[g]),w=h.useCallback($=>{$!==E.current&&(E.current=$,b($))},[b]),_=i||v,C=s||x,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=cH(l),T=cH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:t,strategy:n,middleware:p};T.current&&($.platform=T.current),hNe(S.current,E.current,$).then(V=>{const L={...V,isPositioned:!0};D.current&&!x5(j.current,L)&&(j.current=L,uc.flushSync(()=>{f(L)}))})},[p,t,n,T]);F2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const D=h.useRef(!1);F2(()=>(D.current=!0,()=>{D.current=!1}),[]),F2(()=>{if(_&&(S.current=_),C&&(E.current=C),_&&C){if(k.current)return k.current(_,C,A);A()}},[_,C,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),P=h.useMemo(()=>({reference:_,floating:C}),[_,C]),M=h.useMemo(()=>{const $={position:n,left:0,top:0};if(!P.floating)return $;const V=lH(P.floating,d.x),L=lH(P.floating,d.y);return a?{...$,transform:"translate("+V+"px, "+L+"px)",...Rye(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:L}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:M}),[d,A,I,P,M])}const Fye=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),jj=h.createContext({}),Tj=h.createContext(null),Aj=typeof document<"u",W6=Aj?h.useLayoutEffect:h.useEffect,Lye=h.createContext({strict:!1});function yVe(e,t,n,r){const{visualElement:o}=h.useContext(jj),i=h.useContext(Lye),s=h.useContext(Tj),a=h.useContext(Fye).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return W6(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Rg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bVe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Rg(n)&&(n.current=r))},[t])}function Kb(e){return typeof e=="string"||Array.isArray(e)}function Dj(e){return typeof e=="object"&&typeof e.start=="function"}const Y6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q6=["initial",...Y6];function Ij(e){return Dj(e.animate)||q6.some(t=>Kb(e[t]))}function Bye(e){return!!(Ij(e)||e.variants)}function xVe(e,t){if(Ij(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Kb(n)?n:void 0,animate:Kb(r)?r:void 0}}return e.inherit!==!1?t:{}}function wVe(e){const{initial:t,animate:n}=xVe(e,h.useContext(jj));return h.useMemo(()=>({initial:t,animate:n}),[uH(t),uH(n)])}function uH(e){return Array.isArray(e)?e.join(" "):e}const dH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zb={};for(const e in dH)Zb[e]={isEnabled:t=>dH[e].some(n=>!!t[n])};function _Ve(e){for(const t in e)Zb[t]={...Zb[t],...e[t]}}const G6=h.createContext({}),Nye=h.createContext({}),CVe=Symbol.for("motionComponentSymbol");function SVe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&_Ve(e);function i(a,l){let u;const d={...h.useContext(Fye),...a,layoutId:EVe(a)},{isStatic:f}=d,p=wVe(a),m=r(a,f);if(!f&&Aj){p.visualElement=yVe(o,m,d,t);const v=h.useContext(Nye),g=h.useContext(Lye).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(jj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,bVe(m,p.visualElement,l),m,f,p.visualElement))}const s=h.forwardRef(i);return s[CVe]=o,s}function EVe({layoutId:e}){const t=h.useContext(G6).id;return t&&e!==void 0?t+"-"+e:e}function kVe(e){function t(r,o={}){return SVe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const jVe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K6(e){return typeof e!="string"||e.includes("-")?!1:!!(jVe.indexOf(e)>-1||/[A-Z]/.test(e))}const w5={};function TVe(e){Object.assign(w5,e)}const dw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hm=new Set(dw);function zye(e,{layout:t,layoutId:n}){return hm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!w5[e]||e==="opacity")}const As=e=>!!(e&&e.getVelocity),AVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DVe=dw.length;function IVe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<DVe;s++){const a=dw[s];if(e[a]!==void 0){const l=AVe[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Vye=e=>t=>typeof t=="string"&&t.startsWith(e),Hye=Vye("--"),$$=Vye("var(--"),PVe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,OVe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Of=(e,t,n)=>Math.min(Math.max(n,e),t),pm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zy={...pm,transform:e=>Of(0,1,e)},U_={...pm,default:1},Xy=e=>Math.round(e*1e5)/1e5,Pj=/(-)?([\d]*\.?[\d])+/g,Uye=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$Ve=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fw(e){return typeof e=="string"}const hw=e=>({test:t=>fw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cd=hw("deg"),_c=hw("%"),ot=hw("px"),RVe=hw("vh"),MVe=hw("vw"),fH={..._c,parse:e=>_c.parse(e)/100,transform:e=>_c.transform(e*100)},hH={...pm,transform:Math.round},Wye={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:Cd,rotateX:Cd,rotateY:Cd,rotateZ:Cd,scale:U_,scaleX:U_,scaleY:U_,scaleZ:U_,skew:Cd,skewX:Cd,skewY:Cd,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:Zy,originX:fH,originY:fH,originZ:ot,zIndex:hH,fillOpacity:Zy,strokeOpacity:Zy,numOctaves:hH};function Z6(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Hye(f)){i[f]=p;continue}const m=Wye[f],v=OVe(p,m);if(hm.has(f)){if(l=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(l||r?o.transform=IVe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const X6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yye(e,t,n){for(const r in t)!As(t[r])&&!zye(r,n)&&(e[r]=t[r])}function FVe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=X6();return Z6(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function LVe(e,t,n){const r=e.style||{},o={};return Yye(o,r,e),Object.assign(o,FVe(e,t,n)),e.transformValues?e.transformValues(o):o}function BVe(e,t,n){const r={},o=LVe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const NVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function _5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||NVe.has(e)}let qye=e=>!_5(e);function zVe(e){e&&(qye=t=>t.startsWith("on")?!_5(t):e(t))}try{zVe(require("@emotion/is-prop-valid").default)}catch{}function VVe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(qye(o)||n===!0&&_5(o)||!t&&!_5(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function pH(e,t,n){return typeof e=="string"?e:ot.transform(t+n*e)}function HVe(e,t,n){const r=pH(t,e.x,e.width),o=pH(n,e.y,e.height);return`${r} ${o}`}const UVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},WVe={offset:"strokeDashoffset",array:"strokeDasharray"};function YVe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?UVe:WVe;e[i.offset]=ot.transform(-r);const s=ot.transform(t),a=ot.transform(n);e[i.array]=`${s} ${a}`}function Q6(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,p){if(Z6(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=HVe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&YVe(m,s,a,l,!1)}const Gye=()=>({...X6(),attrs:{}}),J6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qVe(e,t,n,r){const o=h.useMemo(()=>{const i=Gye();return Q6(i,t,{enableHardwareAcceleration:!1},J6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Yye(i,e.style,e),o.style={...i,...o.style}}return o}function GVe(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(K6(n)?qVe:BVe)(r,i,s,n),d={...VVe(r,typeof n=="string",e),...l,ref:o},{children:f}=r,p=h.useMemo(()=>As(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const eL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Kye(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Zye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xye(e,t,n,r){Kye(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Zye.has(o)?o:eL(o),t.attrs[o])}function tL(e,t){const{style:n}=e,r={};for(const o in n)(As(n[o])||t.style&&As(t.style[o])||zye(o,e))&&(r[o]=n[o]);return r}function Qye(e,t){const n=tL(e,t);for(const r in e)if(As(e[r])||As(t[r])){const o=dw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function nL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Jye(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const C5=e=>Array.isArray(e),KVe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZVe=e=>C5(e)?e[e.length-1]||0:e;function L2(e){const t=As(e)?e.get():e;return KVe(t)?t.toValue():t}function XVe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:QVe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const ebe=e=>(t,n)=>{const r=h.useContext(jj),o=h.useContext(Tj),i=()=>XVe(e,t,r,o);return n?i():Jye(i)};function QVe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=L2(i[p]);let{initial:s,animate:a}=e;const l=Ij(e),u=Bye(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!Dj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=nL(e,m);if(!v)return;const{transitionEnd:g,transition:x,...b}=v;for(const y in b){let w=b[y];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(o[y]=w)}for(const y in g)o[y]=g[y]}),o}const Fr=e=>e;class mH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function JVe(e){let t=new mH,n=new mH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(l),p.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const W_=["prepare","read","update","preRender","render","postRender"],eHe=40;function tHe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=W_.reduce((f,p)=>(f[p]=JVe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,eHe),1),o.timestamp=f,o.isProcessing=!0,W_.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:W_.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,x=!1)=>(n||l(),m.schedule(v,g,x)),f},{}),cancel:f=>W_.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Un,cancel:Fu,state:Po,steps:UD}=tHe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0),nHe={useVisualState:ebe({scrapeMotionValuesFromProps:Qye,createRenderState:Gye,onMount:(e,t,{renderState:n,latestValues:r})=>{Un.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{Q6(n,r,{enableHardwareAcceleration:!1},J6(t.tagName),e.transformTemplate),Xye(t,n)})}})},rHe={useVisualState:ebe({scrapeMotionValuesFromProps:tL,createRenderState:X6})};function oHe(e,{forwardMotionProps:t=!1},n,r){return{...K6(e)?nHe:rHe,preloadedFeatures:n,useRender:GVe(t),createVisualElement:r,Component:e}}function gu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tbe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Oj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const iHe=e=>t=>tbe(t)&&e(t,Oj(t));function Cu(e,t,n,r){return gu(e,t,iHe(n),r)}const sHe=(e,t)=>n=>t(e(n)),ff=(...e)=>e.reduce(sHe);function nbe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const gH=nbe("dragHorizontal"),vH=nbe("dragVertical");function rbe(e){let t=!1;if(e==="y")t=vH();else if(e==="x")t=gH();else{const n=gH(),r=vH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function obe(){const e=rbe(!0);return e?(e(),!1):!0}class Qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||obe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Un.update(()=>a[r](i,s))};return Cu(e.current,n,o,{passive:!e.getProps()[r]})}class aHe extends Qf{mount(){this.unmount=ff(yH(this.node,!0),yH(this.node,!1))}unmount(){}}class lHe extends Qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ff(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ibe=(e,t)=>t?e===t?!0:ibe(e,t.parentElement):!1;function WD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Oj(n))}class cHe extends Qf{constructor(){super(...arguments),this.removeStartListeners=Fr,this.removeEndListeners=Fr,this.removeAccessibleListeners=Fr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Cu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Un.update(()=>{ibe(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Cu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ff(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||WD("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Un.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=gu(this.node.current,"keyup",s),WD("down",(a,l)=>{this.startPress(a,l)})},n=gu(this.node.current,"keydown",t),r=()=>{this.isPressing&&WD("cancel",(i,s)=>this.cancelPress(i,s))},o=gu(this.node.current,"blur",r);this.removeAccessibleListeners=ff(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Un.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!obe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Un.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Cu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=gu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ff(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const R$=new WeakMap,YD=new WeakMap,uHe=e=>{const t=R$.get(e.target);t&&t(e)},dHe=e=>{e.forEach(uHe)};function fHe({root:e,...t}){const n=e||document;YD.has(n)||YD.set(n,{});const r=YD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(dHe,{root:e,...t})),r[o]}function hHe(e,t,n){const r=fHe(t);return R$.set(e,n),r.observe(e),()=>{R$.delete(e),r.unobserve(e)}}const pHe={some:0,all:1};class mHe extends Qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:pHe[o]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return hHe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gHe(t,n))&&this.startObserver()}unmount(){}}function gHe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vHe={inView:{Feature:mHe},tap:{Feature:cHe},focus:{Feature:lHe},hover:{Feature:aHe}};function sbe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function yHe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function bHe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function $j(e,t,n){const r=e.getProps();return nL(r,t,n!==void 0?n:r.custom,yHe(e),bHe(e))}const xHe="framerAppearId",wHe="data-"+eL(xHe);let _He=Fr,Rj=Fr;const hf=e=>e*1e3,Su=e=>e/1e3,CHe={current:!1},abe=e=>Array.isArray(e)&&typeof e[0]=="number";function lbe(e){return!!(!e||typeof e=="string"&&cbe[e]||abe(e)||Array.isArray(e)&&e.every(lbe))}const yy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,cbe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yy([0,.65,.55,1]),circOut:yy([.55,0,1,.45]),backIn:yy([.31,.01,.66,-.59]),backOut:yy([.33,1.53,.69,.99])};function ube(e){if(e)return abe(e)?yy(e):Array.isArray(e)?e.map(ube):cbe[e]}function SHe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=ube(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function EHe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const dbe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kHe=1e-7,jHe=12;function THe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=dbe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>kHe&&++a<jHe);return s}function pw(e,t,n,r){if(e===t&&n===r)return Fr;const o=i=>THe(i,0,1,e,n);return i=>i===0||i===1?i:dbe(o(i),t,r)}const AHe=pw(.42,0,1,1),DHe=pw(0,0,.58,1),fbe=pw(.42,0,.58,1),IHe=e=>Array.isArray(e)&&typeof e[0]!="number",hbe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pbe=e=>t=>1-e(1-t),mbe=e=>1-Math.sin(Math.acos(e)),rL=pbe(mbe),PHe=hbe(rL),gbe=pw(.33,1.53,.69,.99),oL=pbe(gbe),OHe=hbe(oL),$He=e=>(e*=2)<1?.5*oL(e):.5*(2-Math.pow(2,-10*(e-1))),RHe={linear:Fr,easeIn:AHe,easeInOut:fbe,easeOut:DHe,circIn:mbe,circInOut:PHe,circOut:rL,backIn:oL,backInOut:OHe,backOut:gbe,anticipate:$He},bH=e=>{if(Array.isArray(e)){Rj(e.length===4);const[t,n,r,o]=e;return pw(t,n,r,o)}else if(typeof e=="string")return RHe[e];return e},iL=(e,t)=>n=>!!(fw(n)&&$Ve.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vbe=(e,t,n)=>r=>{if(!fw(r))return r;const[o,i,s,a]=r.match(Pj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},MHe=e=>Of(0,255,e),qD={...pm,transform:e=>Math.round(MHe(e))},ip={test:iL("rgb","red"),parse:vbe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qD.transform(e)+", "+qD.transform(t)+", "+qD.transform(n)+", "+Xy(Zy.transform(r))+")"};function FHe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const M$={test:iL("#"),parse:FHe,transform:ip.transform},Mg={test:iL("hsl","hue"),parse:vbe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_c.transform(Xy(t))+", "+_c.transform(Xy(n))+", "+Xy(Zy.transform(r))+")"},Bi={test:e=>ip.test(e)||M$.test(e)||Mg.test(e),parse:e=>ip.test(e)?ip.parse(e):Mg.test(e)?Mg.parse(e):M$.parse(e),transform:e=>fw(e)?e:e.hasOwnProperty("red")?ip.transform(e):Mg.transform(e)},jr=(e,t,n)=>-n*e+n*t+e;function GD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LHe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=GD(l,a,e+1/3),i=GD(l,a,e),s=GD(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const KD=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},BHe=[M$,ip,Mg],NHe=e=>BHe.find(t=>t.test(e));function xH(e){const t=NHe(e);let n=t.parse(e);return t===Mg&&(n=LHe(n)),n}const ybe=(e,t)=>{const n=xH(e),r=xH(t),o={...n};return i=>(o.red=KD(n.red,r.red,i),o.green=KD(n.green,r.green,i),o.blue=KD(n.blue,r.blue,i),o.alpha=jr(n.alpha,r.alpha,i),ip.transform(o))};function zHe(e){var t,n;return isNaN(e)&&fw(e)&&(((t=e.match(Pj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Uye))===null||n===void 0?void 0:n.length)||0)>0}const bbe={regex:PVe,countKey:"Vars",token:"${v}",parse:Fr},xbe={regex:Uye,countKey:"Colors",token:"${c}",parse:Bi.parse},wbe={regex:Pj,countKey:"Numbers",token:"${n}",parse:pm.parse};function ZD(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function S5(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ZD(n,bbe),ZD(n,xbe),ZD(n,wbe),n}function _be(e){return S5(e).values}function Cbe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=S5(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(bbe.token,s[l]):l<r+n?a=a.replace(xbe.token,Bi.transform(s[l])):a=a.replace(wbe.token,Xy(s[l]));return a}}const VHe=e=>typeof e=="number"?0:e;function HHe(e){const t=_be(e);return Cbe(e)(t.map(VHe))}const $f={test:zHe,parse:_be,createTransformer:Cbe,getAnimatableNone:HHe},Sbe=(e,t)=>n=>`${n>0?t:e}`;function Ebe(e,t){return typeof e=="number"?n=>jr(e,t,n):Bi.test(e)?ybe(e,t):e.startsWith("var(")?Sbe(e,t):jbe(e,t)}const kbe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Ebe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},UHe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Ebe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},jbe=(e,t)=>{const n=$f.createTransformer(t),r=S5(e),o=S5(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?ff(kbe(r.values,o.values),n):Sbe(e,t)},Xb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},wH=(e,t)=>n=>jr(e,t,n);function WHe(e){return typeof e=="number"?wH:typeof e=="string"?Bi.test(e)?ybe:jbe:Array.isArray(e)?kbe:typeof e=="object"?UHe:wH}function YHe(e,t,n){const r=[],o=n||WHe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Fr:t;a=ff(l,a)}r.push(a)}return r}function Tbe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Rj(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=YHe(t,r,o),a=s.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Xb(e[d],e[d+1],u);return s[d](f)};return n?u=>l(Of(e[0],e[i-1],u)):l}function qHe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Xb(0,t,r);e.push(jr(n,1,o))}}function GHe(e){const t=[0];return qHe(t,e.length-1),t}function KHe(e,t){return e.map(n=>n*t)}function ZHe(e,t){return e.map(()=>t||fbe).splice(0,e.length-1)}function E5({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=IHe(r)?r.map(bH):bH(r),i={done:!1,value:t[0]},s=KHe(n&&n.length===t.length?n:GHe(t),e),a=Tbe(s,t,{ease:Array.isArray(o)?o:ZHe(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function Abe(e,t){return t?e*(1e3/t):0}const XHe=5;function Dbe(e,t,n){const r=Math.max(t-XHe,0);return Abe(n-e(r),t-r)}const XD=.001,QHe=.01,_H=10,JHe=.05,eUe=1;function tUe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;_He(e<=hf(_H));let s=1-t;s=Of(JHe,eUe,s),e=Of(QHe,_H,Su(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=F$(u,s),v=Math.exp(-f);return XD-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=F$(Math.pow(u,2),s);return(-o(u)+XD>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-XD+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=rUe(o,i,a);if(e=hf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const nUe=12;function rUe(e,t,n){let r=n;for(let o=1;o<nUe;o++)r=r-e(r)/t(r);return r}function F$(e,t){return e*Math.sqrt(1-t*t)}const oUe=["duration","bounce"],iUe=["stiffness","damping","mass"];function CH(e,t){return t.some(n=>e[n]!==void 0)}function sUe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!CH(e,iUe)&&CH(e,oUe)){const n=tUe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Ibe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=sUe(r),m=d?-Su(d):0,v=l/(2*Math.sqrt(a*u)),g=i-o,x=Su(Math.sqrt(a/u)),b=Math.abs(g)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let y;if(v<1){const w=F$(x,v);y=_=>{const C=Math.exp(-v*x*_);return i-C*((m+v*x*g)/w*Math.sin(w*_)+g*Math.cos(w*_))}}else if(v===1)y=w=>i-Math.exp(-x*w)*(g+(m+x*g)*w);else{const w=x*Math.sqrt(v*v-1);y=_=>{const C=Math.exp(-v*x*_),S=Math.min(w*_,300);return i-C*((m+v*x*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const _=y(w);if(p)s.done=w>=f;else{let C=m;w!==0&&(v<1?C=Dbe(y,w,_):C=0);const S=Math.abs(C)<=n,E=Math.abs(i-_)<=t;s.done=S&&E}return s.value=s.done?i:_,s}}}function SH({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*t;const x=f+g,b=s===void 0?x:s(x);b!==x&&(g=b-f);const y=j=>-g*Math.exp(-j/r),w=j=>b+y(j),_=j=>{const k=y(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?b:T};let C,S;const E=j=>{m(p.value)&&(C=j,S=Ibe({keyframes:[p.value,v(p.value)],velocity:Dbe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&C===void 0&&(k=!0,_(j),E(j)),C!==void 0&&j>C?S.next(j-C):(!k&&_(j),p)}}}const aUe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Un.update(t,!0),stop:()=>Fu(t),now:()=>Po.isProcessing?Po.timestamp:performance.now()}},EH=2e4;function kH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<EH;)t+=n,r=e.next(t);return t>=EH?1/0:t}const lUe={decay:SH,inertia:SH,tween:E5,keyframes:E5,spring:Ibe};function k5({autoplay:e=!0,delay:t=0,driver:n=aUe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,x;const b=()=>{x=new Promise(z=>{g=z})};b();let y;const w=lUe[o]||E5;let _;w!==E5&&typeof r[0]!="number"&&(_=Tbe([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=kH(C));const{calculatedDuration:A}=C;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const M=z=>{if(k===null)return;m>0&&(k=Math.min(k,z)),m<0&&(k=Math.min(z-I/m,k)),j!==null?P=j:P=Math.round(z-k)*m;const Y=P-t*(m>=0?1:-1),te=m>=0?Y<0:Y>I;P=Math.max(Y,0),E==="finished"&&j===null&&(P=I);let N=P,G=C;if(i){const X=P/D;let Z=Math.floor(X),re=X%1;!re&&X>=1&&(re=1),re===1&&Z--,Z=Math.min(Z,i+1);const le=!!(Z%2);le&&(a==="reverse"?(re=1-re,s&&(re-=s/D)):a==="mirror"&&(G=S));let he=Of(0,1,re);P>I&&(he=a==="reverse"&&le?1:0),N=he*D}const q=te?{done:!1,value:r[0]}:G.next(N);_&&(q.value=_(q.value));let{done:K}=q;!te&&A!==null&&(K=m>=0?P>=I:P<=0);const Q=j===null&&(E==="finished"||E==="running"&&K);return f&&f(q.value),Q&&L(),q},$=()=>{y&&y.stop(),y=void 0},V=()=>{E="idle",$(),g(),b(),k=T=null},L=()=>{E="finished",d&&d(),$(),g()},H=()=>{if(v)return;y||(y=n(M));const z=y.now();l&&l(),j!==null?k=z-j:(!k||E==="finished")&&(k=z),E==="finished"&&b(),T=k,j=null,E="running",y.start()};e&&H();const U={then(z,Y){return x.then(z,Y)},get time(){return Su(P)},set time(z){z=hf(z),P=z,j!==null||!y||m===0?j=z:k=y.now()-z/m},get duration(){const z=C.calculatedDuration===null?kH(C):C.calculatedDuration;return Su(z)},get speed(){return m},set speed(z){z===m||!y||(m=z,U.time=Su(P))},get state(){return E},play:H,pause:()=>{E="paused",j=P},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&M(T),V()},complete:()=>{E="finished"},sample:z=>(k=0,M(z))};return U}function cUe(e){let t;return()=>(t===void 0&&(t=e()),t)}const uUe=cUe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dUe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Y_=10,fUe=2e4,hUe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!lbe(t.ease);function pUe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(uUe()&&dUe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const u=()=>{l=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(hUe(t,o)){const y=k5({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const _=[];let C=0;for(;!w.done&&C<fUe;)w=y.sample(C),_.push(w.value),C+=Y_;m=void 0,d=_,f=C-Y_,p="linear"}const v=SHe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Po.isProcessing?Po.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),x=()=>{Un.update(g),a(),u()};return v.onfinish=()=>{e.set(EHe(d,o)),r&&r(),x()},{then(y,w){return l.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,Fr},get time(){return Su(v.currentTime||0)},set time(y){v.currentTime=hf(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Su(f)},play:()=>{s||(v.play(),Fu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=k5({...o,autoplay:!1});e.setWithVelocity(w.sample(y-Y_).value,w.sample(y).value,Y_)}x()},complete:()=>v.finish(),cancel:x}}function mUe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fr,pause:Fr,stop:Fr,then:i=>(i(),Promise.resolve()),cancel:Fr,complete:Fr});return t?k5({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const gUe={type:"spring",stiffness:500,damping:25,restSpeed:10},vUe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yUe={type:"keyframes",duration:.8},bUe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xUe=(e,{keyframes:t})=>t.length>2?yUe:hm.has(e)?e.startsWith("scale")?vUe(t[1]):gUe:bUe,L$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($f.test(t)||t==="0")&&!t.startsWith("url(")),wUe=new Set(["brightness","contrast","saturate","opacity"]);function _Ue(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Pj)||[];if(!r)return e;const o=n.replace(r,"");let i=wUe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const CUe=/([a-z-]*)\(.*?\)/g,B$={...$f,getAnimatableNone:e=>{const t=e.match(CUe);return t?t.map(_Ue).join(" "):e}},SUe={...Wye,color:Bi,backgroundColor:Bi,outlineColor:Bi,fill:Bi,stroke:Bi,borderColor:Bi,borderTopColor:Bi,borderRightColor:Bi,borderBottomColor:Bi,borderLeftColor:Bi,filter:B$,WebkitFilter:B$},sL=e=>SUe[e];function Pbe(e,t){let n=sL(e);return n!==B$&&(n=$f),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Obe=e=>/^0[^.\s]+$/.test(e);function EUe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Obe(e)}function kUe(e,t,n,r){const o=L$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),EUe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=Pbe(t,a)}return i}function jUe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function $be(e,t){return e[t]||e.default||e}const aL=(e,t,n,r={})=>o=>{const i=$be(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-hf(s);const l=kUe(t,e,n,i),u=l[0],d=l[l.length-1],f=L$(e,u),p=L$(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(jUe(i)||(m={...m,...xUe(e,m)}),m.duration&&(m.duration=hf(m.duration)),m.repeatDelay&&(m.repeatDelay=hf(m.repeatDelay)),!f||!p||CHe.current||i.type===!1)return mUe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=pUe(t,e,m);if(v)return v}return k5(m)};function j5(e){return!!(As(e)&&e.add)}const Rbe=e=>/^\-?\d*\.?\d+$/.test(e);function lL(e,t){e.indexOf(t)===-1&&e.push(t)}function cL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uL{constructor(){this.subscriptions=[]}add(t){return lL(this.subscriptions,t),()=>cL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TUe=e=>!isNaN(parseFloat(e));class AUe{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Po;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=TUe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uL);const r=this.events[t].add(n);return t==="change"?()=>{r(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Abe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nv(e,t){return new AUe(e,t)}const Mbe=e=>t=>t.test(e),DUe={test:e=>e==="auto",parse:e=>e},Fbe=[pm,ot,_c,Cd,MVe,RVe,DUe],A1=e=>Fbe.find(Mbe(e)),IUe=[...Fbe,Bi,$f],PUe=e=>IUe.find(Mbe(e));function OUe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nv(n))}function $Ue(e,t){const n=$j(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=ZVe(i[s]);OUe(e,s,a)}}function RUe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(Rbe(d)||Obe(d))?d=parseFloat(d):!PUe(d)&&$f.test(u)&&(d=Pbe(l,u)),e.addValue(l,Nv(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function MUe(e,t){return t?(t[e]||t.default||t).from:void 0}function FUe(e,t,n){const r={};for(const o in e){const i=MUe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function LUe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Lbe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&LUe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=e.getProps()[wHe];x&&(v.elapsed=window.HandoffAppearAnimations(x,f,p,Un),v.syncStart=!0)}p.start(aL(f,p,m,e.shouldReduceMotion&&hm.has(f)?{type:!1}:v));const g=p.animation;j5(l)&&(l.add(f),g.then(()=>l.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&$Ue(e,s)}),u}function N$(e,t,n={}){const r=$j(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Lbe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return BUe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,u]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function BUe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(NUe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(N$(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function NUe(e,t){return e.sortNodePosition(t)}function zUe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>N$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=N$(e,t,n);else{const o=typeof t=="function"?$j(e,t,n.custom):t;r=Promise.all(Lbe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const VUe=[...Y6].reverse(),HUe=Y6.length;function UUe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zUe(e,n,r)))}function WUe(e){let t=UUe(e);const n=qUe();let r=!0;const o=(l,u)=>{const d=$j(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let b=0;b<HUe;b++){const y=VUe[b],w=n[y],_=d[y]!==void 0?d[y]:f[y],C=Kb(_),S=y===u?w.isActive:null;S===!1&&(g=b);let E=_===f[y]&&_!==d[y]&&C;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!_&&!w.prevProp||Dj(_)||typeof _=="boolean")continue;const j=YUe(w.prevProp,_);let k=j||y===u&&w.isActive&&!E&&C||b>g&&C;const T=Array.isArray(_)?_:[_];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=M=>{k=!0,m.delete(M),w.needsAnimating[M]=!0};for(const M in I){const $=A[M],V=D[M];v.hasOwnProperty(M)||($!==V?C5($)&&C5(V)?!sbe($,V)||j?P(M):w.protectedKeys[M]=!0:$!==void 0?P(M):m.add(M):$!==void 0&&m.has(M)?P(M):w.protectedKeys[M]=!0)}w.prevProp=_,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map(M=>({animation:M,options:{type:y,...l}})))}if(m.size){const b={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(b[y]=w)}),p.push({animation:b})}let x=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=s(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function YUe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sbe(t,e):!1}function yh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qUe(){return{animate:yh(!0),whileInView:yh(),whileHover:yh(),whileTap:yh(),whileDrag:yh(),whileFocus:yh(),exit:yh()}}class GUe extends Qf{constructor(t){super(t),t.animationState||(t.animationState=WUe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Dj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let KUe=0;class ZUe extends Qf{constructor(){super(...arguments),this.id=KUe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const XUe={animation:{Feature:GUe},exit:{Feature:ZUe}},jH=(e,t)=>Math.abs(e-t);function QUe(e,t){const n=jH(e.x,t.x),r=jH(e.y,t.y);return Math.sqrt(n**2+r**2)}class Bbe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=JD(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=QUe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Po;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=QD(d,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=JD(u.type==="pointercancel"?this.lastMoveEventInfo:QD(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!tbe(t))return;this.handlers=n,this.transformPagePoint=r;const o=Oj(t),i=QD(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Po;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,JD(i,this.history)),this.removeListeners=ff(Cu(window,"pointermove",this.handlePointerMove),Cu(window,"pointerup",this.handlePointerUp),Cu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function QD(e,t){return t?{point:t(e.point)}:e}function TH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function JD({point:e},t){return{point:e,delta:TH(e,Nbe(t)),offset:TH(e,JUe(t)),velocity:eWe(t,.1)}}function JUe(e){return e[0]}function Nbe(e){return e[e.length-1]}function eWe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Nbe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>hf(t)));)n--;if(!r)return{x:0,y:0};const i=Su(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ia(e){return e.max-e.min}function z$(e,t=0,n=.01){return Math.abs(e-t)<=n}function AH(e,t,n,r=.5){e.origin=r,e.originPoint=jr(t.min,t.max,e.origin),e.scale=ia(n)/ia(t),(z$(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=jr(n.min,n.max,e.origin)-e.originPoint,(z$(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Qy(e,t,n,r){AH(e.x,t.x,n.x,r?r.originX:void 0),AH(e.y,t.y,n.y,r?r.originY:void 0)}function DH(e,t,n){e.min=n.min+t.min,e.max=e.min+ia(t)}function tWe(e,t,n){DH(e.x,t.x,n.x),DH(e.y,t.y,n.y)}function IH(e,t,n){e.min=t.min-n.min,e.max=e.min+ia(t)}function Jy(e,t,n){IH(e.x,t.x,n.x),IH(e.y,t.y,n.y)}function nWe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jr(n,e,r.max):Math.min(e,n)),e}function PH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rWe(e,{top:t,left:n,bottom:r,right:o}){return{x:PH(e.x,n,o),y:PH(e.y,t,r)}}function OH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function oWe(e,t){return{x:OH(e.x,t.x),y:OH(e.y,t.y)}}function iWe(e,t){let n=.5;const r=ia(e),o=ia(t);return o>r?n=Xb(t.min,t.max-r,e.min):r>o&&(n=Xb(e.min,e.max-o,t.min)),Of(0,1,n)}function sWe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const V$=.35;function aWe(e=V$){return e===!1?e=0:e===!0&&(e=V$),{x:$H(e,"left","right"),y:$H(e,"top","bottom")}}function $H(e,t,n){return{min:RH(e,t),max:RH(e,n)}}function RH(e,t){return typeof e=="number"?e:e[t]||0}const MH=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fg=()=>({x:MH(),y:MH()}),FH=()=>({min:0,max:0}),no=()=>({x:FH(),y:FH()});function tc(e){return[e("x"),e("y")]}function zbe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function lWe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function cWe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function eI(e){return e===void 0||e===1}function H$({scale:e,scaleX:t,scaleY:n}){return!eI(e)||!eI(t)||!eI(n)}function $h(e){return H$(e)||Vbe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Vbe(e){return LH(e.x)||LH(e.y)}function LH(e){return e&&e!=="0%"}function T5(e,t,n){const r=e-n,o=t*r;return n+o}function BH(e,t,n,r,o){return o!==void 0&&(e=T5(e,o,r)),T5(e,n,r)+t}function U$(e,t=0,n=1,r,o){e.min=BH(e.min,t,n,r,o),e.max=BH(e.max,t,n,r,o)}function Hbe(e,{x:t,y:n}){U$(e.x,t.translate,t.scale,t.originPoint),U$(e.y,n.translate,n.scale,n.originPoint)}function uWe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Lg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Hbe(e,s)),r&&$h(i.latestValues)&&Lg(e,i.latestValues))}t.x=NH(t.x),t.y=NH(t.y)}function NH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ad(e,t){e.min=e.min+t,e.max=e.max+t}function zH(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=jr(e.min,e.max,i);U$(e,t[n],t[r],s,t.scale)}const dWe=["x","scaleX","originX"],fWe=["y","scaleY","originY"];function Lg(e,t){zH(e.x,t,dWe),zH(e.y,t,fWe)}function Ube(e,t){return zbe(cWe(e.getBoundingClientRect(),t))}function hWe(e,t,n){const r=Ube(e,n),{scroll:o}=t;return o&&(Ad(r.x,o.offset.x),Ad(r.y,o.offset.y)),r}const pWe=new WeakMap;class mWe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=no(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(Oj(l,"page").point)},i=(l,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rbe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(_c.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[v];b&&(g=ia(b)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Un.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=gWe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new Bbe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Un.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!q_(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=nWe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Rg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rWe(r.layoutBox,t):this.constraints=!1,this.elastic=aWe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tc(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=sWe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=hWe(r,o.root,this.visualElement.getTransformPagePoint());let s=oWe(o.layout.layoutBox,i);if(n){const a=n(lWe(s));this.hasMutatedConstraints=!!a,a&&(s=zbe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tc(d=>{if(!q_(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(aL(t,r,0,n))}stopAnimation(){tc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){tc(n=>{const{drag:r}=this.getProps();if(!q_(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-jr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tc(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=iWe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tc(s=>{if(!q_(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(jr(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;pWe.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Rg(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=V$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function q_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gWe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vWe extends Qf{constructor(t){super(t),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new mWe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const VH=e=>(t,n)=>{e&&Un.update(()=>e(t,n))};class yWe extends Qf{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(t){this.session=new Bbe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:VH(t),onStart:VH(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Un.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function bWe(){const e=h.useContext(Tj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const B2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const D1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const n=HH(e,t.target.x),r=HH(e,t.target.y);return`${n}% ${r}%`}},xWe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=$f.parse(e);if(o.length>5)return r;const i=$f.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const u=jr(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class wWe extends oe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;TVe(_We),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),B2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Un.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Wbe(e){const[t,n]=bWe(),r=h.useContext(G6);return oe.createElement(wWe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Nye),isPresent:t,safeToRemove:n})}const _We={borderRadius:{...D1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:D1,borderTopRightRadius:D1,borderBottomLeftRadius:D1,borderBottomRightRadius:D1,boxShadow:xWe},Ybe=["TopLeft","TopRight","BottomLeft","BottomRight"],CWe=Ybe.length,UH=e=>typeof e=="string"?parseFloat(e):e,WH=e=>typeof e=="number"||ot.test(e);function SWe(e,t,n,r,o,i){o?(e.opacity=jr(0,n.opacity!==void 0?n.opacity:1,EWe(r)),e.opacityExit=jr(t.opacity!==void 0?t.opacity:1,0,kWe(r))):i&&(e.opacity=jr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<CWe;s++){const a=`border${Ybe[s]}Radius`;let l=YH(t,a),u=YH(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||WH(l)===WH(u)?(e[a]=Math.max(jr(UH(l),UH(u),r),0),(_c.test(u)||_c.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=jr(t.rotate||0,n.rotate||0,r))}function YH(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EWe=qbe(0,.5,rL),kWe=qbe(.5,.95,Fr);function qbe(e,t,n){return r=>r<e?0:r>t?1:n(Xb(e,t,r))}function qH(e,t){e.min=t.min,e.max=t.max}function ya(e,t){qH(e.x,t.x),qH(e.y,t.y)}function GH(e,t,n,r,o){return e-=t,e=T5(e,1/n,r),o!==void 0&&(e=T5(e,1/o,r)),e}function jWe(e,t=0,n=1,r=.5,o,i=e,s=e){if(_c.test(t)&&(t=parseFloat(t),t=jr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=jr(i.min,i.max,r);e===i&&(a-=t),e.min=GH(e.min,t,n,a,o),e.max=GH(e.max,t,n,a,o)}function KH(e,t,[n,r,o],i,s){jWe(e,t[n],t[r],t[o],t.scale,i,s)}const TWe=["x","scaleX","originX"],AWe=["y","scaleY","originY"];function ZH(e,t,n,r){KH(e.x,t,TWe,n?n.x:void 0,r?r.x:void 0),KH(e.y,t,AWe,n?n.y:void 0,r?r.y:void 0)}function XH(e){return e.translate===0&&e.scale===1}function Gbe(e){return XH(e.x)&&XH(e.y)}function DWe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Kbe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function QH(e){return ia(e.x)/ia(e.y)}class IWe{constructor(){this.members=[]}add(t){lL(this.members,t),t.scheduleRender()}remove(t){if(cL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JH(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const PWe=(e,t)=>e.depth-t.depth;class OWe{constructor(){this.children=[],this.isDirty=!1}add(t){lL(this.children,t),this.isDirty=!0}remove(t){cL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PWe),this.isDirty=!1,this.children.forEach(t)}}function $We(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Fu(r),e(i-t))};return Un.read(r,!0),()=>Fu(r)}function RWe(e){window.MotionDebug&&window.MotionDebug.record(e)}function MWe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FWe(e,t,n){const r=As(e)?e:Nv(e);return r.start(aL("",r,t,n)),r.animation}const eU=["","X","Y","Z"],tU=1e3;let LWe=0;const Rh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zbe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=LWe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Rh.totalNodes=Rh.resolvedTargetDeltas=Rh.recalculatedProjection=0,this.nodes.forEach(zWe),this.nodes.forEach(YWe),this.nodes.forEach(qWe),this.nodes.forEach(VWe),RWe(Rh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new OWe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new uL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MWe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=$We(p,250),B2.hasAnimatedSinceResize&&(B2.hasAnimatedSinceResize=!1,this.nodes.forEach(rU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||QWe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!Kbe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...$be(g,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else p||rU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GWe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nU);return}this.isUpdating||this.nodes.forEach(UWe),this.isUpdating=!1,this.nodes.forEach(WWe),this.nodes.forEach(BWe),this.nodes.forEach(NWe),this.clearAllSnapshots();const a=performance.now();Po.delta=Of(0,1e3/60,a-Po.timestamp),Po.timestamp=a,Po.isProcessing=!0,UD.update.process(Po),UD.preRender.process(Po),UD.render.process(Po),Po.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(HWe),this.sharedNodes.forEach(KWe)}scheduleUpdateProjection(){Un.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=no(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Gbe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||$h(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),JWe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return no();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ad(a.x,l.offset.x),Ad(a.y,l.offset.y)),a}removeElementScroll(s){const a=no();ya(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ya(a,s);const{scroll:p}=this.root;p&&(Ad(a.x,-p.offset.x),Ad(a.y,-p.offset.y))}Ad(a.x,d.offset.x),Ad(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=no();ya(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Lg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$h(d.latestValues)&&Lg(l,d.latestValues)}return $h(this.latestValues)&&Lg(l,this.latestValues),l}removeTransform(s){const a=no();ya(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!$h(u.latestValues))continue;H$(u.latestValues)&&u.updateSnapshot();const d=no(),f=u.measurePageBox();ya(d,f),ZH(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $h(this.latestValues)&&ZH(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Po.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Po.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=no(),this.relativeTargetOrigin=no(),Jy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=no(),this.targetWithTransforms=no()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tWe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ya(this.target,this.layout.layoutBox),Hbe(this.target,this.targetDelta)):ya(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=no(),this.relativeTargetOrigin=no(),Jy(this.relativeTargetOrigin,this.target,m.target),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||H$(this.parent.latestValues)||Vbe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Po.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ya(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;uWe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Fg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fg(),this.projectionDeltaWithTransform=Fg());const g=this.projectionTransform;Qy(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=JH(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Rh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Fg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=no(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,x=this.getStack(),b=!x||x.members.length<=1,y=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(XWe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const C=_/1e3;oU(f.x,s.x,C),oU(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZWe(this.relativeTarget,this.relativeTargetOrigin,p,C),w&&DWe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=no()),ya(w,this.relativeTarget)),g&&(this.animationValues=d,SWe(d,u,this.latestValues,C,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{B2.hasAnimatedSinceResize=!0,this.currentAnimation=FWe(0,tU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Xbe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||no();const f=ia(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=ia(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}ya(a,l),Lg(a,d),Qy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new IWe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<eU.length;d++){const f="rotate"+eU[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=L2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=L2(s.pointerEvents)||""),this.hasProjected&&!$h(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=JH(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in w5){if(p[g]===void 0)continue;const{correct:x,applyTo:b}=w5[g],y=u.transform==="none"?p[g]:x(p[g],f);if(b){const w=b.length;for(let _=0;_<w;_++)u[b[_]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?L2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(nU),this.root.sharedNodes.clear()}}}function BWe(e){e.updateLayout()}function NWe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ia(p);p.min=r[f].min,p.max=p.min+m}):Xbe(i,n.layoutBox,r)&&tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ia(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Fg();Qy(a,r,n.layoutBox);const l=Fg();s?Qy(l,e.applyTransform(o,!0),n.measuredBox):Qy(l,r,n.layoutBox);const u=!Gbe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=no();Jy(v,n.layoutBox,p.layoutBox);const g=no();Jy(g,r,m.layoutBox),Kbe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zWe(e){Rh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VWe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HWe(e){e.clearSnapshot()}function nU(e){e.clearMeasurements()}function UWe(e){e.isLayoutDirty=!1}function WWe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YWe(e){e.resolveTargetDelta()}function qWe(e){e.calcProjection()}function GWe(e){e.resetRotation()}function KWe(e){e.removeLeadSnapshot()}function oU(e,t,n){e.translate=jr(t.translate,0,n),e.scale=jr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function iU(e,t,n,r){e.min=jr(t.min,n.min,r),e.max=jr(t.max,n.max,r)}function ZWe(e,t,n,r){iU(e.x,t.x,n.x,r),iU(e.y,t.y,n.y,r)}function XWe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QWe={duration:.45,ease:[.4,0,.1,1]},sU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aU=sU("applewebkit/")&&!sU("chrome/")?Math.round:Fr;function lU(e){e.min=aU(e.min),e.max=aU(e.max)}function JWe(e){lU(e.x),lU(e.y)}function Xbe(e,t,n){return e==="position"||e==="preserve-aspect"&&!z$(QH(t),QH(n),.2)}const eYe=Zbe({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tI={current:void 0},Qbe=Zbe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tI.current){const e=new eYe({});e.mount(window),e.setOptions({layoutScroll:!0}),tI.current=e}return tI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tYe={pan:{Feature:yWe},drag:{Feature:vWe,ProjectionNode:Qbe,MeasureLayout:Wbe}},nYe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function rYe(e){const t=nYe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function W$(e,t,n=1){const[r,o]=rYe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Rbe(s)?parseFloat(s):s}else return $$(o)?W$(o,t,n+1):o}function oYe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!$$(i))return;const s=W$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!$$(i))continue;const s=W$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const iYe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jbe=e=>iYe.has(e),sYe=e=>Object.keys(e).some(Jbe),cU=e=>e===pm||e===ot,uU=(e,t)=>parseFloat(e.split(", ")[t]),dU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return uU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?uU(i[1],e):0}},aYe=new Set(["x","y","z"]),lYe=dw.filter(e=>!aYe.has(e));function cYe(e){const t=[];return lYe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const zv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dU(4,13),y:dU(5,14)};zv.translateX=zv.x;zv.translateY=zv.y;const uYe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=zv[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=zv[u](l,i)}),e},dYe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Jbe);let i=[],s=!1;const a=[];if(o.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=A1(d);const p=t[l];let m;if(C5(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=A1(d);for(let x=g;x<v&&p[x]!==null;x++)m?Rj(A1(p[x])===m):m=A1(p[x])}else m=A1(p);if(f!==m)if(cU(f)&&cU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===ot&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(s||(i=cYe(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=uYe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Aj&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function fYe(e,t,n,r){return sYe(t)?dYe(e,t,n,r):{target:t,transitionEnd:r}}const hYe=(e,t,n,r)=>{const o=oYe(e,t,r);return t=o.target,r=o.transitionEnd,fYe(e,t,n,r)},Y$={current:null},exe={current:!1};function pYe(){if(exe.current=!0,!!Aj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Y$.current=e.matches;e.addListener(t),t()}else Y$.current=!1}function mYe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(As(i))e.addValue(o,i),j5(r)&&r.add(o);else if(As(s))e.addValue(o,Nv(i,{owner:e})),j5(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Nv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const fU=new WeakMap,txe=Object.keys(Zb),gYe=txe.length,hU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vYe=q6.length;class yYe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Ij(n),this.isVariantNode=Bye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&As(p)&&(p.set(a[f],!1),j5(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,fU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),exe.current||pYe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fU.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Un.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<gYe;l++){const u=txe[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Zb[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Rg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):no()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hU.length;r++){const o=hU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=mYe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vYe;r++){const o=q6[r],i=this.props[o];(Kb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Nv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=nL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!As(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class nxe extends yYe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=FUe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){RUe(this,r,s);const a=hYe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function bYe(e){return window.getComputedStyle(e)}class xYe extends nxe{readValueFromInstance(t,n){if(hm.has(n)){const r=sL(n);return r&&r.default||0}else{const r=bYe(t),o=(Hye(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ube(t,n)}build(t,n,r,o){Z6(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return tL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;As(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){Kye(t,n,r,o)}}class wYe extends nxe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hm.has(n)){const r=sL(n);return r&&r.default||0}return n=Zye.has(n)?n:eL(n),t.getAttribute(n)}measureInstanceViewportBox(){return no()}scrapeMotionValuesFromProps(t,n){return Qye(t,n)}build(t,n,r,o){Q6(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Xye(t,n,r,o)}mount(t){this.isSVGTag=J6(t.tagName),super.mount(t)}}const _Ye=(e,t)=>K6(e)?new wYe(t,{enableHardwareAcceleration:!1}):new xYe(t,{enableHardwareAcceleration:!0}),CYe={layout:{ProjectionNode:Qbe,MeasureLayout:Wbe}},SYe={...XUe,...vHe,...tYe,...CYe},Mj=kVe((e,t)=>oHe(e,t,SYe,_Ye));function rxe(){const e=h.useRef(!1);return W6(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function EYe(){const e=rxe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Un.postRender(r),[r]),t]}class kYe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jYe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(kYe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const nI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Jye(TYe),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(jYe,{isPresent:n},e)),h.createElement(Tj.Provider,{value:u},e)};function TYe(){return new Map}function AYe(e){return h.useEffect(()=>()=>e(),[])}const ug=e=>e.key||"";function DYe(e,t){e.forEach(n=>{const r=ug(n);t.set(r,n)})}function IYe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const dL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(G6).forceRender||EYe()[0],l=rxe(),u=IYe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(W6(()=>{v.current=!1,DYe(u,m),p.current=d}),AYe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(nI,{key:ug(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const g=p.current.map(ug),x=u.map(ug),b=g.length;for(let y=0;y<b;y++){const w=g[y];x.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(x.indexOf(w)!==-1)return;const _=m.get(w);if(!_)return;const C=g.indexOf(w);let S=y;if(!S){const E=()=>{m.delete(w),f.delete(w);const j=p.current.findIndex(k=>k.key===w);if(p.current.splice(j,1),!f.size){if(p.current=u,l.current===!1)return;a(),r&&r()}};S=h.createElement(nI,{key:ug(_),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},_),f.set(w,S)}d.splice(C,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(nI,{key:ug(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))};function PYe(e,t,n){var r;if(typeof e=="string"){let o=document;t&&(Rj(!!t.current),o=t.current),n?((r=n[e])!==null&&r!==void 0||(n[e]=o.querySelectorAll(e)),e=n[e]):e=o.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const OYe={some:0,all:1};function $Ye(e,t,{root:n,margin:r,amount:o="some"}={}){const i=PYe(e),s=new WeakMap,a=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const p=t(d);typeof p=="function"?s.set(d.target,p):l.unobserve(d.target)}else f&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof o=="number"?o:OYe[o]});return i.forEach(u=>l.observe(u)),()=>l.disconnect()}function RYe(e,{root:t,margin:n,amount:r,once:o=!1}={}){const[i,s]=h.useState(!1);return h.useEffect(()=>{if(!e.current||o&&i)return;const a=()=>(s(!0),o?void 0:()=>s(!1)),l={root:t&&t.current||void 0,margin:n,amount:r};return $Ye(e.current,a,l)},[t,e,n,o]),i}const mw=[],pf={},oxe={top:"bottom",right:"left",bottom:"top",left:"right"};function MYe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ge(e){return e===0?0:"".concat(e/16,"rem")}function dt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function FYe(e,t){return e===void 0?t||mw:Array.isArray(e)?e:[e]}function ps(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:dt(e.sanity.media,n,r=>MYe(t,ge(e.sanity.space[r])))}function Vv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:l,weights:u}=i[e],d=r&&u[r]||u.regular,f=l[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Vv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Vv.warned=!0),[p];const m=dt(s,n,v=>LYe(l[v]||f));return[p,...m]}function LYe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,l=s-a,u=(l-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:ge(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ge(i),transform:"translateY(".concat(ge(n),")"),"&:before":{marginTop:"calc(".concat(ge(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ge(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ge(u)}}}function BYe(e){return Vv("code",e)}function NYe(e){return Vv("heading",e)}function zYe(e){return Vv("label",e)}function fL(e){const{theme:t}=e;return dt(t.sanity.media,e.$align,n=>({textAlign:n}))}function VYe(e){return Vv("text",e)}function ve(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>FYe(e,t),[n])}function pU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function zr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>pU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const l=a.current,u=pU(r,t);if(l.length!==u.length){s(u),a.current=u;return}for(const d of l)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!l.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const l=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[n,e,i]),o}var _p=[],HYe=function(){return _p.some(function(e){return e.activeTargets.length>0})},UYe=function(){return _p.some(function(e){return e.skippedTargets.length>0})},mU="ResizeObserver loop completed with undelivered notifications.",WYe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:mU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=mU),window.dispatchEvent(e)},Qb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Qb||(Qb={}));var Cp=function(e){return Object.freeze(e)},YYe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Cp(this)}return e}(),ixe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Cp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),hL=function(e){return e instanceof SVGElement&&"getBBox"in e},sxe=function(e){if(hL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},gU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},qYe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},eb=typeof window<"u"?window:{},G_=new WeakMap,vU=/auto|scroll/,GYe=/^tb|vertical/,KYe=/msie|trident/i.test(eb.navigator&&eb.navigator.userAgent),Yl=function(e){return parseFloat(e||"0")},tv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new YYe((n?t:e)||0,(n?e:t)||0)},yU=Cp({devicePixelContentBoxSize:tv(),borderBoxSize:tv(),contentBoxSize:tv(),contentRect:new ixe(0,0,0,0)}),axe=function(e,t){if(t===void 0&&(t=!1),G_.has(e)&&!t)return G_.get(e);if(sxe(e))return G_.set(e,yU),yU;var n=getComputedStyle(e),r=hL(e)&&e.ownerSVGElement&&e.getBBox(),o=!KYe&&n.boxSizing==="border-box",i=GYe.test(n.writingMode||""),s=!r&&vU.test(n.overflowY||""),a=!r&&vU.test(n.overflowX||""),l=r?0:Yl(n.paddingTop),u=r?0:Yl(n.paddingRight),d=r?0:Yl(n.paddingBottom),f=r?0:Yl(n.paddingLeft),p=r?0:Yl(n.borderTopWidth),m=r?0:Yl(n.borderRightWidth),v=r?0:Yl(n.borderBottomWidth),g=r?0:Yl(n.borderLeftWidth),x=f+u,b=l+d,y=g+m,w=p+v,_=a?e.offsetHeight-w-e.clientHeight:0,C=s?e.offsetWidth-y-e.clientWidth:0,S=o?x+y:0,E=o?b+w:0,j=r?r.width:Yl(n.width)-S-C,k=r?r.height:Yl(n.height)-E-_,T=j+x+C+y,A=k+b+_+w,D=Cp({devicePixelContentBoxSize:tv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:tv(T,A,i),contentBoxSize:tv(j,k,i),contentRect:new ixe(f,l,j,k)});return G_.set(e,D),D},lxe=function(e,t,n){var r=axe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Qb.DEVICE_PIXEL_CONTENT_BOX:return s;case Qb.BORDER_BOX:return o;default:return i}},ZYe=function(){function e(t){var n=axe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Cp([n.borderBoxSize]),this.contentBoxSize=Cp([n.contentBoxSize]),this.devicePixelContentBoxSize=Cp([n.devicePixelContentBoxSize])}return e}(),cxe=function(e){if(sxe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},XYe=function(){var e=1/0,t=[];_p.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new ZYe(u.target),f=cxe(u.target);a.push(d),u.lastReportedSize=lxe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},bU=function(e){_p.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(cxe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},QYe=function(){var e=0;for(bU(e);HYe();)e=XYe(),bU(e);return UYe()&&WYe(),e>0},rI,uxe=[],JYe=function(){return uxe.splice(0).forEach(function(e){return e()})},eqe=function(e){if(!rI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return JYe()}).observe(n,r),rI=function(){n.textContent="".concat(t?t--:t++)}}uxe.push(e),rI()},tqe=function(e){eqe(function(){requestAnimationFrame(e)})},N2=0,nqe=function(){return!!N2},rqe=250,oqe={attributes:!0,characterData:!0,childList:!0,subtree:!0},xU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],wU=function(e){return e===void 0&&(e=0),Date.now()+e},oI=!1,iqe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=rqe),!oI){oI=!0;var r=wU(t);tqe(function(){var o=!1;try{o=QYe()}finally{if(oI=!1,t=r-wU(),!nqe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,oqe)};document.body?n():eb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),xU.forEach(function(n){return eb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),xU.forEach(function(n){return eb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),q$=new iqe,_U=function(e){!N2&&e>0&&q$.start(),N2+=e,!N2&&q$.stop()},sqe=function(e){return!hL(e)&&!qYe(e)&&getComputedStyle(e).display==="inline"},aqe=function(){function e(t,n){this.target=t,this.observedBox=n||Qb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=lxe(this.target,this.observedBox,!0);return sqe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),lqe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),K_=new WeakMap,CU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Z_=function(){function e(){}return e.connect=function(t,n){var r=new lqe(t,n);K_.set(t,r)},e.observe=function(t,n,r){var o=K_.get(t),i=o.observationTargets.length===0;CU(o.observationTargets,n)<0&&(i&&_p.push(o),o.observationTargets.push(new aqe(n,r&&r.box)),_U(1),q$.schedule())},e.unobserve=function(t,n){var r=K_.get(t),o=CU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&_p.splice(_p.indexOf(r),1),r.observationTargets.splice(o,1),_U(-1))},e.disconnect=function(t){var n=this,r=K_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),cqe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Z_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!gU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Z_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!gU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Z_.unobserve(this,t)},e.prototype.disconnect=function(){Z_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const dxe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:cqe,uqe=fqe();function dqe(){return{subscribe(e,t){const n=new dxe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function fqe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=dqe().subscribe(n,a=>{for(const l of o)l(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Fj(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return uqe.subscribe(e,n)},[e]),t}function gw(e){const t=Fj(e);return(t==null?void 0:t._contentRect)||null}function Ds(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function iI(e,t){return e*t}function hqe(e,t){return{r:Math.round(sI(iI(e.r/255,t.r/255)*255)),g:Math.round(sI(iI(e.g/255,t.g/255)*255)),b:Math.round(sI(iI(e.b/255,t.b/255)*255))}}function sI(e){return Math.max(Math.min(e,255),0)}function aI(e,t){return e+t-e*t}function pqe(e,t){return{r:Math.round(lI(aI(e.r/255,t.r/255)*255)),g:Math.round(lI(aI(e.g/255,t.g/255)*255)),b:Math.round(lI(aI(e.b/255,t.b/255)*255))}}function lI(e){return Math.max(Math.min(e,255),0)}function mqe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function fxe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function gqe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,l=0;return 0<=e.h&&e.h<60?(s=r,a=o,l=0):60<=e.h&&e.h<120?(s=o,a=r,l=0):120<=e.h&&e.h<180?(s=0,a=r,l=o):180<=e.h&&e.h<240?(s=0,a=o,l=r):240<=e.h&&e.h<300?(s=o,a=0,l=r):300<=e.h&&e.h<360&&(s=r,a=0,l=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((l+i)*255)}}const vqe="0123456789ABCDEFabcdef",yqe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function bqe(e){for(const t of e)if(vqe.indexOf(t)===-1)return!1;return!0}function xqe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:bqe(e.slice(1))}function wqe(e){const t=yqe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function Jb(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(xqe(e))return mqe(e);if(e.startsWith("hsl("))return gqe(wqe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function At(e,t){const n=Jb(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function cI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function _qe(e,t,n,r,o){return{default:cI(e,t,n,r,o,"default"),ghost:cI(e,t,n,r,o,"ghost"),bleed:cI(e,t,n,r,o,"bleed")}}function Cqe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const Se="hsl(0, 0%, 0%)",Um="hsl(0, 0%, 100%)",ft={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},Sqe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},X_={transparent:{bg:[ft.transparent.darkest,ft.transparent.lightest],fg:[ft.transparent.lightest,ft.transparent.darkest],border:[ft.transparent.darker,ft.transparent.lighter],focusRing:[ft.transparent.base,ft.transparent.base]},primary:{bg:[ft.primary.darkest,ft.primary.lightest],fg:[ft.primary.lightest,ft.primary.darkest],border:[ft.primary.darker,ft.primary.lighter],focusRing:[ft.primary.base,ft.primary.base]},positive:{bg:[ft.positive.darkest,ft.positive.lightest],fg:[ft.positive.lightest,ft.positive.darkest],border:[ft.positive.darker,ft.positive.lighter],focusRing:[ft.positive.base,ft.positive.base]},caution:{bg:[ft.caution.darkest,ft.caution.lightest],fg:[ft.caution.lightest,ft.caution.darkest],border:[ft.caution.darker,ft.caution.lighter],focusRing:[ft.caution.base,ft.caution.base]},critical:{bg:[ft.critical.darkest,ft.critical.lightest],fg:[ft.critical.lightest,ft.critical.darkest],border:[ft.critical.darker,ft.critical.lighter],focusRing:[ft.critical.base,ft.critical.base]}},Eqe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?Se:Um,fg:t?Um:Se,border:t?ft.default.darkest:ft.default.lightest,focusRing:ft.primary.base,shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Um:Se,to:t?Um:Se}}:{bg:X_[n].bg[t?0:1],fg:X_[n].fg[t?0:1],border:X_[n].border[t?0:1],focusRing:X_[n].focusRing[t?0:1],shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Um:Se,to:t?Um:Se}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ft[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ft[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:Se,bg2:Se,fg:Se,border:Se,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},input:()=>({bg:Se,fg:Se,border:Se,placeholder:Se}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return Sqe[t]},syntax:()=>({atrule:Se,attrName:Se,attrValue:Se,attribute:Se,boolean:Se,builtin:Se,cdata:Se,char:Se,class:Se,className:Se,comment:Se,constant:Se,deleted:Se,doctype:Se,entity:Se,function:Se,hexcode:Se,id:Se,important:Se,inserted:Se,keyword:Se,number:Se,operator:Se,prolog:Se,property:Se,pseudoClass:Se,pseudoElement:Se,punctuation:Se,regex:Se,selector:Se,string:Se,symbol:Se,tag:Se,unit:Se,url:Se,variable:Se})};function kqe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function jqe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function Tqe(e,t,n,r,o){return{default:I1(e,t,n,r,o,"default"),primary:I1(e,t,n,r,o,"primary"),positive:I1(e,t,n,r,o,"positive"),caution:I1(e,t,n,r,o,"caution"),critical:I1(e,t,n,r,o,"critical")}}function I1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function Aqe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function Dqe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function Iqe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...Eqe,...e};return{light:SU(t,!1),dark:SU(t,!0)}}function SU(e,t){return{default:Wm(e,t,"default"),transparent:Wm(e,t,"transparent"),primary:Wm(e,t,"primary"),positive:Wm(e,t,"positive"),caution:Wm(e,t,"caution"),critical:Wm(e,t,"critical")}}function Wm(e,t,n){const r=e.base({dark:t,name:n}),o=Aqe(e,r,t,n),i=jqe(e,r,t,n);return{base:r,button:_qe(e,r,t,o,i),card:Cqe(e,r,t,n,o,i),dark:t,input:kqe(e,r,t,o,i),selectable:Tqe(e,r,t,o,i),spot:Dqe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function bh(e,t){const n=Jb(e),r=Jb(t);return fxe(hqe(n,r))}function xh(e,t){const n=Jb(e),r=Jb(t);return fxe(pqe(n,r))}const Ri={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},P1=["default","transparent"],Pqe=Iqe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Ca.hex:oc.hex,bg:t?oc.hex:Ca.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[950].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[950].hex,.28):At(i[500].hex,.14),ambient:t?At(i[950].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}if(n==="transparent"){const i=Ri.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[900].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[900].hex,.28):At(i[500].hex,.14),ambient:t?At(i[900].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}const r=Ri[n]||Ri.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:At(r[500].hex,.4),umbra:t?At(r[900].hex,.4):At(r[500].hex,.2),penumbra:t?At(r[900].hex,.28):At(r[500].hex,.14),ambient:t?At(r[900].hex,.24):At(r[500].hex,.12)},skeleton:{from:o,to:At(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?xh:bh,a=n?bh:xh,l=Ri[r]||Ri.default,u=P1.includes(r)&&P1.includes(i);let d=Ri[i==="default"?r:i]||l;if(o==="disabled"){d=l;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="selected"){u&&(d=Ri.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:At(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?xh:bh,a=Ri[r]||Ri.default,l=P1.includes(r)&&P1.includes(i);let u=Ri[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:At(m,.5),to:At(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="pressed"){l&&(u=Ri.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="selected"){l&&(u=Ri.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:At(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=P1.includes(o),l=Ri[o]||Ri.default,u=n?xh:bh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,l[n?900:100].hex);return{bg:d,bg2:u(d,l[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,l[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,l[n?950:50].hex),fg:l[n?400:600].hex},skeleton:{from:f,to:At(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?xh:bh;if(r==="invalid"){const s=Ri.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?xh:bh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?xh:bh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),Oqe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Rf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:Pqe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:Oqe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},$qe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function Rqe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=Rqe(),G$=Symbol.for("@sanity/ui/context/theme");Qt[G$]=Qt[G$]||h.createContext(null);const K$=Qt[G$];function A5(e){const t=h.useContext(K$),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:l,layer:u,...d}=o,f=l[r]||l.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||$qe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?c.jsx(K$.Provider,{value:a,children:c.jsx(T4e,{theme:s,children:n})}):c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function x0(e){return!!(e&&typeof e=="object")}function w0(){const e=h.useContext(K$);if(!e)throw new Error("useRootTheme(): missing context value");if(!x0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function hxe(e){const{children:t,scheme:n,tone:r}=e,o=w0();return c.jsx(A5,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Is(){return ive()}const EU=new WeakMap;function Mqe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function Fqe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=Mqe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:l}of r()){const u=()=>{l.matches&&s()};l.addEventListener("change",u),a.push(()=>l.removeEventListener("change",u))}return()=>{for(const l of a)l()}}}}function Lqe(){return 0}function mm(){const e=Is(),{media:t}=e.sanity;let n=EU.get(t);return n||(n=Fqe(t),EU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,Lqe)}let uI;function pxe(){return uI||(uI=window.matchMedia("(prefers-color-scheme: dark)")),uI}function Bqe(e){const t=pxe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function Nqe(){return pxe().matches}function zqe(){return!1}function Vqe(){return h.useSyncExternalStore(Bqe,Nqe,zqe)}const Hqe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function lr(e){const t=h.useRef(null);return Hqe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function vw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const yw="1px solid var(--card-border-color)";function Uqe(){return[Wqe,Yqe,qqe,Gqe,Kqe]}function Wqe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$border,r=>r?{"&&":{border:yw}}:{"&&":{border:0}})}function Yqe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderTop,r=>r?{"&&":{borderTop:yw}}:{"&&":{borderTop:0}})}function qqe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderRight,r=>r?{"&&":{borderRight:yw}}:{"&&":{borderRight:0}})}function Gqe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:yw}}:{"&&":{borderBottom:0}})}function Kqe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:yw}}:{"&&":{borderLeft:0}})}const Zqe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Xqe={content:"content-box",border:"border-box"},Qqe={stretch:"stretch",fill:"100%"};function Jqe(){return Zqe}function eGe(){return[nGe,rGe,oGe,tGe]}function tGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function nGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$sizing,r=>({boxSizing:Xqe[r]}))}function rGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$height,r=>({height:Qqe[r]}))}function oGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$overflow,r=>({overflow:r}))}const iGe={"&&:not([hidden])":{display:"flex"}};function sGe(){return[iGe,aGe,lGe,cGe,uGe,dGe]}function aGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$align,r=>({alignItems:r}))}function lGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gap,o=>({gap:o?ge(r[o]):void 0}))}function cGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$wrap,r=>({flexWrap:r}))}function uGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$justify,r=>({justifyContent:r}))}function dGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$direction,r=>({flexDirection:r}))}const fGe={minWidth:0,minHeight:0};function mxe(){return[fGe,hGe]}function hGe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?dt(n,e.$flex,r=>({flex:r})):mw}function Eo(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Ac(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Eo(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const pGe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},mGe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gGe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function vGe(){return[pGe,yGe,bGe,xGe,wGe,_Ge,CGe,SGe,EGe]}function yGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function bGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoRows,r=>({gridAutoRows:r&&gGe[r]}))}function xGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoCols,r=>({gridAutoColumns:r&&mGe[r]}))}function wGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function _Ge(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function CGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gap,o=>({gridGap:o?ge(r[o]):void 0}))}function SGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gapX,o=>({columnGap:o?ge(r[o]):void 0}))}function EGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gapY,o=>({rowGap:o?ge(r[o]):void 0}))}function kGe(){return[AGe,DGe,IGe,PGe,OGe,$Ge]}const jGe={auto:"auto",full:"1 / -1"},TGe={auto:"auto",full:"1 / -1"};function AGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:jGe[r]})}function DGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rowStart,r=>({gridRowStart:r}))}function IGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function PGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:TGe[r]})}function OGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columnStart,r=>({gridColumnStart:r}))}function $Ge(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function pL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:l,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return dt(l,f,(v,g)=>{const x=a.text.sizes[m[g]]||a.text.sizes[2],b=x.lineHeight-x.ascenderHeight-x.descenderHeight,y=u[f[g]],w=u[p[g]],_={paddingTop:ge(y-x.ascenderHeight),paddingRight:ge(y),paddingBottom:ge(y-x.descenderHeight),paddingLeft:ge(y)};return r&&(_.paddingRight=ge(y+b+w)),n&&(_.paddingLeft=ge(y+b+w)),_})}function RGe(e){return pL({...e,$iconRight:!0})}var kU=Object.freeze,MGe=Object.defineProperty,mL=(e,t)=>kU(MGe(e,"raw",{value:kU(t||e.slice())})),jU,TU,AU;const FGe=de(jU||(jU=mL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function gxe(){return FGe}function vxe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(TU||(TU=mL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function yxe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return dt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function bxe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,l=i.sanity.color.input;return de(AU||(AU=mL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,l.default.enabled.bg,l.default.enabled.fg,Eo({color:l.default.enabled.border,width:a.border.width}),l.invalid.enabled.bg,l.invalid.enabled.fg,Eo({color:l.invalid.enabled.border,width:a.border.width}),Ac({border:{color:l.default.enabled.border,width:a.border.width},focusRing:s}),Ac({focusRing:s}),l.default.disabled.bg,l.default.disabled.fg,Eo({color:l.default.disabled.border,width:a.border.width}),l.default.readOnly.bg,l.default.readOnly.fg,l.default.hovered.bg,l.default.hovered.fg,Eo({color:l.default.hovered.border,width:a.border.width}))}function LGe(e){const{theme:t}=e;return[ps(t,["margin"],e.$margin),ps(t,["marginLeft","marginRight"],e.$marginX),ps(t,["marginTop","marginBottom"],e.$marginY),ps(t,["marginTop"],e.$marginTop),ps(t,["marginRight"],e.$marginRight),ps(t,["marginBottom"],e.$marginBottom),ps(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function xxe(e){const{theme:t}=e;return[ps(t,["padding"],e.$padding),ps(t,["paddingLeft","paddingRight"],e.$paddingX),ps(t,["paddingTop","paddingBottom"],e.$paddingY),ps(t,["paddingTop"],e.$paddingTop),ps(t,["paddingRight"],e.$paddingRight),ps(t,["paddingBottom"],e.$paddingBottom),ps(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function td(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return dt(n,e.$radius,o=>({borderRadius:ge(r[o])}))}function dI(e,t){return"".concat(e.map(ge).join(" ")," ").concat(t)}function BGe(e){if(!e)return pf;const t="0 0 0 ".concat(ge(1)," var(--card-shadow-outline-color)"),n=dI(e.umbra,"var(--card-shadow-umbra-color)"),r=dI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=dI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function NGe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return dt(n,e.$shadow,o=>BGe(r[o]))}var DU=Object.freeze,zGe=Object.defineProperty,fI=(e,t)=>DU(zGe(e,"raw",{value:DU(t||e.slice())})),IU,PU,OU;function VGe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(OU||(OU=fI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(IU||(IU=fI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(PU||(PU=fI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var $U=Object.freeze,HGe=Object.defineProperty,UGe=(e,t)=>$U(HGe(e,"raw",{value:$U(t||e.slice())})),RU;const WGe=O.div(VYe,fL,VGe),YGe=O.span(RU||(RU=UGe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),B=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(YGe,{children:f})),c.jsx(WGe,{"data-ui":"Text",...d,$accent:r,$align:ve(o),$muted:s,ref:n,$size:ve(a),$weight:u,children:c.jsx("span",{children:f})})}),bw={root:GGe,arrow:qGe,bgStroke:XGe,stroke:QGe,initials:ZGe};function qGe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function GGe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ac({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function KGe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2),"&>svg":{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2)}}})}function ZGe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function XGe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function QGe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const JGe=O.div(KGe,bw.root),eKe=O.div(bw.arrow),tKe=O.ellipse(bw.bgStroke),nKe=O.ellipse(bw.stroke),rKe=O.div(bw.initials),wxe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:l,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=kMe.isValidElementType(r)?r:"div",g=ve(p),x=Is(),b=x.sanity.color.spot[o]||x.sanity.color.spot.gray,w=(x.sanity.avatar.sizes[g[0]]||x.sanity.avatar.sizes[0]).size,_=w/2,C=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(C);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return c.jsxs(JGe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:b,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[c.jsx(eKe,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:b})})}),!j&&i&&c.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),c.jsx("circle",{cx:_,cy:_,r:_,fill:"url(#".concat(T,")")}),c.jsx(tKe,{cx:_,cy:_,rx:_,ry:_,vectorEffect:"non-scaling-stroke"}),c.jsx(nKe,{cx:_,cy:_,rx:_,ry:_,stroke:b,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&c.jsx(c.Fragment,{children:c.jsx(rKe,{children:c.jsx(B,{as:"span",size:D,children:c.jsx("strong",{children:a})})})})]})});var MU=Object.freeze,oKe=Object.defineProperty,iKe=(e,t)=>MU(oKe(e,"raw",{value:MU(t||e.slice())})),FU;function sKe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ge(i.size/2),minWidth:ge(i.size),height:ge(i.size)}:pf})}function aKe(e){const{theme:t}=e;return de(FU||(FU=iKe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ge(t.sanity.space[2]))}const lKe=O.div(sKe,aKe),Z$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ve(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return c.jsx(lKe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:c.jsx(B,{as:"span",size:s,children:c.jsx("strong",{children:r})})})});function _xe(e){return(Array.isArray(e)?e:[e]).filter(n=>Or.isElement(n)||Or.isFragment(n)||typeof n=="string")}var LU=Object.freeze,cKe=Object.defineProperty,uKe=(e,t)=>LU(cKe(e,"raw",{value:LU(t||e.slice())})),BU;const dKe=de(BU||(BU=uKe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function fKe(){return dKe}function hKe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ge(i.distance)}}:pf})}const pKe=O.div(hKe,fKe),Lj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=_xe(r).filter(v=>typeof v!="string"),l=Math.max(o,0),u=ve(i),d=a.length,f=l-1,p=d-f,m=p>1?a.slice(p,d):a;return c.jsxs(pKe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&c.jsx("div",{children:c.jsx(Z$,{count:d})}),d!==0&&p>1&&c.jsx("div",{children:c.jsx(Z$,{count:p,size:u})}),m.map((v,g)=>c.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),mKe=O.div(Jqe,mxe,eGe,kGe,LGe,xxe),F=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:l,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:x,overflow:b,padding:y=0,paddingX:w,paddingY:_,paddingTop:C,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return c.jsx(mKe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:ve(o),$columnStart:ve(i),$columnEnd:ve(s),$display:ve(a),$flex:ve(l),$height:ve(u),$margin:ve(d),$marginX:ve(f),$marginY:ve(p),$marginTop:ve(m),$marginRight:ve(v),$marginBottom:ve(g),$marginLeft:ve(x),$overflow:ve(b),$padding:ve(y),$paddingX:ve(w),$paddingY:ve(_),$paddingTop:ve(C),$paddingRight:ve(S),$paddingBottom:ve(E),$paddingLeft:ve(j),$row:ve(k),$rowStart:ve(T),$rowEnd:ve(A),$sizing:ve(D),as:r,ref:n,children:t.children})});var NU=Object.freeze,gKe=Object.defineProperty,hI=(e,t)=>NU(gKe(e,"raw",{value:NU(t||e.slice())})),zU,VU,HU;function vKe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(HU||(HU=hI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(zU||(zU=hI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(VU||(VU=hI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var UU=Object.freeze,yKe=Object.defineProperty,bKe=(e,t)=>UU(yKe(e,"raw",{value:UU(t||e.slice())})),WU;const xKe=O.div(zYe,fL,vKe),wKe=O.span(WU||(WU=bKe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Nt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"?f=c.jsx(wKe,{children:f}):f=c.jsx("span",{children:f}),c.jsx(xKe,{"data-ui":"Label",...d,$accent:r,$align:ve(o),$muted:s,$size:ve(a),$weight:u,ref:n,children:f})});function _Ke(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const CKe=O(F)(td,_Ke),Cxe=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:l="default",...u}=t;return c.jsx(CKe,{"data-ui":"Badge",...u,$mode:i,$tone:l,$radius:ve(a),padding:ve(s),ref:n,children:c.jsx(Nt,{size:o,children:r})})}),SKe=O(F)(mxe,sGe),W=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:l,...u}=t;return c.jsx(SKe,{"data-ui":"Flex",...u,$align:ve(r),$direction:ve(i),$gap:ve(s),$justify:ve(a),$wrap:ve(l),forwardedAs:o,ref:n})});var YU=Object.freeze,EKe=Object.defineProperty,Sxe=(e,t)=>YU(EKe(e,"raw",{value:YU(t||e.slice())})),qU,GU;const kKe=Xk(qU||(qU=Sxe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),jKe=O(B)(GU||(GU=Sxe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),kKe),Vr=h.forwardRef(function(t,n){return c.jsx(jKe,{"data-ui":"Spinner",...t,ref:n,children:c.jsx(rj,{})})});function Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,l,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(l=t.skeleton)==null?void 0:l.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var KU=Object.freeze,TKe=Object.defineProperty,AKe=(e,t)=>KU(TKe(e,"raw",{value:KU(t||e.slice())})),ZU;function DKe(){return de(ZU||(ZU=AKe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const IKe={border:{width:1}};function PKe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,l=a[e.$tone]||a.default,u={width:IKe.border.width,color:"var(--card-border-color)"};return[Bt(s,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Eo(u),'&:disabled, &[data-disabled="true"]':Bt(s,l.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Ac({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:Eo(u)},"@media (hover: hover)":{"&:hover":Bt(s,l.hovered),"&:active":Bt(s,l.pressed),"&[data-hovered]":Bt(s,l.hovered)},"&[data-selected]":Bt(s,l.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var XU=Object.freeze,OKe=Object.defineProperty,$Ke=(e,t)=>XU(OKe(e,"raw",{value:XU(t||e.slice())})),QU;const RKe=O.button(td,DKe,PKe),MKe=O.div(QU||(QU=$Ke([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),ae=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:l="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:x,paddingRight:b,radius:y=2,selected:w,space:_=3,text:C,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ve(l),A=ve(f),D=ve(p),I=ve(m),P=ve(v),M=ve(g),$=ve(x),V=ve(b),L=ve(y),H=ve(_),U=Is(),z=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:M,paddingLeft:$,paddingRight:V}),[A,D,I,P,M,$,V]);return c.jsxs(RKe,{"data-ui":"Button",...k,$mode:d,$radius:L,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&c.jsx(MKe,{children:c.jsx(Vr,{})}),(s||C||a)&&c.jsx(F,{as:"span",...z,children:c.jsxs(W,{as:"span",justify:T,children:[s&&c.jsxs(B,{size:i,children:[h.isValidElement(s)&&s,Or.isValidElementType(s)&&h.createElement(s)]}),C&&c.jsx(F,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:c.jsx(B,{align:S,size:i,textOverflow:"ellipsis",weight:U.sanity.button.textWeight,children:C})}),a&&c.jsxs(B,{size:i,children:[h.isValidElement(a)&&a,Or.isValidElementType(a)&&h.createElement(a)]})]})}),r&&c.jsx(F,{as:"span",...z,children:r})]})});var JU=Object.freeze,FKe=Object.defineProperty,X$=(e,t)=>JU(FKe(e,"raw",{value:JU(t||e.slice())})),eW,tW,nW;function LKe(e){return[BKe(e),NKe(e)]}function BKe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(tW||(tW=X$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(eW||(eW=X$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function NKe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:l,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(nW||(nW=X$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Bt(a,l.enabled,r),Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?Eo(d):void 0,Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?Eo(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const zKe=O(F)(Uqe,td,NGe,LKe),ee=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:l,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:x="default",...b}=t,y=Or.isValidElementType(i)?i:"div",w=w0(),_=x==="inherit"?w.tone:x;return c.jsx(hxe,{scheme:m,tone:_,children:c.jsx(zKe,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":_,...b,$border:ve(s),$borderTop:ve(a),$borderRight:ve(l),$borderBottom:ve(u),$borderLeft:ve(d),$checkered:r,$focusRing:o,$radius:ve(p),$shadow:ve(g),$tone:_,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:y,ref:n,selected:v})})});var rW=Object.freeze,VKe=Object.defineProperty,Exe=(e,t)=>rW(VKe(e,"raw",{value:rW(t||e.slice())})),oW,iW;function HKe(){return de(oW||(oW=Exe([`
    position: relative;
    display: inline-block;
  `])))}function UKe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(iW||(iW=Exe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ge(o.checkbox.size),ge(o.checkbox.size),Eo({color:n.default.enabled.border,width:o.border.width}),ge(i[2]),n.default.enabled.bg,Ac({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),Eo({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,Eo({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Eo({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const WKe=O.div(HKe),YKe=O.input(UKe),Bj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:l,style:u,...d}=t,f=lr(n);return vw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),c.jsxs(WKe,{className:o,"data-ui":"Checkbox",style:u,children:[c.jsx(YKe,{"data-read-only":!i&&l?"":void 0,...d,checked:r,disabled:i||l,type:"checkbox",readOnly:l,ref:f}),c.jsxs("span",{children:[c.jsx(za,{}),c.jsx(Ove,{})]})]})});var sW=Object.freeze,qKe=Object.defineProperty,GKe=(e,t)=>sW(qKe(e,"raw",{value:sW(t||e.slice())})),aW;function KKe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function ZKe(){return de(aW||(aW=GKe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),KKe)}const XKe=O.pre(ZKe,BYe),xr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,l=typeof o=="string"?o:void 0,u=l?Mp.hasLanguage(l):!1;return c.jsxs(XKe,{"data-ui":"Code",...a,$size:ve(i),$weight:s,ref:n,children:[!(l&&u)&&c.jsx("code",{children:r}),l&&u&&c.jsx(Mp,{inline:!0,language:l,value:String(r)})]})}),QKe={width:"100%",margin:"0 auto"};function JKe(){return QKe}function eZe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return dt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ge(n[o])}))}const tZe=O(F)(JKe,eZe),sa=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return c.jsx(tZe,{"data-ui":"Container",...i,$width:ve(o),forwardedAs:r,ref:n})}),nZe=O(F)(vGe),ln=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:l,gapX:u,gapY:d,rows:f,children:p,...m}=t;return c.jsx(nZe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ve(o),$autoCols:ve(i),$autoFlow:ve(s),$columns:ve(a),$gap:ve(l),$gapX:ve(u),$gapY:ve(d),$rows:ve(f),forwardedAs:r,ref:n,children:p})});var lW=Object.freeze,rZe=Object.defineProperty,pI=(e,t)=>lW(rZe(e,"raw",{value:lW(t||e.slice())})),cW,uW,dW;function oZe(e){const{$accent:t,$muted:n,theme:r}=e;return de(dW||(dW=pI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(cW||(cW=pI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(uW||(uW=pI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var fW=Object.freeze,iZe=Object.defineProperty,sZe=(e,t)=>fW(iZe(e,"raw",{value:fW(t||e.slice())})),hW;const aZe=O.div(oZe,fL,NYe),lZe=O.span(hW||(hW=sZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),ii=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(lZe,{children:f})),c.jsx(aZe,{"data-ui":"Heading",...d,$accent:r,$align:ve(o),$muted:s,$size:ve(a),$weight:u,ref:n,children:c.jsx("span",{children:f})})});function cZe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function uZe(e){const{theme:t}=e;return dt(t.sanity.media,e.$space,n=>{const r=ge(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const dZe=O(F)(cZe,uZe),Jt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>_xe(o).filter(Boolean).map((l,u)=>c.jsx("div",{children:l},u)),[o]);return c.jsx(dZe,{"data-ui":"Inline",...s,$space:ve(i),forwardedAs:r,ref:n,children:a})});var pW=Object.freeze,fZe=Object.defineProperty,hZe=(e,t)=>pW(fZe(e,"raw",{value:pW(t||e.slice())})),mW;function pZe(){return de(mW||(mW=hZe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const mZe=O.kbd(td,pZe),Q$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return c.jsx(mZe,{"data-ui":"KBD",...a,$radius:ve(s),ref:n,children:c.jsx(F,{as:"span",padding:i,children:c.jsx(xr,{as:"span",muted:!0,size:o,children:r})})})}),J$=Symbol.for("@sanity/ui/context/boundaryElement");Qt[J$]=Qt[J$]||h.createContext(null);const kxe=Qt[J$];function gm(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return c.jsx(kxe.Provider,{value:r,children:t})}const gZe={version:0,element:null};function Jf(){const e=h.useContext(kxe);if(e&&(!x0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||gZe}function vZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function yZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const bZe=h.forwardRef(function(t,n){const r=Is(),{children:o,media:i=r.sanity.media,...s}=t,a=lr(n),[l,u]=h.useState(null),d=Fj(l),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>vZe(i,f),[i,f]),m=h.useMemo(()=>yZe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return c.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var xZe=Object.defineProperty,wZe=(e,t,n)=>t in e?xZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ze=(e,t,n)=>(wZe(e,typeof t!="symbol"?t+"":t,n),n);class _0 extends h.Component{constructor(){super(...arguments),_Ze(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return c.jsx(xr,{children:n})}return this.props.children}}function jxe(e){if(!x0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const eR=Symbol.for("@sanity/ui/context/layer");Qt[eR]=Qt[eR]||h.createContext(null);const tR=Qt[eR];function Rc(){const e=h.useContext(tR);if(!e)throw new Error("useLayer(): missing context value");try{return jxe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function nR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function eOn(e){let t=null;const n=nR(()=>{t=nR(e)});return()=>{t&&t(),n()}}function CZe(e){return gL(e)||vL(e)}function Mc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function gL(e){return Mc(e)&&e.nodeName==="A"}function SZe(e){return Mc(e)&&e.nodeName==="INPUT"}function vL(e){return Mc(e)&&e.nodeName==="BUTTON"}function EZe(e){return Mc(e)&&e.nodeName==="SELECT"}function kZe(e){return Mc(e)&&e.nodeName==="TEXTAREA"}function rR(e,t){return e.contains(t)||e===t}function jZe(e){return!!document.activeElement&&e.contains(document.activeElement)}function TZe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:gL(e)?!!e.href&&e.rel!=="ignore":SZe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:vL(e)||EZe(e)||kZe(e)?!e.disabled:!1}function Txe(e){if(!TZe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function ex(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Mc(n)&&(Txe(n)||ex(n)))return!0}return!1}function Axe(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Mc(n)&&(Txe(n)||Axe(n)))return!0}return!1}function AZe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Mf(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(tR),i=o&&jxe(o),s=i==null?void 0:i.registerChild,l=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ve(r),d=u.length-1,f=Math.min(mm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),x=v===0,b=h.useCallback(w=>{const _=s==null?void 0:s(w);return w!==void 0?m(C=>{var S;const E=(S=C[w])!=null?S:0,j={...C,[w]:E+1};return g(Object.keys(j).length),j}):g(C=>C+1),()=>{w!==void 0?m(C=>{const S={...C};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(C=>C-1),_==null||_()}},[s]);h.useEffect(()=>s==null?void 0:s(l),[l,s]);const y=h.useMemo(()=>({version:0,isTopLayer:x,level:l,registerChild:b,size:v,zIndex:p}),[x,l,b,v,p]);return c.jsx(tR.Provider,{value:y,children:n})}const DZe=O.div({position:"relative"}),IZe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=pf,...a}=t,{zIndex:l,isTopLayer:u}=Rc(),d=h.useRef(null),f=lr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,x=document.activeElement;!u||!g||!x||Mc(x)&&rR(g,x)&&(d.current=x)},[f,u,i]);return c.jsx(DZe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:l},children:r})}),es=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return c.jsx(Mf,{zOffset:o,children:c.jsx(IZe,{...i,ref:n,children:r})})}),oR=Symbol.for("@sanity/ui/context/portal"),Mh=Symbol.for("@sanity/ui/context/portal/element");Qt[Mh]=null;const PZe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Mh]||(Qt[Mh]=document.createElement("div"),Qt[Mh].setAttribute("data-portal",""),document.body.appendChild(Qt[Mh])),Qt[Mh])}};Qt[oR]=Qt[oR]||h.createContext(PZe);const Dxe=Qt[oR];function Nj(){const e=h.useContext(Dxe);if(!e)throw new Error("usePortal(): missing context value");if(!x0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function vm(e){var t;const{children:n,__unstable_name:r}=e,o=Nj(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?uc.createPortal(n,i):null}function OZe(e){const t=h.useRef(e);return $Ze(t.current,e)||(t.current=e),t.current}function $Ze(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const RZe=typeof document<"u";function C0(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=OZe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||RZe&&document.body||null,elements:i}),[t,r,i]);return c.jsx(Dxe.Provider,{value:s,children:n})}var gW=Object.freeze,MZe=Object.defineProperty,FZe=(e,t)=>gW(MZe(e,"raw",{value:gW(t||e.slice())})),vW;const LZe=O.div(vW||(vW=FZe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return c.jsx(LZe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var yW=Object.freeze,BZe=Object.defineProperty,Ixe=(e,t)=>yW(BZe(e,"raw",{value:yW(t||e.slice())})),bW,xW;const NZe=O.div(bW||(bW=Ixe([`
  position: relative;
`]))),wW=O.div(xW||(xW=Ixe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:l,...u}=t,{space:d}=Is().sanity,f=lr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,x]=h.useState(0),[b,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[l]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!AZe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new dxe(M=>{x(M[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{x(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),x(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,_=b?w*(b+d[o])-d[o]:0,C=_?Math.max(Math.floor(m/_*w)-2,0):0,S=_?Math.ceil((m+g)/_*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:C,gap:d[o],itemHeight:b,scrollHeight:g,scrollTop:m,toIndex:S})},[C,o,b,a,g,m,d,S]);const E=h.useMemo(()=>!l||s.length===0?null:b===-1?[c.jsx(wW,{children:l(s[0])},0)]:s.slice(C,S).map((k,T)=>{const A=C+T,D=l(k),I=i?i(k,A):A;return c.jsx(wW,{style:{top:A*(b+d[o])},children:D},I)}),[C,o,i,b,s,l,d,S]),j=h.useMemo(()=>({height:_}),[_]);return c.jsx(NZe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:c.jsx("div",{ref:p,style:j,children:E})})});const zZe=4,dg=4,nc=27,VZe=11,Pxe=[0,0,0,0],HZe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function UZe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:l}=o,{floating:u,reference:d}=l,f=await Iv(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const x=await a.getDimensions(i.floating),b=x.height,y=x.width;return v!==y||g!==b?{reset:{rects:!0}}:{}}}}function WZe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function YZe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-dg*2)}var _W=Object.freeze,qZe=Object.defineProperty,yL=(e,t)=>_W(qZe(e,"raw",{value:_W(t||e.slice())})),CW,SW,EW;const GZe=O.div(CW||(CW=yL([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),nc,nc,nc/2,nc/2,nc,nc,nc,nc),KZe=O.path(SW||(SW=yL([`
  fill: var(--card-shadow-outline-color);
`]))),ZZe=O.path(EW||(EW=yL([`
  fill: var(--card-bg-color);
`]))),XZe=h.forwardRef(function(t,n){return c.jsx(GZe,{"data-ui":"Popover__arrow",...t,ref:n,children:c.jsxs("svg",{width:nc,height:VZe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx(KZe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),c.jsx(ZZe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),QZe=O(ee)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),Oxe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:l,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:x,tone:b,width:y,x:w,y:_,...C}=t,{zIndex:S}=Rc(),E=h.useMemo(()=>r||Pxe,[r]),j=(w??0)+E[3],k=(_??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:y,zIndex:S,...x}),[g,x,y,j,k,S]),A=d&&oxe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-nc),I},[s,a,A]);return c.jsxs(QZe,{"data-ui":"Popover",...C,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:b,children:[c.jsx(W,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:c.jsx(W,{direction:"column",flex:1,padding:u,children:l})}),o&&c.jsx(XZe,{ref:i,style:D})]})}));Oxe.displayName="PopoverCard";const hn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,l,u,d,f;const p=Is(),m=Jf(),{__unstable_margins:v=Pxe,arrow:g=!0,boundaryElement:x=m.element,children:b,constrainSize:y=!1,content:w,disabled:_,fallbackPlacements:C=(o=t.fallbackPlacements)!=null?o:HZe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:M=(s=t.boundaryElement)!=null?s:m.element,referenceElement:$,scheme:V,shadow:L=3,tone:H="inherit",width:U="auto",zOffset:z=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:Y,...te}=t,N=(l=Fj(x))==null?void 0:l.border,G=ve(T),q=ve(P),K=ve(L),Q=ve(U),X=ve(z),Z=lr(n),re=h.useRef(null),le="viewport",he=mm(),ie=y||I?N==null?void 0:N.width:void 0,ye=WZe({mediaIndex:he,theme:p,width:Q}),Ce=h.useRef(ye);h.useEffect(()=>{Ce.current=ye},[ye]);const Ae=YZe({boundaryWidth:ie,currentWidth:ye}),xe=h.useRef(Ae);h.useEffect(()=>{xe.current=Ae},[Ae]);const Ze=h.useRef();h.useEffect(()=>{const Ut=Z.current;if(!j||!Ut)return;const Ur=Ze.current;S?Ur!==void 0&&(Ut.style.width="".concat(Ur,"px")):ye!==void 0&&(Ut.style.width="".concat(ye,"px")),typeof Ae=="number"&&(Ut.style.maxWidth="".concat(Ae,"px"))},[ye,Z,S,Ae,j]);const rt=h.useMemo(()=>{const Ut=[];return(y||I)&&Ut.push(x0e({boundary:E||void 0,fallbackPlacements:C,padding:dg,rootBoundary:le})),Ut.push(w0e({mainAxis:g?zZe:0})),(y||S)&&Ut.push(UZe({apply(Ur){let{availableWidth:Hl,availableHeight:rl,elements:ai,referenceWidth:Rn}=Ur;Ze.current=Rn;const Rr=Ce.current,Jr=xe.current;S?ai.floating.style.width="".concat(Rn,"px"):Rr!==void 0&&(ai.floating.style.width="".concat(Rr,"px")),y&&(ai.floating.style.maxWidth="".concat(Math.min(Hl,Jr??1/0),"px"),ai.floating.style.maxHeight="".concat(rl,"px"))},boundaryElement:E||void 0,constrainSize:y,margins:v,matchReferenceWidth:S,padding:dg})),I&&Ut.push(_0e({boundary:E||void 0,rootBoundary:le,padding:dg})),g&&Ut.push($ye({element:re,padding:dg})),Ut.push(qBe({boundary:M||void 0,padding:dg,strategy:"referenceHidden"})),Ut},[g,y,C,E,v,S,I,M]),{x:at,y:nt,middlewareData:Kt,placement:Ye,refs:me,strategy:Ue,update:qe}=Mye({middleware:rt,placement:A,whileElementsMounted:D0e}),Ne=(u=Kt.hide)==null?void 0:u.referenceHidden,bt=(d=Kt.arrow)==null?void 0:d.x,Tt=(f=Kt.arrow)==null?void 0:f.y,St=h.useCallback(Ut=>{re.current=Ut},[]),Zt=h.useCallback(Ut=>{Z.current=Ut,me.setFloating(Ut)},[Z,me]),Oi=h.useCallback(Ut=>{me.setReference(Ut);const Ur=b==null?void 0:b.ref;typeof Ur=="function"?Ur(Ut):Ur&&(Ur.current=Ut)},[b,me]),is=h.useMemo(()=>!b||$?null:h.cloneElement(b,{ref:Oi}),[b,$,Oi]);if(h.useEffect(()=>{Y&&(typeof Y=="function"?Y(qe):Y&&(Y.current=qe))},[qe,Y]),h.useEffect(()=>{me.setReference($||null)},[$,me]),_)return b||c.jsx(c.Fragment,{});const $s=c.jsx(Mf,{zOffset:X,children:c.jsx(Oxe,{...te,__unstable_margins:v,arrow:g,arrowRef:St,arrowX:bt,arrowY:Tt,hidden:Ne,overflow:k,padding:G,placement:Ye,radius:q,ref:Zt,scheme:V,shadow:K,strategy:Ue,tone:H,width:S?Ze.current:ye,x:at,y:nt,children:w})});return c.jsxs(c.Fragment,{children:[j&&c.jsx(c.Fragment,{children:D?c.jsx(vm,{__unstable_name:typeof D=="string"?D:void 0,children:$s}):$s}),is]})}));hn.displayName="Popover";var kW=Object.freeze,JZe=Object.defineProperty,$xe=(e,t)=>kW(JZe(e,"raw",{value:kW(t||e.slice())})),jW,TW;function eXe(){return de(jW||(jW=$xe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function tXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(TW||(TW=$xe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ge(r.radio.size/2),ge(r.radio.size),ge(r.radio.size),ge(r.radio.size/2),o.default.enabled.bg,Eo({color:o.default.enabled.border,width:r.border.width}),ge(i),ge(i),ge(r.radio.markSize),ge(r.radio.markSize),ge(r.radio.markSize/2),o.default.enabled.fg,Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),Eo({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const nXe=O.div(eXe),rXe=O.input(tXe),oXe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...l}=t,u=lr(n);return vw(u,s),c.jsxs(nXe,{className:r,"data-ui":"Radio",style:i,children:[c.jsx(rXe,{"data-read-only":!o&&a?"":void 0,...l,disabled:o||a,readOnly:a,ref:u,type:"radio"}),c.jsx("span",{})]})});var AW=Object.freeze,iXe=Object.defineProperty,zj=(e,t)=>AW(iXe(e,"raw",{value:AW(t||e.slice())})),DW,IW,PW,OW;function sXe(){return de(DW||(DW=zj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function aXe(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(IW||(IW=zj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function lXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(PW||(PW=zj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Eo({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,Eo({color:o.default.hovered.border,width:r.border.width}),Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,Eo({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,Eo({color:o.default.disabled.border,width:r.border.width}))}function cXe(e){return{fontSize:ge(e.fontSize),lineHeight:ge(e.lineHeight)}}function uXe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return dt(t.sanity.media,n,o=>cXe(r[o]||r[2]))}function dXe(){return[td,aXe,lXe,uXe,RGe]}function fXe(e){const{theme:t}=e,n=t.sanity.color.input;return de(OW||(OW=zj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const bL={root:sXe,input:dXe,iconBox:fXe},hXe=O.div(bL.root),pXe=O.select(bL.input),mXe=O(F)(bL.iconBox),Ff=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:l=1,readOnly:u,space:d=3,...f}=t,p=lr(n);return vw(p,o),c.jsxs(hXe,{"data-ui":"Select",children:[c.jsx(pXe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ve(s),$padding:ve(a),$radius:ve(l),$space:ve(d),disabled:i||u,ref:p,children:r}),c.jsx(mXe,{padding:a,children:c.jsx(B,{size:s,children:c.jsx(Ml,{})})})]})}),gXe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function vXe(){return gXe}function yXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$space,o=>({gridGap:ge(r[o])}))}const bXe=O(F)(vXe,yXe),ne=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return c.jsx(bXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ve(o),forwardedAs:r,ref:n})});var $W=Object.freeze,xXe=Object.defineProperty,Sp=(e,t)=>$W(xXe(e,"raw",{value:$W(t||e.slice())})),RW,MW,FW,LW,BW,NW,zW;function wXe(){return de(RW||(RW=Sp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function _Xe(){return de(MW||(MW=Sp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function CXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(FW||(FW=Sp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ge(r.switch.width),ge(r.switch.height),ge(r.switch.height/2),Ac({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function SXe(e){const{theme:t}=e,{input:n}=t.sanity;return de(LW||(LW=Sp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ge(n.switch.width),ge(n.switch.height),ge(n.switch.height/2))}function EXe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,l=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de(zW||(zW=Sp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ge(s),ge(s),ge(a),ge(a),ge(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(BW||(BW=Sp([`
      transform: translate3d(`,`px, 0, 0);
    `])),l),t&&de(NW||(NW=Sp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const kXe=O.span(wXe),jXe=O.input(_Xe),TXe=O.span(CXe),AXe=O.span(SXe),DXe=O.span(EXe),Rxe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:l,...u}=t,d=lr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),c.jsxs(kXe,{className:o,"data-ui":"Switch",style:l,children:[c.jsx(jXe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),c.jsxs(TXe,{"aria-hidden":!0,"data-name":"representation",children:[c.jsx(AXe,{}),c.jsx(DXe,{$checked:r,$indeterminate:s})]})]})});var VW=Object.freeze,IXe=Object.defineProperty,PXe=(e,t)=>VW(IXe(e,"raw",{value:VW(t||e.slice())})),HW;const OXe=O.span(gxe),$Xe=O.span(HW||(HW=PXe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),RXe=O.textarea(pL,vxe,yxe),MXe=O.div(td,bxe),Mxe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:l=1,weight:u,...d}=t,f=lr(n),p=w0();return vw(f,o),c.jsx(OXe,{"data-ui":"TextArea",children:c.jsxs($Xe,{children:[c.jsx(RXe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ve(s),$padding:ve(a),$scheme:p.scheme,$space:ve(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),c.jsx(MXe,{$radius:ve(l),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var UW=Object.freeze,FXe=Object.defineProperty,S0=(e,t)=>UW(FXe(e,"raw",{value:UW(t||e.slice())})),WW,YW,qW,GW,KW,ZW;const LXe={zIndex:2},BXe=O(ee).attrs({forwardedAs:"span"})(gxe),NXe=O.span(WW||(WW=S0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),zXe=O(ee).attrs({forwardedAs:"span"})(YW||(YW=S0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),VXe=O(ee).attrs({forwardedAs:"span"})(qW||(qW=S0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),HXe=O.input(pL,vxe,yxe),UXe=O.span(td,bxe),WXe=O(F)(GW||(GW=S0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),YXe=O(F)(KW||(KW=S0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),qXe=O(ee)(ZW||(ZW=S0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),GXe=O(ae)({"&:not([hidden])":{display:"block"}}),Zr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:l,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:x,type:b="text",weight:y,...w}=t,_=lr(n),C=w0(),S=ve(s),E=ve(d),j=ve(p),k=ve(v),T=!!o,A=!!a,D=!!l,I=!!g,P=!!f;vw(_,x);const M=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),$=h.useCallback(N=>{var G;N.preventDefault(),N.stopPropagation(),u&&u(),(G=_.current)==null||G.focus()},[u,_]),V=h.useMemo(()=>f&&c.jsx(zXe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:f})}),[f,j]),L=h.useMemo(()=>c.jsxs(UXe,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:C.scheme,$tone:C.tone,"data-border":r?"":void 0,"data-scheme":C.scheme,"data-tone":C.tone,children:[a&&c.jsx(WXe,{padding:E,children:c.jsxs(B,{size:S,children:[h.isValidElement(a)&&a,Or.isValidElementType(a)&&h.createElement(a)]})}),!T&&l&&c.jsx(YXe,{padding:E,children:c.jsxs(B,{size:S,children:[h.isValidElement(l)&&l,Or.isValidElementType(l)&&h.createElement(l)]})})]}),[r,S,a,l,E,j,C,T,P,I]),H=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),U=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),z=h.useMemo(()=>typeof o=="object"?o:pf,[o]),Y=h.useMemo(()=>!i&&!m&&o&&c.jsx(qXe,{forwardedAs:"span",padding:H,style:LXe,tone:x?"critical":"inherit",children:c.jsx(GXe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:ua,mode:"bleed",padding:U,radius:j,...z,onClick:$,onMouseDown:M})}),[o,H,U,z,x,i,S,$,M,j,m]),te=h.useMemo(()=>g&&c.jsx(VXe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:g})}),[j,g]);return c.jsxs(BXe,{"data-ui":"TextInput",tone:C.tone,children:[V,c.jsxs(NXe,{children:[c.jsx(HXe,{"data-as":"input","data-scheme":C.scheme,"data-tone":C.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:C.scheme,$space:k,$tone:C.tone,$weight:y,disabled:i,readOnly:m,ref:_,type:b}),L,Y]}),te]})});function iR(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const KXe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var XW=Object.freeze,ZXe=Object.defineProperty,xL=(e,t)=>XW(ZXe(e,"raw",{value:XW(t||e.slice())})),QW,JW,eY;const XXe=O.div(QW||(QW=xL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),QXe=O.path(JW||(JW=xL([`
  fill: var(--card-shadow-outline-color);
`]))),JXe=O.path(eY||(eY=xL([`
  fill: var(--card-bg-color);
`]))),eQe=h.forwardRef(function(t,n){const{...r}=t;return c.jsx(XXe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:c.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[c.jsx(QXe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),c.jsx(JXe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),sR=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[sR]=Qt[sR]||h.createContext(null);const Fxe=Qt[sR];function Lxe(){return h.useContext(Fxe)}function tQe(e){const{children:t,delay:n}=e,[r,o]=iR(!1),[i,s]=iR(null);if(Lxe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const l=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:l,closeDelay:u}),[u,r,l,i,o,s]);return c.jsx(Fxe.Provider,{value:d,children:t})}var tY=Object.freeze,nQe=Object.defineProperty,rQe=(e,t)=>tY(nQe(e,"raw",{value:tY(t||e.slice())})),nY;const oQe=O(es)(nY||(nY=rQe([`
  pointer-events: none;
`]))),yt=h.forwardRef(function(t,n){var r,o,i,s,a;const l=Jf(),u=Is(),{boundaryElement:d=l==null?void 0:l.element,children:f,content:p,disabled:m,fallbackPlacements:v=(o=t.fallbackPlacements)!=null?o:KXe[(r=t.placement)!=null?r:"bottom"],padding:g,placement:x="bottom",portal:b,scheme:y,shadow:w=2,zOffset:_=(i=u.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:C,...S}=t,E=ve(v),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D="viewport",I=h.useMemo(()=>{const Ye=[];return Ye.push(x0e({boundary:d||void 0,fallbackPlacements:E,padding:4,rootBoundary:D,mainAxis:!1})),Ye.push(w0e({mainAxis:3})),Ye.push(KBe({apply(me){let{availableWidth:Ue,availableHeight:qe,elements:Ne}=me;Object.assign(Ne.floating.style,{maxWidth:"".concat(Ue-4*2,"px"),maxHeight:"".concat(qe-4*2,"px")})}})),Ye.push(_0e({boundary:d||void 0,rootBoundary:D,padding:4})),Ye.push($ye({element:A,padding:2})),Ye},[d,E]),{floatingStyles:P,placement:M,middlewareData:$,refs:V,update:L}=Mye({middleware:I,placement:x,whileElementsMounted:D0e}),H=M&&oxe[M.split("-")[0]],U=(s=$.arrow)==null?void 0:s.x,z=(a=$.arrow)==null?void 0:a.y,Y=h.useMemo(()=>{const Ye={left:U!==null?U:void 0,top:z!==null?z:void 0,right:void 0,bottom:void 0};return H&&(Ye[H]=-15),Ye},[U,z,H]),te=h.useId(),[N,G]=iR(!1),q=Lxe(),K=N||(q==null?void 0:q.openTooltipId)===te,Q=q!==null,X=typeof C=="number"?C:(C==null?void 0:C.open)||0,Z=typeof C=="number"?C:(C==null?void 0:C.close)||0,re=Q?q.openDelay:X,le=Q?q.closeDelay:Z,he=h.useCallback((Ye,me)=>{if(Q)if(Ye){const Ue=me?0:re;q.setIsGroupActive(Ye,Ue),q.setOpenTooltipId(te,Ue)}else{const qe=le>200?le:200;q.setIsGroupActive(Ye,qe),q.setOpenTooltipId(null,me?0:le)}else G(Ye,me?0:Ye?re:le)},[Q,q,re,te,le,G]),ie=h.useCallback(()=>he(!1),[he]),ye=h.useCallback(()=>he(!0),[he]),Ce=h.useCallback(()=>he(!0),[he]),Ae=h.useCallback(()=>he(!1),[he]);h.useEffect(()=>{if(!N)return;function Ye(me){if(!k)return;k===me.target||me.target instanceof Node&&k.contains(me.target)||(he(!1),window.removeEventListener("mousemove",Ye))}return window.addEventListener("mousemove",Ye),()=>{window.removeEventListener("mousemove",Ye)}},[N,k,he]),h.useEffect(()=>{m&&he(!1)},[m,he]),h.useEffect(()=>{p||he(!1)},[p,he]),h.useEffect(()=>V.setReference(k),[k,V]),h.useEffect(()=>{if(!K)return;function Ye(me){me.key==="Escape"&&he(!1,!0)}return window.addEventListener("keydown",Ye),()=>{window.removeEventListener("keydown",Ye)}},[he,K]);const xe=h.useCallback(Ye=>{A.current=Ye,L()},[L]),Ze=h.useCallback(Ye=>{j.current=Ye,V.setFloating(Ye)},[j,V]),rt=f==null?void 0:f.ref,at=h.useCallback(Ye=>{typeof rt=="function"?rt(Ye):rt&&(rt.current=Ye),T(Ye)},[rt]),nt=h.useMemo(()=>f?h.cloneElement(f,{onBlur:ie,onFocus:ye,onMouseEnter:Ce,onMouseLeave:Ae,ref:at}):null,[f,ie,ye,Ce,Ae,at]);if(!nt)return c.jsx(c.Fragment,{});if(m)return nt;const Kt=c.jsx(oQe,{"data-ui":"Tooltip",...S,ref:Ze,style:P,zOffset:_,children:c.jsxs(ee,{"data-ui":"Tooltip__card","data-placement":M,padding:g,radius:2,scheme:y,shadow:w,children:[p,c.jsx(eQe,{ref:xe,style:Y})]})});return c.jsxs(c.Fragment,{children:[nt,K&&c.jsx(c.Fragment,{children:b?c.jsx(vm,{__unstable_name:typeof b=="string"?b:void 0,children:Kt}):Kt})]})});var rY=Object.freeze,iQe=Object.defineProperty,Vj=(e,t)=>rY(iQe(e,"raw",{value:rY(t||e.slice())})),oY,iY,sY,aY;const sQe=O.div(oY||(oY=Vj([`
  line-height: 0;
`]))),aQe=O(F)(iY||(iY=Vj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),lQe=Xk(sY||(sY=Vj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),cQe=O(rj)(aY||(aY=Vj([`
  animation: `,` 500ms linear infinite;
`])),lQe);function uQe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(l=>{l.key==="Enter"&&!CZe(l.currentTarget)&&s()},[s]);return c.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function dQe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const fQe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],hQe="bottom-start",pQe=["bottom-start","top-start"],mQe=(e,t)=>t?t.value:e,gQe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,vQe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:l,id:u,listBox:d=pf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:x,openButton:b,options:y,padding:w=3,popover:_=pf,prefix:C,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=mQe,suffix:D,value:I,...P}=t,[M,$]=h.useReducer(dQe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:L,listFocused:H,query:U,value:z}=M,Y=h.useCallback(ze=>{let{value:mt}=ze;return c.jsx(ee,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:c.jsx(B,{size:a,textOverflow:"ellipsis",children:mt})})},[a,w]),te=typeof k=="function"?k:Y,N=typeof s=="function"?s:gQe,G=h.useRef(null),q=h.useRef(null),K=h.useRef(null),Q=h.useRef(null),X=h.useRef(!1),Z=h.useRef(z),re=h.useRef(I),le=h.useRef(!1),he=lr(n),ie="".concat(u,"-listbox"),ye=Array.isArray(y)?y:mw,Ce=ve(w),Ae=h.useMemo(()=>z!==null?ye.find(ze=>ze.value===z):void 0,[ye,z]),xe=h.useMemo(()=>ye.filter(ze=>U?N(U,ze):!0),[N,ye,U]),Ze=xe.length,rt=V?"".concat(u,"-option-").concat(V):void 0,at=U!==null&&f||L&&U!==null,nt=h.useCallback(ze=>{setTimeout(()=>{if(le.current)return;const mt=(j||[]).concat(G.current?[G.current]:[],q.current?[q.current]:[]);let Qn=!1;if(document.activeElement){for(const vn of mt)if(vn===document.activeElement||vn.contains(document.activeElement)){Qn=!0;break}}Qn===!1&&($({type:"root/blur"}),le.current=!1,g&&g(null),p&&p(ze))},0)},[p,g,j]),Kt=h.useCallback(ze=>{const mt=Q.current,Qn=ze.target instanceof HTMLElement?ze.target:null,vn=(mt==null?void 0:mt.contains(Qn))||!1;vn!==X.current&&(X.current=vn,$({type:"root/setListFocused",listFocused:vn}))},[]),Ye=h.useCallback(ze=>{var mt;$({type:"value/change",value:ze}),le.current=!1,x&&x(ze),Z.current=ze,m&&m(ze),g&&g(null),(mt=K.current)==null||mt.focus()},[m,x,g]),me=h.useCallback(ze=>{var mt,Qn;if(ze.key==="ArrowDown"){if(ze.preventDefault(),!Ze)return;const mo=xe.find(Ul=>Ul.value===V),ss=mo?xe.indexOf(mo):-1,Rs=xe[(ss+1)%Ze];Rs&&$({type:"root/setActiveValue",value:Rs.value,listFocused:!0});return}if(ze.key==="ArrowUp"){if(ze.preventDefault(),!Ze)return;const mo=xe.find(Ul=>Ul.value===V),ss=mo?xe.indexOf(mo):-1,Rs=xe[ss===-1?Ze-1:(Ze+ss-1)%Ze];Rs&&$({type:"root/setActiveValue",value:Rs.value,listFocused:!0});return}if(ze.key==="Escape"){$({type:"root/escape"}),le.current=!1,g&&g(null),(mt=K.current)==null||mt.focus();return}const vn=ze.target,li=Q.current;if((li===vn||li!=null&&li.contains(vn))&&!fQe.includes(ze.key)){(Qn=K.current)==null||Qn.focus();return}},[V,xe,Ze,g]),Ue=h.useCallback(ze=>{const mt=ze.currentTarget.value;$({type:"input/change",query:mt}),g&&g(mt)},[g]),qe=h.useCallback(ze=>{L||($({type:"input/focus"}),v&&v(ze))},[L,v]),Ne=h.useCallback(()=>{le.current=!0},[]),bt=h.useCallback(()=>{le.current=!1},[]),Tt=h.useCallback(()=>{var ze;$({type:"root/clear"}),Z.current="",m&&m(""),g&&g(null),(ze=K.current)==null||ze.focus()},[m,g]),St=h.useCallback(()=>{$({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==re.current){re.current=I,I!==void 0&&($({type:"value/change",value:I}),Z.current=I);return}I!==Z.current&&(Z.current=I||null,$({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!L&&Z.current&&$({type:"root/setActiveValue",value:Z.current})},[L]),h.useEffect(()=>{const ze=Q.current;if(!ze)return;const mt=xe.find(Qn=>Qn.value===V);if(mt){const Qn=xe.indexOf(mt),vn=ze.childNodes[Qn];if(vn){if(jZe(vn))return;ex(vn)}}},[V,xe]);const Zt=h.useCallback(ze=>{K.current=ze,he.current=ze},[he]),Oi=h.useMemo(()=>{if(!f&&!i&&z)return{"aria-label":"Clear",onFocus:St}},[i,St,f,z]),is=h.useMemo(()=>Ce.map(ze=>ze===0?0:ze===1||ze===2?1:ze-2),[Ce]),$s=h.useMemo(()=>Ce.map(ze=>Math.max(ze-1,0)),[Ce]),Ut=h.useMemo(()=>typeof b=="object"?b:pf,[b]),Ur=h.useCallback(ze=>{$({type:"root/open",query:z?A(z,Ae):""}),Ut.onClick&&Ut.onClick(ze),nR(()=>{var mt;return(mt=K.current)==null?void 0:mt.focus()})},[Ae,Ut,A,z]),Hl=h.useMemo(()=>!i&&!E&&b?c.jsx(F,{"aria-hidden":at,padding:is,children:c.jsx(ae,{"aria-label":"Open",disabled:at,fontSize:a,icon:Rl,mode:"bleed",padding:$s,...Ut,onClick:Ur})}):void 0,[i,at,a,Ur,b,is,$s,Ut,E]),rl=h.useMemo(()=>U===null?z!==null?A(z,Ae):"":U,[Ae,U,A,z]),ai=c.jsx(Zr,{...P,"aria-activedescendant":rt,"aria-autocomplete":"list","aria-expanded":at,"aria-owns":ie,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:Oi,customValidity:o,disabled:i,fontSize:a,icon:l,iconRight:f&&cQe,id:u,inputMode:"search",onChange:Ue,onClear:Tt,onFocus:qe,padding:Ce,prefix:C,radius:S,readOnly:E,ref:Zt,role:"combobox",spellCheck:!1,suffix:D||Hl,value:rl}),Rn=h.useCallback(ze=>{var mt;ze.key==="Tab"&&H&&((mt=K.current)==null||mt.focus())},[H]),Rr=h.useMemo(()=>xe.length===0?null:c.jsx(aQe,{"data-ui":"AutoComplete__results",onKeyDown:Rn,padding:1,...d,tabIndex:-1,children:c.jsx(ne,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ie,ref:Q,role:"listbox",space:1,children:xe.map(ze=>{const mt=V!==null?ze.value===V:Ae===ze;return c.jsx(uQe,{id:"".concat(u,"-option-").concat(ze.value),onSelect:Ye,selected:mt,value:ze.value,children:h.cloneElement(te(ze),{disabled:f,selected:mt,tabIndex:H&&mt?0:-1})},ze.value)})})}),[V,Ae,xe,Ye,Rn,u,d,ie,H,f,te]),Jr=h.useMemo(()=>T?T({content:Rr,hidden:!at,inputElement:K.current,onMouseEnter:Ne,onMouseLeave:bt},q):Ze===0?null:c.jsx(hn,{arrow:!1,constrainSize:!0,content:Rr,fallbackPlacements:pQe,matchReferenceWidth:!0,onMouseEnter:Ne,onMouseLeave:bt,open:at,overflow:"auto",placement:hQe,portal:!0,radius:S,ref:q,referenceElement:K.current,..._}),[Rr,at,Ze,Ne,bt,_,S,T]);return c.jsxs(sQe,{"data-ui":"Autocomplete",onBlur:nt,onFocus:Kt,onKeyDown:me,ref:G,children:[ai,Jr]})}),wL=vQe;var lY=Object.freeze,yQe=Object.defineProperty,Bxe=(e,t)=>lY(yQe(e,"raw",{value:lY(t||e.slice())})),cY,uY;const bQe=O.ol(cY||(cY=Bxe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),xQe=O(ae)(uY||(uY=Bxe([`
  appearance: none;
  margin: -4px;
`]))),_L=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,l=ve(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),x=h.useCallback(()=>d(!0),[]);zr(g,[f,m]);const b=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=b.length;if(o&&w>o){const _=Math.ceil(o/2),C=Math.floor(o/2);return[...b.slice(0,_-1),c.jsx(hn,{constrainSize:!0,content:c.jsx(ne,{as:"ol",overflow:"auto",padding:l,space:l,children:b.slice(_-1,w-C)}),open:u,placement:"top",portal:!0,ref:v,children:c.jsx(xQe,{fontSize:1,mode:"bleed",onClick:u?g:x,padding:1,ref:p,selected:u,text:""})},"button"),...b.slice(w-C)]}return b},[g,x,o,u,b,l]);return c.jsx(bQe,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,_)=>c.jsxs(h.Fragment,{children:[_>0&&c.jsx(F,{"aria-hidden":!0,as:"li",paddingX:l,children:i||c.jsx(B,{muted:!0,children:"/"})}),c.jsx(F,{as:"li",children:w})]},_))})});function wQe(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function _Qe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$position,r=>({"&&":{position:r}}))}const aR=Symbol.for("@sanity/ui/context/dialog");Qt[aR]=Qt[aR]||h.createContext({version:0});const Nxe=Qt[aR];function CQe(){return h.useContext(Nxe)}var dY=Object.freeze,SQe=Object.defineProperty,E0=(e,t)=>dY(SQe(e,"raw",{value:dY(t||e.slice())})),fY,hY,pY,mY,gY,vY;function lR(e,t,n){return!e||!t?!0:rR(e,n)||rR(t,n)}const EQe=O(es)(xxe,wQe,_Qe),kQe=O(sa)(fY||(fY=E0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),jQe=O(ee)(hY||(hY=E0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),TQe=O(W)(pY||(pY=E0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),AQe=O(ee)(mY||(mY=E0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),DQe=O(F)(gY||(gY=E0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),IQe=O(F)(vY||(vY=E0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),PQe=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:l,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:x,width:b}=t,y=Nj(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,_=Jf().element,C=ve(v),S=ve(x),E=ve(b),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D=Rc(),{isTopLayer:I}=D,P="".concat(d,"_label"),M=!!p&&i===!1,$=!!u||M;h.useEffect(()=>{o&&j.current&&ex(j.current)},[o,j]),Ds(h.useCallback(H=>{if(!I||!p)return;const U=document.activeElement;U&&!lR(_,w,U)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[_,I,p,w])),zr(h.useCallback(H=>{if(!I||!f)return;const U=H.target;U&&!lR(_,w,U)||f()},[_,I,f,w]),[k]);const V=h.useCallback(H=>{T(H),j.current=H},[j]),L=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return c.jsx(kQe,{"data-ui":"DialogCard",width:E,children:c.jsx(jQe,{radius:C,ref:V,scheme:g,shadow:S,children:c.jsxs(TQe,{direction:"column",children:[$&&c.jsx(AQe,{children:c.jsxs(W,{children:[c.jsx(F,{flex:1,padding:4,children:u&&c.jsx(B,{id:P,weight:"semibold",children:u})}),M&&c.jsx(F,{padding:2,children:c.jsx(ae,{"aria-label":"Close dialog",disabled:!p,icon:ua,mode:"bleed",onClick:p,padding:3})})]})}),c.jsx(DQe,{flex:1,ref:L,tabIndex:-1,children:s}),l&&c.jsx(IQe,{children:l})]})})})}),pa=h.forwardRef(function(t,n){var r,o;const i=CQe(),s=Is(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:l=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:x,onClickOutside:b,onClose:y,onFocus:w,padding:_=4,portal:C,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Nj(),D=C?((o=A.elements)==null?void 0:o[C])||null:A.element,I=Jf().element,P=ve(u),M=ve(_),$=ve(S),V=ve(j),L=ve(k),H=h.useRef(null),U=h.useRef(null),z=h.useRef(null),Y=h.useRef(null),te=h.useCallback(K=>{w==null||w(K);const Q=K.target,X=z.current;if(X&&Q===H.current){Axe(X);return}if(X&&Q===U.current){ex(X);return}Mc(K.target)&&(Y.current=K.target)},[w]),N="".concat(g,"_label"),G=h.useRef(),q=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const K=document.activeElement;if(K&&!lR(I,D,K)){const Q=Y.current;if(!Q||!document.body.contains(Q)){const X=z.current;X&&ex(X);return}Q.focus()}},0)},[I,D]);return c.jsx(vm,{__unstable_name:C,children:c.jsxs(EQe,{...T,$padding:M,$position:$,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:x,onClick:q,onFocus:te,ref:n,role:"dialog",zOffset:L,children:[c.jsx("div",{ref:H,tabIndex:0}),c.jsx(PQe,{__unstable_autoFocus:a,__unstable_hideCloseButton:l,contentRef:p,footer:m,header:v,id:g,onClickOutside:b,onClose:y,portal:C,radius:P,ref:z,scheme:E,shadow:d,width:V,children:f}),c.jsx("div",{ref:U,tabIndex:0})]})})});function OQe(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return c.jsx(Nxe.Provider,{value:o,children:t})}var yY=Object.freeze,$Qe=Object.defineProperty,zxe=(e,t)=>yY($Qe(e,"raw",{value:yY(t||e.slice())})),bY,xY;const RQe=O.kbd(bY||(bY=zxe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),MQe=O(Q$)(xY||(xY=zxe([`
  &:not([hidden]) {
    display: block;
  }
`]))),CL=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...l}=t,u=ve(a);return!o||o.length===0?c.jsx(c.Fragment,{}):c.jsx(RQe,{"data-ui":"Hotkeys",...l,ref:n,children:c.jsx(Jt,{as:"span",space:u,children:o.map((d,f)=>c.jsx(MQe,{fontSize:r,padding:i,radius:s,children:d},f))})})}),cR=Symbol.for("@sanity/ui/context/menu");Qt[cR]=Qt[cR]||h.createContext(null);const Vxe=Qt[cR];function FQe(e){return gL(e)&&e.getAttribute("data-disabled")!=="true"||vL(e)&&!e.disabled}function Ym(e){return e.filter(FQe)}function LQe(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const wY=[];function BQe(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,LQe(e,o));const r=(o,i)=>{const s=n.get(o)||wY,a=n.get(i)||wY,l=Math.max(s.length,a.length);for(let u=0;u<l;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function NQe(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,l]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(b=>{l(b),u.current=b},[]),m=h.useCallback((b,y)=>{if(!b)return()=>{};if(o.current.indexOf(b)===-1&&(o.current.push(b),BQe(i,o.current)),y){const w=o.current.indexOf(b);p(w)}return()=>{const w=o.current.indexOf(b);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(b=>{if(b.key==="Tab"){n&&n.focus();return}if(b.key==="Home"){b.preventDefault(),b.stopPropagation();const w=Ym(o.current)[0];if(!w)return;const _=o.current.indexOf(w);p(_);return}if(b.key==="End"){b.preventDefault(),b.stopPropagation();const y=Ym(o.current),w=y[y.length-1];if(!w)return;const _=o.current.indexOf(w);p(_);return}if(b.key==="ArrowUp"){b.preventDefault(),b.stopPropagation();const y=Ym(o.current),w=y.length;if(w===0)return;const _=o.current[u.current];let C=y.indexOf(_);C=(C-1+w)%w;const S=y[C],E=o.current.indexOf(S);p(E);return}if(b.key==="ArrowDown"){b.preventDefault(),b.stopPropagation();const y=Ym(o.current),w=y.length;if(w===0)return;const _=o.current[u.current];let C=y.indexOf(_);C=(C+1)%w;const S=y[C],E=o.current.indexOf(S);p(E);return}t&&t(b)},[t,n,p]),g=h.useCallback(b=>{const y=b.currentTarget,w=o.current.indexOf(y);p(w)},[p]),x=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const b=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const C=Ym(o.current)[0];if(C){const S=o.current.indexOf(C);p(S),u.current=S}}if(r==="last"){const _=Ym(o.current),C=_[_.length-1];if(C){const S=o.current.indexOf(C);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(b)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:x,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var _Y=Object.freeze,zQe=Object.defineProperty,VQe=(e,t)=>_Y(zQe(e,"raw",{value:_Y(t||e.slice())})),CY;const HQe=O(F)(CY||(CY=VQe([`
  outline: none;
  overflow: auto;
`]))),Ht=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:l,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...x}=t,b=lr(n),{isTopLayer:y}=Rc(),{activeElement:w,activeIndex:_,handleItemMouseEnter:C,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=NQe({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),b.current=I},[b,T]);h.useEffect(()=>{u&&u(_)},[_,u]),zr(h.useCallback(I=>y&&s&&s(I),[y,s]),[k]),Ds(h.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:_,mount:j,onClickOutside:s,onEscape:a,onItemClick:l,onItemMouseEnter:C,onItemMouseLeave:S,registerElement:m,onMouseEnter:C,onMouseLeave:S}),[w,_,j,C,S,s,a,l,m]);return c.jsx(Vxe.Provider,{value:D,children:c.jsx(HQe,{"data-ui":"Menu",...x,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:c.jsx(ne,{space:g,children:r})})})}),rn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[x,b]=h.useState(!1),[y,w]=h.useState(null),[_,C]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(x);h.useEffect(()=>{u&&x&&!j.current&&u()},[u,x]),h.useEffect(()=>{l&&!x&&j.current&&l()},[l,x]),h.useEffect(()=>{j.current=x},[x]);const k=h.useCallback(()=>{b(z=>!z),w(null)},[]),T=h.useCallback(z=>{if(z.key==="ArrowDown"||z.key==="Enter"||z.key===" "){z.preventDefault(),b(!0),w("first");return}if(z.key==="ArrowUp"){z.preventDefault(),b(!0),w("last");return}},[]),A=h.useCallback(z=>{const Y=z.target;if(Y instanceof Node&&!(_&&(Y===_||_.contains(Y)))){for(const te of S)if(Y===te||te.contains(Y))return;b(!1)}},[_,S]),D=h.useCallback(()=>{b(!1),!r&&_&&_.focus()},[_,r]),I=h.useCallback(z=>{const Y=z.relatedTarget;if(Y instanceof Node){for(const te of S)if(te===Y||te.contains(Y))return;b(!1)}},[S]),P=h.useCallback(()=>{b(!1),!r&&_&&_.focus()},[_,r]),M=h.useCallback(z=>(E(Y=>Y.concat([z])),()=>{E(Y=>Y.filter(te=>te!==z))}),[]),$=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:_,registerElement:M,shouldFocus:y}),[_,A,D,P,s,I,M,y]),V=Or.isElement(a)?h.cloneElement(a,$):null,L=h.useCallback(z=>{typeof n=="function"?n(z):n&&(n.current=z),C(z)},[n]),H=h.useMemo(()=>Or.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":x,ref:L,selected:x}):null,[i,k,T,s,x,L]),U=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return c.jsx(hn,{"data-ui":"MenuButton__popover",...U,content:V,open:x,children:H||c.jsx(c.Fragment,{})})});var SY=Object.freeze,UQe=Object.defineProperty,WQe=(e,t)=>SY(UQe(e,"raw",{value:SY(t||e.slice())})),EY;const Dr=O.hr(EY||(EY=WQe([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var kY=Object.freeze,YQe=Object.defineProperty,Hxe=(e,t)=>kY(YQe(e,"raw",{value:kY(t||e.slice())})),jY,TY;function qQe(){return de(jY||(jY=Hxe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function GQe(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,l=a?a[r]||a.default:s[r]||s.default;return de(TY||(TY=Hxe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Bt(i,l.enabled),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const Uxe=O(F)(td,qQe,GQe);function Wxe(){const e=h.useContext(Vxe);if(!e)throw new Error("useMenu(): missing context value");if(!x0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function SL(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:l=2,space:u=3,text:d,tone:f="default",...p}=e,m=Wxe(),{activeElement:v,mount:g,onClickOutside:x,onEscape:b,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:_}=m,[C,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===C,[A,D]=h.useState(!1),I=h.useCallback(U=>{D(!1),w(U),j(!0)},[w]),P=h.useCallback(U=>{U.key==="ArrowLeft"&&(U.stopPropagation(),j(!1),requestAnimationFrame(()=>{C==null||C.focus()}))},[C]),M=h.useCallback(U=>{i&&i(U),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),$=h.useCallback(()=>{j(!1),y&&y()},[y]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(C),[g,C]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const L=c.jsx(Ht,{onClickOutside:x,onEscape:b,onItemClick:$,onKeyDown:P,onMouseEnter:V,registerElement:_,shouldFocus:k.current,children:n}),H=h.useCallback(U=>{const z=U.currentTarget;if(document.activeElement===z&&U.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return c.jsx(hn,{...a,content:L,"data-ui":"MenuGroup__popover",open:E,children:c.jsx(Uxe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ve(l),$tone:f,onClick:M,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:c.jsx(F,{padding:s,children:c.jsxs(W,{children:[o&&c.jsxs(B,{size:r,children:[h.isValidElement(o)&&o,Or.isValidElementType(o)&&h.createElement(o)]}),c.jsx(F,{flex:1,marginLeft:o?u:void 0,children:c.jsx(B,{size:r,textOverflow:"ellipsis",children:d})}),c.jsx(F,{marginLeft:u,children:c.jsx(B,{size:r,children:c.jsx(Qu,{})})})]})})})})}const Me=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:l,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:x,paddingLeft:b,pressed:y,radius:w=2,selected:_,space:C=3,text:S,tone:E="default",...j}=t,k=Wxe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:P=k.onMouseLeave}=k,[M,$]=h.useState(null),V=!!T&&T===M;h.useEffect(()=>A(M,_),[A,M,_]);const L=lr(n),H=h.useCallback(Y=>{i||(d&&d(Y),D&&D())},[i,d,D]),U=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:x,paddingLeft:b}),[f,p,m,v,g,x,b]),z=h.useCallback(Y=>{L.current=Y,$(Y)},[L]);return c.jsxs(Uxe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ve(w),$padding:ve(0),$tone:E,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:P,ref:z,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||S||u)&&c.jsx(F,{as:"span",...U,children:c.jsxs(W,{as:"span",children:[l&&c.jsxs(B,{size:s,children:[h.isValidElement(l)&&l,Or.isValidElementType(l)&&h.createElement(l)]}),S&&c.jsx(F,{flex:1,marginLeft:l?C:void 0,marginRight:u?C:void 0,children:c.jsx(B,{size:s,textOverflow:"ellipsis",children:S})}),a&&c.jsx(F,{marginLeft:C,style:{marginTop:-4,marginBottom:-4},children:c.jsx(CL,{fontSize:s,keys:a})}),u&&c.jsxs(B,{size:s,children:[h.isValidElement(u)&&u,Or.isValidElementType(u)&&h.createElement(u)]})]})}),o&&c.jsx(F,{as:"span",...U,children:o})]})});var AY=Object.freeze,KQe=Object.defineProperty,D5=(e,t)=>AY(KQe(e,"raw",{value:AY(t||e.slice())})),DY,IY,PY,OY;const ZQe=Xk(DY||(DY=D5([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),XQe=de(IY||(IY=D5([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),ZQe),QQe=de(OY||(OY=D5([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?XQe:de(PY||(PY=D5([`
            background-color: var(--card-skeleton-color-from);
          `])))}),JQe=O(F)(td,QQe),k0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,l]=h.useState(!o);return h.useEffect(()=>{if(!o)return l(!0);const u=setTimeout(()=>{l(!0)},o);return()=>{clearTimeout(u)}},[o]),c.jsx(JQe,{...s,$animated:r,$radius:ve(i),$visible:a,ref:n})}),Hj=O(k0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return dt(o,t,a=>{const l=i.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),Si=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(Hj,{...o,$size:i,ref:n,$style:"text"})}),I5=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(Hj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(Hj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(Hj,{...o,$size:i,ref:n,$style:"code"})});var $Y=Object.freeze,eJe=Object.defineProperty,tJe=(e,t)=>$Y(eJe(e,"raw",{value:$Y(t||e.slice())})),RY;const nJe=O(ae)(RY||(RY=tJe([`
  max-width: 100%;
`]))),Yxe=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:l,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),x=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),b=lr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const y=w=>{m.current=w,b.current=w};return c.jsx(nJe,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:l,onBlur:g,onFocus:x,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var MY=Object.freeze,rJe=Object.defineProperty,oJe=(e,t)=>MY(rJe(e,"raw",{value:MY(t||e.slice())})),FY;function iJe(e){return!!e}const sJe=O(Jt)(FY||(FY=oJe([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),qxe=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),l=h.useMemo(()=>r.filter(iJe),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=l.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return c.jsx(sJe,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:l})}),aJe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return c.jsx(F,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var LY=Object.freeze,lJe=Object.defineProperty,Gxe=(e,t)=>LY(lJe(e,"raw",{value:LY(t||e.slice())})),BY,NY;const cJe={error:"critical",warning:"caution",success:"positive",info:"primary"},uJe={error:"alert",warning:"alert",success:"alert",info:"alert"},dJe=O(ee)(BY||(BY=Gxe([`
  pointer-events: all;
`]))),fJe=O(W)(NY||(NY=Gxe([`
  overflow-x: auto;
`])));function hJe(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?cJe[i]:"default",l=i?uJe[i]:"status";return c.jsx(dJe,{"data-ui":"Toast",role:l,...s,marginTop:3,radius:2,shadow:2,tone:a,children:c.jsxs(W,{align:"flex-start",children:[c.jsx(fJe,{flex:1,padding:3,children:c.jsxs(ne,{space:3,children:[o&&c.jsx(B,{weight:"semibold",children:o}),n&&c.jsx(B,{muted:!0,size:1,children:n})]})}),t&&c.jsx(F,{padding:1,children:c.jsx(ae,{as:"button",icon:ua,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function pJe(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const uR=Symbol.for("@sanity/ui/context/toast");Qt[uR]=Qt[uR]||h.createContext(null);const Kxe=Qt[uR];var zY=Object.freeze,mJe=Object.defineProperty,Zxe=(e,t)=>zY(mJe(e,"raw",{value:zY(t||e.slice())})),VY,HY;const gJe=O(es)(VY||(VY=Zxe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),vJe=O.div(HY||(HY=Zxe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let yJe=0;function EL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),l=h.useRef({}),u=h.useCallback(p=>{const m=b=>h.startTransition(()=>a(b)),v=p.id||String(yJe++),g=p.duration||5e3,x=()=>{var b;const y=(b=l.current[v])==null?void 0:b.timeoutId;m(w=>{const _=w.findIndex(C=>C.id===v);if(_>-1){const C=w.slice(0);return C.splice(_,1),C}return w}),y!==void 0&&(clearTimeout(y),delete l.current[v])};return m(b=>b.filter(y=>y.id!==v).concat([{dismiss:x,id:v,params:{...p,duration:g}}])),l.current[v]&&(clearTimeout(l.current[v].timeoutId),delete l.current[v]),l.current[v]={timeoutId:setTimeout(x,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(l.current))clearTimeout(p);l.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=pJe();return c.jsxs(Kxe.Provider,{value:d,children:[t,f&&c.jsx(gJe,{"data-ui":"ToastProvider",zOffset:i,children:c.jsx(vJe,{children:c.jsx(F,{padding:n,paddingX:r,paddingY:o,children:c.jsx(dL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return c.jsx(Mj.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:c.jsx(hJe,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Ai(){const e=h.useContext(Kxe);if(!e)throw new Error("useToast(): missing context value");if(!x0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function bJe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function xJe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function UY(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const dR=Symbol.for("@sanity/ui/context/tree");Qt[dR]=Qt[dR]||h.createContext(null);const P5=Qt[dR],Xxe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=lr(n),[l,u]=h.useState(null),d=h.useRef(l),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),x=h.useRef(v);h.useEffect(()=>{d.current=l},[l]),h.useEffect(()=>{x.current=v},[v]);const b=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),y=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:l||p[0]||null,level:0,path:f,registerItem:b,setExpanded:y,setFocusedElement:u,space:o,state:v}),[l,p,f,b,y,o,v]),_=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=xJe(x.current,p,d.current);j&&(UY(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=bJe(x.current,p,d.current);j&&(UY(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=x.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&x.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=x.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),C=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),c.jsx(P5.Provider,{value:w,children:c.jsx(ne,{as:"ul","data-ui":"Tree",...s,onFocus:C,onKeyDown:_,ref:a,role:"tree",space:o,children:r})})}));Xxe.displayName="Tree";var WY=Object.freeze,wJe=Object.defineProperty,kL=(e,t)=>WY(wJe(e,"raw",{value:WY(t||e.slice())})),YY,qY,GY;function _Je(){return de(YY||(YY=kL([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function CJe(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(qY||(qY=kL([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected))}function SJe(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(GY||(GY=kL([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ge(r[2]*t))}function Qxe(){const e=h.useContext(P5);if(!e)throw new Error("Tree: missing context value");return e}const KY=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=Qxe();return c.jsx(ne,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var ZY=Object.freeze,EJe=Object.defineProperty,kJe=(e,t)=>ZY(EJe(e,"raw",{value:ZY(t||e.slice())})),XY;const QY=h.memo(O.li(_Je,CJe)),JY=O(F).attrs({forwardedAs:"a"})(SJe),jJe=O(B)(XY||(XY=kJe([`
  & > svg {
    transition: transform 100ms;
  }
`]))),tx=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:l,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...x}=t,b=h.useRef(null),y=h.useRef(null),w=Qxe(),{path:_,registerItem:C,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>_.concat([k||""]),[k,_]),A=T.join("/"),D=w.state[A],I=w.focusedElement===b.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,M=w.focusedElement&&w.focusedElement===b.current?0:-1,$=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(U=>{d&&d(U);const z=U.target;z instanceof HTMLElement&&(z.getAttribute("data-ui")==="TreeItem"||z.closest('[data-ui="TreeItem__box"]'))&&(U.stopPropagation(),S(A,!P),E(b.current))},[P,A,d,S,E]),L=h.useCallback(U=>{if(I&&U.key==="Enter"){const z=y.current||b.current;z==null||z.click()}},[I]);h.useEffect(()=>{if(b.current)return C(b.current,T.join("/"),P,p)},[P,T,C,p]);const H=c.jsxs(W,{padding:f,children:[c.jsxs(F,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&c.jsx(B,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&c.jsx(jJe,{muted:u,size:o,weight:g,children:c.jsx(ij,{style:{transform:P?"rotate(90deg)":void 0}})})]}),c.jsx(F,{flex:1,children:c.jsx(B,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?c.jsxs(QY,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...x,onClick:V,ref:b,role:"none",children:[c.jsx(JY,{$level:w.level,"aria-expanded":P,as:l,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:M,children:H}),c.jsx(P5.Provider,{value:$,children:n&&c.jsx(KY,{hidden:!P,children:n})})]}):c.jsxs(QY,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...x,"aria-expanded":P,onClick:V,onKeyDown:L,ref:b,role:"treeitem",tabIndex:M,children:[c.jsx(JY,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),c.jsx(P5.Provider,{value:$,children:n&&c.jsx(KY,{expanded:P,children:n})})]})});function Ft(e){return typeof e=="function"}function jL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mI=jL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function O5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Hp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Op(s),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(g){i=g instanceof mI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Op(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{eq(v)}catch(g){i=i??[],g instanceof mI?i=Qo(Qo([],Ba(i)),Ba(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new mI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)eq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&O5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&O5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Jxe=Hp.EMPTY;function ewe(e){return e instanceof Hp||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function eq(e){Ft(e)?e():e.unsubscribe()}var twe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fR={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=fR.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Qo([e,t],Ba(n))):setTimeout.apply(void 0,Qo([e,t],Ba(n)))},clearTimeout:function(e){var t=fR.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nwe(e){fR.setTimeout(function(){throw e})}function Lf(){}function z2(e){e()}var TL=function(e){ca(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ewe(n)&&n.add(r)):r.destination=IJe,r}return t.create=function(n,r,o){return new nx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Hp),TJe=Function.prototype.bind;function gI(e,t){return TJe.call(e,t)}var AJe=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Q_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Q_(r)}else Q_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Q_(n)}},e}(),nx=function(e){ca(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&twe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&gI(n.next,a),error:n.error&&gI(n.error,a),complete:n.complete&&gI(n.complete,a)}):s=n}return i.destination=new AJe(s),i}return t}(TL);function Q_(e){nwe(e)}function DJe(e){throw e}var IJe={closed:!0,next:Lf,error:DJe,complete:Lf},AL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nd(e){return e}function PJe(e){return e.length===0?nd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var ut=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=$Je(t)?t:new nx(t,n,r);return z2(function(){var s=o,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=tq(n),new n(function(o,i){var s=new nx({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[AL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return PJe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=tq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function tq(e){var t;return(t=e??twe.Promise)!==null&&t!==void 0?t:Promise}function OJe(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function $Je(e){return e&&e instanceof TL||OJe(e)&&ewe(e)}function rwe(e){return Ft(e==null?void 0:e.lift)}function pn(e){return function(t){if(rwe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zt(e,t,n,r,o){return new owe(e,t,n,r,o)}var owe=function(e){ca(t,e);function t(n,r,o,i,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(TL);function ml(){return pn(function(e,t){var n=null;e._refCount++;var r=zt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var RJe=function(e){ca(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,rwe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Hp;var o=this.getSubject();r.add(this.source.subscribe(zt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Hp.EMPTY)}return r},t.prototype.refCount=function(){return ml()(this)},t}(ut),MJe=jL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Tr=function(e){ca(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new nq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new MJe},t.prototype.next=function(n){var r=this;z2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Op(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;z2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;z2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?Jxe:(this.currentObservers=null,a.push(n),new Hp(function(){r.currentObservers=null,O5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new ut;return n.source=this,n},t.create=function(n,r){return new nq(n,r)},t}(ut),nq=function(e){ca(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Jxe},t}(Tr),Uj=function(e){ca(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Tr),DL={now:function(){return(DL.delegate||Date).now()},delegate:void 0},iwe=function(e){ca(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=DL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),l=0;l<a.length&&!n.closed;l+=i?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var l=o.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},t}(Tr),FJe=function(e){ca(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Hp),$5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=$5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Qo([e,t],Ba(n))):setInterval.apply(void 0,Qo([e,t],Ba(n)))},clearInterval:function(e){var t=$5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},swe=function(e){ca(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),$5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&$5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,O5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(FJe),LJe=1,vI,hR={};function rq(e){return e in hR?(delete hR[e],!0):!1}var awe={setImmediate:function(e){var t=LJe++;return hR[t]=!0,vI||(vI=Promise.resolve()),vI.then(function(){return rq(t)&&e()}),t},clearImmediate:function(e){rq(e)}},BJe=awe.setImmediate,NJe=awe.clearImmediate,R5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=R5.delegate;return((n==null?void 0:n.setImmediate)||BJe).apply(void 0,Qo([],Ba(e)))},clearImmediate:function(e){var t=R5.delegate;return((t==null?void 0:t.clearImmediate)||NJe)(e)},delegate:void 0},zJe=function(e){ca(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=R5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(R5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(swe),oq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=DL.now,e}(),lwe=function(e){ca(t,e);function t(n,r){r===void 0&&(r=oq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(oq),VJe=function(e){ca(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(lwe),HJe=new VJe(zJe),Dc=new lwe(swe),UJe=Dc,Gn=new ut(function(e){return e.complete()});function WJe(e){return e?YJe(e):Gn}function YJe(e){return new ut(function(t){return e.schedule(function(){return t.complete()})})}function cwe(e){return e&&Ft(e.schedule)}function IL(e){return e[e.length-1]}function PL(e){return Ft(IL(e))?e.pop():void 0}function xw(e){return cwe(IL(e))?e.pop():void 0}function qJe(e,t){return typeof IL(e)=="number"?e.pop():t}var OL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function uwe(e){return Ft(e==null?void 0:e.then)}function dwe(e){return Ft(e[AL])}function fwe(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function hwe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function GJe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pwe=GJe();function mwe(e){return Ft(e==null?void 0:e[pwe])}function gwe(e){return TMe(this,arguments,function(){var n,r,o,i;return Lge(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,qg(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,qg(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,qg(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function vwe(e){return Ft(e==null?void 0:e.getReader)}function kn(e){if(e instanceof ut)return e;if(e!=null){if(dwe(e))return KJe(e);if(OL(e))return ZJe(e);if(uwe(e))return XJe(e);if(fwe(e))return ywe(e);if(mwe(e))return QJe(e);if(vwe(e))return JJe(e)}throw hwe(e)}function KJe(e){return new ut(function(t){var n=e[AL]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZJe(e){return new ut(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function XJe(e){return new ut(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,nwe)})}function QJe(e){return new ut(function(t){var n,r;try{for(var o=Op(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function ywe(e){return new ut(function(t){eet(e,t).catch(function(n){return t.error(n)})})}function JJe(e){return ywe(gwe(e))}function eet(e,t){var n,r,o,i;return jMe(this,void 0,void 0,function(){var s,a;return Lge(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=AMe(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Eu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function bwe(e,t){return t===void 0&&(t=0),pn(function(n,r){n.subscribe(zt(r,function(o){return Eu(r,e,function(){return r.next(o)},t)},function(){return Eu(r,e,function(){return r.complete()},t)},function(o){return Eu(r,e,function(){return r.error(o)},t)}))})}function xwe(e,t){return t===void 0&&(t=0),pn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function tet(e,t){return kn(e).pipe(xwe(t),bwe(t))}function net(e,t){return kn(e).pipe(xwe(t),bwe(t))}function ret(e,t){return new ut(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function oet(e,t){return new ut(function(n){var r;return Eu(n,t,function(){r=e[pwe](),Eu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function wwe(e,t){if(!e)throw new Error("Iterable cannot be null");return new ut(function(n){Eu(n,t,function(){var r=e[Symbol.asyncIterator]();Eu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function iet(e,t){return wwe(gwe(e),t)}function _we(e,t){if(e!=null){if(dwe(e))return tet(e,t);if(OL(e))return ret(e,t);if(uwe(e))return net(e,t);if(fwe(e))return wwe(e,t);if(mwe(e))return oet(e,t);if(vwe(e))return iet(e,t)}throw hwe(e)}function wr(e,t){return t?_we(e,t):kn(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xw(e);return wr(e,n)}function j0(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new ut(t?function(o){return t.schedule(r,0,o)}:r)}function set(e){return!!e&&(e instanceof ut||Ft(e.lift)&&Ft(e.subscribe))}var Wj=jL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function yo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Wj)}})})}function aet(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return pn(function(n,r){var o=0;n.subscribe(zt(r,function(i){r.next(e.call(t,i,o++))}))})}var cet=Array.isArray;function uet(e,t){return cet(t)?e.apply(void 0,Qo([],Ba(t))):e(t)}function $L(e){return ce(function(t){return uet(e,t)})}var det=Array.isArray,fet=Object.getPrototypeOf,het=Object.prototype,pet=Object.keys;function Cwe(e){if(e.length===1){var t=e[0];if(det(t))return{args:t,keys:null};if(met(t)){var n=pet(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function met(e){return e&&typeof e=="object"&&fet(e)===het}function Swe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function zo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xw(e),r=PL(e),o=Cwe(e),i=o.args,s=o.keys;if(i.length===0)return wr([],n);var a=new ut(get(i,n,s?function(l){return Swe(s,l)}:nd));return r?a.pipe($L(r)):a}function get(e,t,n){return n===void 0&&(n=nd),function(r){iq(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,l=function(d){iq(t,function(){var f=wr(e[d],t),p=!1;f.subscribe(zt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)l(u)},r)}}function iq(e,t,n){e?Eu(n,e,t):t()}function vet(e,t,n,r,o,i,s,a){var l=[],u=0,d=0,f=!1,p=function(){f&&!l.length&&!u&&t.complete()},m=function(g){return u<r?v(g):l.push(g)},v=function(g){i&&t.next(g),u++;var x=!1;kn(n(g,d++)).subscribe(zt(t,function(b){o==null||o(b),i?m(b):t.next(b)},function(){x=!0},void 0,function(){if(x)try{u--;for(var b=function(){var y=l.shift();s?Eu(t,s,function(){return v(y)}):v(y)};l.length&&u<r;)b();p()}catch(y){t.error(y)}}))};return e.subscribe(zt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function vt(e,t,n){return n===void 0&&(n=1/0),Ft(t)?vt(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(kn(e(r,o)))},n):(typeof t=="number"&&(n=t),pn(function(r,o){return vet(r,o,e,n)}))}function Yj(e){return e===void 0&&(e=1/0),vt(nd,e)}function yet(){return Yj(1)}function fo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yet()(wr(e,xw(e)))}function jo(e){return new ut(function(t){kn(e()).subscribe(t)})}function bet(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=PL(e),r=Cwe(e),o=r.args,i=r.keys,s=new ut(function(a){var l=o.length;if(!l){a.complete();return}for(var u=new Array(l),d=l,f=l,p=function(v){var g=!1;kn(o[v]).subscribe(zt(a,function(x){g||(g=!0,f--),u[v]=x},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?Swe(i,u):u),a.complete())}))},m=0;m<l;m++)p(m)});return n?s.pipe($L(n)):s}var xet=["addListener","removeListener"],wet=["addEventListener","removeEventListener"],_et=["on","off"];function Zi(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Zi(e,t,n).pipe($L(r));var o=Ba(ket(e)?wet.map(function(a){return function(l){return e[a](t,l,n)}}):Cet(e)?xet.map(sq(e,t)):Eet(e)?_et.map(sq(e,t)):[],2),i=o[0],s=o[1];if(!i&&OL(e))return vt(function(a){return Zi(a,t,n)})(kn(e));if(!i)throw new TypeError("Invalid event target");return new ut(function(a){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(l),function(){return s(l)}})}function sq(e,t){return function(n){return function(r){return e[n](t,r)}}}function Cet(e){return Ft(e.addListener)&&Ft(e.removeListener)}function Eet(e){return Ft(e.on)&&Ft(e.off)}function ket(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function jet(e,t,n){return jo(function(){return e()?t:n})}function Ei(e,t,n){e===void 0&&(e=0),n===void 0&&(n=UJe);var r=-1;return t!=null&&(cwe(t)?n=t:r=t),new ut(function(o){var i=aet(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function xn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xw(e),r=qJe(e,1/0),o=e;return o.length?o.length===1?kn(o[0]):Yj(r)(wr(o,n)):Gn}var RL=new ut(Lf),Tet=Array.isArray;function Aet(e){return e.length===1&&Tet(e[0])?e[0]:e}function Det(e,t){return function(n,r){return!e.call(t,n,r)}}function ct(e,t){return pn(function(n,r){var o=0;n.subscribe(zt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function Ewe(e,t,n){return[ct(t,n)(kn(e)),ct(Det(t,n))(kn(e))]}function Iet(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Aet(e),e.length===1?kn(e[0]):new ut(Pet(e))}function Pet(e){return function(t){for(var n=[],r=function(i){n.push(kn(e[i]).subscribe(zt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function Oet(e,t){return new ut(function(n){var r=e(),o=t(r),i=o?kn(o):Gn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function $et(e){return pn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},l=function(){i=null,s&&n.complete()};t.subscribe(zt(n,function(u){r=!0,o=u,i||kn(e(u)).subscribe(i=zt(n,a,l))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function Ret(e,t){return t===void 0&&(t=Dc),$et(function(){return Ei(e,t)})}function Xn(e){return pn(function(t,n){var r=null,o=!1,i;r=t.subscribe(zt(n,void 0,void 0,function(s){i=kn(e(s,Xn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function kwe(e,t,n,r,o){return function(i,s){var a=n,l=t,u=0;i.subscribe(zt(s,function(d){var f=u++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},o&&function(){a&&s.next(l),s.complete()}))}}function jwe(e,t){return pn(kwe(e,t,arguments.length>=2,!1,!0))}var Met=function(e,t){return e.push(t),e};function Twe(){return pn(function(e,t){jwe(Met,[])(e).subscribe(t)})}function pR(e,t){return Ft(t)?vt(e,t,1):vt(e,1)}function Fet(e){return new ut(function(t){return e.subscribe(t)})}var Let={connector:function(){return new Tr}};function Bet(e,t){t===void 0&&(t=Let);var n=t.connector;return pn(function(r,o){var i=n();kn(e(Fet(i))).subscribe(o),o.add(r.subscribe(i))})}function Awe(e){return pn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(zt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=zt(n,s,Lf),kn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function Dwe(e,t){return t===void 0&&(t=Dc),pn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function l(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(zt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function Iwe(e){return pn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function ys(e){return e<=0?function(){return Gn}:pn(function(t,n){var r=0;t.subscribe(zt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Net(){return pn(function(e,t){e.subscribe(zt(t,Lf))})}function ML(e){return ce(function(){return e})}function Pwe(e,t){return t?function(n){return fo(t.pipe(ys(1),Net()),n.pipe(Pwe(e)))}:vt(function(n,r){return kn(e(n,r)).pipe(ys(1),ML(n))})}function zet(e,t){t===void 0&&(t=Dc);var n=Ei(e,t);return Pwe(function(){return n})}function Vet(e,t){return pn(function(n,r){var o=new Set;n.subscribe(zt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&kn(t).subscribe(zt(r,function(){return o.clear()},Lf))})}function Kn(e,t){return t===void 0&&(t=nd),e=e??Het,pn(function(n,r){var o,i=!0;n.subscribe(zt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Het(e,t){return e===t}function Owe(e){return e===void 0&&(e=Uet),pn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function Uet(){return new Wj}function $we(e,t){return t?function(n){return n.pipe($we(function(r,o){return kn(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:pn(function(n,r){var o=0,i=null,s=!1;n.subscribe(zt(r,function(a){i||(i=zt(r,void 0,function(){i=null,s&&r.complete()}),kn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function Rwe(e){return pn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function Mwe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ct(function(o,i){return e(o,i,r)}):nd,ys(1),n?Iwe(t):Owe(function(){return new Wj}))}}function Fwe(e,t,n,r){return pn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,l=function(v){a.forEach(v),v(i)},u=function(v){return l(function(g){return g.error(v)})},d=0,f=!1,p=new owe(i,function(v){try{var g=e(v),x=a.get(g);if(!x){a.set(g,x=r?r():new Tr);var b=m(g,x);if(i.next(b),n){var y=zt(x,function(){x.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(kn(n(b)).subscribe(y))}}x.next(s?s(v):v)}catch(w){u(w)}},function(){return l(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var x=new ut(function(b){d++;var y=g.subscribe(b);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return x.key=v,x}})}function Wet(e){return e<=0?function(){return Gn}:pn(function(t,n){var r=[];t.subscribe(zt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Op(r),a=s.next();!a.done;a=s.next()){var l=a.value;n.next(l)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function Yet(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ct(function(o,i){return e(o,i,r)}):nd,Wet(1),n?Iwe(t):Owe(function(){return new Wj}))}}var qet=vt;function Up(e,t,n){return n===void 0&&(n=1/0),Ft(t)?vt(function(){return e},t,n):(typeof t=="number"&&(n=t),vt(function(){return e},n))}function Get(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?Bet(t,{connector:n}):function(r){return new RJe(r,n)}}function gl(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return Get(new iwe(e,t,r),o)(i)}}function Wa(e,t){return pn(kwe(e,t,arguments.length>=2,!0))}function Ya(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Tr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,x=function(){f==null||f.unsubscribe(),f=void 0},b=function(){x(),d=p=void 0,v=g=!1},y=function(){var w=d;b(),w==null||w.unsubscribe()};return pn(function(w,_){m++,!g&&!v&&x();var C=p=p??n();_.add(function(){m--,m===0&&!g&&!v&&(f=yI(y,l))}),C.subscribe(_),!d&&m>0&&(d=new nx({next:function(S){return C.next(S)},error:function(S){g=!0,x(),f=yI(b,o,S),C.error(S)},complete:function(){v=!0,x(),f=yI(b,s),C.complete()}}),kn(w).subscribe(d))})(u)}}function yI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new nx({next:function(){o.unsubscribe(),e()}});return kn(t.apply(void 0,Qo([],Ba(n)))).subscribe(o)}}function To(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,Ya({connector:function(){return new iwe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Lwe(e){return ct(function(t,n){return e<=n})}function ki(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xw(e);return pn(function(r,o){(n?fo(e,r,n):fo(e,r)).subscribe(o)})}function tt(e,t){return pn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(zt(r,function(l){o==null||o.unsubscribe();var u=0,d=i++;kn(e(l,d)).subscribe(o=zt(r,function(f){return r.next(t?t(l,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function Ket(e,t){return Ft(t)?tt(function(){return e},t):tt(function(){return e})}function FL(e){return pn(function(t,n){kn(e).subscribe(zt(n,function(){return n.complete()},Lf)),!n.closed&&t.subscribe(n)})}function Wn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?pn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(zt(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):nd}function Bwe(e,t){return pn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,l=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,l&&(x(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(b){return f=kn(e(b)).subscribe(zt(r,m,v))},x=function(){if(u){u=!1;var b=d;d=null,r.next(b),!p&&g(b)}};n.subscribe(zt(r,function(b){u=!0,d=b,!(f&&!f.closed)&&(s?x():g(b))},function(){p=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function M5(e,t,n){t===void 0&&(t=Dc);var r=Ei(e,t);return Bwe(function(){return r},n)}function tb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=PL(e);return pn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),l=!1,u=function(f){kn(e[f]).subscribe(zt(o,function(p){s[f]=p,!l&&!a[f]&&(a[f]=!0,(l=a.every(nd))&&(a=null))},Lf))},d=0;d<i;d++)u(d);r.subscribe(zt(o,function(f){if(l){var p=Qo([f],Ba(s));o.next(n?n.apply(void 0,Qo([],Ba(p))):p)}}))})}function Zet(e,t){var n=h.useCallback(function(){var s=new Uj(e),a=s.asObservable().pipe(Kn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var Nwe={exports:{}},zwe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=h;function Xet(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qet=typeof Object.is=="function"?Object.is:Xet,Jet=Hv.useState,ett=Hv.useEffect,ttt=Hv.useLayoutEffect,ntt=Hv.useDebugValue;function rtt(e,t){var n=t(),r=Jet({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return ttt(function(){o.value=n,o.getSnapshot=t,bI(o)&&i({inst:o})},[e,n,t]),ett(function(){return bI(o)&&i({inst:o}),e(function(){bI(o)&&i({inst:o})})},[e]),ntt(n),n}function bI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qet(e,n)}catch{return!0}}function ott(e,t){return t()}var itt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ott:rtt;zwe.useSyncExternalStore=Hv.useSyncExternalStore!==void 0?Hv.useSyncExternalStore:itt;Nwe.exports=zwe;var stt=Nwe.exports;function mR(e){return typeof e=="function"?e():e}var xI=new WeakMap;function aq(e,t){if(!xI.has(e)){var n={currentValue:t};n.observable=e.pipe(To({refCount:!0,bufferSize:1}),Wn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),xI.set(e,n)}return xI.get(e)}function att(e,t){var n=h.useMemo(function(){var s=aq(e,mR(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(l){var u=s.observable.subscribe(l);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=aq(e,mR(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),stt.useSyncExternalStore(o,r)}function Ao(e,t,n){return att(h.useMemo(function(){return mR(e)},t),n)}var ltt=function(e){return e};function Vwe(e){e===void 0&&(e=ltt);var t=new Tr;return[t.pipe(e),function(n){return t.next(n)}]}var ctt=[];function LL(e,t){t===void 0&&(t=ctt);var n=h.useRef();n.current||(n.current=Vwe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function utt(){this.__data__=[],this.size=0}var dtt=utt;function ftt(e,t){return e===t||e!==e&&t!==t}var qj=ftt,htt=qj;function ptt(e,t){for(var n=e.length;n--;)if(htt(e[n][0],t))return n;return-1}var Gj=ptt,mtt=Gj,gtt=Array.prototype,vtt=gtt.splice;function ytt(e){var t=this.__data__,n=mtt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():vtt.call(t,n,1),--this.size,!0}var btt=ytt,xtt=Gj;function wtt(e){var t=this.__data__,n=xtt(t,e);return n<0?void 0:t[n][1]}var _tt=wtt,Ctt=Gj;function Stt(e){return Ctt(this.__data__,e)>-1}var Ett=Stt,ktt=Gj;function jtt(e,t){var n=this.__data__,r=ktt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Ttt=jtt,Att=dtt,Dtt=btt,Itt=_tt,Ptt=Ett,Ott=Ttt;function T0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}T0.prototype.clear=Att;T0.prototype.delete=Dtt;T0.prototype.get=Itt;T0.prototype.has=Ptt;T0.prototype.set=Ott;var Kj=T0,$tt=Kj;function Rtt(){this.__data__=new $tt,this.size=0}var Mtt=Rtt;function Ftt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ltt=Ftt;function Btt(e){return this.__data__.get(e)}var Ntt=Btt;function ztt(e){return this.__data__.has(e)}var Vtt=ztt,Htt=qf,Utt=Za,Wtt="[object AsyncFunction]",Ytt="[object Function]",qtt="[object GeneratorFunction]",Gtt="[object Proxy]";function Ktt(e){if(!Utt(e))return!1;var t=Htt(e);return t==Ytt||t==qtt||t==Wtt||t==Gtt}var Hwe=Ktt,Ztt=$l,Xtt=Ztt["__core-js_shared__"],Qtt=Xtt,wI=Qtt,lq=function(){var e=/[^.]+$/.exec(wI&&wI.keys&&wI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jtt(e){return!!lq&&lq in e}var ent=Jtt,tnt=Function.prototype,nnt=tnt.toString;function rnt(e){if(e!=null){try{return nnt.call(e)}catch{}try{return e+""}catch{}}return""}var Uwe=rnt,ont=Hwe,int=ent,snt=Za,ant=Uwe,lnt=/[\\^$.*+?()[\]{}|]/g,cnt=/^\[object .+?Constructor\]$/,unt=Function.prototype,dnt=Object.prototype,fnt=unt.toString,hnt=dnt.hasOwnProperty,pnt=RegExp("^"+fnt.call(hnt).replace(lnt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mnt(e){if(!snt(e)||int(e))return!1;var t=ont(e)?pnt:cnt;return t.test(ant(e))}var gnt=mnt;function vnt(e,t){return e==null?void 0:e[t]}var ynt=vnt,bnt=gnt,xnt=ynt;function wnt(e,t){var n=xnt(e,t);return bnt(n)?n:void 0}var ym=wnt,_nt=ym,Cnt=$l,Snt=_nt(Cnt,"Map"),BL=Snt,Ent=ym,knt=Ent(Object,"create"),Zj=knt,cq=Zj;function jnt(){this.__data__=cq?cq(null):{},this.size=0}var Tnt=jnt;function Ant(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dnt=Ant,Int=Zj,Pnt="__lodash_hash_undefined__",Ont=Object.prototype,$nt=Ont.hasOwnProperty;function Rnt(e){var t=this.__data__;if(Int){var n=t[e];return n===Pnt?void 0:n}return $nt.call(t,e)?t[e]:void 0}var Mnt=Rnt,Fnt=Zj,Lnt=Object.prototype,Bnt=Lnt.hasOwnProperty;function Nnt(e){var t=this.__data__;return Fnt?t[e]!==void 0:Bnt.call(t,e)}var znt=Nnt,Vnt=Zj,Hnt="__lodash_hash_undefined__";function Unt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vnt&&t===void 0?Hnt:t,this}var Wnt=Unt,Ynt=Tnt,qnt=Dnt,Gnt=Mnt,Knt=znt,Znt=Wnt;function A0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}A0.prototype.clear=Ynt;A0.prototype.delete=qnt;A0.prototype.get=Gnt;A0.prototype.has=Knt;A0.prototype.set=Znt;var Xnt=A0,uq=Xnt,Qnt=Kj,Jnt=BL;function ert(){this.size=0,this.__data__={hash:new uq,map:new(Jnt||Qnt),string:new uq}}var trt=ert;function nrt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var rrt=nrt,ort=rrt;function irt(e,t){var n=e.__data__;return ort(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Xj=irt,srt=Xj;function art(e){var t=srt(this,e).delete(e);return this.size-=t?1:0,t}var lrt=art,crt=Xj;function urt(e){return crt(this,e).get(e)}var drt=urt,frt=Xj;function hrt(e){return frt(this,e).has(e)}var prt=hrt,mrt=Xj;function grt(e,t){var n=mrt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var vrt=grt,yrt=trt,brt=lrt,xrt=drt,wrt=prt,_rt=vrt;function D0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D0.prototype.clear=yrt;D0.prototype.delete=brt;D0.prototype.get=xrt;D0.prototype.has=wrt;D0.prototype.set=_rt;var NL=D0,Crt=Kj,Srt=BL,Ert=NL,krt=200;function jrt(e,t){var n=this.__data__;if(n instanceof Crt){var r=n.__data__;if(!Srt||r.length<krt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ert(r)}return n.set(e,t),this.size=n.size,this}var Trt=jrt,Art=Kj,Drt=Mtt,Irt=Ltt,Prt=Ntt,Ort=Vtt,$rt=Trt;function I0(e){var t=this.__data__=new Art(e);this.size=t.size}I0.prototype.clear=Drt;I0.prototype.delete=Irt;I0.prototype.get=Prt;I0.prototype.has=Ort;I0.prototype.set=$rt;var zL=I0,Rrt="__lodash_hash_undefined__";function Mrt(e){return this.__data__.set(e,Rrt),this}var Frt=Mrt;function Lrt(e){return this.__data__.has(e)}var Brt=Lrt,Nrt=NL,zrt=Frt,Vrt=Brt;function F5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Nrt;++t<n;)this.add(e[t])}F5.prototype.add=F5.prototype.push=zrt;F5.prototype.has=Vrt;var Qj=F5;function Hrt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Urt=Hrt;function Wrt(e,t){return e.has(t)}var Jj=Wrt,Yrt=Qj,qrt=Urt,Grt=Jj,Krt=1,Zrt=2;function Xrt(e,t,n,r,o,i){var s=n&Krt,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&Zrt?new Yrt:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var x=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!qrt(t,function(b,y){if(!Grt(m,y)&&(v===b||o(v,b,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Wwe=Xrt,Qrt=$l,Jrt=Qrt.Uint8Array,Ywe=Jrt;function eot(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var tot=eot;function not(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var VL=not,dq=f0,fq=Ywe,rot=qj,oot=Wwe,iot=tot,sot=VL,aot=1,lot=2,cot="[object Boolean]",uot="[object Date]",dot="[object Error]",fot="[object Map]",hot="[object Number]",pot="[object RegExp]",mot="[object Set]",got="[object String]",vot="[object Symbol]",yot="[object ArrayBuffer]",bot="[object DataView]",hq=dq?dq.prototype:void 0,_I=hq?hq.valueOf:void 0;function xot(e,t,n,r,o,i,s){switch(n){case bot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yot:return!(e.byteLength!=t.byteLength||!i(new fq(e),new fq(t)));case cot:case uot:case hot:return rot(+e,+t);case dot:return e.name==t.name&&e.message==t.message;case pot:case got:return e==t+"";case fot:var a=iot;case mot:var l=r&aot;if(a||(a=sot),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=lot,s.set(e,t);var d=oot(a(e),a(t),r,o,i,s);return s.delete(e),d;case vot:if(_I)return _I.call(e)==_I.call(t)}return!1}var wot=xot;function _ot(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var HL=_ot,Cot=Array.isArray,Qr=Cot,Sot=HL,Eot=Qr;function kot(e,t,n){var r=t(e);return Eot(e)?r:Sot(r,n(e))}var qwe=kot;function jot(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var Gwe=jot;function Tot(){return[]}var Kwe=Tot,Aot=Gwe,Dot=Kwe,Iot=Object.prototype,Pot=Iot.propertyIsEnumerable,pq=Object.getOwnPropertySymbols,Oot=pq?function(e){return e==null?[]:(e=Object(e),Aot(pq(e),function(t){return Pot.call(e,t)}))}:Dot,UL=Oot;function $ot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Rot=$ot,Mot=qf,Fot=Xa,Lot="[object Arguments]";function Bot(e){return Fot(e)&&Mot(e)==Lot}var Not=Bot,mq=Not,zot=Xa,Zwe=Object.prototype,Vot=Zwe.hasOwnProperty,Hot=Zwe.propertyIsEnumerable,Uot=mq(function(){return arguments}())?mq:function(e){return zot(e)&&Vot.call(e,"callee")&&!Hot.call(e,"callee")},eT=Uot,L5={exports:{}};function Wot(){return!1}var Yot=Wot;L5.exports;(function(e,t){var n=$l,r=Yot,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(L5,L5.exports);var tT=L5.exports,qot=9007199254740991,Got=/^(?:0|[1-9]\d*)$/;function Kot(e,t){var n=typeof e;return t=t??qot,!!t&&(n=="number"||n!="symbol"&&Got.test(e))&&e>-1&&e%1==0&&e<t}var nT=Kot,Zot=9007199254740991;function Xot(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zot}var WL=Xot,Qot=qf,Jot=WL,eit=Xa,tit="[object Arguments]",nit="[object Array]",rit="[object Boolean]",oit="[object Date]",iit="[object Error]",sit="[object Function]",ait="[object Map]",lit="[object Number]",cit="[object Object]",uit="[object RegExp]",dit="[object Set]",fit="[object String]",hit="[object WeakMap]",pit="[object ArrayBuffer]",mit="[object DataView]",git="[object Float32Array]",vit="[object Float64Array]",yit="[object Int8Array]",bit="[object Int16Array]",xit="[object Int32Array]",wit="[object Uint8Array]",_it="[object Uint8ClampedArray]",Cit="[object Uint16Array]",Sit="[object Uint32Array]",nr={};nr[git]=nr[vit]=nr[yit]=nr[bit]=nr[xit]=nr[wit]=nr[_it]=nr[Cit]=nr[Sit]=!0;nr[tit]=nr[nit]=nr[pit]=nr[rit]=nr[mit]=nr[oit]=nr[iit]=nr[sit]=nr[ait]=nr[lit]=nr[cit]=nr[uit]=nr[dit]=nr[fit]=nr[hit]=!1;function Eit(e){return eit(e)&&Jot(e.length)&&!!nr[Qot(e)]}var kit=Eit;function jit(e){return function(t){return e(t)}}var P0=jit,B5={exports:{}};B5.exports;(function(e,t){var n=Ige,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var l=o&&o.require&&o.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(B5,B5.exports);var YL=B5.exports,Tit=kit,Ait=P0,gq=YL,vq=gq&&gq.isTypedArray,Dit=vq?Ait(vq):Tit,qL=Dit,Iit=Rot,Pit=eT,Oit=Qr,$it=tT,Rit=nT,Mit=qL,Fit=Object.prototype,Lit=Fit.hasOwnProperty;function Bit(e,t){var n=Oit(e),r=!n&&Pit(e),o=!n&&!r&&$it(e),i=!n&&!r&&!o&&Mit(e),s=n||r||o||i,a=s?Iit(e.length,String):[],l=a.length;for(var u in e)(t||Lit.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rit(u,l)))&&a.push(u);return a}var Xwe=Bit,Nit=Object.prototype;function zit(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Nit;return e===n}var rT=zit;function Vit(e,t){return function(n){return e(t(n))}}var Qwe=Vit,Hit=Qwe,Uit=Hit(Object.keys,Object),Wit=Uit,Yit=rT,qit=Wit,Git=Object.prototype,Kit=Git.hasOwnProperty;function Zit(e){if(!Yit(e))return qit(e);var t=[];for(var n in Object(e))Kit.call(e,n)&&n!="constructor"&&t.push(n);return t}var Jwe=Zit,Xit=Hwe,Qit=WL;function Jit(e){return e!=null&&Qit(e.length)&&!Xit(e)}var eh=Jit,est=Xwe,tst=Jwe,nst=eh;function rst(e){return nst(e)?est(e):tst(e)}var th=rst,ost=qwe,ist=UL,sst=th;function ast(e){return ost(e,sst,ist)}var e_e=ast,yq=e_e,lst=1,cst=Object.prototype,ust=cst.hasOwnProperty;function dst(e,t,n,r,o,i){var s=n&lst,a=yq(e),l=a.length,u=yq(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=a[f];if(!(s?p in t:ust.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<l;){p=a[f];var b=e[p],y=t[p];if(r)var w=s?r(y,b,p,t,e,i):r(b,y,p,e,t,i);if(!(w===void 0?b===y||o(b,y,n,r,i):w)){g=!1;break}x||(x=p=="constructor")}if(g&&!x){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(g=!1)}return i.delete(e),i.delete(t),g}var fst=dst,hst=ym,pst=$l,mst=hst(pst,"DataView"),gst=mst,vst=ym,yst=$l,bst=vst(yst,"Promise"),xst=bst,wst=ym,_st=$l,Cst=wst(_st,"Set"),t_e=Cst,Sst=ym,Est=$l,kst=Sst(Est,"WeakMap"),n_e=kst,gR=gst,vR=BL,yR=xst,bR=t_e,xR=n_e,r_e=qf,O0=Uwe,bq="[object Map]",jst="[object Object]",xq="[object Promise]",wq="[object Set]",_q="[object WeakMap]",Cq="[object DataView]",Tst=O0(gR),Ast=O0(vR),Dst=O0(yR),Ist=O0(bR),Pst=O0(xR),Fh=r_e;(gR&&Fh(new gR(new ArrayBuffer(1)))!=Cq||vR&&Fh(new vR)!=bq||yR&&Fh(yR.resolve())!=xq||bR&&Fh(new bR)!=wq||xR&&Fh(new xR)!=_q)&&(Fh=function(e){var t=r_e(e),n=t==jst?e.constructor:void 0,r=n?O0(n):"";if(r)switch(r){case Tst:return Cq;case Ast:return bq;case Dst:return xq;case Ist:return wq;case Pst:return _q}return t});var ww=Fh,CI=zL,Ost=Wwe,$st=wot,Rst=fst,Sq=ww,Eq=Qr,kq=tT,Mst=qL,Fst=1,jq="[object Arguments]",Tq="[object Array]",J_="[object Object]",Lst=Object.prototype,Aq=Lst.hasOwnProperty;function Bst(e,t,n,r,o,i){var s=Eq(e),a=Eq(t),l=s?Tq:Sq(e),u=a?Tq:Sq(t);l=l==jq?J_:l,u=u==jq?J_:u;var d=l==J_,f=u==J_,p=l==u;if(p&&kq(e)){if(!kq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new CI),s||Mst(e)?Ost(e,t,n,r,o,i):$st(e,t,l,n,r,o,i);if(!(n&Fst)){var m=d&&Aq.call(e,"__wrapped__"),v=f&&Aq.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,x=v?t.value():t;return i||(i=new CI),o(g,x,n,r,i)}}return p?(i||(i=new CI),Rst(e,t,n,r,o,i)):!1}var Nst=Bst,zst=Nst,Dq=Xa;function o_e(e,t,n,r,o){return e===t?!0:e==null||t==null||!Dq(e)&&!Dq(t)?e!==e&&t!==t:zst(e,t,n,r,o_e,o)}var GL=o_e,Vst=GL;function Hst(e,t){return Vst(e,t)}var Ust=Hst;const Yt=Ie(Ust);var Ep=[],Wst=function(){return Ep.some(function(e){return e.activeTargets.length>0})},Yst=function(){return Ep.some(function(e){return e.skippedTargets.length>0})},Iq="ResizeObserver loop completed with undelivered notifications.",qst=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Iq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Iq),window.dispatchEvent(e)},rx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(rx||(rx={}));var kp=function(e){return Object.freeze(e)},Gst=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,kp(this)}return e}(),i_e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,kp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),KL=function(e){return e instanceof SVGElement&&"getBBox"in e},s_e=function(e){if(KL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Pq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Kst=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},nb=typeof window<"u"?window:{},eC=new WeakMap,Oq=/auto|scroll/,Zst=/^tb|vertical/,Xst=/msie|trident/i.test(nb.navigator&&nb.navigator.userAgent),ql=function(e){return parseFloat(e||"0")},nv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Gst((n?t:e)||0,(n?e:t)||0)},$q=kp({devicePixelContentBoxSize:nv(),borderBoxSize:nv(),contentBoxSize:nv(),contentRect:new i_e(0,0,0,0)}),a_e=function(e,t){if(t===void 0&&(t=!1),eC.has(e)&&!t)return eC.get(e);if(s_e(e))return eC.set(e,$q),$q;var n=getComputedStyle(e),r=KL(e)&&e.ownerSVGElement&&e.getBBox(),o=!Xst&&n.boxSizing==="border-box",i=Zst.test(n.writingMode||""),s=!r&&Oq.test(n.overflowY||""),a=!r&&Oq.test(n.overflowX||""),l=r?0:ql(n.paddingTop),u=r?0:ql(n.paddingRight),d=r?0:ql(n.paddingBottom),f=r?0:ql(n.paddingLeft),p=r?0:ql(n.borderTopWidth),m=r?0:ql(n.borderRightWidth),v=r?0:ql(n.borderBottomWidth),g=r?0:ql(n.borderLeftWidth),x=f+u,b=l+d,y=g+m,w=p+v,_=a?e.offsetHeight-w-e.clientHeight:0,C=s?e.offsetWidth-y-e.clientWidth:0,S=o?x+y:0,E=o?b+w:0,j=r?r.width:ql(n.width)-S-C,k=r?r.height:ql(n.height)-E-_,T=j+x+C+y,A=k+b+_+w,D=kp({devicePixelContentBoxSize:nv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:nv(T,A,i),contentBoxSize:nv(j,k,i),contentRect:new i_e(f,l,j,k)});return eC.set(e,D),D},l_e=function(e,t,n){var r=a_e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case rx.DEVICE_PIXEL_CONTENT_BOX:return s;case rx.BORDER_BOX:return o;default:return i}},Qst=function(){function e(t){var n=a_e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=kp([n.borderBoxSize]),this.contentBoxSize=kp([n.contentBoxSize]),this.devicePixelContentBoxSize=kp([n.devicePixelContentBoxSize])}return e}(),c_e=function(e){if(s_e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Jst=function(){var e=1/0,t=[];Ep.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new Qst(u.target),f=c_e(u.target);a.push(d),u.lastReportedSize=l_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Rq=function(e){Ep.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(c_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},eat=function(){var e=0;for(Rq(e);Wst();)e=Jst(),Rq(e);return Yst()&&qst(),e>0},SI,u_e=[],tat=function(){return u_e.splice(0).forEach(function(e){return e()})},nat=function(e){if(!SI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return tat()}).observe(n,r),SI=function(){n.textContent="".concat(t?t--:t++)}}u_e.push(e),SI()},rat=function(e){nat(function(){requestAnimationFrame(e)})},V2=0,oat=function(){return!!V2},iat=250,sat={attributes:!0,characterData:!0,childList:!0,subtree:!0},Mq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Fq=function(e){return e===void 0&&(e=0),Date.now()+e},EI=!1,aat=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=iat),!EI){EI=!0;var r=Fq(t);rat(function(){var o=!1;try{o=eat()}finally{if(EI=!1,t=r-Fq(),!oat())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,sat)};document.body?n():nb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Mq.forEach(function(n){return nb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Mq.forEach(function(n){return nb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),wR=new aat,Lq=function(e){!V2&&e>0&&wR.start(),V2+=e,!V2&&wR.stop()},lat=function(e){return!KL(e)&&!Kst(e)&&getComputedStyle(e).display==="inline"},cat=function(){function e(t,n){this.target=t,this.observedBox=n||rx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=l_e(this.target,this.observedBox,!0);return lat(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),uat=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),tC=new WeakMap,Bq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},nC=function(){function e(){}return e.connect=function(t,n){var r=new uat(t,n);tC.set(t,r)},e.observe=function(t,n,r){var o=tC.get(t),i=o.observationTargets.length===0;Bq(o.observationTargets,n)<0&&(i&&Ep.push(o),o.observationTargets.push(new cat(n,r&&r.box)),Lq(1),wR.schedule())},e.unobserve=function(t,n){var r=tC.get(t),o=Bq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Ep.splice(Ep.indexOf(r),1),r.observationTargets.splice(o,1),Lq(-1))},e.disconnect=function(t){var n=this,r=tC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),d_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");nC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Pq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");nC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Pq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");nC.unobserve(this,t)},e.prototype.disconnect=function(){nC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),dat=Rge,fat=Za,hat="Expected a function";function pat(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(hat);return fat(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),dat(e,t,{leading:r,maxWait:t,trailing:o})}var mat=pat;const oT=Ie(mat);var Nq=f0,gat=eT,vat=Qr,zq=Nq?Nq.isConcatSpreadable:void 0;function yat(e){return vat(e)||gat(e)||!!(zq&&e&&e[zq])}var bat=yat,xat=HL,wat=bat;function f_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=wat),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?f_e(a,t-1,n,r,o):xat(o,a):r||(o[o.length]=a)}return o}var $0=f_e;function _at(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Fc=_at,Cat=Qr,Sat=am,Eat=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kat=/^\w*$/;function jat(e,t){if(Cat(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Sat(e)?!0:kat.test(e)||!Eat.test(e)||t!=null&&e in Object(t)}var ZL=jat,h_e=NL,Tat="Expected a function";function XL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Tat);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(XL.Cache||h_e),n}XL.Cache=h_e;var p_e=XL;const iT=Ie(p_e);var Aat=p_e,Dat=500;function Iat(e){var t=Aat(e,function(r){return n.size===Dat&&n.clear(),r}),n=t.cache;return t}var Pat=Iat,Oat=Pat,$at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rat=/\\(\\)?/g,Mat=Oat(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($at,function(n,r,o,i){t.push(o?i.replace(Rat,"$1"):r||n)}),t}),m_e=Mat,Vq=f0,Fat=Fc,Lat=Qr,Bat=am,Nat=1/0,Hq=Vq?Vq.prototype:void 0,Uq=Hq?Hq.toString:void 0;function g_e(e){if(typeof e=="string")return e;if(Lat(e))return Fat(e,g_e)+"";if(Bat(e))return Uq?Uq.call(e):"";var t=e+"";return t=="0"&&1/e==-Nat?"-0":t}var v_e=g_e,zat=v_e;function Vat(e){return e==null?"":zat(e)}var Lc=Vat,Hat=Qr,Uat=ZL,Wat=m_e,Yat=Lc;function qat(e,t){return Hat(e)?e:Uat(e,t)?[e]:Wat(Yat(e))}var R0=qat,Gat=am,Kat=1/0;function Zat(e){if(typeof e=="string"||Gat(e))return e;var t=e+"";return t=="0"&&1/e==-Kat?"-0":t}var bm=Zat,Xat=R0,Qat=bm;function Jat(e,t){t=Xat(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Qat(t[n++])];return n&&n==r?e:void 0}var _w=Jat,elt=zL,tlt=GL,nlt=1,rlt=2;function olt(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var l=a[0],u=e[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new elt;if(r)var p=r(u,d,l,e,t,f);if(!(p===void 0?tlt(d,u,nlt|rlt,r,f):p))return!1}}return!0}var ilt=olt,slt=Za;function alt(e){return e===e&&!slt(e)}var y_e=alt,llt=y_e,clt=th;function ult(e){for(var t=clt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,llt(o)]}return t}var dlt=ult;function flt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var b_e=flt,hlt=ilt,plt=dlt,mlt=b_e;function glt(e){var t=plt(e);return t.length==1&&t[0][2]?mlt(t[0][0],t[0][1]):function(n){return n===e||hlt(n,e,t)}}var vlt=glt,ylt=_w;function blt(e,t,n){var r=e==null?void 0:ylt(e,t);return r===void 0?n:r}var x_e=blt;const Nn=Ie(x_e);function xlt(e,t){return e!=null&&t in Object(e)}var wlt=xlt,_lt=R0,Clt=eT,Slt=Qr,Elt=nT,klt=WL,jlt=bm;function Tlt(e,t,n){t=_lt(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=jlt(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&klt(o)&&Elt(s,o)&&(Slt(e)||Clt(e)))}var Alt=Tlt,Dlt=wlt,Ilt=Alt;function Plt(e,t){return e!=null&&Ilt(e,t,Dlt)}var w_e=Plt,Olt=GL,$lt=x_e,Rlt=w_e,Mlt=ZL,Flt=y_e,Llt=b_e,Blt=bm,Nlt=1,zlt=2;function Vlt(e,t){return Mlt(e)&&Flt(t)?Llt(Blt(e),t):function(n){var r=$lt(n,e);return r===void 0&&r===t?Rlt(n,e):Olt(t,r,Nlt|zlt)}}var Hlt=Vlt;function Ult(e){return e}var xm=Ult;const __e=Ie(xm);function Wlt(e){return function(t){return t==null?void 0:t[e]}}var Ylt=Wlt,qlt=_w;function Glt(e){return function(t){return qlt(t,e)}}var Klt=Glt,Zlt=Ylt,Xlt=Klt,Qlt=ZL,Jlt=bm;function ect(e){return Qlt(e)?Zlt(Jlt(e)):Xlt(e)}var tct=ect,nct=vlt,rct=Hlt,oct=xm,ict=Qr,sct=tct;function act(e){return typeof e=="function"?e:e==null?oct:typeof e=="object"?ict(e)?rct(e[0],e[1]):nct(e):sct(e)}var nh=act;function lct(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(n(i[l],l,i)===!1)break}return t}}var cct=lct,uct=cct,dct=uct(),fct=dct,hct=fct,pct=th;function mct(e,t){return e&&hct(e,t,pct)}var gct=mct,vct=eh;function yct(e,t){return function(n,r){if(n==null)return n;if(!vct(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var bct=yct,xct=gct,wct=bct,_ct=wct(xct),C_e=_ct,Cct=C_e,Sct=eh;function Ect(e,t){var n=-1,r=Sct(e)?Array(e.length):[];return Cct(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var S_e=Ect;function kct(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var jct=kct,Wq=am;function Tct(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=Wq(e),s=t!==void 0,a=t===null,l=t===t,u=Wq(t);if(!a&&!u&&!i&&e>t||i&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}var Act=Tct,Dct=Act;function Ict(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var l=Dct(o[r],i[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Pct=Ict,kI=Fc,Oct=_w,$ct=nh,Rct=S_e,Mct=jct,Fct=P0,Lct=Pct,Bct=xm,Nct=Qr;function zct(e,t,n){t.length?t=kI(t,function(i){return Nct(i)?function(s){return Oct(s,i.length===1?i[0]:i)}:i}):t=[Bct];var r=-1;t=kI(t,Fct($ct));var o=Rct(e,function(i,s,a){var l=kI(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return Mct(o,function(i,s){return Lct(i,s,n)})}var E_e=zct;function Vct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Hct=Vct,Uct=Hct,Yq=Math.max;function Wct(e,t,n){return t=Yq(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Yq(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),Uct(e,this,a)}}var k_e=Wct;function Yct(e){return function(){return e}}var qct=Yct,Gct=ym,Kct=function(){try{var e=Gct(Object,"defineProperty");return e({},"",{}),e}catch{}}(),j_e=Kct,Zct=qct,qq=j_e,Xct=xm,Qct=qq?function(e,t){return qq(e,"toString",{configurable:!0,enumerable:!1,value:Zct(t),writable:!0})}:Xct,Jct=Qct,eut=800,tut=16,nut=Date.now;function rut(e){var t=0,n=0;return function(){var r=nut(),o=tut-(r-n);if(n=r,o>0){if(++t>=eut)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var out=rut,iut=Jct,sut=out,aut=sut(iut),T_e=aut,lut=xm,cut=k_e,uut=T_e;function dut(e,t){return uut(cut(e,t,lut),e+"")}var M0=dut,fut=qj,hut=eh,put=nT,mut=Za;function gut(e,t,n){if(!mut(n))return!1;var r=typeof t;return(r=="number"?hut(n)&&put(t,n.length):r=="string"&&t in n)?fut(n[t],e):!1}var QL=gut,vut=$0,yut=E_e,but=M0,Gq=QL,xut=but(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Gq(e,t[0],t[1])?t=[]:n>2&&Gq(t[0],t[1],t[2])&&(t=[t[0]]),yut(e,vut(t,1),[])}),wut=xut;const wm=Ie(wut);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N5(){return N5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),l=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!l)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,x){for(g=String(g);g.length<x;)g=" "+g;return g};console.info("%c "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function jI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var _ut=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cut=function(t){return t},A_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Sut=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var l=a.width,u=a.height;n({width:Math.round(l),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Eut=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},kut=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},D_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,l=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=l,i))},jut=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=z5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Cut,rangeExtractor:A_e,onChange:function(){},measureElement:kut,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=qm(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var l=r[a];if(!i.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=qm(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=l(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),x=typeof g=="number"?g:n.options.estimateSize(f),b=v+x,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:x,end:b,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=qm(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Tut({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=qm(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=qm(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(z5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var l=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(a.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=qm(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var l=r[s],u=o[l];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return jI(o[I_e(0,o.length-1,function(i){return jI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=a-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=jI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,l=i.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,l=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];_ut(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},I_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Tut(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=I_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Aut=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Dut(e){var t=h.useReducer(function(){return{}},{})[1],n=N5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new jut(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Aut(function(){return o._willUpdate()}),o}function P_e(e){return Dut(N5({observeElementRect:Sut,observeElementOffset:Eut,scrollToFn:D_e},e))}var Iut=Put;function Put(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,l=typeof t;return a!==l?!1:Rut(a)?n?n(e,t):e===t:i?Out(e,t,n):$ut(e,t,n)}function Out(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function $ut(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Rut(e){return e!=="function"&&e!=="object"}const Bf=Ie(Iut);var _R={exports:{}},TI,Kq;function Mut(){if(Kq)return TI;Kq=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;TI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return TI}function Fut(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Mut(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,x=Number(new Date),b=x-(d||x);g.diff=b,g.prev=d,g.curr=x,d=x,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(_,C){if(_==="%%")return _;y++;var S=n.formatters[C];if(typeof S=="function"){var E=m[y];_=S.call(g,E),m.splice(y,1),y--}return _}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Lut=Fut;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=Lut(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(_R,_R.exports);var But=_R.exports;const _s=Ie(But);var Nut=$0;function zut(e){var t=e==null?0:e.length;return t?Nut(e,1):[]}var O_e=zut;const En=Ie(O_e);function Vut(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var $_e=Vut;function Hut(e){return e!==e}var Uut=Hut;function Wut(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var Yut=Wut,qut=$_e,Gut=Uut,Kut=Yut;function Zut(e,t,n){return t===t?Kut(e,t,n):qut(e,Gut,n)}var JL=Zut,Xut=JL;function Qut(e,t){var n=e==null?0:e.length;return!!n&&Xut(e,t,0)>-1}var e8=Qut;function Jut(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var t8=Jut,edt=Qj,tdt=e8,ndt=t8,rdt=Fc,odt=P0,idt=Jj,sdt=200;function adt(e,t,n,r){var o=-1,i=tdt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=rdt(t,odt(n))),r?(i=ndt,s=!1):t.length>=sdt&&(i=idt,s=!1,t=new edt(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;l.push(d)}else i(t,f,r)||l.push(d)}return l}var R_e=adt,ldt=eh,cdt=Xa;function udt(e){return cdt(e)&&ldt(e)}var sT=udt,ddt=R_e,fdt=$0,hdt=M0,Zq=sT,pdt=hdt(function(e,t){return Zq(e)?ddt(e,fdt(t,1,Zq,!0)):[]}),mdt=pdt;const ox=Ie(mdt);var gdt=Qj,vdt=e8,ydt=t8,bdt=Fc,xdt=P0,Xq=Jj,wdt=Math.min;function _dt(e,t,n){for(var r=n?ydt:vdt,o=e[0].length,i=e.length,s=i,a=Array(i),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=bdt(d,xdt(t))),l=wdt(d.length,l),a[s]=!n&&(t||o>=120&&d.length>=120)?new gdt(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<l;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?Xq(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?Xq(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Cdt=_dt,Sdt=sT;function Edt(e){return Sdt(e)?e:[]}var kdt=Edt,jdt=Fc,Tdt=Cdt,Adt=M0,Ddt=kdt,Idt=Adt(function(e){var t=jdt(e,Ddt);return t.length&&t[0]===e[0]?Tdt(t):[]}),Pdt=Idt;const V5=Ie(Pdt);var Odt=Qwe,$dt=Odt(Object.getPrototypeOf,Object),n8=$dt,Rdt=qf,Mdt=n8,Fdt=Xa,Ldt="[object Object]",Bdt=Function.prototype,Ndt=Object.prototype,M_e=Bdt.toString,zdt=Ndt.hasOwnProperty,Vdt=M_e.call(Object);function Hdt(e){if(!Fdt(e)||Rdt(e)!=Ldt)return!1;var t=Mdt(e);if(t===null)return!0;var n=zdt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&M_e.call(n)==Vdt}var F_e=Hdt;const _r=Ie(F_e);var Qq=j_e;function Udt(e,t,n){t=="__proto__"&&Qq?Qq(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var aT=Udt,Wdt=aT,Ydt=qj,qdt=Object.prototype,Gdt=qdt.hasOwnProperty;function Kdt(e,t,n){var r=e[t];(!(Gdt.call(e,t)&&Ydt(r,n))||n===void 0&&!(t in e))&&Wdt(e,t,n)}var r8=Kdt,Zdt=r8,Xdt=R0,Qdt=nT,Jq=Za,Jdt=bm;function eft(e,t,n,r){if(!Jq(e))return e;t=Xdt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var l=Jdt(t[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=s){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=Jq(d)?d:Qdt(t[o+1])?[]:{})}Zdt(a,l,u),a=a[l]}return e}var tft=eft,nft=_w,rft=tft,oft=R0;function ift(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=nft(e,s);n(a,s)&&rft(i,oft(s,e),a)}return i}var L_e=ift,sft=L_e,aft=w_e;function lft(e,t){return sft(e,t,function(n,r){return aft(e,r)})}var cft=lft,uft=O_e,dft=k_e,fft=T_e;function hft(e){return fft(dft(e,void 0,uft),e+"")}var o8=hft,pft=cft,mft=o8,gft=mft(function(e,t){return e==null?{}:pft(e,t)}),vft=gft;const Ct=Ie(vft),i8=oe.createContext(null);function rd(){const e=h.useContext(i8);if(!e)throw new Error("Router: missing context value");return e}function yft(e){return e.button===0}function bft(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=rd();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(bft(a)||!yft(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Cw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=rd(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:l}=s8({href:a,onClick:n,replace:o,target:i});return{onClick:l,href:a}}const _m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:l}=Cw({intent:r,params:o,target:i,onClick:t.onClick});return c.jsx("a",{...s,href:l,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:l}=s8({onClick:r,href:o,target:i,replace:s});return c.jsx("a",{...a,onClick:l,href:o,target:i,ref:n})});const eG=Object.prototype.hasOwnProperty,xft=eG.call.bind(eG);function wft(e){for(const t in e)if(xft(e,t))return!1;return!0}function tG(e,t,n){return n&&{...e,[t]:n}}function _ft(e){const{children:t,scope:n}=e,r=rd(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=wft(u)?{}:tG(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=tG(r.state,n,u);i(f,d)},[i,r.state,n]),l=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return c.jsx(i8.Provider,{value:l,children:t})}function Cft(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),l=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return c.jsx(i8.Provider,{value:l,children:e.children})}const nG={};function B_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=rd(),a=h.useMemo(()=>s(i?nG:r||nG),[s,r,i]),{onClick:l}=s8({href:a,onClick:t,replace:n,target:o});return{onClick:l,href:a}}const lT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...l}=t,{onClick:u,href:d}=B_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return c.jsx("a",{...l,href:d,onClick:u,ref:n})}),Sft=/^[a-zA-Z0-9_-]+$/;function Eft(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Sft.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function kft(e){const[t]=e.split("?"),n=t.split("/").map(Eft).filter(Boolean);return{raw:e,segments:n}}const H5=_s("state-router");function CR(e){return Array.isArray(e)?e:e?[e]:[]}function N_e(e,t){const n=t.split("/").filter(Boolean),r=e.route.segments.length;if(n.length<r)return null;const o={};if(!e.route.segments.every((d,f)=>{if(d.type==="dir")return d.name===n[f];const p=e.transform&&e.transform[d.name];return o[d.name]=p?p.toState(n[f]):n[f],!0}))return null;const s=n.slice(r);let a=null;if((typeof e.children=="function"?CR(e.children(o)):e.children).some(d=>{if(d)return a=N_e(d,s.join("/")),a}),s.length>0&&!a)return null;const u={...o,...a||{}};return e.scope?{[e.scope]:u}:u}function jft(e,t){H5("resolving state from path %s",t);const n=N_e(e,t.split("?")[0]);return H5("resolved: %o",n||null),n||null}function rG(e){return _r(e)}function Gm(e,t,n){return{nodes:e,missing:t,remaining:n}}function z_e(e,t){if(!t)return Gm([],[],[]);const n=e.scope?t[e.scope]:t,r=e.route.segments.filter(f=>f.type==="param").map(f=>f.name),o=rG(n)?Object.keys(n):[],i=V5(o,r),s=ox(r,i),a=ox(o,i);if(s.length>0)return Gm([],s,[]);if(a.length===0)return Gm([e],[],[]);const l=CR((typeof e.children=="function"?e.children(rG(n)?n:{}):e.children)||[]);if(a.length>0&&l.length===0)return Gm([],a,[]);const u=Ct(n,a);let d={nodes:[],remaining:[],missing:[]};return CR(l).some(f=>(d=z_e(f,u),d.nodes.length>0)),d.nodes.length===0?Gm([],s,a):Gm([e,...d.nodes],d.missing,d.remaining)}function Tft(e,t){H5("Resolving path from state %o",t);const n=z_e(e,t);if(n.remaining.length>0){const i=n.remaining;throw new Error("Unable to find matching route for state. Could not map the following state key".concat(i.length==1?"":"s"," to a valid url: ").concat(i.join(", ")))}if(n.nodes.length===0)throw new Error("Unable to resolve path from given state: ".concat(JSON.stringify(t)));let r=t;const o=En(n.nodes.map(i=>(i.scope&&i.scope in r&&(r=r[i.scope]),i.route.segments.map(s=>{if(s.type==="dir")return s.name;const a=i.transform&&i.transform[s.name];return a?a.toPath(r[s.name]):r[s.name]})))).join("/");return H5("Resolved to /%s",o),"/".concat(o)}function Aft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Dft(e){return e?btoa(JSON.stringify(e)):""}function Ift(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Pft(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const gi={create:(e,t,n)=>aG(iG(e,t,n)),intents:e=>{const t=$ft(e).join("/");return gi.create("".concat(t,"/:intent"),[gi.create(":params",{transform:{params:{toState:Ift,toPath:Pft}}},[gi.create(":payload",{transform:{payload:{toState:Aft,toPath:Dft}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=iG(...n);return aG({...o,scope:e})}};function oG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Oft(e){return e&&"_isRoute"in e}function iG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Oft(t)?{path:e,children:oG(t)}:n?{path:e,...t,children:oG(n)}:{path:e,...t}}function $ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const Rft={};function sG(e){return e.split("/").every(t=>!t)}function aG(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=kft(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return Tft(this,s)},decode(s){return jft(this,s)},isRoot:sG,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(Rft)},getRedirectBase(s){if(sG(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function cT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:__e;const{state:t}=rd();return h.useMemo(()=>e(t),[e,t])}function Mft(e){function t(n){const r=rd();return c.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}Mft(e=>e.children(e.router));function Fft(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}var SR="data-focus-lock",V_e="data-focus-lock-disabled",Lft="data-no-focus-lock",Bft="data-autofocus-inside",Nft="data-no-autofocus";function zft(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vft(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function Hft(e,t){return Vft(t||null,function(n){return e.forEach(function(r){return zft(r,n)})})}var AI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function H_e(e){return e}function U_e(e,t){t===void 0&&(t=H_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function a8(e,t){return t===void 0&&(t=H_e),U_e(e,t)}function Uft(e){e===void 0&&(e={});var t=U_e(null);return t.options=Co({async:!0,ssr:!1},e),t}var W_e=a8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),Y_e=a8(),Wft=a8(),Yft=Uft({async:!0}),qft=[],l8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),l=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var x=t.group,b=t.className,y=t.whiteList,w=t.hasPositiveIndices,_=t.shards,C=_===void 0?qft:_,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,M=h.useState({}),$=M[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),l.current=!0},[I]),L=h.useCallback(function(){l.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(K){var Q=u.current;if(Q&&Q.focus){var X=typeof A=="function"?A(Q):A;if(X){var Z=typeof X=="object"?X:void 0;u.current=null,K?Promise.resolve().then(function(){return Q.focus(Z)}):Q.focus(Z)}}},[A]),U=h.useCallback(function(K){l.current&&W_e.useMedium(K)},[]),z=Y_e.useMedium,Y=h.useCallback(function(K){a.current!==K&&(a.current=K,s(K))},[]),te=Lu((r={},r[V_e]=f&&"disabled",r[SR]=x,r),k),N=p!==!0,G=N&&p!=="tail",q=Hft([n,Y]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:AI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:AI}):null],!f&&h.createElement(T,{id:$,sideCar:Yft,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:y,shards:C,onActivation:V,onDeactivation:L,returnFocus:H,focusOptions:D}),h.createElement(E,Lu({ref:q},te,{className:b,onBlur:z,onFocus:U}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:AI}))});l8.propTypes={};l8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const q_e=l8;function U5(e,t){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},U5(e,t)}function Gft(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U5(e,t)}function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Kft(e,t){if(jl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_e(e){var t=Kft(e,"string");return jl(t)==="symbol"?t:String(t)}function Re(e,t,n){return t=G_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zft(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var l=function(u){Gft(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return oe.createElement(o,this.props)},d}(h.PureComponent);return Re(l,"displayName","SideEffect("+n(o)+")"),l}}var Bc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},W5=function(e){return Array.isArray(e)?e:[e]},K_e=function(e){return Array.isArray(e)?e[0]:e},Xft=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Z_e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},X_e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Qft=function(e,t){return!e||X_e(e)||!Xft(e)&&t(Z_e(e))},Q_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Qft(t,Q_e.bind(void 0,e));return e.set(t,r),r},Jft=function(e,t){return e&&!X_e(e)?nht(e)?t(Z_e(e)):!1:!0},J_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Jft(t,J_e.bind(void 0,e));return e.set(t,r),r},eCe=function(e){return e.dataset},eht=function(e){return e.tagName==="BUTTON"},tCe=function(e){return e.tagName==="INPUT"},nCe=function(e){return tCe(e)&&e.type==="radio"},tht=function(e){return!((tCe(e)||eht(e))&&(e.type==="hidden"||e.disabled))},nht=function(e){var t=e.getAttribute(Nft);return![!0,"true",""].includes(t)},c8=function(e){var t;return!!(e&&(!((t=eCe(e))===null||t===void 0)&&t.focusGuard))},Y5=function(e){return!c8(e)},rht=function(e){return!!e},oht=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},rCe=function(e,t,n){return Bc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(oht)},iht=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],u8=iht.join(","),sht="".concat(u8,", [data-focus-guard]"),oCe=function(e,t){return Bc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?sht:u8)?[r]:[],oCe(r))},[])},aht=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?uT([e.contentDocument.body],t):[e]},uT=function(e,t){return e.reduce(function(n,r){var o,i=oCe(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return aht(a,t)}));return n.concat(s,r.parentNode?Bc(r.parentNode.querySelectorAll(u8)).filter(function(a){return a===r}):[])},[])},lht=function(e){var t=e.querySelectorAll("[".concat(Bft,"]"));return Bc(t).map(function(n){return uT([n])}).reduce(function(n,r){return n.concat(r)},[])},d8=function(e,t){return Bc(e).filter(function(n){return Q_e(t,n)}).filter(function(n){return tht(n)})},lG=function(e,t){return t===void 0&&(t=new Map),Bc(e).filter(function(n){return J_e(t,n)})},ER=function(e,t,n){return rCe(d8(uT(e,n),t),!0,n)},cG=function(e,t){return rCe(d8(uT(e),t),!1)},cht=function(e,t){return d8(lht(e),t)},rv=function(e,t){return e.shadowRoot?rv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Bc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?rv(o,t):!1}return rv(n,t)})},uht=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},iCe=function(e){return e.parentNode?iCe(e.parentNode):e},f8=function(e){var t=W5(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(SR);return n.push.apply(n,o?uht(Bc(iCe(r).querySelectorAll("[".concat(SR,'="').concat(o,'"]:not([').concat(V_e,'="disabled"])')))):[r]),n},[])},dht=function(e){try{return e()}catch{return}},ix=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?ix(t.shadowRoot):t instanceof HTMLIFrameElement&&dht(function(){return t.contentWindow.document})?ix(t.contentWindow.document):t}},fht=function(e,t){return e===t},hht=function(e,t){return!!Bc(e.querySelectorAll("iframe")).some(function(n){return fht(n,t)})},sCe=function(e,t){return t===void 0&&(t=ix(K_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:f8(e).some(function(n){return rv(n,t)||hht(n,t)})},pht=function(e){e===void 0&&(e=document);var t=ix(e);return t?Bc(e.querySelectorAll("[".concat(Lft,"]"))).some(function(n){return rv(n,t)}):!1},mht=function(e,t){return t.filter(nCe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},h8=function(e,t){return nCe(e)&&e.name?mht(e,t):e},ght=function(e){var t=new Set;return e.forEach(function(n){return t.add(h8(n,e))}),e.filter(function(n){return t.has(n)})},uG=function(e){return e[0]&&e.length>1?h8(e[0],e):e[0]},dG=function(e,t){return e.length>1?e.indexOf(h8(e[t],e)):t},aCe="NEW_FOCUS",vht=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=c8(n);if(!(n&&e.indexOf(n)>=0)){var l=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):l,d=r?e.indexOf(r):-1,f=l-u,p=t.indexOf(i),m=t.indexOf(s),v=ght(t),g=n!==void 0?v.indexOf(n):-1,x=g-(r?v.indexOf(r):l),b=dG(e,0),y=dG(e,o-1);if(l===-1||d===-1)return aCe;if(!f&&d>=0)return d;if(l<=p&&a&&Math.abs(f)>1)return y;if(l>=m&&a&&Math.abs(f)>1)return b;if(f&&Math.abs(x)>1)return d;if(l<=p)return y;if(l>m)return b;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},yht=function(e){return function(t){var n,r=(n=eCe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},bht=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=lG(r.filter(yht(n)));return o&&o.length?uG(o):uG(lG(t))},kR=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&kR(e.parentNode.host||e.parentNode,t),t},DI=function(e,t){for(var n=kR(e),r=kR(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},lCe=function(e,t,n){var r=W5(e),o=W5(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=DI(s||a,a)||s,n.filter(Boolean).forEach(function(l){var u=DI(i,l);u&&(!s||rv(u,s)?s=u:s=DI(u,s))})}),s},xht=function(e,t){return e.reduce(function(n,r){return n.concat(cht(r,t))},[])},wht=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(rht)},_ht=function(e,t){var n=ix(W5(e).length>0?document:K_e(e).ownerDocument),r=f8(e).filter(Y5),o=lCe(n||e,e,r),i=new Map,s=cG(r,i),a=ER(r,i).filter(function(m){var v=m.node;return Y5(v)});if(!(!a[0]&&(a=s,!a[0]))){var l=cG([o],i).map(function(m){var v=m.node;return v}),u=wht(l,a),d=u.map(function(m){var v=m.node;return v}),f=vht(d,l,n,t);if(f===aCe){var p=bht(s,d,xht(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Cht=function(e){var t=f8(e).filter(Y5),n=lCe(e,e,t),r=new Map,o=ER([n],r,!0),i=ER(t,r).filter(function(s){var a=s.node;return Y5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,l=s.index;return{node:a,index:l,lockItem:i.indexOf(a)>=0,guard:c8(a)}})},Sht=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},II=0,PI=!1,cCe=function(e,t,n){n===void 0&&(n={});var r=_ht(e,t);if(!PI&&r){if(II>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),PI=!0,setTimeout(function(){PI=!1},1);return}II++,Sht(r.node,n.focusOptions),II--}};function p8(e){setTimeout(e,1)}var Eht=function(){return document&&document.activeElement===document.body},kht=function(){return Eht()||pht()},ov=null,Bg=null,iv=null,sx=!1,jht=function(){return!0},Tht=function(t){return(ov.whiteList||jht)(t)},Aht=function(t,n){iv={observerNode:t,portaledElement:n}},Dht=function(t){return iv&&iv.portaledElement===t};function fG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Iht=function(t){return t&&"current"in t?t.current:t},Pht=function(t){return t?!!sx:sx==="meanwhile"},Oht=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},$ht=function(t,n){return n.some(function(r){return Oht(t,r,r)})},q5=function(){var t=!1;if(ov){var n=ov,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||iv&&iv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Iht).filter(Boolean));if((!d||Tht(d))&&(o||Pht(a)||!kht()||!Bg&&i)&&(u&&!(sCe(f)||d&&$ht(d,f)||Dht(d))&&(document&&!Bg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=cCe(f,Bg,{focusOptions:l}),iv={})),sx=!1,Bg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Cht(f),v=m.map(function(g){var x=g.node;return x}).indexOf(p);v>-1&&(m.filter(function(g){var x=g.guard,b=g.node;return x&&b.dataset.focusAutoGuard}).forEach(function(g){var x=g.node;return x.removeAttribute("tabIndex")}),fG(v,m.length,1,m),fG(v,-1,-1,m))}}}return t},uCe=function(t){q5()&&t&&(t.stopPropagation(),t.preventDefault())},m8=function(){return p8(q5)},Rht=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Aht(r,n)},Mht=function(){return null},dCe=function(){sx="just",p8(function(){sx="meanwhile"})},Fht=function(){document.addEventListener("focusin",uCe),document.addEventListener("focusout",m8),window.addEventListener("blur",dCe)},Lht=function(){document.removeEventListener("focusin",uCe),document.removeEventListener("focusout",m8),window.removeEventListener("blur",dCe)};function Bht(e){return e.filter(function(t){var n=t.disabled;return!n})}function Nht(e){var t=e.slice(-1)[0];t&&!ov&&Fht();var n=ov,r=n&&t&&t.id===n.id;ov=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Bg=null,(!r||n.observed!==t.observed)&&t.onActivation(),q5(),p8(q5)):(Lht(),Bg=null)}W_e.assignSyncMedium(Rht);Y_e.assignMedium(m8);Wft.assignMedium(function(e){return e({moveFocusInside:cCe,focusInside:sCe})});const zht=Zft(Bht,Nht)(Mht);var fCe=h.forwardRef(function(t,n){return h.createElement(q_e,Lu({sideCar:zht,ref:n},t))}),hCe=q_e.propTypes||{};hCe.sideCar;Fft(hCe,["sideCar"]);fCe.propTypes={};const od=fCe;var pCe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)t.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(pCe);var Vht=pCe.exports;const Hht=Ie(Vht);function Cm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const Uht="modulepreload",Wht=function(e){return"/"+e},hG={},g8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Wht(i),i in hG)return;hG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Uht,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Yht=typeof navigator>"u"?!1:navigator.product==="ReactNative",mCe={timeout:Yht?6e4:12e4},qht=function(t){const n={...mCe,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=gCe(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(s,l);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function gCe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?gCe(mCe.timeout):{connect:t,socket:t}}const Ght=/^https?:\/\//i,Kht=function(t){if(!Ght.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var OI=function(e){return e.replace(/^\s+|\s+$/g,"")},Zht=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Xht=function(e){if(!e)return{};for(var t={},n=OI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=OI(o.slice(0,i)).toLowerCase(),a=OI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:Zht(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const Qht=Ie(Xht),Jht=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function ept(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const tpt=["request","response","progress","error","abort"],pG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function vCe(e,t){const n=[],r=pG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[qht],validateOptions:[Kht]});function o(i){const s=(v,g,x)=>{let b=v,y=g;if(!b)try{y=l("onResponse",g,x)}catch(w){y=null,b=w}b=b&&l("onError",b,x),b?a.error.publish(b):y&&a.response.publish(y)},a=tpt.reduce((v,g)=>(v[g]=ept(),v),{}),l=Jht(r),u=l("processOptions",i);l("validateOptions",u);const d={options:u,channels:a,applyMiddleware:l};let f;const p=a.request.subscribe(v=>{f=t(v,(g,x)=>s(g,x,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=l("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return pG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>vCe(n,t),e.forEach(o.use),o}var yCe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ba=(e,t,n)=>(yCe(e,t,"read from private field"),n?n.call(e):t.get(e)),wh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gd=(e,t,n,r)=>(yCe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),H2,U2,fg,W2,Sd,Y2,q2;class bCe{constructor(){this.readyState=0,this.responseType="",wh(this,H2,void 0),wh(this,U2,void 0),wh(this,fg,void 0),wh(this,W2,{}),wh(this,Sd,void 0),wh(this,Y2,{}),wh(this,q2,void 0)}open(t,n,r){gd(this,H2,t),gd(this,U2,n),gd(this,fg,""),this.readyState=1,this.onreadystatechange(),gd(this,Sd,void 0)}abort(){ba(this,Sd)&&ba(this,Sd).abort()}getAllResponseHeaders(){return ba(this,fg)}setRequestHeader(t,n){ba(this,W2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gd(this,Y2,t),gd(this,q2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ba(this,Y2),method:ba(this,H2),headers:ba(this,W2),body:t};typeof AbortController=="function"&&ba(this,q2)&&(gd(this,Sd,new AbortController),typeof EventTarget<"u"&&ba(this,Sd).signal instanceof EventTarget&&(r.signal=ba(this,Sd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ba(this,U2),r).then(o=>(o.headers.forEach((i,s)=>{gd(this,fg,ba(this,fg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}H2=new WeakMap;U2=new WeakMap;fg=new WeakMap;W2=new WeakMap;Sd=new WeakMap;Y2=new WeakMap;q2=new WeakMap;const jR=typeof XMLHttpRequest=="function"?"xhr":"fetch",npt=jR==="xhr"?XMLHttpRequest:bCe,rpt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:jR,context:e});if(s){const _=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(_)}}let a=new npt;a instanceof bCe&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const l=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=_=>{b(new Error("Request error while attempting to reach ".concat(o.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},a.ontimeout=_=>{b(new Error("Request timeout while attempting to reach ".concat(o.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},a.onabort=()=>{x(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,l&&a.setRequestHeader)for(const _ in l)l.hasOwnProperty(_)&&a.setRequestHeader(_,l[_]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:jR,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(_){p=!0,a.abort();const C=new Error(_==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));C.code=_,e.channels.error.publish(C)}function g(){u&&(x(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function x(_){(_||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function b(_){if(f)return;x(!0),f=!0,a=null;const C=_||new Error("Network error while attempting to reach ".concat(o.url));C.isNetworkError=!0,C.request=o,t(C)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:Qht(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){b(new Error("Unknown XHR error"));return}x(),f=!0,t(null,y())}}},opt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rpt;return vCe(e,t)};var mG={exports:{}},$I,gG;function ipt(){if(gG)return $I;gG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;$I=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return $I}function spt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=o,n.enabled=s,n.humanize=ipt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...x){if(!g.enabled)return;const b=g,y=Number(new Date),w=y-(f||y);b.diff=w,b.prev=f,b.curr=y,f=y,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let _=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";_++;const j=n.formatters[E];if(typeof j=="function"){const k=x[_];S=j.call(b,k),x.splice(_,1),_--}return S}),n.formatArgs.call(b,x),(b.log||n.log).apply(b,x)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:x=>{p=x}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var apt=spt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function i(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=apt(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(mG,mG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function vG(e){return Object.prototype.toString.call(e)==="[object Object]"}function qo(e){var t,n;return vG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(vG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const lpt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),cpt=["boolean","string","number"];function upt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!lpt(t)&&(cpt.indexOf(typeof t)!==-1||Array.isArray(t)||qo(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function dpt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let by={};typeof globalThis<"u"?by=globalThis:typeof window<"u"?by=window:typeof global<"u"?by=global:typeof self<"u"&&(by=self);var fpt=by;function hpt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||fpt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function ppt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class mpt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const yG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new mpt(r),n(this.reason))})}};yG.source=()=>{let e;return{token:new yG(n=>{e=n}),cancel:e}};var xCe=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const gpt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var vpt=e=>{const t=e.maxRetries||5,n=e.retryDelay||ypt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,l=s.shouldRetry||r,u=s.attemptNumber||0;if(gpt(s.body)||!l(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function ypt(e){return 100*Math.pow(2,e)+Math.random()*100}const v8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vpt({shouldRetry:xCe,...e})};v8.shouldRetry=xCe;const RI=5;class bpt extends Error{constructor(t){const n=wCe(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class xpt extends Error{constructor(t){const n=wCe(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function wCe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Cpt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(wpt(t)){const r=t.error.items||[],o=r.slice(0,RI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>RI&&(i+=`
...and `.concat(r.length-RI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||_pt(e),n)}function wpt(e){return bG(e)&&bG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function bG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function _pt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Cpt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Spt={onResponse:e=>{if(e.statusCode>=500)throw new xpt(e);if(e.statusCode>=400)throw new bpt(e);return e}},Ept={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function xG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=opt([n>0?v8({retryDelay:r,maxRetries:n,shouldRetry:kpt}):{},...e,Ept,upt(),dpt(),ppt(),Spt,hpt({implementation:ut})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function kpt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:v8.shouldRetry(e,t,n)}function _Ce(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const wG=["image","file"],_G=["before","after","replace"],CCe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},jpt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Tpt=e=>{if(wG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(wG.join(", ")))},rb=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},SCe=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},G5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));SCe(e,t._id)},Apt=(e,t,n)=>{const r="insert(at, selector, items)";if(_G.indexOf(e)===-1){const o=_G.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},ECe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},kCe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var jCe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},sv=(e,t,n)=>(jCe(e,t,"read from private field"),n?n.call(e):t.get(e)),TCe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ACe=(e,t,n,r)=>(jCe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hg,pg;class DCe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return rb("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Apt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),l=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(l,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{..._Ce(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return rb(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Dpt=class ICe extends DCe{constructor(t,n,r){super(t,n),TCe(this,hg,void 0),ACe(this,hg,r)}clone(){return new ICe(this.selection,{...this.operations},sv(this,hg))}commit(t){if(!sv(this,hg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return sv(this,hg).mutate({patch:this.serialize()},r)}};hg=new WeakMap;let ob=Dpt;const Ipt=class PCe extends DCe{constructor(t,n,r){super(t,n),TCe(this,pg,void 0),ACe(this,pg,r)}clone(){return new PCe(this.selection,{...this.operations},sv(this,pg))}commit(t){if(!sv(this,pg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return sv(this,pg).mutate({patch:this.serialize()},r)}};pg=new WeakMap;let ib=Ipt;var OCe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Hd=(e,t,n)=>(OCe(e,t,"read from private field"),n?n.call(e):t.get(e)),$Ce=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},RCe=(e,t,n,r)=>(OCe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Lh,Bh;const MCe={returnDocuments:!1};class FCe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return rb("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return rb(n,t),G5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return rb(n,t),G5(n,t),this._add({[n]:t})}delete(t){return SCe("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const Ppt=class LCe extends FCe{constructor(t,n,r){super(t,r),$Ce(this,Lh,void 0),RCe(this,Lh,n)}clone(){return new LCe([...this.operations],Hd(this,Lh),this.trxId)}commit(t){if(!Hd(this,Lh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Hd(this,Lh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},MCe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof ib)return this._add({patch:t.serialize()});if(r){const i=n(new ib(t,{},Hd(this,Lh)));if(!(i instanceof ib))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Lh=new WeakMap;let BCe=Ppt;const Opt=class NCe extends FCe{constructor(t,n,r){super(t,r),$Ce(this,Bh,void 0),RCe(this,Bh,n)}clone(){return new NCe([...this.operations],Hd(this,Bh),this.trxId)}commit(t){if(!Hd(this,Bh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Hd(this,Bh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},MCe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof ob)return this._add({patch:t.serialize()});if(r){const i=n(new ob(t,{},Hd(this,Bh)));if(!(i instanceof ob))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Bh=new WeakMap;let zCe=Opt;const $pt="https://www.sanity.io/help/";function y8(e){return $pt+e}function Rpt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const dT=e=>Rpt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),Mpt=dT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Fpt=dT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Lpt=dT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(y8("js-client-browser-token")," for more information and how to hide this warning.")]),Bpt=dT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(y8("js-client-api-version"))]),Npt="apicdn.sanity.io",K5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},zpt=["localhost","127.0.0.1","0.0.0.0"],Vpt=e=>zpt.indexOf(e)!==-1,Hpt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},VCe=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},HCe=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||Bpt();const r=Object.assign({},K5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=y8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&VCe(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&Vpt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?Lpt():typeof r.useCdn>"u"&&Mpt(),o&&jpt(r.projectId),r.dataset&&CCe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?kCe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===K5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,Hpt(r.apiVersion);const a=r.apiHost.split("://",2),l=a[0],u=a[1],d=r.isDefaultApi?Npt:u;return r.useProjectHostname?(r.url="".concat(l,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(l,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},Upt="X-Sanity-Project-ID";function Wpt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[Upt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const UCe=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,l]of Object.entries(n))o.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&o.append(a,"".concat(l));return"?".concat(o)},Ypt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,qpt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:Ypt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},b8=e=>e.type==="response",Gpt=e=>e.body,Kpt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Zpt=11264;function WCe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...l}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return Sw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function YCe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:F0(e,"doc",n),json:!0,tag:r.tag};return Ew(e,t,o).pipe(ct(b8),ce(i=>i.body.documents&&i.body.documents[0]))}function qCe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:F0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Ew(e,t,o).pipe(ct(b8),ce(i=>{const s=Kpt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function GCe(e,t,n,r){return G5("createIfNotExists",n),fT(e,t,n,"createIfNotExists",r)}function KCe(e,t,n,r){return G5("createOrReplace",n),fT(e,t,n,"createOrReplace",r)}function ZCe(e,t,n,r){return Sw(e,t,"mutate",{mutations:[{delete:_Ce(n)}]},r)}function XCe(e,t,n,r){let o;n instanceof ib||n instanceof ob?o={patch:n.serialize()}:n instanceof BCe||n instanceof zCe?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Sw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Sw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":UCe(r),l=!i&&a.length<Zpt,u=l?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=F0(e,n,u),x={method:l?"GET":"POST",uri:g,json:!0,body:l?void 0:r,query:i&&qpt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Ew(e,t,x).pipe(ct(b8),ce(Gpt),ce(b=>{if(!i)return b;const y=b.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(C=>C.document);const w=d?"documentId":"documentIds",_=d?y[0]&&y[0].id:y.map(C=>C.id);return{transactionId:b.transactionId,results:y,[w]:_}}))}function fT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Sw(e,t,"mutate",{mutations:[i]},s)}function Ew(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const l=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(l&&n.tag!==null&&(n.query={tag:kCe(l),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(VCe(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,Fpt()))}const u=Wpt(i,Object.assign({},n,{url:x8(e,o,a)})),d=new ut(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(Xpt(n.signal)):d}function Tl(e,t,n){return Ew(e,t,n).pipe(ct(o=>o.type==="response"),ce(o=>o.body))}function F0(e,t,n){const r=e.config(),o=ECe(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function x8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function Xpt(e){return t=>new ut(n=>{const r=()=>n.error(Jpt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const Qpt=!!globalThis.DOMException;function Jpt(e){var t,n;if(Qpt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var QCe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Z5=(e,t,n)=>(QCe(e,t,"read from private field"),n?n.call(e):t.get(e)),X5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Q5=(e,t,n,r)=>(QCe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),G2,K2,Z2,X2;class emt{constructor(t,n){X5(this,G2,void 0),X5(this,K2,void 0),Q5(this,G2,t),Q5(this,K2,n)}upload(t,n,r){return JCe(Z5(this,G2),Z5(this,K2),t,n,r)}}G2=new WeakMap;K2=new WeakMap;class tmt{constructor(t,n){X5(this,Z2,void 0),X5(this,X2,void 0),Q5(this,Z2,t),Q5(this,X2,n)}upload(t,n,r){const o=JCe(Z5(this,Z2),Z5(this,X2),t,n,r);return yo(o.pipe(ct(i=>i.type==="response"),ce(i=>i.body.document)))}}Z2=new WeakMap;X2=new WeakMap;function JCe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Tpt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=ECe(e.config()),a=n==="image"?"images":"files",l=nmt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=l,x={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(x.sourceId=g.id,x.sourceName=g.name,x.sourceUrl=g.url),Ew(e,t,{tag:u,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:x,body:r})}function nmt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var rmt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const omt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),imt=16e3-1200,smt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],amt={includeResult:!0};function e2e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,l={...rmt(n,amt),tag:a},u=omt(l,smt),d=UCe({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(F0(this,"listen",d));if(f.length>imt)return new ut(g=>g.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new ut(g=>{let x;k().then(D=>{x=D}).catch(D=>{g.error(D),A()});let b,y=!1;function w(){y||(j(),!y&&x.readyState===x.CLOSED&&(E(),clearTimeout(b),b=setTimeout(T,100)))}function _(D){g.error(lmt(D))}function C(D){const I=t2e(D);return I instanceof Error?g.error(I):g.next(I)}function S(){y=!0,E(),g.complete()}function E(){x&&(x.removeEventListener("error",w),x.removeEventListener("channelError",_),x.removeEventListener("disconnect",S),p.forEach(D=>x.removeEventListener(D,C)),x.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await g8(()=>import("./browser-2f351c6b.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",_),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,C)),I}function T(){k().then(D=>{x=D}).catch(D=>{g.error(D),A()})}function A(){y=!0,E()}return A})}function t2e(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function lmt(e){if(e instanceof Error)return e;const t=t2e(e);return t instanceof Error?t:new Error(cmt(t))}function cmt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var n2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},mi=(e,t,n)=>(n2e(e,t,"read from private field"),n?n.call(e):t.get(e)),J5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},eE=(e,t,n,r)=>(n2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Nh,zh,Vh,Hh;class umt{constructor(t,n){J5(this,Nh,void 0),J5(this,zh,void 0),eE(this,Nh,t),eE(this,zh,n)}create(t,n){return av(mi(this,Nh),mi(this,zh),"PUT",t,n)}edit(t,n){return av(mi(this,Nh),mi(this,zh),"PATCH",t,n)}delete(t){return av(mi(this,Nh),mi(this,zh),"DELETE",t)}list(){return Tl(mi(this,Nh),mi(this,zh),{uri:"/datasets",tag:null})}}Nh=new WeakMap;zh=new WeakMap;class dmt{constructor(t,n){J5(this,Vh,void 0),J5(this,Hh,void 0),eE(this,Vh,t),eE(this,Hh,n)}create(t,n){return yo(av(mi(this,Vh),mi(this,Hh),"PUT",t,n))}edit(t,n){return yo(av(mi(this,Vh),mi(this,Hh),"PATCH",t,n))}delete(t){return yo(av(mi(this,Vh),mi(this,Hh),"DELETE",t))}list(){return yo(Tl(mi(this,Vh),mi(this,Hh),{uri:"/datasets",tag:null}))}}Vh=new WeakMap;Hh=new WeakMap;function av(e,t,n,r,o){return CCe(r),Tl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var r2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ud=(e,t,n)=>(r2e(e,t,"read from private field"),n?n.call(e):t.get(e)),tE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},nE=(e,t,n,r)=>(r2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xy,wy,_y,Cy;class fmt{constructor(t,n){tE(this,xy,void 0),tE(this,wy,void 0),nE(this,xy,t),nE(this,wy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Tl(Ud(this,xy),Ud(this,wy),{uri:n})}getById(t){return Tl(Ud(this,xy),Ud(this,wy),{uri:"/projects/".concat(t)})}}xy=new WeakMap;wy=new WeakMap;class hmt{constructor(t,n){tE(this,_y,void 0),tE(this,Cy,void 0),nE(this,_y,t),nE(this,Cy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return yo(Tl(Ud(this,_y),Ud(this,Cy),{uri:n}))}getById(t){return yo(Tl(Ud(this,_y),Ud(this,Cy),{uri:"/projects/".concat(t)}))}}_y=new WeakMap;Cy=new WeakMap;var o2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rE=(e,t,n)=>(o2e(e,t,"read from private field"),n?n.call(e):t.get(e)),oE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},iE=(e,t,n,r)=>(o2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Q2,J2,eS,tS;class pmt{constructor(t,n){oE(this,Q2,void 0),oE(this,J2,void 0),iE(this,Q2,t),iE(this,J2,n)}getById(t){return Tl(rE(this,Q2),rE(this,J2),{uri:"/users/".concat(t)})}}Q2=new WeakMap;J2=new WeakMap;class mmt{constructor(t,n){oE(this,eS,void 0),oE(this,tS,void 0),iE(this,eS,t),iE(this,tS,n)}getById(t){return yo(Tl(rE(this,eS),rE(this,tS),{uri:"/users/".concat(t)}))}}eS=new WeakMap;tS=new WeakMap;var i2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(i2e(e,t,"read from private field"),n?n.call(e):t.get(e)),sE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},aE=(e,t,n,r)=>(i2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Uh,Io,Wh,vo;const gmt=class TR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K5;sE(this,Uh,void 0),sE(this,Io,void 0),this.listen=e2e,this.config(n),aE(this,Io,t),this.assets=new emt(this,Dt(this,Io)),this.datasets=new umt(this,Dt(this,Io)),this.projects=new fmt(this,Dt(this,Io)),this.users=new pmt(this,Dt(this,Io))}clone(){return new TR(Dt(this,Io),this.config())}config(t){if(t===void 0)return{...Dt(this,Uh)};if(Dt(this,Uh)&&Dt(this,Uh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return aE(this,Uh,HCe(t,Dt(this,Uh)||{})),this}withConfig(t){return new TR(Dt(this,Io),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return WCe(this,Dt(this,Io),t,n,r)}getDocument(t,n){return YCe(this,Dt(this,Io),t,n)}getDocuments(t,n){return qCe(this,Dt(this,Io),t,n)}create(t,n){return fT(this,Dt(this,Io),t,"create",n)}createIfNotExists(t,n){return GCe(this,Dt(this,Io),t,n)}createOrReplace(t,n){return KCe(this,Dt(this,Io),t,n)}delete(t,n){return ZCe(this,Dt(this,Io),t,n)}mutate(t,n){return XCe(this,Dt(this,Io),t,n)}patch(t,n){return new ob(t,n,this)}transaction(t){return new zCe(t,this)}request(t){return Tl(this,Dt(this,Io),t)}getUrl(t,n){return x8(this,t,n)}getDataUrl(t,n){return F0(this,t,n)}};Uh=new WeakMap;Io=new WeakMap;let vmt=gmt;const ymt=class AR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K5;sE(this,Wh,void 0),sE(this,vo,void 0),this.listen=e2e,this.config(n),aE(this,vo,t),this.assets=new tmt(this,Dt(this,vo)),this.datasets=new dmt(this,Dt(this,vo)),this.projects=new hmt(this,Dt(this,vo)),this.users=new mmt(this,Dt(this,vo)),this.observable=new vmt(t,n)}clone(){return new AR(Dt(this,vo),this.config())}config(t){if(t===void 0)return{...Dt(this,Wh)};if(Dt(this,Wh)&&Dt(this,Wh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),aE(this,Wh,HCe(t,Dt(this,Wh)||{})),this}withConfig(t){return new AR(Dt(this,vo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yo(WCe(this,Dt(this,vo),t,n,r))}getDocument(t,n){return yo(YCe(this,Dt(this,vo),t,n))}getDocuments(t,n){return yo(qCe(this,Dt(this,vo),t,n))}create(t,n){return yo(fT(this,Dt(this,vo),t,"create",n))}createIfNotExists(t,n){return yo(GCe(this,Dt(this,vo),t,n))}createOrReplace(t,n){return yo(KCe(this,Dt(this,vo),t,n))}delete(t,n){return yo(ZCe(this,Dt(this,vo),t,n))}mutate(t,n){return yo(XCe(this,Dt(this,vo),t,n))}patch(t,n){return new ib(t,n,this)}transaction(t){return new BCe(t,this)}request(t){return yo(Tl(this,Dt(this,vo),t))}dataRequest(t,n,r){return yo(Sw(this,Dt(this,vo),t,n,r))}getUrl(t,n){return x8(this,t,n)}getDataUrl(t,n){return F0(this,t,n)}};Wh=new WeakMap;vo=new WeakMap;let bmt=ymt;function xmt(e,t){return{requester:xG(e,{}).defaultRequester,createClient:i=>new t(xG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var wmt=[];const _mt=xmt(wmt,bmt),s2e=_mt.createClient;var Cmt=qf,Smt=Qr,Emt=Xa,kmt="[object String]";function jmt(e){return typeof e=="string"||!Smt(e)&&Emt(e)&&Cmt(e)==kmt}var Tmt=jmt;const hT=Ie(Tmt);function Amt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var Dmt=Amt;function Imt(e){return function(t){return e==null?void 0:e[t]}}var Pmt=Imt,Omt=Pmt,$mt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Rmt=Omt($mt),Mmt=Rmt,Fmt=Mmt,Lmt=Lc,Bmt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nmt="\\u0300-\\u036f",zmt="\\ufe20-\\ufe2f",Vmt="\\u20d0-\\u20ff",Hmt=Nmt+zmt+Vmt,Umt="["+Hmt+"]",Wmt=RegExp(Umt,"g");function Ymt(e){return e=Lmt(e),e&&e.replace(Bmt,Fmt).replace(Wmt,"")}var qmt=Ymt,Gmt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Kmt(e){return e.match(Gmt)||[]}var Zmt=Kmt,Xmt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Qmt(e){return Xmt.test(e)}var Jmt=Qmt,a2e="\\ud800-\\udfff",egt="\\u0300-\\u036f",tgt="\\ufe20-\\ufe2f",ngt="\\u20d0-\\u20ff",rgt=egt+tgt+ngt,l2e="\\u2700-\\u27bf",c2e="a-z\\xdf-\\xf6\\xf8-\\xff",ogt="\\xac\\xb1\\xd7\\xf7",igt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sgt="\\u2000-\\u206f",agt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u2e="A-Z\\xc0-\\xd6\\xd8-\\xde",lgt="\\ufe0e\\ufe0f",d2e=ogt+igt+sgt+agt,f2e="[']",CG="["+d2e+"]",cgt="["+rgt+"]",h2e="\\d+",ugt="["+l2e+"]",p2e="["+c2e+"]",m2e="[^"+a2e+d2e+h2e+l2e+c2e+u2e+"]",dgt="\\ud83c[\\udffb-\\udfff]",fgt="(?:"+cgt+"|"+dgt+")",hgt="[^"+a2e+"]",g2e="(?:\\ud83c[\\udde6-\\uddff]){2}",v2e="[\\ud800-\\udbff][\\udc00-\\udfff]",mg="["+u2e+"]",pgt="\\u200d",SG="(?:"+p2e+"|"+m2e+")",mgt="(?:"+mg+"|"+m2e+")",EG="(?:"+f2e+"(?:d|ll|m|re|s|t|ve))?",kG="(?:"+f2e+"(?:D|LL|M|RE|S|T|VE))?",y2e=fgt+"?",b2e="["+lgt+"]?",ggt="(?:"+pgt+"(?:"+[hgt,g2e,v2e].join("|")+")"+b2e+y2e+")*",vgt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ygt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bgt=b2e+y2e+ggt,xgt="(?:"+[ugt,g2e,v2e].join("|")+")"+bgt,wgt=RegExp([mg+"?"+p2e+"+"+EG+"(?="+[CG,mg,"$"].join("|")+")",mgt+"+"+kG+"(?="+[CG,mg+SG,"$"].join("|")+")",mg+"?"+SG+"+"+EG,mg+"+"+kG,ygt,vgt,h2e,xgt].join("|"),"g");function _gt(e){return e.match(wgt)||[]}var Cgt=_gt,Sgt=Zmt,Egt=Jmt,kgt=Lc,jgt=Cgt;function Tgt(e,t,n){return e=kgt(e),t=n?void 0:t,t===void 0?Egt(e)?jgt(e):Sgt(e):e.match(t)||[]}var x2e=Tgt;const w2e=Ie(x2e);var Agt=Dmt,Dgt=qmt,Igt=x2e,Pgt="[']",Ogt=RegExp(Pgt,"g");function $gt(e){return function(t){return Agt(Igt(Dgt(t).replace(Ogt,"")),e,"")}}var w8=$gt;function Rgt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var _2e=Rgt,Mgt=_2e;function Fgt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Mgt(e,t,n)}var C2e=Fgt,Lgt="\\ud800-\\udfff",Bgt="\\u0300-\\u036f",Ngt="\\ufe20-\\ufe2f",zgt="\\u20d0-\\u20ff",Vgt=Bgt+Ngt+zgt,Hgt="\\ufe0e\\ufe0f",Ugt="\\u200d",Wgt=RegExp("["+Ugt+Lgt+Vgt+Hgt+"]");function Ygt(e){return Wgt.test(e)}var S2e=Ygt;function qgt(e){return e.split("")}var Ggt=qgt,E2e="\\ud800-\\udfff",Kgt="\\u0300-\\u036f",Zgt="\\ufe20-\\ufe2f",Xgt="\\u20d0-\\u20ff",Qgt=Kgt+Zgt+Xgt,Jgt="\\ufe0e\\ufe0f",evt="["+E2e+"]",DR="["+Qgt+"]",IR="\\ud83c[\\udffb-\\udfff]",tvt="(?:"+DR+"|"+IR+")",k2e="[^"+E2e+"]",j2e="(?:\\ud83c[\\udde6-\\uddff]){2}",T2e="[\\ud800-\\udbff][\\udc00-\\udfff]",nvt="\\u200d",A2e=tvt+"?",D2e="["+Jgt+"]?",rvt="(?:"+nvt+"(?:"+[k2e,j2e,T2e].join("|")+")"+D2e+A2e+")*",ovt=D2e+A2e+rvt,ivt="(?:"+[k2e+DR+"?",DR,j2e,T2e,evt].join("|")+")",svt=RegExp(IR+"(?="+IR+")|"+ivt+ovt,"g");function avt(e){return e.match(svt)||[]}var lvt=avt,cvt=Ggt,uvt=S2e,dvt=lvt;function fvt(e){return uvt(e)?dvt(e):cvt(e)}var I2e=fvt,hvt=C2e,pvt=S2e,mvt=I2e,gvt=Lc;function vvt(e){return function(t){t=gvt(t);var n=pvt(t)?mvt(t):void 0,r=n?n[0]:t.charAt(0),o=n?hvt(n,1).join(""):t.slice(1);return r[e]()+o}}var yvt=vvt,bvt=yvt,xvt=bvt("toUpperCase"),_8=xvt;const P2e=Ie(_8);var wvt=w8,_vt=_8,Cvt=wvt(function(e,t,n){return e+(n?" ":"")+_vt(t)}),Svt=Cvt;const an=Ie(Svt);let Evt=e=>crypto.getRandomValues(new Uint8Array(e)),kvt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),l=o;for(;l--;)if(s+=e[a[l]&r]||"",s.length===i)return s}}},jvt=(e,t=21)=>kvt(e,t,Evt),Tvt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var Avt=["presence","listen"],lE=globalThis&&globalThis.__assign||function(){return lE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lE.apply(this,arguments)},Dvt=jvt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),Ivt="";function jG(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:Ovt(t,"v1"),id:n})}function Pvt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function Ovt(e,t){return lE(lE({},e),{apiVersion:t})}var $vt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?Dvt:r,i=Ewe(e.pipe(tt(function(m){return Zi(m,"message")})),function(m){return m.data===Ivt}),s=i[0],a=i[1],l=a.pipe(vt(function(m){var v=Pvt(m.data),g=v[0],x=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Gn):!x||!x.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",x),Gn):be(x)}),Ya()),u=n?zo([n,e]).pipe(Kn(function(m,v){var g=m[0],x=m[1],b=v[0],y=v[1];return g===b&&x===y}),tt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(ys(1),ML(g)):be(g)}),To({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var x=o();return xn(l.pipe(ct(function(b){return b.id===x}),ce(function(b){return b.result})),jo(function(){return m.send(jG(v,g,x)),Gn}))}function f(m,v){return u.pipe(ys(1),vt(function(g){return d(g,m,v).pipe(ys(1))}))}function p(m,v){return u.pipe(ys(1),vt(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(ys(1),vt(function(x){return l.pipe(ct(function(b){return b.method==="".concat(m,"_subscription")&&b.params.subscription===x}),ce(function(b){return b.params.result}),Rwe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(jG("".concat(m,"_unsubscribe"),{subscriptionId:x},o()))}))}))}))}return{heartbeats:xn(u,s,a).pipe(ce(function(){return new Date})),request:function(m,v){return Rvt(m)?p(m,v):f(m,v)}}};function Rvt(e){return Avt.includes(e)}var Mvt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TG=function(e){Mvt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function Fvt(e){return function(t){return new ut(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new TG("WebSocket connection error","CONNECTION_ERROR"))},a=function(l){o?n.complete():n.error(new TG("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var Lvt=function(e,t){return function(n){return Iet(n,Ei(e).pipe(vt(function(){return t})))}},AG;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(AG||(AG={}));var Bvt=function(e){return e};function Nvt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=Fvt(function(i,s){return new window.WebSocket(i,s)});return $vt(o(e).pipe(n?Lvt(n,j0(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):Bvt,To({refCount:!0}),FL(Zi(window,"beforeunload"))),{token$:r})}function zvt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Vvt=zvt,Hvt=r8,Uvt=aT;function Wvt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),o?Uvt(n,a,l):Hvt(n,a,l)}return n}var L0=Wvt,Yvt=L0,qvt=th;function Gvt(e,t){return e&&Yvt(t,qvt(t),e)}var Kvt=Gvt;function Zvt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Xvt=Zvt,Qvt=Za,Jvt=rT,e0t=Xvt,t0t=Object.prototype,n0t=t0t.hasOwnProperty;function r0t(e){if(!Qvt(e))return e0t(e);var t=Jvt(e),n=[];for(var r in e)r=="constructor"&&(t||!n0t.call(e,r))||n.push(r);return n}var o0t=r0t,i0t=Xwe,s0t=o0t,a0t=eh;function l0t(e){return a0t(e)?i0t(e,!0):s0t(e)}var C8=l0t,c0t=L0,u0t=C8;function d0t(e,t){return e&&c0t(t,u0t(t),e)}var f0t=d0t,cE={exports:{}};cE.exports;(function(e,t){var n=$l,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(cE,cE.exports);var h0t=cE.exports;function p0t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var S8=p0t,m0t=L0,g0t=UL;function v0t(e,t){return m0t(e,g0t(e),t)}var y0t=v0t,b0t=HL,x0t=n8,w0t=UL,_0t=Kwe,C0t=Object.getOwnPropertySymbols,S0t=C0t?function(e){for(var t=[];e;)b0t(t,w0t(e)),e=x0t(e);return t}:_0t,O2e=S0t,E0t=L0,k0t=O2e;function j0t(e,t){return E0t(e,k0t(e),t)}var T0t=j0t,A0t=qwe,D0t=O2e,I0t=C8;function P0t(e){return A0t(e,I0t,D0t)}var E8=P0t,O0t=Object.prototype,$0t=O0t.hasOwnProperty;function R0t(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&$0t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var M0t=R0t,DG=Ywe;function F0t(e){var t=new e.constructor(e.byteLength);return new DG(t).set(new DG(e)),t}var k8=F0t,L0t=k8;function B0t(e,t){var n=t?L0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var N0t=B0t,z0t=/\w*$/;function V0t(e){var t=new e.constructor(e.source,z0t.exec(e));return t.lastIndex=e.lastIndex,t}var H0t=V0t,IG=f0,PG=IG?IG.prototype:void 0,OG=PG?PG.valueOf:void 0;function U0t(e){return OG?Object(OG.call(e)):{}}var W0t=U0t,Y0t=k8;function q0t(e,t){var n=t?Y0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var G0t=q0t,K0t=k8,Z0t=N0t,X0t=H0t,Q0t=W0t,J0t=G0t,e1t="[object Boolean]",t1t="[object Date]",n1t="[object Map]",r1t="[object Number]",o1t="[object RegExp]",i1t="[object Set]",s1t="[object String]",a1t="[object Symbol]",l1t="[object ArrayBuffer]",c1t="[object DataView]",u1t="[object Float32Array]",d1t="[object Float64Array]",f1t="[object Int8Array]",h1t="[object Int16Array]",p1t="[object Int32Array]",m1t="[object Uint8Array]",g1t="[object Uint8ClampedArray]",v1t="[object Uint16Array]",y1t="[object Uint32Array]";function b1t(e,t,n){var r=e.constructor;switch(t){case l1t:return K0t(e);case e1t:case t1t:return new r(+e);case c1t:return Z0t(e,n);case u1t:case d1t:case f1t:case h1t:case p1t:case m1t:case g1t:case v1t:case y1t:return J0t(e,n);case n1t:return new r;case r1t:case s1t:return new r(e);case o1t:return X0t(e);case i1t:return new r;case a1t:return Q0t(e)}}var x1t=b1t,w1t=Za,$G=Object.create,_1t=function(){function e(){}return function(t){if(!w1t(t))return{};if($G)return $G(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),j8=_1t,C1t=j8,S1t=n8,E1t=rT;function k1t(e){return typeof e.constructor=="function"&&!E1t(e)?C1t(S1t(e)):{}}var j1t=k1t,T1t=ww,A1t=Xa,D1t="[object Map]";function I1t(e){return A1t(e)&&T1t(e)==D1t}var P1t=I1t,O1t=P1t,$1t=P0,RG=YL,MG=RG&&RG.isMap,R1t=MG?$1t(MG):O1t,M1t=R1t,F1t=ww,L1t=Xa,B1t="[object Set]";function N1t(e){return L1t(e)&&F1t(e)==B1t}var z1t=N1t,V1t=z1t,H1t=P0,FG=YL,LG=FG&&FG.isSet,U1t=LG?H1t(LG):V1t,W1t=U1t,Y1t=zL,q1t=Vvt,G1t=r8,K1t=Kvt,Z1t=f0t,X1t=h0t,Q1t=S8,J1t=y0t,eyt=T0t,tyt=e_e,nyt=E8,ryt=ww,oyt=M0t,iyt=x1t,syt=j1t,ayt=Qr,lyt=tT,cyt=M1t,uyt=Za,dyt=W1t,fyt=th,hyt=C8,pyt=1,myt=2,gyt=4,$2e="[object Arguments]",vyt="[object Array]",yyt="[object Boolean]",byt="[object Date]",xyt="[object Error]",R2e="[object Function]",wyt="[object GeneratorFunction]",_yt="[object Map]",Cyt="[object Number]",M2e="[object Object]",Syt="[object RegExp]",Eyt="[object Set]",kyt="[object String]",jyt="[object Symbol]",Tyt="[object WeakMap]",Ayt="[object ArrayBuffer]",Dyt="[object DataView]",Iyt="[object Float32Array]",Pyt="[object Float64Array]",Oyt="[object Int8Array]",$yt="[object Int16Array]",Ryt="[object Int32Array]",Myt="[object Uint8Array]",Fyt="[object Uint8ClampedArray]",Lyt="[object Uint16Array]",Byt="[object Uint32Array]",Fn={};Fn[$2e]=Fn[vyt]=Fn[Ayt]=Fn[Dyt]=Fn[yyt]=Fn[byt]=Fn[Iyt]=Fn[Pyt]=Fn[Oyt]=Fn[$yt]=Fn[Ryt]=Fn[_yt]=Fn[Cyt]=Fn[M2e]=Fn[Syt]=Fn[Eyt]=Fn[kyt]=Fn[jyt]=Fn[Myt]=Fn[Fyt]=Fn[Lyt]=Fn[Byt]=!0;Fn[xyt]=Fn[R2e]=Fn[Tyt]=!1;function nS(e,t,n,r,o,i){var s,a=t&pyt,l=t&myt,u=t&gyt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!uyt(e))return e;var d=ayt(e);if(d){if(s=oyt(e),!a)return Q1t(e,s)}else{var f=ryt(e),p=f==R2e||f==wyt;if(lyt(e))return X1t(e,a);if(f==M2e||f==$2e||p&&!o){if(s=l||p?{}:syt(e),!a)return l?eyt(e,Z1t(s,e)):J1t(e,K1t(s,e))}else{if(!Fn[f])return o?e:{};s=iyt(e,f,a)}}i||(i=new Y1t);var m=i.get(e);if(m)return m;i.set(e,s),dyt(e)?e.forEach(function(x){s.add(nS(x,t,n,x,e,i))}):cyt(e)&&e.forEach(function(x,b){s.set(b,nS(x,t,n,b,e,i))});var v=u?l?nyt:tyt:l?hyt:fyt,g=d?void 0:v(e);return q1t(g||e,function(x,b){g&&(b=x,x=e[b]),G1t(s,b,nS(x,t,n,b,e,i))}),s}var T8=nS;function Nyt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zyt=Nyt,Vyt=_w,Hyt=_2e;function Uyt(e,t){return t.length<2?e:Vyt(e,Hyt(t,0,-1))}var Wyt=Uyt,Yyt=R0,qyt=zyt,Gyt=Wyt,Kyt=bm;function Zyt(e,t){return t=Yyt(t,e),e=Gyt(e,t),e==null||delete e[Kyt(qyt(t))]}var Xyt=Zyt,Qyt=F_e;function Jyt(e){return Qyt(e)?void 0:e}var ebt=Jyt,tbt=Fc,nbt=T8,rbt=Xyt,obt=R0,ibt=L0,sbt=ebt,abt=o8,lbt=E8,cbt=1,ubt=2,dbt=4,fbt=abt(function(e,t){var n={};if(e==null)return n;var r=!1;t=tbt(t,function(i){return i=obt(i,e),r||(r=i.length>1),i}),ibt(e,lbt(e),n),r&&(n=nbt(n,cbt|ubt|dbt,sbt));for(var o=t.length;o--;)rbt(n,t[o]);return n}),hbt=fbt;const ji=Ie(hbt);var pbt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const kw=Ie(pbt);var mbt=Qr;function gbt(){if(!arguments.length)return[];var e=arguments[0];return mbt(e)?e:[e]}var vbt=gbt;const jw=Ie(vbt);var ybt=Fc,bbt=nh,xbt=S_e,wbt=Qr;function _bt(e,t){var n=wbt(e)?ybt:xbt;return n(e,bbt(t))}var Cbt=_bt,Sbt=$0,Ebt=Cbt;function kbt(e,t){return Sbt(Ebt(e,t),1)}var jbt=kbt;const Tbt=Ie(jbt);var Abt="Expected a function";function Dbt(e){if(typeof e!="function")throw new TypeError(Abt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var F2e=Dbt;const Ibt=Ie(F2e);var Pbt=Fc,Obt=nh,$bt=L_e,Rbt=E8;function Mbt(e,t){if(e==null)return{};var n=Pbt(Rbt(e),function(r){return[r]});return t=Obt(t),$bt(e,n,function(r,o){return t(r,o[0])})}var L2e=Mbt;const Fbt=Ie(L2e);var Lbt=nh,Bbt=F2e,Nbt=L2e;function zbt(e,t){return Nbt(e,Bbt(Lbt(t)))}var Vbt=zbt;const B2e=Ie(Vbt);function Hbt(e){return e===void 0}var Ubt=Hbt;const N2e=Ie(Ubt);var Wbt=Lc,Ybt=_8;function qbt(e){return Ybt(Wbt(e).toLowerCase())}var z2e=qbt;const Sm=Ie(z2e);var Gbt=Fc,Kbt=S8,Zbt=Qr,Xbt=am,Qbt=m_e,Jbt=bm,ext=Lc;function txt(e){return Zbt(e)?Gbt(e,Jbt):Xbt(e)?[e]:Kbt(Qbt(ext(e)))}var nxt=txt;const rxt=Ie(nxt);function oxt(){}var A8=oxt;const V2e=Ie(A8);var MI=t_e,ixt=A8,sxt=VL,axt=1/0,lxt=MI&&1/sxt(new MI([,-0]))[1]==axt?function(e){return new MI(e)}:ixt,cxt=lxt,uxt=Qj,dxt=e8,fxt=t8,hxt=Jj,pxt=cxt,mxt=VL,gxt=200;function vxt(e,t,n){var r=-1,o=dxt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=fxt;else if(i>=gxt){var u=t?null:pxt(e);if(u)return mxt(u);s=!1,o=hxt,l=new uxt}else l=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(d)}else o(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var pT=vxt,yxt=nh,bxt=pT;function xxt(e,t){return e&&e.length?bxt(e,yxt(t)):[]}var wxt=xxt;const Nf=Ie(wxt),ts=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],BG=[...ts],FI={name:"any",type:null,jsonType:"any"},_xt={get(){return FI},extend(e,t){const n=Object.assign(Ct(FI,BG),e,{type:FI,of:e.of.map(o=>({name:o.name,type:t(ji(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,Ct(i,BG),{type:o});return r(s)}}}}};var rh={prepare:e=>({title:String(e)})};const NG=[...ts],LI={name:"string",title:"String",type:null,jsonType:"string"},Cxt={get(){return LI},extend(e){const t=Object.assign(Ct(LI,NG),e,{type:LI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,NG),{type:r});return n(i)}}}}},zG=[...ts,"rows"],BI={name:"text",title:"Text",type:null,jsonType:"string"},Sxt={get(){return BI},extend(e){const t=Object.assign(Ct(BI,zG),e,{type:BI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,zG),{type:r});return n(i)}}}}},VG=[...ts],NI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},Ext={get(){return NI},extend(e){const t=Object.assign(Ct(NI,VG),e,{type:NI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,VG),{type:r});return n(i)}}}}},HG=[...ts],zI={name:"date",title:"Datetime",type:null,jsonType:"string"},kxt={get(){return zI},extend(e){const t=Object.assign(Ct(zI,HG),e,{type:zI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,HG),{type:r});return n(i)}}}}},UG=[...ts],VI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},jxt={get(){return VI},extend(e){const t=Object.assign(Ct(VI,UG),e,{type:VI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,UG),{type:r});return n(i)}}}}},WG=[...ts],HI={name:"url",title:"Url",type:null,jsonType:"string"},Txt={get(){return HI},extend(e){const t=Object.assign(Ct(HI,WG),e,{type:HI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,WG),{type:r});return n(i)}}}}},YG=[...ts],UI={name:"email",title:"Email",type:null,jsonType:"string"},Axt={get(){return UI},extend(e){const t=Object.assign(Ct(UI,YG),e,{type:UI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,YG),{type:r});return n(i)}}}}},qG=[...ts],WI={name:"number",title:"Number",type:null,jsonType:"number"},Dxt={get(){return WI},extend(e){const t=Object.assign(Ct(WI,qG),e,{type:WI,preview:rh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Ct(o,qG),{type:r});return n(i)}}}}};function zn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function Ixt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function PR(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>PR(s,t,n+1)).concat(o>0?"+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(Ixt(Ct(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(PR(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function Pxt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return PR(e,n,0)}const Oxt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function $xt(e){return t=>({title:Pxt(Ct(t,e),Oxt)})}function Rxt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const H2e=["title","name","label","heading","header","caption"],Mxt=["description",...H2e];function U2e(e,t){return kw(e.to||[]).some(n=>n.type===t)}function GG(e){return U2e(e,"sanity.imageAsset")}function Fxt(e){const t=e.fields||[],n=t.find(GG);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(GG));return r?"".concat(r.name,".asset"):void 0}function KG(e){return U2e(e,"sanity.fileAsset")}function Lxt(e){const t=e.fields||[],n=t.find(KG);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(KG));return r?"".concat(r.name,".asset"):void 0}function Bxt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(Rxt).map(u=>u.name);let o=H2e.find(u=>n.includes(u)||r.includes(u)),i=Mxt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=Fxt(t);if(!o){const u=Lxt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:$xt(u)}}return{select:B2e({title:o,description:i,media:s?s.name:a},N2e)}}function Nxt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function zxt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function Vxt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function Hxt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Ct(e,["prepare","component"]),select:Vxt(t)}:{...Ct(e,["prepare","component"]),select:t}}function Tw(e){return function(){return Nxt(e),zxt(e),Hxt(e.preview||(e.options||{}).preview)||Bxt(e)}}const Uxt=["title","name","label","heading","header","caption","description"],Wxt=["string","boolean","number"],ZG=e=>Wxt.includes(e.type);function Yxt(e){let t=Uxt.filter(n=>e.fields.some(r=>ZG(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(ZG).map(n=>n.name)),t.map(n=>({name:n,title:Sm(an(n)),by:[{field:n,direction:"asc"}]}))}function XG(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!_r(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:rxt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const lv=Symbol("__cachedStringFields"),qxt=e=>e.type&&e.type.name==="reference",Gxt=["style","list"],D8=e=>e.name==="block"||e.type&&D8(e.type),Kxt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(D8);function mT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?Zxt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!qxt(e)?Xxt(e,t,i,r,o):i}function Zxt(e,t,n,r,o){return e.of.reduce((i,s)=>mT(s,t,i,r,o-1),n)}function Xxt(e,t,n,r,o){const i=D8(e);return e.fields.reduce((s,a)=>{if(i&&Gxt.includes(a.name))return s;const l=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return mT(a.type,t,s,r.concat(l),o-1)},n)}const W2e=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],QG={title:10,subtitle:5,description:1.5};function Y2e(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in QG).map(r=>({weight:QG[r],path:n[r].split(".")})):[]}function Qxt(e,t){return e[lv]||(e[lv]=Nf([...W2e,...Y2e(e),...ewt(e,t).map(n=>({weight:1,path:n})),...twt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[lv]}function Jxt(e){return e[lv]||(e[lv]=Nf([...W2e,...Y2e(e)],t=>t.path.join("."))),e[lv]}function ewt(e,t){return mT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function twt(e,t){return mT(e,(r,o,i)=>Kxt(o)?[...r,i]:r,[],[],t)}function nwt(e){return Jxt(e)}function rwt(e){return Qxt(e,4)}const JG=[...ts,"orderings","__experimental_search","blockEditor","icon"],q2e={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(Ct(this.get(),JG),n,{type:this.get(),title:n.title||(n.name?an(n.name):""),options:r,orderings:n.orderings||Yxt(n),fields:n.fields.map(s=>{const{name:a,fieldset:l,group:u,...d}=s;return zn({name:a,group:u,fieldset:l},"type",()=>t({...d,title:s.title||an(a)}))})});return zn(o,"fieldsets",()=>gT(n,o.fields)),zn(o,"groups",()=>owt(n,o.fields)),zn(o,"preview",Tw(n)),zn(o,"__experimental_search",()=>{const s=n.__experimental_search?XG(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?XG(n):a):rwt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},s,Ct(a,JG),{title:a.title||n.title||(n.name?an(n.name):""),type:s});return zn(l,"__experimental_search",()=>s.__experimental_search),i(l)}}}}};function gT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:an(e.name),"'"));n[o.name]={title:an(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function owt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:an(e.name),"'"));if(n[o.name]={title:an(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:an(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=jw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:an(e.name),"'"));a.fields.push(o)})}),Tbt(n).filter(o=>o.fields.length>0)}const iwt={name:"_ref",title:"Referenced document ID",type:"string"},swt={name:"_weak",title:"Weak reference",type:"boolean"},awt=[iwt,swt],eK=[...ts],YI={name:"reference",title:"Reference",type:null,jsonType:"object"};function lwt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function cwt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(lwt(kw(e.to).map(t=>t.title),"or").toLowerCase())}const uwt={get(){return YI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(Ct(YI,eK),e,{type:YI});return zn(n,"fields",()=>awt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"fieldsets",()=>gT(e,n.fields)),zn(n,"to",()=>kw(e.to).map(o=>t(o))),zn(n,"title",()=>e.title||cwt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,Ct(i,eK),{type:o});return r(s)}}}}},dwt={name:"_ref",title:"Referenced document ID",type:"string"},fwt={name:"_weak",title:"Weak reference marker",type:"boolean"},hwt={name:"_dataset",title:"Target dataset",type:"string"},pwt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},mwt=[dwt,fwt,hwt,pwt],tK=[...ts],qI={name:"crossDatasetReference",type:null,jsonType:"object"};function gwt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function vwt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(gwt(kw(e.to).map(t=>t.title||Sm(t.type)),"or").toLowerCase())}const ywt={get(){return qI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(Ct(qI,tK),e,{type:qI});return zn(n,"fields",()=>mwt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"to",()=>kw(e.to).map(o=>({...o,__experimental_search:nwt(o)}))),zn(n,"title",()=>e.title||vwt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,Ct(i,tK),{type:o});return r(s)}}}}},bwt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},xwt={name:"hotspot",type:"sanity.imageHotspot"},wwt={name:"crop",type:"sanity.imageCrop"},nK=[...ts],rK={name:"image",title:"Image",type:null,jsonType:"object"},_wt={},Cwt={get(){return rK},extend(e,t){const n={...e.options||_wt};let r=[xwt,wwt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const o=[bwt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(Ct(this.get(),nK),i,{type:rK,title:i.title||(i.name?an(i.name):""),options:n,fields:i.fields.map(l=>{const{name:u,fieldset:d,...f}=l,p={name:u,fieldset:d,isCustomized:!!e.fields};return zn(p,"type",()=>t({...f,title:l.title||an(u)}))})});return zn(s,"fieldsets",()=>gT(i,s.fields)),zn(s,"preview",Tw(Object.assign({},i,{fields:o}))),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,Ct(u,nK),{type:l});return a(d)}}}}},Swt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},oK=[...ts],GI={name:"file",title:"File",type:null,jsonType:"object"},Ewt={accept:""},kwt={get(){return GI},extend(e,t){const n={...e.options||Ewt},r=[Swt,...e.fields||[]],o={...e,fields:r},i=Object.assign(Ct(GI,oK),o,{type:GI,title:o.title||(o.name?an(o.name):""),options:n,fields:o.fields.map(a=>{const{name:l,fieldset:u,...d}=a,f={name:l,fieldset:u,isCustomized:!!e.fields};return zn(f,"type",()=>t({...d,title:a.title||an(l)}))})});return zn(i,"fieldsets",()=>gT(o,i.fields)),zn(i,"preview",Tw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,Ct(l,oK),{type:a});return s(u)}}}}},jwt={name:"document",title:"Document",type:null,jsonType:"object"},Twt={get(){return jwt},extend:q2e.extend},iK=[...ts],KI={name:"array",type:null,jsonType:"array",of:[]},Awt={get(){return KI},extend(e,t){const n=Object.assign(Ct(KI,iK),e,{type:KI});return zn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,Ct(i,iK),{type:o});return r(s)}}}}},Dwt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},Iwt={type:"text",name:"text",title:"Text"},Pwt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},sK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},Owt=[sK.bullet,sK.numbered],ru={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},$wt=[ru.normal,ru.h1,ru.h2,ru.h3,ru.h4,ru.h5,ru.h6,ru.blockquote],Rwt={title:"Strong",value:"strong"},Mwt={title:"Italic",value:"em"},Fwt={title:"Code",value:"code"},Lwt={title:"Underline",value:"underline"},Bwt={title:"Strike",value:"strike-through"},O1={strong:Rwt,em:Mwt,code:Fwt,underline:Lwt,strikeThrough:Bwt},Nwt=[O1.strong,O1.em,O1.code,O1.underline,O1.strikeThrough],aK=["type","name","title","jsonType","description","options","fieldsets","icon"],ZI={name:"block",title:"Block",type:null,jsonType:"object"},zwt={},Vwt={get(){return ZI},extend(e,t){const n={...e.options||zwt},{marks:r,styles:o,lists:i,of:s,...a}=e,l=Ywt(r,s),u=Uwt(o),d=Wwt(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||G2e},p=[l,u,d,f].concat(e.fields||[]),m=Object.assign(Ct(ZI,aK),a,{type:ZI,options:n});return zn(m,"fields",()=>p.map(g=>{const{name:x,...b}=g;return{name:x,type:t(b)}})),zn(m,"preview",Tw(e)),v(m);function v(g){return{get(){return g},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},g,Ct(x,aK),{type:g});return v(b)}}}}};function Hwt(e){return e.some(t=>t.value==="normal")?e:[ru.normal,...e]}function Uwt(e){return{name:"style",title:"Style",type:"string",options:{list:Hwt(e||$wt)}}}function Wwt(e){return{name:"list",title:"List type",type:"string",options:{list:e||Owt}}}const G2e=[Dwt];function Ywt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[Iwt,Pwt],annotations:e&&e.annotations?e.annotations:G2e,decorators:e&&e.decorators?e.decorators:Nwt},...t.filter(n=>n.type!=="span")]}}const lK=["type","name","title","jsonType","description","options","fieldsets","icon"],XI={name:"span",title:"Span",type:null,jsonType:"object"},qwt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},Gwt={name:"text",title:"Text",type:"string"},Kwt={},Zwt={get(){return XI},extend(e,t){const n={...e.options||Kwt},{annotations:r=[],marks:o=[]}=e,i=[qwt,Gwt],s=Object.assign(Ct(XI,lK),e,{type:XI,options:n});return zn(s,"fields",()=>i.map(l=>{const{name:u,...d}=l;return{name:u,type:t(d)}})),zn(s,"annotations",()=>r.map(t)),zn(s,"marks",()=>o.map(t)),zn(s,"preview",Tw(e)),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,Ct(u,lK),{type:l});return a(d)}}}}};var Xwt=Object.freeze({__proto__:null,any:_xt,array:Awt,block:Vwt,boolean:jxt,crossDatasetReference:ywt,date:kxt,datetime:Ext,document:Twt,email:Axt,file:kwt,image:Cwt,number:Dxt,object:q2e,reference:uwt,span:Zwt,string:Cxt,text:Sxt,url:Txt}),Qwt=Object.defineProperty,Jwt=(e,t,n)=>t in e?Qwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cK=(e,t,n)=>(Jwt(e,typeof t!="symbol"?t+"":t,n),n);function e_t(e){const t=Object.assign(Object.create(null),Xwt),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let t_t=class K2e{constructor(t){cK(this,"_original"),cK(this,"_registry"),this._original=t,this._registry=e_t(t)}static compile(t){return new K2e(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const I8=t_t;var n_t=pT;function r_t(e){return e&&e.length?n_t(e):[]}var o_t=r_t;const co=Ie(o_t),i_t={},s_t=Object.freeze(Object.defineProperty({__proto__:null,default:i_t},Symbol.toStringTag,{value:"Module"})),a_t=X$e(s_t);var P8=typeof Map=="function"&&Map.prototype,QI=Object.getOwnPropertyDescriptor&&P8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,uE=P8&&QI&&typeof QI.get=="function"?QI.get:null,uK=P8&&Map.prototype.forEach,O8=typeof Set=="function"&&Set.prototype,JI=Object.getOwnPropertyDescriptor&&O8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,dE=O8&&JI&&typeof JI.get=="function"?JI.get:null,dK=O8&&Set.prototype.forEach,l_t=typeof WeakMap=="function"&&WeakMap.prototype,sb=l_t?WeakMap.prototype.has:null,c_t=typeof WeakSet=="function"&&WeakSet.prototype,ab=c_t?WeakSet.prototype.has:null,u_t=typeof WeakRef=="function"&&WeakRef.prototype,fK=u_t?WeakRef.prototype.deref:null,d_t=Boolean.prototype.valueOf,f_t=Object.prototype.toString,h_t=Function.prototype.toString,p_t=String.prototype.match,$8=String.prototype.slice,Wd=String.prototype.replace,m_t=String.prototype.toUpperCase,hK=String.prototype.toLowerCase,Z2e=RegExp.prototype.test,pK=Array.prototype.concat,sc=Array.prototype.join,g_t=Array.prototype.slice,mK=Math.floor,OR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,eP=Object.getOwnPropertySymbols,$R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ti=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Uv||"symbol")?Symbol.toStringTag:null,X2e=Object.prototype.propertyIsEnumerable,gK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function vK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Z2e.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-mK(-e):mK(e);if(r!==e){var o=String(r),i=$8.call(t,o.length+1);return Wd.call(o,n,"$&_")+"."+Wd.call(Wd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Wd.call(t,n,"$&_")}var RR=a_t,yK=RR.custom,bK=J2e(yK)?yK:null,v_t=function e(t,n,r,o){var i=n||{};if(Dd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Dd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return tSe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?vK(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return a?vK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return MR(t)?"[Array]":"[Object]";var f=R_t(i,r);if(typeof o>"u")o=[];else if(eSe(o,t)>=0)return"[Circular]";function p(I,P,M){if(P&&(o=g_t.call(o),o.push(P)),M){var $={depth:i.depth};return Dd(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),e(I,$,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!xK(t)){var m=k_t(t),v=rC(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+sc.call(v,", ")+" }":"")}if(J2e(t)){var g=Uv?Wd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):$R.call(t);return typeof t=="object"&&!Uv?$1(g):g}if(P_t(t)){for(var x="<"+hK.call(String(t.nodeName)),b=t.attributes||[],y=0;y<b.length;y++)x+=" "+b[y].name+"="+Q2e(y_t(b[y].value),"double",i);return x+=">",t.childNodes&&t.childNodes.length&&(x+="..."),x+="</"+hK.call(String(t.nodeName))+">",x}if(MR(t)){if(t.length===0)return"[]";var w=rC(t,p);return f&&!$_t(w)?"["+FR(w,f)+"]":"[ "+sc.call(w,", ")+" ]"}if(x_t(t)){var _=rC(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!X2e.call(t,"cause")?"{ ["+String(t)+"] "+sc.call(pK.call("[cause]: "+p(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+sc.call(_,", ")+" }"}if(typeof t=="object"&&s){if(bK&&typeof t[bK]=="function"&&RR)return RR(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(j_t(t)){var C=[];return uK&&uK.call(t,function(I,P){C.push(p(P,t,!0)+" => "+p(I,t))}),wK("Map",uE.call(t),C,f)}if(D_t(t)){var S=[];return dK&&dK.call(t,function(I){S.push(p(I,t))}),wK("Set",dE.call(t),S,f)}if(T_t(t))return tP("WeakMap");if(I_t(t))return tP("WeakSet");if(A_t(t))return tP("WeakRef");if(__t(t))return $1(p(Number(t)));if(S_t(t))return $1(p(OR.call(t)));if(C_t(t))return $1(d_t.call(t));if(w_t(t))return $1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===xs)return"{ [object globalThis] }";if(!b_t(t)&&!xK(t)){var E=rC(t,p),j=gK?gK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Ti&&Object(t)===t&&Ti in t?$8.call(oh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+sc.call(pK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+FR(E,f)+"}":D+"{ "+sc.call(E,", ")+" }"}return String(t)};function Q2e(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function y_t(e){return Wd.call(String(e),/"/g,"&quot;")}function MR(e){return oh(e)==="[object Array]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function b_t(e){return oh(e)==="[object Date]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function xK(e){return oh(e)==="[object RegExp]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function x_t(e){return oh(e)==="[object Error]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function w_t(e){return oh(e)==="[object String]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function __t(e){return oh(e)==="[object Number]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function C_t(e){return oh(e)==="[object Boolean]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function J2e(e){if(Uv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!$R)return!1;try{return $R.call(e),!0}catch{}return!1}function S_t(e){if(!e||typeof e!="object"||!OR)return!1;try{return OR.call(e),!0}catch{}return!1}var E_t=Object.prototype.hasOwnProperty||function(e){return e in this};function Dd(e,t){return E_t.call(e,t)}function oh(e){return f_t.call(e)}function k_t(e){if(e.name)return e.name;var t=p_t.call(h_t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function eSe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function j_t(e){if(!uE||!e||typeof e!="object")return!1;try{uE.call(e);try{dE.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function T_t(e){if(!sb||!e||typeof e!="object")return!1;try{sb.call(e,sb);try{ab.call(e,ab)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function A_t(e){if(!fK||!e||typeof e!="object")return!1;try{return fK.call(e),!0}catch{}return!1}function D_t(e){if(!dE||!e||typeof e!="object")return!1;try{dE.call(e);try{uE.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function I_t(e){if(!ab||!e||typeof e!="object")return!1;try{ab.call(e,ab);try{sb.call(e,sb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function P_t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function tSe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return tSe($8.call(e,0,t.maxStringLength),t)+r}var o=Wd.call(Wd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,O_t);return Q2e(o,"single",t)}function O_t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+m_t.call(t.toString(16))}function $1(e){return"Object("+e+")"}function tP(e){return e+" { ? }"}function wK(e,t,n,r){var o=r?FR(n,r):sc.call(n,", ");return e+" ("+t+") {"+o+"}"}function $_t(e){for(var t=0;t<e.length;t++)if(eSe(e[t],`
`)>=0)return!1;return!0}function R_t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=sc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:sc.call(Array(t+1),n)}}function FR(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+sc.call(e,","+n)+`
`+t.prev}function rC(e,t){var n=MR(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Dd(e,o)?t(e[o],e):""}var i=typeof eP=="function"?eP(e):[],s;if(Uv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in e)Dd(e,l)&&(n&&String(Number(l))===l&&l<e.length||Uv&&s["$"+l]instanceof Symbol||(Z2e.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof eP=="function")for(var u=0;u<i.length;u++)X2e.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Ng=Ie(v_t);function M_t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var F_t=M_t,L_t=C_e;function B_t(e,t,n,r){return L_t(e,function(o,i,s){t(r,o,n(o),s)}),r}var N_t=B_t,z_t=F_t,V_t=N_t,H_t=nh,U_t=Qr;function W_t(e,t){return function(n,r){var o=U_t(n)?z_t:V_t,i=t?t():{};return o(n,e,H_t(r),i)}}var R8=W_t,Y_t=R8,q_t=Y_t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),G_t=q_t;const M8=Ie(G_t);var K_t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Cs=Ie(K_t);var F8={exports:{}};const nP=[],_K=[],nSe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,l,u,d=0,f=0;for(;d<r;)_K[d]=e.charCodeAt(i+d),nP[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),l=f++,a=f,d=0;d<r;d++)u=s===_K[d]?l:l+1,l=nP[d],a=nP[d]=l>a?u>a?a+1:u:u>l?l+1:u;return a};F8.exports=nSe;F8.exports.default=nSe;var Z_t=F8.exports;const X_t=Ie(Z_t),Q_t="https://docs.sanity.io/help/";function rSe(e){return Q_t+e}const et={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function oSe(e,t,n){if(n&&!Object.keys(et).some(r=>et[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Te=(e,t)=>oSe("error",e,t),Lr=(e,t)=>oSe("warning",e,t);function J_t(e){return En(e.map(t=>iSe(t))).filter(t=>t.problems.length>0)}function Em(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Nn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(l=>{const u={kind:"property",name:e},d=[...i,u];return iSe(l,d)}):[[{path:i,problems:[Te("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...En(a)]}}const eCt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],CK=Em("fields"),tCt=Em("fields"),nCt=Em("fields"),rCt=Em("of"),oCt=Em("to",e=>"to"in e?eCt(e.to):[]),iCt=Em("marks.annotations"),sCt=Em("of"),aCt=(e,t)=>[...iCt(e,t),...sCt(e,t)];function lCt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function iSe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return CK(e,t);case"document":return CK(e,t);case"array":return rCt(e,t);case"reference":return oCt(e,t);case"block":return aCt(e,t);case"image":return tCt(e,t);case"file":return nCt(e,t);default:return lCt(e,t)}}function vT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const cCt=e=>e,uCt={name:"type",type:null},dCt=["any","time","date"];function fCt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cCt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=dCt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function l(v){return v==="type"?uCt:r[v]||o[v]||null}const u=co(En(vT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,x)=>n(g,{visit:m(!1),isRoot:v,getType:l,getTypeNames:f,isReserved:p,isDuplicate:d,index:x});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const sSe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],aSe=sSe.map(e=>e.name);function hCt(e,t){return fCt(e,sSe,t)}const pCt=/^Symbol\(react\..+\)$/;function oC(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&pCt.test(String(e==null?void 0:e.$$typeof))}function lSe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!oC(t.input)&&n.push(Lr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ng(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!oC(t.field)&&n.push(Lr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ng(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!oC(t.item)&&n.push(Lr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ng(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!oC(t.preview)&&n.push(Lr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ng(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const SK=/^[A-Za-z]+[0-9A-Za-z_]*$/,mCt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function gCt(e){return typeof e!="string"?[Te('Field names must be strings. Saw "'.concat(Ng(e),'"'),et.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Te('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),et.OBJECT_FIELD_NAME_INVALID)]:SK.test(e)?mCt.test(e)?[]:[Lr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),et.OBJECT_FIELD_NAME_INVALID]:[Te('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(SK),")."),et.OBJECT_FIELD_NAME_INVALID)]}function L8(e,t){if(!_r(e))return[Te("Incorrect type for field definition - should be an object, saw ".concat(Ng(e)),et.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?gCt(e.name):[Te("Missing field name",et.OBJECT_FIELD_NAME_INVALID)]),n.push(...lSe(e)),n}function vCt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function B8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Te('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),et.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");vCt(o).forEach(s=>{n.push(Te("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),et.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Te("Object should have at least one field",et.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Te("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),et.STANDALONE_BLOCK_TYPE))}return n}function yCt(e){return _r(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Te('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?_r(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Te('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Te('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Te('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var cSe=(e,t)=>{let n=B8(e.fields),r=e.preview;if(r){const o=yCt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Te('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:l,...u}=t.visit(a,i);return{name:s,...u,_problems:L8(o).concat(l||[])}}),_problems:n}},bCt=(e,t)=>{const n=cSe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!_r(r)&&typeof r!="function"&&n._problems.push(Te('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Te('Found property "initialValues" - did you mean "initialValue"?')),n};function xCt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var wCt=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=xCt(e),o=En([n?vT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Te("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),et.REFERENCE_TO_INVALID)):Te('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',et.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Te('The reference type should define at least one accepted type. Please check the "to" property.',et.REFERENCE_TO_INVALID)),o.push(..._Ct(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function _Ct(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Te("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Te("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Te("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Te("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Te('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Te("The reference type expects `options` to be an object",et.REFERENCE_INVALID_OPTIONS)):n}function EK(e){return e==="string"||e==="number"||e==="boolean"}function CCt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function lb(e){return'"'.concat(e,'"')}function kK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function jK(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Cs(Object.keys(e).map(lb))):lb(e)}var SCt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,x,b)=>{if(typeof x.name=="string"&&x.name!==x.type&&aSe.includes(x.name))return g.concat(Te('Found array member declaration with the same type name as a built-in type ("'.concat(x.name,'"). Array members can not be given the same name as a built-in type.'),et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(x.type==="object"&&x.name&&t.getType(x.name))return g.concat(Lr('Found array member declaration with the same name as the global schema type "'.concat(x.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(x.type==="array")return g.concat(Te('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',et.ARRAY_OF_ARRAY));if(x)return g;const y="Found ".concat(x===null?"null":typeof x,", expected member declaration");return g.concat(Te("Found invalid type member declaration in array at index ".concat(b,": ").concat(y),et.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=En([i?vT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Te("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),et.ARRAY_OF_NOT_UNIQUE)):Te('The array type is missing or having an invalid value for the required "of" property',et.ARRAY_OF_INVALID)]),a=i?e.of:[],l=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&l&&s.push(Te("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",et.ARRAY_OF_INVALID));const[d,f]=M8(a,v=>{var g;return EK(v.type)||EK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(x=>x.type),g=f.map(x=>x.type);s.push(Te("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(kK(v)," ").concat(Cs(v.map(lb))," and object type").concat(kK(g)," ").concat(Cs(g.map(lb)),")"),et.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var x;const b=(x=g==null?void 0:g.value)!=null?x:g;if(!d.some(w=>typeof b===t.getType(w.type).jsonType)){const w=Cs(d.map(_=>_.name||_.type),{conjunction:"or"});s.push(Te("An invalid entry found in options.list: ".concat(jK(b),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),et.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const x=g._type||"object";f.some(y=>CCt(x,y))||s.push(Te("An invalid entry found in options.list: ".concat(jK(g),'. Must be an object with "_type" set to ').concat(Cs(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":lb(y)),{conjunction:"or"})),et.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Lr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},ECt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Lr('Heads up! The "slugifyFn" option has been renamed to "slugify".',et.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},kCt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...B8(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Te("Invalid type for file `metadata` field - must be an array of strings",et.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Te("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...l}=i,{_problems:u,...d}=t.visit(l,s);return{name:a,...d,_problems:L8(i).concat(u||[])}}),_problems:n}};const TK=["dimensions","hasAlpha","isOpaque"];var jCt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...B8(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>TK.includes(u)):[],a=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Te("Invalid type for image `metadata` field - must be an array of strings",et.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Lr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!TK.includes(u))}):l.length>0&&n.push(Te("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:L8(u).concat(m||[])}}),_problems:n}};function uSe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return uSe(r,t,n)}const ra=e=>Array.isArray(e)?"array":typeof e,Aw=e=>'"'.concat(e,'"'),TCt=["components","lists","marks","name","of","options","styles","title","type","validation"],ACt=["decorators","annotations"],DCt=["blockEditor","title","value","component"],ICt=["blockEditor","title","value","icon","component"],PCt=["title","value","icon","component"],AK=["file","image","object","reference"];function OCt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(l=>!TCt.includes(l)&&!l.startsWith("_"));return a.length>0&&n.push(Te("Found unknown properties for block declaration: ".concat(Cs(a.map(Aw))))),i&&(i=$Ct(e.marks,t,n)),r&&(r=MCt(r,t,n)),o&&(o=RCt(o,t,n)),s&&(s=BCt(s,t,n)),{...ji(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function $Ct(e,t,n){let r=e.decorators,o=e.annotations;if(!_r(e))return n.push(Te('"marks" declaration should be an object, got '.concat(ra(e)))),n;const i=Object.keys(e).filter(s=>!ACt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Te("Found unknown properties for block declaration: ".concat(Cs(i.map(Aw))))),r&&!Array.isArray(r)?n.push(Te('"marks.decorators" declaration should be an array, got '.concat(ra(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=FCt(r,t,n)),o&&!Array.isArray(o)?n.push(Te('"marks.annotations" declaration should be an array, got '.concat(ra(o)))):o&&(o=LCt(o,t,n)),{...e,decorators:r,annotations:o}}function RCt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Te("List must be an object, got ".concat(ra(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!PCt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for list ".concat(i,": ").concat(Cs(s.map(Aw))))),r.value?typeof r.value!="string"?n.push(Te("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(ra(r.value)))):r.title||n.push(Lr("List type ".concat(i,' is missing recommended "title" property'))):n.push(Te("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Te('"lists" declaration should be an array, got '.concat(ra(e)))),n)}function MCt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Te("Style must be an object, got ".concat(ra(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!DCt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for style ".concat(i,": ").concat(Cs(s.map(Aw))))),r.value?typeof r.value!="string"?n.push(Te("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(ra(r.value)))):r.title||n.push(Lr("Style ".concat(i,' is missing recommended "title" property'))):n.push(Te("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Lr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',et.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Te('"styles" declaration should be an array, got '.concat(ra(e)))),n)}function FCt(e,t,n){return e.forEach((r,o)=>{if(!_r(r)){n.push(Te("Annotation must be an object, got ".concat(ra(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!ICt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for decorator ".concat(i,": ").concat(Cs(s.map(Aw))))),r.value?typeof r.value!="string"?n.push(Te("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(ra(r.value)))):r.title||n.push(Lr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Te("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Lr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function LCt(e,t,n){return e.map(r=>{var o,i;if(!_r(r))return{...r,_problems:[Te("Annotation must be an object, got ".concat(ra(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!uSe(a,"object",t)&&s.push(Te('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Lr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function BCt(e,t,n){if(!Array.isArray(e)){n.push(Te('"of" declaration should be an array, got '.concat(ra(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Lr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=aSe.filter(a=>!AK.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Te("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(AK.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function NCt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Te('Type has propery "fields", but is not an object/document type.')]:[]}const zCt=e=>'"'.concat(e,'"');function VCt(e,t){const n=t.getTypeNames();if(!e)return[Te("Type is missing a type. Valid types are: ".concat(Cs(n)),et.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Te('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Cs(n)),et.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[X_t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,l]=s;return l}),i=o.length>0?" Did you mean ".concat(Cs(o.map(zCt),{conjunction:"or"}),"?"):"";return[Te("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Cs(n)))]}return[]}function HCt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Lr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Lr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Lr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Lr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Lr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var DK=(e,t)=>({...e,_problems:[...VCt(e.type,t),...NCt(e,t),...HCt(e)].filter(Boolean)}),UCt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Te("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",et.TYPE_INVALID)]};const r=[];return WCt(e)?r.push(Te("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",et.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Te('Invalid type name: "'.concat(e.name,'" is a reserved name.'),et.TYPE_NAME_RESERVED)):r.push(Te("Missing type name",et.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Te('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...lSe(e)),"title"in e&&typeof e.title!="string"&&r.push(Lr("Type title is not a string.",et.TYPE_TITLE_INVALID)),{...e,_problems:r}};function WCt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function YCt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const qCt=/^[a-z0-9~][-_a-z0-9]+$/;function GCt(e){return e.length>=2&&e.toLowerCase()===e&&qCt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var KCt=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=YCt(e),o=En([n?vT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Te("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),et.CROSS_DATASET_REFERENCE_INVALID)):Te('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',et.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Te('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',et.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Te("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),et.CROSS_DATASET_REFERENCE_INVALID)),_r(i.preview)||o.push(Te('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),et.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=GCt(e.dataset);i!==!0&&o.push(Te(i,et.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Te("A cross dataset reference must specify a `dataset`",et.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Te('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',et.CROSS_DATASET_REFERENCE_INVALID)),o.push(...ZCt(e)),{...e,_problems:o}};function ZCt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Te("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Te("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Te("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Te("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Te('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Te("The reference type expects `options` to be an object",et.REFERENCE_INVALID_OPTIONS)):n}const XCt={array:SCt,object:cSe,slug:ECt,file:kCt,image:jCt,block:OCt,document:bCt,reference:wCt,crossDatasetReference:KCt},QCt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function IK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function JCt(e){return hCt(e,(t,n)=>{const r=t&&t.type&&XCt[t.type]||QCt(n);return n.isRoot?IK(UCt,DK,r)(t,n):IK(DK,r)(t,n)})}const LR="__experimental_actions",dSe=["create","update","delete","publish"],rP=dSe,e2t=e=>LR in e?e[LR]:dSe,t2t=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(LR," should be an array with any of the actions ").concat(rP.join(", ")));const n=ox(t,rP);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(rP.join(", ")));return t},n2t=e=>t2t(e.name,e2t(e)),PK=(e,t)=>n2t(e).includes(t);var r2t=T8,o2t=1,i2t=4;function s2t(e){return r2t(e,o2t|i2t)}var a2t=s2t;const l2t=Ie(a2t);function Ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function c2t(e){return Ve(1,arguments),e instanceof Date||jl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function We(e){Ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bu(e){if(Ve(1,arguments),!c2t(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function u2t(e,t){Ve(2,arguments);var n=We(e).getTime(),r=jt(t);return new Date(n+r)}function fSe(e,t){Ve(2,arguments);var n=jt(t);return u2t(e,-n)}var d2t=864e5;function f2t(e){Ve(1,arguments);var t=We(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/d2t)+1}function Wv(e){Ve(1,arguments);var t=1,n=We(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function hSe(e){Ve(1,arguments);var t=We(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Wv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Wv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function h2t(e){Ve(1,arguments);var t=hSe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Wv(n);return r}var p2t=6048e5;function pSe(e){Ve(1,arguments);var t=We(e),n=Wv(t).getTime()-h2t(t).getTime();return Math.round(n/p2t)+1}var m2t={};function id(){return m2t}function Wp(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=We(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function N8(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=We(e),f=d.getUTCFullYear(),p=id(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Wp(v,t),x=new Date(0);x.setUTCFullYear(f,0,m),x.setUTCHours(0,0,0,0);var b=Wp(x,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function g2t(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=N8(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Wp(m,t);return v}var v2t=6048e5;function mSe(e,t){Ve(1,arguments);var n=We(e),r=Wp(n,t).getTime()-g2t(n,t).getTime();return Math.round(r/v2t)+1}function wn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var y2t={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return wn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):wn(r+1,2)},d:function(t,n){return wn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return wn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return wn(t.getUTCHours(),n.length)},m:function(t,n){return wn(t.getUTCMinutes(),n.length)},s:function(t,n){return wn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return wn(i,n.length)}};const vd=y2t;var Km={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},b2t={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return vd.y(t,n)},Y:function(t,n,r,o){var i=N8(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return wn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):wn(s,n.length)},R:function(t,n){var r=hSe(t);return wn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return wn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return wn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return wn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return vd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return wn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=mSe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):wn(i,n.length)},I:function(t,n,r){var o=pSe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):wn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vd.d(t,n)},D:function(t,n,r){var o=f2t(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):wn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return wn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return wn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return wn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Km.noon:o===0?i=Km.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Km.evening:o>=12?i=Km.afternoon:o>=4?i=Km.morning:i=Km.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return vd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vd.s(t,n)},S:function(t,n){return vd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return $K(s);case"XXXX":case"XX":return Yh(s);case"XXXXX":case"XXX":default:return Yh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return $K(s);case"xxxx":case"xx":return Yh(s);case"xxxxx":case"xxx":default:return Yh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+OK(s,":");case"OOOO":default:return"GMT"+Yh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+OK(s,":");case"zzzz":default:return"GMT"+Yh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return wn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return wn(s,n.length)}};function OK(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+wn(i,2)}function $K(e,t){if(e%60===0){var n=e>0?"-":"+";return n+wn(Math.abs(e)/60,2)}return Yh(e,t)}function Yh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=wn(Math.floor(o/60),2),s=wn(o%60,2);return r+i+n+s}const x2t=b2t;var RK=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},gSe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},w2t=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return RK(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",RK(o,n)).replace("{{time}}",gSe(i,n))},_2t={p:gSe,P:w2t};const BR=_2t;function fE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var C2t=["D","DD"],S2t=["YY","YYYY"];function vSe(e){return C2t.indexOf(e)!==-1}function ySe(e){return S2t.indexOf(e)!==-1}function hE(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var E2t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k2t=function(t,n,r){var o,i=E2t[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const j2t=k2t;function oP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var T2t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A2t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D2t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I2t={date:oP({formats:T2t,defaultWidth:"full"}),time:oP({formats:A2t,defaultWidth:"full"}),dateTime:oP({formats:D2t,defaultWidth:"full"})};const P2t=I2t;var O2t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$2t=function(t,n,r,o){return O2t[t]};const R2t=$2t;function R1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var M2t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F2t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L2t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B2t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V2t=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},H2t={ordinalNumber:V2t,era:R1({values:M2t,defaultWidth:"wide"}),quarter:R1({values:F2t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:R1({values:L2t,defaultWidth:"wide"}),day:R1({values:B2t,defaultWidth:"wide"}),dayPeriod:R1({values:N2t,defaultWidth:"wide",formattingValues:z2t,defaultFormattingWidth:"wide"})};const U2t=H2t;function M1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Y2t(a,function(f){return f.test(s)}):W2t(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function W2t(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Y2t(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function q2t(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var G2t=/^(\d+)(th|st|nd|rd)?/i,K2t=/\d+/i,Z2t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X2t={any:[/^b/i,/^(a|c)/i]},Q2t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J2t={any:[/1/i,/2/i,/3/i,/4/i]},eSt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tSt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nSt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rSt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oSt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iSt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sSt={ordinalNumber:q2t({matchPattern:G2t,parsePattern:K2t,valueCallback:function(t){return parseInt(t,10)}}),era:M1({matchPatterns:Z2t,defaultMatchWidth:"wide",parsePatterns:X2t,defaultParseWidth:"any"}),quarter:M1({matchPatterns:Q2t,defaultMatchWidth:"wide",parsePatterns:J2t,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:M1({matchPatterns:eSt,defaultMatchWidth:"wide",parsePatterns:tSt,defaultParseWidth:"any"}),day:M1({matchPatterns:nSt,defaultMatchWidth:"wide",parsePatterns:rSt,defaultParseWidth:"any"}),dayPeriod:M1({matchPatterns:oSt,defaultMatchWidth:"any",parsePatterns:iSt,defaultParseWidth:"any"})};const aSt=sSt;var lSt={code:"en-US",formatDistance:j2t,formatLong:P2t,formatRelative:R2t,localize:U2t,match:aSt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const bSe=lSt;var cSt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uSt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dSt=/^'([^]*?)'?$/,fSt=/''/g,hSt=/[a-zA-Z]/;function Zo(e,t,n){var r,o,i,s,a,l,u,d,f,p,m,v,g,x,b,y,w,_;Ve(2,arguments);var C=String(t),S=id(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:bSe,j=jt((i=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=jt((m=(v=(g=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(b=n.locale)===null||b===void 0||(y=b.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=We(e);if(!Bu(T))throw new RangeError("Invalid time value");var A=fE(T),D=fSe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},P=C.match(uSt).map(function(M){var $=M[0];if($==="p"||$==="P"){var V=BR[$];return V(M,E.formatLong)}return M}).join("").match(cSt).map(function(M){if(M==="''")return"'";var $=M[0];if($==="'")return pSt(M);var V=x2t[$];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&ySe(M)&&hE(M,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&vSe(M)&&hE(M,t,String(e)),V(D,M,E.localize,I);if($.match(hSt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return M}).join("");return P}function pSt(e){var t=e.match(dSt);return t?t[1].replace(fSt,"'"):e}var mSt=Lc,gSt=0;function vSt(e){var t=++gSt;return mSt(e)+t}var ySt=vSt;const xSe=Ie(ySt);function zi(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function z8(e,t){Ve(2,arguments);var n=We(e),r=jt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Yv(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=We(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function zf(e){Ve(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var bSt=864e5;function xSt(e,t){Ve(2,arguments);var n=zf(e),r=zf(t),o=n.getTime()-fE(n),i=r.getTime()-fE(r);return Math.round((o-i)/bSt)}function wSt(e,t){Ve(2,arguments);var n=jt(t),r=n*7;return zi(e,r)}function cb(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var yT=6e4,bT=36e5,_St=1e3;function Ld(e,t){Ve(2,arguments);var n=zf(e),r=zf(t);return n.getTime()===r.getTime()}function CSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function SSt(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getFullYear()-r.getFullYear()}function MK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function wSe(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=MK(n,r),i=Math.abs(xSt(n,r));n.setDate(n.getDate()-o*i);var s=+(MK(n,r)===-o),a=o*(i-s);return a===0?0:a}function V8(e,t){return Ve(2,arguments),We(e).getTime()-We(t).getTime()}var FK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ESt="trunc";function xT(e){return e?FK[e]:FK[ESt]}function kSt(e,t,n){Ve(2,arguments);var r=V8(e,t)/bT;return xT(n==null?void 0:n.roundingMethod)(r)}function jSt(e,t,n){Ve(2,arguments);var r=V8(e,t)/yT;return xT(n==null?void 0:n.roundingMethod)(r)}function pE(e){Ve(1,arguments);var t=We(e);return t.setHours(23,59,59,999),t}function TSt(e){Ve(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ASt(e){Ve(1,arguments);var t=We(e);return pE(t).getTime()===TSt(t).getTime()}function DSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=cb(n,r),i=Math.abs(CSt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=cb(n,r)===-o;ASt(We(e))&&i===1&&cb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function ISt(e,t,n){Ve(2,arguments);var r=V8(e,t)/1e3;return xT(n==null?void 0:n.roundingMethod)(r)}function PSt(e,t,n){Ve(2,arguments);var r=wSe(e,t)/7;return xT(n==null?void 0:n.roundingMethod)(r)}function OSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=cb(n,r),i=Math.abs(SSt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=cb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function LK(e){Ve(1,arguments);var t=We(e);return t.setSeconds(0,0),t}function _Se(e,t){Ve(1,arguments);var n=e||{},r=We(n.start),o=We(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Yv(r,t),a=Yv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var l=[],u=s;u.getTime()<=i;)u.setHours(0),l.push(We(u)),u=wSt(u,1),u.setHours(15);return l}function CSe(e){Ve(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function BK(e){Ve(1,arguments);var t=We(e);return t.setSeconds(59,999),t}function $St(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function RSt(e){Ve(1,arguments);var t=We(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function MSt(e){Ve(1,arguments);var t=We(e),n=t.getMinutes();return n}function FSt(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=We(e),f=d.getFullYear(),p=id(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Yv(v,t),x=new Date(0);x.setFullYear(f,0,m),x.setHours(0,0,0,0);var b=Yv(x,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function LSt(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=FSt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Yv(m,t);return v}var BSt=6048e5;function SSe(e,t){Ve(1,arguments);var n=We(e),r=Yv(n,t).getTime()-LSt(n,t).getTime();return Math.round(r/BSt)+1}function ESe(e){Ve(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function NR(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getTime()>r.getTime()}function kSe(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getTime()<r.getTime()}function NK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NSt(e,t){if(e){if(typeof e=="string")return NK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NK(e,t)}}function zK(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=NSt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U5(e,t)}function mE(e){return mE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mE(e)}function zSt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function VSt(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function sn(e){var t=zSt();return function(){var r=mE(e),o;if(t){var i=mE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return VSt(this,o)}}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G_e(r.key),r)}}function Gt(e,t,n){return t&&VK(e.prototype,t),n&&VK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var HSt=10,jSe=function(){function e(){qt(this,e),Re(this,"priority",void 0),Re(this,"subPriority",0)}return Gt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),USt=function(e){on(n,e);var t=sn(n);function n(r,o,i,s,a){var l;return qt(this,n),l=t.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return Gt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(jSe),WSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",HSt),Re(Fe(r),"subPriority",-1),r}return Gt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(jSe),mn=function(){function e(){qt(this,e),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return Gt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new USt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),YSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",140),Re(Fe(r),"incompatibleTokens",["R","u","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),Gr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},dc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Kr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ar(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function fc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*bT+i*yT+s*_St),rest:t.slice(n[0].length)}}function TSe(e){return Ar(Gr.anyDigitsSigned,e)}function Nr(e,t){switch(e){case 1:return Ar(Gr.singleDigit,t);case 2:return Ar(Gr.twoDigits,t);case 3:return Ar(Gr.threeDigits,t);case 4:return Ar(Gr.fourDigits,t);default:return Ar(new RegExp("^\\d{1,"+e+"}"),t)}}function gE(e,t){switch(e){case 1:return Ar(Gr.singleDigitSigned,t);case 2:return Ar(Gr.twoDigitsSigned,t);case 3:return Ar(Gr.threeDigitsSigned,t);case 4:return Ar(Gr.fourDigitsSigned,t);default:return Ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function H8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ASe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function DSe(e){return e%400===0||e%4===0&&e%100!==0}var qSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Kr(Nr(4,o),a);case"yo":return Kr(s.ordinalNumber(o,{unit:"year"}),a);default:return Kr(Nr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=ASe(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),GSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Kr(Nr(4,o),a);case"Yo":return Kr(s.ordinalNumber(o,{unit:"year"}),a);default:return Kr(Nr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=N8(o,a);if(s.isTwoDigitYear){var u=ASe(s.year,l);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Wp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Wp(o,a)}}]),n}(mn),KSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return gE(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Wv(a)}}]),n}(mn),ZSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return gE(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),XSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",120),Re(Fe(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Nr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),QSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",120),Re(Fe(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Nr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),JSt=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Fe(r),"priority",110),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Kr(Ar(Gr.month,o),a);case"MM":return Kr(Nr(2,o),a);case"Mo":return Kr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),e5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",110),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Kr(Ar(Gr.month,o),a);case"LL":return Kr(Nr(2,o),a);case"Lo":return Kr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function t5t(e,t,n){Ve(2,arguments);var r=We(e),o=jt(t),i=mSe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var n5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",100),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ar(Gr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Wp(t5t(o,s,a),a)}}]),n}(mn);function r5t(e,t){Ve(2,arguments);var n=We(e),r=jt(t),o=pSe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var o5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",100),Re(Fe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ar(Gr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Wv(r5t(o,s))}}]),n}(mn),i5t=[31,28,31,30,31,30,31,31,30,31,30,31],s5t=[31,29,31,30,31,30,31,31,30,31,30,31],a5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"subPriority",1),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ar(Gr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=DSe(s),l=o.getUTCMonth();return a?i>=1&&i<=s5t[l]:i>=1&&i<=i5t[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),l5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"subpriority",1),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ar(Gr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=DSe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function U8(e,t,n){var r,o,i,s,a,l,u,d;Ve(2,arguments);var f=id(),p=jt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=We(e),v=jt(t),g=m.getUTCDay(),x=v%7,b=(x+7)%7,y=(b<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+y),m}var c5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=U8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),u5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Kr(Nr(i.length,o),l);case"eo":return Kr(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=U8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),d5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Kr(Nr(i.length,o),l);case"co":return Kr(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=U8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function f5t(e,t){Ve(2,arguments);var n=jt(t);n%7===0&&(n=n-7);var r=1,o=We(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var h5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Nr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Kr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Kr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Kr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Kr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=f5t(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),p5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(H8(s),0,0,0),o}}]),n}(mn),m5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(H8(s),0,0,0),o}}]),n}(mn),g5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["a","b","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(H8(s),0,0,0),o}}]),n}(mn),v5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ar(Gr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),y5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ar(Gr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(mn),b5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ar(Gr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),x5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ar(Gr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(mn),w5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",60),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ar(Gr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(mn),_5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",50),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ar(Gr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Nr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(mn),C5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",30),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Kr(Nr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(mn),S5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",10),Re(Fe(r),"incompatibleTokens",["t","T","x"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return fc(dc.basicOptionalMinutes,o);case"XX":return fc(dc.basic,o);case"XXXX":return fc(dc.basicOptionalSeconds,o);case"XXXXX":return fc(dc.extendedOptionalSeconds,o);case"XXX":default:return fc(dc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),E5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",10),Re(Fe(r),"incompatibleTokens",["t","T","X"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return fc(dc.basicOptionalMinutes,o);case"xx":return fc(dc.basic,o);case"xxxx":return fc(dc.basicOptionalSeconds,o);case"xxxxx":return fc(dc.extendedOptionalSeconds,o);case"xxx":default:return fc(dc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),k5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",40),Re(Fe(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return TSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(mn),j5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",20),Re(Fe(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return TSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(mn),T5t={G:new YSt,y:new qSt,Y:new GSt,R:new KSt,u:new ZSt,Q:new XSt,q:new QSt,M:new JSt,L:new e5t,w:new n5t,I:new o5t,d:new a5t,D:new l5t,E:new c5t,e:new u5t,c:new d5t,i:new h5t,a:new p5t,b:new m5t,B:new g5t,h:new v5t,H:new y5t,K:new b5t,k:new x5t,m:new w5t,s:new _5t,S:new C5t,X:new S5t,x:new E5t,t:new k5t,T:new j5t},A5t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I5t=/^'([^]*?)'?$/,P5t=/''/g,O5t=/\S/,$5t=/[a-zA-Z]/;function R5t(e,t,n,r){var o,i,s,a,l,u,d,f,p,m,v,g,x,b,y,w,_,C;Ve(3,arguments);var S=String(e),E=String(t),j=id(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:bSe;if(!k.match)throw new RangeError("locale must contain match property");var T=jt((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=jt((v=(g=(x=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&x!==void 0?x:j.weekStartsOn)!==null&&g!==void 0?g:(_=j.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?We(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new WSt],P=E.match(D5t).map(function(Q){var X=Q[0];if(X in BR){var Z=BR[X];return Z(Q,k.formatLong)}return Q}).join("").match(A5t),M=[],$=zK(P),V;try{var L=function(){var X=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&ySe(X)&&hE(X,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&vSe(X)&&hE(X,E,e);var Z=X[0],re=T5t[Z];if(re){var le=re.incompatibleTokens;if(Array.isArray(le)){var he=M.find(function(ye){return le.includes(ye.token)||ye.token===Z});if(he)throw new RangeError("The format string mustn't contain `".concat(he.fullToken,"` and `").concat(X,"` at the same time"))}else if(re.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));M.push({token:Z,fullToken:X});var ie=re.run(S,X,k.match,D);if(!ie)return{v:new Date(NaN)};I.push(ie.setter),S=ie.rest}else{if(Z.match($5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(X==="''"?X="'":Z==="'"&&(X=M5t(X)),S.indexOf(X)===0)S=S.slice(X.length);else return{v:new Date(NaN)}}};for($.s();!(V=$.n()).done;){var H=L();if(jl(H)==="object")return H.v}}catch(Q){$.e(Q)}finally{$.f()}if(S.length>0&&O5t.test(S))return new Date(NaN);var U=I.map(function(Q){return Q.priority}).sort(function(Q,X){return X-Q}).filter(function(Q,X,Z){return Z.indexOf(Q)===X}).map(function(Q){return I.filter(function(X){return X.priority===Q}).sort(function(X,Z){return Z.subPriority-X.subPriority})}).map(function(Q){return Q[0]}),z=We(n);if(isNaN(z.getTime()))return new Date(NaN);var Y=fSe(z,fE(z)),te={},N=zK(U),G;try{for(N.s();!(G=N.n()).done;){var q=G.value;if(!q.validate(Y,D))return new Date(NaN);var K=q.set(Y,te,D);Array.isArray(K)?(Y=K[0],$St(te,K[1])):Y=K}}catch(Q){N.e(Q)}finally{N.f()}return Y}function M5t(e){return e.match(I5t)[1].replace(P5t,"'")}function ISe(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function F5t(e,t){Ve(2,arguments);var n=jt(t);return zi(e,-n)}function L5t(e,t){var n;Ve(1,arguments);var r=jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=V5t(e),i;if(o.date){var s=H5t(o.date,r);i=U5t(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(o.time&&(l=W5t(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(u=Y5t(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+l+u)}var iC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},B5t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,N5t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,z5t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function V5t(e){var t={},n=e.split(iC.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],iC.timeZoneDelimiter.test(t.date)&&(t.date=e.split(iC.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=iC.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function H5t(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function U5t(e,t){if(t===null)return new Date(NaN);var n=e.match(B5t);if(!n)return new Date(NaN);var r=!!n[4],o=F1(n[1]),i=F1(n[2])-1,s=F1(n[3]),a=F1(n[4]),l=F1(n[5])-1;if(r)return X5t(t,a,l)?q5t(t,a,l):new Date(NaN);var u=new Date(0);return!K5t(t,i,s)||!Z5t(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function F1(e){return e?parseInt(e):1}function W5t(e){var t=e.match(N5t);if(!t)return NaN;var n=iP(t[1]),r=iP(t[2]),o=iP(t[3]);return Q5t(n,r,o)?n*bT+r*yT+o*1e3:NaN}function iP(e){return e&&parseFloat(e.replace(",","."))||0}function Y5t(e){if(e==="Z")return 0;var t=e.match(z5t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return J5t(r,o)?n*(r*bT+o*yT):NaN}function q5t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var G5t=[31,null,31,30,31,30,31,31,30,31,30,31];function PSe(e){return e%400===0||e%4===0&&e%100!==0}function K5t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(G5t[t]||(PSe(e)?29:28))}function Z5t(e,t){return t>=1&&t<=(PSe(e)?366:365)}function X5t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Q5t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function J5t(e,t){return t>=0&&t<=59}function OSe(e,t){Ve(2,arguments);var n=We(e),r=jt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=RSt(s);return n.setMonth(r,Math.min(i,a)),n}function eEt(e,t){if(Ve(2,arguments),jl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=We(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=OSe(n,t.month)),t.date!=null&&n.setDate(jt(t.date)),t.hours!=null&&n.setHours(jt(t.hours)),t.minutes!=null&&n.setMinutes(jt(t.minutes)),t.seconds!=null&&n.setSeconds(jt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(jt(t.milliseconds)),n)}function tEt(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setDate(r),n}function sP(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setHours(r),n}function rS(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setMinutes(r),n}function nEt(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function HK(){return zf(Date.now())}function rEt(e,t){Ve(2,arguments);var n=jt(t);return z8(e,-n)}function UK(e,t){if(Ve(2,arguments),!t||jl(t)!=="object")return new Date(NaN);var n=t.years?jt(t.years):0,r=t.months?jt(t.months):0,o=t.weeks?jt(t.weeks):0,i=t.days?jt(t.days):0,s=t.hours?jt(t.hours):0,a=t.minutes?jt(t.minutes):0,l=t.seconds?jt(t.seconds):0,u=rEt(e,r+n*12),d=F5t(u,i+o*7),f=a+s*60,p=l+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const W8=[],Y8=[],$Se=new Set,Dw=new Map,Iw=new Map,RSe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,vE=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),MSe=(e,t,n)=>{if(!e.length||$Se.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[l,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return vE(l===""?t[u-1]:l,d)})}return t},FSe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?vE(e,o):t.has(o)?vE(e,t.get(o)):MSe(o,e,r)},LSe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:MSe(o,o,r)===o},Br=(e,t,n)=>{const r=t===1?Br.singular(e):Br.plural(e);return n?"".concat(t," ").concat(r):r};Br.plural=e=>FSe(e,Iw,Dw,W8);Br.singular=e=>FSe(e,Dw,Iw,Y8);Br.addPluralRule=(e,t)=>{W8.push([RSe(e),t])};Br.addSingularRule=(e,t)=>{Y8.push([RSe(e),t])};Br.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();Iw.set(r,n),Dw.set(n,r)};Br.addUncountableRule=e=>{if(typeof e=="string"){$Se.add(e.toLowerCase());return}Br.addPluralRule(e,"$0"),Br.addSingularRule(e,"$0")};Br.isPlural=e=>LSe(e,Iw,Dw,W8);Br.isSingular=e=>LSe(e,Dw,Iw,Y8);const oEt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],iEt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],sEt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],aEt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of oEt)Br.addIrregularRule(e,t);for(const[e,t]of iEt)Br.addPluralRule(e,t);for(const[e,t]of sEt)Br.addSingularRule(e,t);for(const e of aEt)Br.addUncountableRule(e);var BSe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(xs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],M=D[3];if(!I||!P||!M)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var $=P.split("x"),V=$[0],L=$[1],H=+V,U=+L,z=isFinite(H)&&isFinite(U);if(!z)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:U,format:M}}var l=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(l(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function x(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var M=P.asset._ref||P.asset._id||"",$=a(M),V=Math.round(P.crop.left*$.width),L=Math.round(P.crop.top*$.height),H={left:V,top:L,width:Math.round($.width-P.crop.right*$.width-V),height:Math.round($.height-P.crop.bottom*$.height-L)},U=P.hotspot.height*$.height/2,z=P.hotspot.width*$.width/2,Y=P.hotspot.x*$.width,te=P.hotspot.y*$.height,N={left:Y-z,top:te-U,right:Y+z,bottom:te+U};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,y({crop:H,hotspot:N},D))),b(n({},D,{asset:$}))}function b(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,M=[];if(A.rect){var $=A.rect,V=$.left,L=$.top,H=$.width,U=$.height,z=V!==0||L!==0||U!==A.asset.height||H!==A.asset.width;z&&M.push("rect="+V+","+L+","+H+","+U)}A.bg&&M.push("bg="+A.bg),A.focalPoint&&(M.push("fp-x="+A.focalPoint.x),M.push("fp-y="+A.focalPoint.y));var Y=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return Y&&M.push("flip="+Y),g.forEach(function(te){var N=te[0],G=te[1];typeof A[N]<"u"?M.push(G+"="+encodeURIComponent(A[N])):typeof A[G]<"u"&&M.push(G+"="+encodeURIComponent(A[G]))}),M.length===0?P:P+"?"+M.join("&")}function y(A,D){var I,P=D.width,M=D.height;if(!(P&&M))return{width:P,height:M,rect:A.crop};var $=A.crop,V=A.hotspot,L=P/M,H=$.width/$.height;if(H>L){var U=Math.round($.height),z=Math.round(U*L),Y=Math.max(0,Math.round($.top)),te=Math.round((V.right-V.left)/2+V.left),N=Math.max(0,Math.round(te-z/2));N<$.left?N=$.left:N+z>$.left+$.width&&(N=$.left+$.width-z),I={left:N,top:Y,width:z,height:U}}else{var G=$.width,q=Math.round(G/L),K=Math.max(0,Math.round($.left)),Q=Math.round((V.bottom-V.top)/2+V.top),X=Math.max(0,Math.round(Q-q/2));X<$.top?X=$.top:X+q>$.top+$.height&&(X=$.top+$.height-q),I={left:K,top:X,width:G,height:q}}return{width:P,height:M,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],_=["top","bottom","left","right","center","focalpoint","entropy"],C=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var M=P.value,$=M[0],V=M[1];if(A===$||A===V)return $}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,M=D.dataset,$=I||"https://api.sanity.io";return new T(null,{baseUrl:$.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:M})}var V=A;if(E(V)){var L=V.clientConfig,H=L.apiHost,U=L.projectId,z=L.dataset,Y=H||"https://api.sanity.io";return new T(null,{baseUrl:Y.replace(/^https:\/\/api\./,"https://cdn."),projectId:U,dataset:z})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var M=P.baseUrl||this.options.baseUrl,$={baseUrl:M};for(var V in P)if(P.hasOwnProperty(V)){var L=j(V);$[L]=P[V]}return new A(this,n({baseUrl:M},$))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,M){return this.withOptions({focalPoint:{x:P,y:M}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,M){return this.withOptions({width:P,height:M})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,M,$,V){return this.withOptions({rect:{left:P,top:M,width:$,height:V}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return x(this.options)},D.toString=function(){return this.url()},A}();return k})})(BSe);var lEt=BSe.exports;const wT=Ie(lEt);function cEt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ax(e,t)}function zR(e){return zR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zR(e)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},ax(e,t)}function uEt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oS(e,t,n){return uEt()?oS=Reflect.construct.bind():oS=function(o,i,s){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(o,a),u=new l;return s&&ax(u,s.prototype),u},oS.apply(null,arguments)}function dEt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function VR(e){var t=typeof Map=="function"?new Map:void 0;return VR=function(r){if(r===null||!dEt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return oS(r,arguments,zR(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ax(o,r)},VR(e)}var sC=Object.freeze({left:0,top:0,bottom:0,right:0}),aC=Object.freeze({x:.5,y:.5,height:1,width:1}),fEt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=sC.top,a=sC.bottom,l=sC.left,u=sC.right;return n===s&&r===a&&o===l&&i===u},hEt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=aC.x,a=aC.y,l=aC.width,u=aC.height;return n===s&&r===a&&o===l&&i===u},q8=function(e){cEt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(VR(Error));function pEt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function mEt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(pEt(t))return;throw t}}}var Bd="https://cdn.sanity.io",gEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,vEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,NSe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,zSe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function yEt(e){return Pw(e)&&typeof e._ref=="string"}function bEt(e){return Pw(e)&&typeof e._id=="string"}function xEt(e){return Pw(e)&&typeof e.path=="string"}function wEt(e){return Pw(e)&&typeof e.url=="string"}function _Et(e){var t=e;return Pw(t)&&t.asset&&typeof t.asset=="object"}function Pw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function CEt(e){if(NSe.test(e))return e;if(!e.startsWith(Bd+"/"))throw new q8('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Bd.length+1,n)}var SEt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function EEt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+SEt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function kEt(e){var t=VSe(e),n=EEt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function VSe(e){var t=_Et(e)?e.asset:e,n="";typeof t=="string"?n=jEt(t):yEt(t)?n=t._ref:bEt(t)?n=t._id:xEt(t)?n=zg(Bd+"/"+t.path):wEt(t)&&(n=zg(t.url));var r=n&&zSe.test(n);if(!r)throw new q8(e);return n}var HSe=mEt(VSe);function jEt(e){if(zSe.test(e))return e;if(e.indexOf(Bd+"/images")===0||e.indexOf(Bd+"/files")===0)return zg(e);if(NSe.test(e))return zg(Bd+"/"+e);if(AEt(e))return zg(Bd+"/files/a/b/"+e);if(TEt(e))return zg(Bd+"/images/a/b/"+e);throw new q8(e)}function zg(e){var t=CEt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function TEt(e){return vEt.test(e)}function AEt(e){return gEt.test(e)}function WK(e){var t=HSe(e);return t?t.startsWith("file-"):!1}function ub(e){var t=HSe(e);return t?t.startsWith("image-"):!1}function DEt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var IEt=DEt;const _T=Ie(IEt);var PEt=aT,OEt=R8,$Et=OEt(function(e,t,n){PEt(e,n,t)}),REt=$Et;const G8=Ie(REt);var MEt=Lc;function FEt(e){return MEt(e).toLowerCase()}var LEt=FEt;const cv=Ie(LEt);var BEt=$0,NEt=M0,zEt=pT,VEt=sT,HEt=NEt(function(e){return zEt(BEt(e,1,VEt,!0))}),UEt=HEt;const USe=Ie(UEt);function WEt(){}var K8=WEt,YEt=j8,qEt=K8;function yE(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}yE.prototype=YEt(qEt.prototype);yE.prototype.constructor=yE;var Z8=yE,YK=n_e,GEt=YK&&new YK,KEt=GEt,qK=KEt,ZEt=A8,XEt=qK?function(e){return qK.get(e)}:ZEt,WSe=XEt,QEt={},JEt=QEt,GK=JEt,ekt=Object.prototype,tkt=ekt.hasOwnProperty;function nkt(e){for(var t=e.name+"",n=GK[t],r=tkt.call(GK,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var YSe=nkt,rkt=j8,okt=K8,ikt=4294967295;function bE(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ikt,this.__views__=[]}bE.prototype=rkt(okt.prototype);bE.prototype.constructor=bE;var X8=bE,skt=X8,akt=Z8,lkt=S8;function ckt(e){if(e instanceof skt)return e.clone();var t=new akt(e.__wrapped__,e.__chain__);return t.__actions__=lkt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ukt=ckt,dkt=X8,KK=Z8,fkt=K8,hkt=Qr,pkt=Xa,mkt=ukt,gkt=Object.prototype,vkt=gkt.hasOwnProperty;function xE(e){if(pkt(e)&&!hkt(e)&&!(e instanceof dkt)){if(e instanceof KK)return e;if(vkt.call(e,"__wrapped__"))return mkt(e)}return new KK(e)}xE.prototype=fkt.prototype;xE.prototype.constructor=xE;var ykt=xE,bkt=X8,xkt=WSe,wkt=YSe,_kt=ykt;function Ckt(e){var t=wkt(e),n=_kt[t];if(typeof n!="function"||!(t in bkt.prototype))return!1;if(e===n)return!0;var r=xkt(n);return!!r&&e===r[0]}var Skt=Ckt,ZK=Z8,Ekt=o8,kkt=WSe,aP=YSe,jkt=Qr,XK=Skt,Tkt="Expected a function",Akt=8,Dkt=32,Ikt=128,Pkt=256;function Okt(e){return Ekt(function(t){var n=t.length,r=n,o=ZK.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(Tkt);if(o&&!s&&aP(i)=="wrapper")var s=new ZK([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=aP(i),l=a=="wrapper"?kkt(i):void 0;l&&XK(l[0])&&l[1]==(Ikt|Akt|Dkt|Pkt)&&!l[4].length&&l[9]==1?s=s[aP(l[0])].apply(s,l[3]):s=i.length==1&&XK(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&jkt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var $kt=Okt,Rkt=$kt,Mkt=Rkt(),Fkt=Mkt;const Lkt=Ie(Fkt);var Bkt=JL;function Nkt(e,t){for(var n=e.length;n--&&Bkt(t,e[n],0)>-1;);return n}var zkt=Nkt,Vkt=JL;function Hkt(e,t){for(var n=-1,r=e.length;++n<r&&Vkt(t,e[n],0)>-1;);return n}var Ukt=Hkt,Wkt=v_e,Ykt=Pge,qkt=C2e,Gkt=zkt,Kkt=Ukt,QK=I2e,Zkt=Lc;function Xkt(e,t,n){if(e=Zkt(e),e&&(n||t===void 0))return Ykt(e);if(!e||!(t=Wkt(t)))return e;var r=QK(e),o=QK(t),i=Kkt(r,o),s=Gkt(r,o)+1;return qkt(r,i,s).join("")}var Qkt=Xkt;const Jkt=Ie(Qkt);var lC,ejt=new Uint8Array(16);function tjt(){if(!lC&&(lC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lC(ejt)}const njt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rjt(e){return typeof e=="string"&&njt.test(e)}var Ho=[];for(var lP=0;lP<256;++lP)Ho.push((lP+256).toString(16).substr(1));function ojt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ho[e[t+0]]+Ho[e[t+1]]+Ho[e[t+2]]+Ho[e[t+3]]+"-"+Ho[e[t+4]]+Ho[e[t+5]]+"-"+Ho[e[t+6]]+Ho[e[t+7]]+"-"+Ho[e[t+8]]+Ho[e[t+9]]+"-"+Ho[e[t+10]]+Ho[e[t+11]]+Ho[e[t+12]]+Ho[e[t+13]]+Ho[e[t+14]]+Ho[e[t+15]]).toLowerCase();if(!rjt(n))throw TypeError("Stringified UUID is invalid");return n}function sd(e,t,n){e=e||{};var r=e.random||(e.rng||tjt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return ojt(r)}var ijt=E_e,JK=Qr;function sjt(e,t,n,r){return e==null?[]:(JK(t)||(t=t==null?[]:[t]),n=r?void 0:n,JK(n)||(n=n==null?[]:[n]),ijt(e,t,n))}var ajt=sjt;const B0=Ie(ajt);function ljt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function HR(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Ow(e){const[t,n]=e;return[t,n]}function eZ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function Q8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function CT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function J8(e){let t=e.map(f=>Ow(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===wt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===Yn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Yn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=ST(t)),t=qSe(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Yn){const f=t[s-1][1],p=t[s][1],m=eZ(f,p),v=eZ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[wt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[wt,f.substring(0,v)]),t[s-1][0]=Yn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const tZ=/[^a-zA-Z0-9]/,nZ=/\s/,rZ=/[\r\n]/,cjt=/\n\r?\n$/,ujt=/^\r?\n\r?\n/;function qSe(e){const t=e.map(o=>Ow(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(tZ),u=a.match(tZ),d=l&&s.match(nZ),f=u&&a.match(nZ),p=d&&s.match(rZ),m=f&&a.match(rZ),v=p&&o.match(cjt),g=m&&i.match(ujt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===wt&&t[r+1][0]===wt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=CT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function ST(e){let t=e.map(u=>Ow(u));t.push([wt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Yn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case wt:r+o>1?(r!==0&&o!==0&&(a=Q8(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===wt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[wt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=CT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Yn,s]),n++),n++):n!==0&&t[n-1][0]===wt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===wt&&t[n+1][0]===wt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=ST(t)),t}function djt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function e9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Ow(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===wt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&djt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Yn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=ST(n)),n}function fjt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let x=0;x<a;x++)l[x]=-1,u[x]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let x=0;x<i&&!(Date.now()>n);x++){for(let b=-x+p;b<=x-m;b+=2){const y=s+b;let w;b===-x||b!==x&&l[y-1]<l[y+1]?w=l[y+1]:w=l[y-1]+1;let _=w-b;for(;w<r&&_<o&&e.charAt(w)===t.charAt(_);)w++,_++;if(l[y]=w,w>r)m+=2;else if(_>o)p+=2;else if(f){const C=s+d-b;if(C>=0&&C<a&&u[C]!==-1){const S=r-u[C];if(w>=S)return oZ(e,t,w,_,n)}}}for(let b=-x+v;b<=x-g;b+=2){const y=s+b;let w;b===-x||b!==x&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let _=w-b;for(;w<r&&_<o&&e.charAt(r-w-1)===t.charAt(o-_-1);)w++,_++;if(u[y]=w,w>r)g+=2;else if(_>o)v+=2;else if(!f){const C=s+d-b;if(C>=0&&C<a&&l[C]!==-1){const S=l[C],E=s+S-C;if(w=r-w,S>=w)return oZ(e,t,S,E,n)}}}}return[[Dn,e],[Yn,t]]}function oZ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Yp(i,s,{checkLines:!1,deadline:o}),d=Yp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function hjt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=iZ(r,o,Math.ceil(r.length/4)),s=iZ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function iZ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=Q8(e.slice(n),t.slice(o)),f=CT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function pjt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function mjt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function gjt(e,t,n){let r=e,o=t;const i=mjt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Yp(r,o,{checkLines:!1,deadline:n.deadline});pjt(a,s),a=J8(a),a.push([wt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case Yn:d++,p+=a[l][1];break;case Dn:u++,f+=a[l][1];break;case wt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Yp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function vjt(e,t,n){let r;if(!e)return[[Yn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Yn,o.substring(0,s)],[wt,i],[Yn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Yn,t]];const a=hjt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Yp(l,d,n),v=Yp(u,f,n);return m.concat([[wt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?gjt(e,t,n):fjt(e,t,n.deadline)}const Dn=-1,Yn=1,wt=0;function $w(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Yp(e,t,bjt(n||{}));return wjt(r),r}function Yp(e,t,n){let r=e,o=t;if(r===o)return r?[[wt,r]]:[];let i=Q8(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=CT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=vjt(r,o,n);return s&&l.unshift([wt,s]),a&&l.push([wt,a]),l=ST(l),l}function yjt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function bjt(e){return{checkLines:!0,deadline:yjt(e.timeout||1),...e}}function cC(e,t,n){return n===1?e+t:t+e}function uC(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function xjt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function sZ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Yn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===wt){if(o===null&&i===null){const[f,p]=uC(e[t][1],n);e[t][1]=f,e[s][1]=cC(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&xjt(e,o,i,n)){const[u,d]=uC(e[o][1],r),[f]=uC(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=cC(e[t][1],d,n);return}const[a,l]=uC(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Yn,l]),i!==null&&i>=s&&i++):e[o][1]=cC(e[o][1],l,r),i===null?e.splice(s,0,[Dn,l]):e[i][1]=cC(e[i][1],l,r)}function wjt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];ljt(i)&&n===wt&&sZ(e,t,1),HR(o)&&n===wt&&sZ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const _jt={threshold:.5,distance:1e3};function Cjt(e){return{..._jt,...e}}const Sjt=32;function Ejt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>Sjt)throw new Error("Pattern too long for this browser.");const o=Cjt(r),i=kjt(t);function s(v,g){const x=v/t.length,b=Math.abs(n-g);return o.distance?x+b/o.distance:b?1:x}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const x=Math.min(n+f,e.length)+t.length,b=new Array(x+2);b[x+1]=(1<<v)-1;for(let y=x;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?b[y]=(b[y+1]<<1|1)&w:b[y]=(b[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],b[y]&u){const _=s(v,y-1);if(_<=a)if(a=_,l=y-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=b}return l}function kjt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function cP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return Ejt(e,t,r)}function wE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function t9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Yn&&(t[n]=e[n][1]);return t.join("")}function GSe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function Yd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=KSe(r)}return t}function jjt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=KSe(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>Ow(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function KSe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Id=32,n9=4,Tjt={margin:4};function uP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...Tjt,...e}}function ZSe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=$w(e,t,{checkLines:!0});return r.length>2&&(r=J8(r),r=e9(r)),dP(e,r,uP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return dP(t9(e),e,uP(n));if(typeof e=="string"&&t&&Array.isArray(t))return dP(e,t,uP(n));throw new Error("Unknown call format to make()")}function dP(e,t,n){if(t.length===0)return[];const r=[];let o=wE(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,x=g.length,b=Yd(g);switch(!i&&v!==wt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case Yn:o.diffs[i++]=m,o.length2+=x,o.utf8Length2+=b,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=x,o.utf8Length1+=b,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+x);break;case wt:x<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=x,o.length2+=x,o.utf8Length1+=b,o.utf8Length2+=b):x>=2*n.margin&&i&&(aZ(o,d,n),r.push(o),o=wE(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==Yn&&(s+=x,l+=b),v!==Dn&&(a+=x,u+=b)}return i&&(aZ(o,d,n),r.push(o)),r}function aZ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Id-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&HR(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([wt,s]);const a=s.length,l=Yd(s);let u=e.start2+e.length1+o;u<t.length&&HR(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([wt,d]);const f=d.length,p=Yd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function Ajt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Yn:n+=s.length;break;case Dn:r+=s.length;break;case wt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function lZ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Yn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function Djt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==wt)i.unshift([wt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==wt)i.push([wt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function Ijt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n9;const n=Id;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=wE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Yd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([wt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Yd(m);if(p===Yn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===Dn&&l.diffs.length===1&&l.diffs[0][0]===wt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Yd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===wt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=GSe(l.diffs),a=a.substring(a.length-t);const d=t9(o.diffs).substring(0,t),f=Yd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===wt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([wt,d])),u||e.splice(++r,0,l)}}}function XSe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=jjt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||n9,s=n.deleteThreshold||.4,a=Djt(o,i);r=a+r+a,Ijt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=t9(o[d].diffs);let m,v=-1;if(p.length>Id?(m=cP(r,p.substring(0,Id),f),m!==-1&&(v=cP(r,p.substring(p.length-Id),f+p.length-Id),(v===-1||m>=v)&&(m=-1))):m=cP(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Id),p===g)r=r.substring(0,m)+GSe(o[d].diffs)+r.substring(m+p.length);else{let x=$w(p,g,{checkLines:!1});if(p.length>Id&&Ajt(x)/p.length>s)u[d]=!1;else{x=qSe(x);let b=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const _=o[d].diffs[w];_[0]!==wt&&(y=lZ(x,b)),_[0]===Yn?r=r.substring(0,m+y)+_[1]+r.substring(m+y):_[0]===Dn&&(r=r.substring(0,m+y)+r.substring(m+lZ(x,b+_[1].length))),_[0]!==Dn&&(b+=_[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function QSe(e){return e.map(Pjt).join("")}function Pjt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Yn:u="+";break;case Dn:u="-";break;case wt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const Ojt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function JSe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(Ojt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=wE(dC(o[1]),dC(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=dC(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=dC(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Yd(l)-l.length;if(a==="-")i.diffs.push([Dn,l]),i.length1-=u;else if(a==="+")i.diffs.push([Yn,l]),i.length2-=u;else if(a===" ")i.diffs.push([wt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function dC(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var e5e;function $e(){return e5e.apply(null,arguments)}function $jt(e){e5e=e}function Al(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function jp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(cn(e,t))return!1;return!0}function us(e){return e===void 0}function Nu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Rw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function t5e(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function qd(e,t){for(var n in t)cn(t,n)&&(e[n]=t[n]);return cn(t,"toString")&&(e.toString=t.toString),cn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Nc(e,t,n,r){return E5e(e,t,n,r,!0).utc()}function Rjt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Et(e){return e._pf==null&&(e._pf=Rjt()),e._pf}var UR;Array.prototype.some?UR=Array.prototype.some:UR=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function o9(e){if(e._isValid==null){var t=Et(e),n=UR.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function ET(e){var t=Nc(NaN);return e!=null?qd(Et(t),e):Et(t).userInvalidated=!0,t}var cZ=$e.momentProperties=[],fP=!1;function i9(e,t){var n,r,o,i=cZ.length;if(us(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),us(t._i)||(e._i=t._i),us(t._f)||(e._f=t._f),us(t._l)||(e._l=t._l),us(t._strict)||(e._strict=t._strict),us(t._tzm)||(e._tzm=t._tzm),us(t._isUTC)||(e._isUTC=t._isUTC),us(t._offset)||(e._offset=t._offset),us(t._pf)||(e._pf=Et(t)),us(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=cZ[n],o=t[r],us(o)||(e[r]=o);return e}function Mw(e){i9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fP===!1&&(fP=!0,$e.updateOffset(this),fP=!1)}function Dl(e){return e instanceof Mw||e!=null&&e._isAMomentObject!=null}function n5e(e){$e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function el(e,t){var n=!0;return qd(function(){if($e.deprecationHandler!=null&&$e.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])cn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}n5e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var uZ={};function r5e(e,t){$e.deprecationHandler!=null&&$e.deprecationHandler(e,t),uZ[e]||(n5e(t),uZ[e]=!0)}$e.suppressDeprecationWarnings=!1;$e.deprecationHandler=null;function zc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Mjt(e){var t,n;for(n in e)cn(e,n)&&(t=e[n],zc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function WR(e,t){var n=qd({},e),r;for(r in t)cn(t,r)&&(jp(e[r])&&jp(t[r])?(n[r]={},qd(n[r],e[r]),qd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)cn(e,r)&&!cn(t,r)&&jp(e[r])&&(n[r]=qd({},n[r]));return n}function s9(e){e!=null&&this.set(e)}var YR;Object.keys?YR=Object.keys:YR=function(e){var t,n=[];for(t in e)cn(e,t)&&n.push(t);return n};var Fjt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ljt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zc(r)?r.call(t,n):r}function Ic(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var a9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fC=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hP={},uv={};function Je(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(uv[e]=o),t&&(uv[t[0]]=function(){return Ic(o.apply(this,arguments),t[1],t[2])}),n&&(uv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Bjt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Njt(e){var t=e.match(a9),n,r;for(n=0,r=t.length;n<r;n++)uv[t[n]]?t[n]=uv[t[n]]:t[n]=Bjt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=zc(t[s])?t[s].call(o,e):t[s];return i}}function iS(e,t){return e.isValid()?(t=o5e(t,e.localeData()),hP[t]=hP[t]||Njt(t),hP[t](e)):e.localeData().invalidDate()}function o5e(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(fC.lastIndex=0;n>=0&&fC.test(e);)e=e.replace(fC,r),fC.lastIndex=0,n-=1;return e}var zjt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Vjt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(a9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Hjt="Invalid date";function Ujt(){return this._invalidDate}var Wjt="%d",Yjt=/\d{1,2}/;function qjt(e){return this._ordinal.replace("%d",e)}var Gjt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Kjt(e,t,n,r){var o=this._relativeTime[n];return zc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function Zjt(e,t){var n=this._relativeTime[e>0?"future":"past"];return zc(n)?n(t):n.replace(/%s/i,t)}var db={};function Di(e,t){var n=e.toLowerCase();db[n]=db[n+"s"]=db[t]=e}function tl(e){return typeof e=="string"?db[e]||db[e.toLowerCase()]:void 0}function l9(e){var t={},n,r;for(r in e)cn(e,r)&&(n=tl(r),n&&(t[n]=e[r]));return t}var i5e={};function Ii(e,t){i5e[e]=t}function Xjt(e){var t=[],n;for(n in e)cn(e,n)&&t.push({unit:n,priority:i5e[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function kT(e){return e%4===0&&e%100!==0||e%400===0}function ja(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ja(t)),n}function N0(e,t){return function(n){return n!=null?(s5e(this,e,n),$e.updateOffset(this,t),this):_E(this,e)}}function _E(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function s5e(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&kT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),PT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Qjt(e){return e=tl(e),zc(this[e])?this[e]():this}function Jjt(e,t){if(typeof e=="object"){e=l9(e);var n=Xjt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=tl(e),zc(this[e]))return this[e](t);return this}var a5e=/\d/,ma=/\d\d/,l5e=/\d{3}/,c9=/\d{4}/,jT=/[+-]?\d{6}/,cr=/\d\d?/,c5e=/\d\d\d\d?/,u5e=/\d\d\d\d\d\d?/,TT=/\d{1,3}/,u9=/\d{1,4}/,AT=/[+-]?\d{1,6}/,z0=/\d+/,DT=/[+-]?\d+/,eTt=/Z|[+-]\d\d:?\d\d/gi,IT=/Z|[+-]\d\d(?::?\d\d)?/gi,tTt=/[+-]?\d+(\.\d{1,3})?/,Fw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,CE;CE={};function Le(e,t,n){CE[e]=zc(t)?t:function(r,o){return r&&n?n:t}}function nTt(e,t){return cn(CE,e)?CE[e](t._strict,t._locale):new RegExp(rTt(e))}function rTt(e){return Zs(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Zs(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var qR={};function On(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Nu(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)qR[e[n]]=r}function Lw(e,t){On(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function oTt(e,t,n){t!=null&&cn(qR,e)&&qR[e](t,n._a,n,e)}var wi=0,vu=1,hc=2,ko=3,vl=4,yu=5,sp=6,iTt=7,sTt=8;function aTt(e,t){return(e%t+t)%t}var Yr;Array.prototype.indexOf?Yr=Array.prototype.indexOf:Yr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function PT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=aTt(t,12);return e+=(t-n)/12,n===1?kT(e)?29:28:31-n%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1});Je("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Je("MMMM",0,0,function(e){return this.localeData().months(this,e)});Di("month","M");Ii("month",8);Le("M",cr);Le("MM",cr,ma);Le("MMM",function(e,t){return t.monthsShortRegex(e)});Le("MMMM",function(e,t){return t.monthsRegex(e)});On(["M","MM"],function(e,t){t[vu]=Mt(e)-1});On(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[vu]=o:Et(n).invalidMonth=e});var lTt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),d5e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),f5e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cTt=Fw,uTt=Fw;function dTt(e,t){return e?Al(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||f5e).test(t)?"format":"standalone"][e.month()]:Al(this._months)?this._months:this._months.standalone}function fTt(e,t){return e?Al(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[f5e.test(t)?"format":"standalone"][e.month()]:Al(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hTt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Nc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Yr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Yr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Yr.call(this._shortMonthsParse,s),o!==-1?o:(o=Yr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Yr.call(this._longMonthsParse,s),o!==-1?o:(o=Yr.call(this._shortMonthsParse,s),o!==-1?o:null))}function pTt(e,t,n){var r,o,i;if(this._monthsParseExact)return hTt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Nc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function h5e(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!Nu(t))return e}return n=Math.min(e.date(),PT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function p5e(e){return e!=null?(h5e(this,e),$e.updateOffset(this,!0),this):_E(this,"Month")}function mTt(){return PT(this.year(),this.month())}function gTt(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||m5e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(cn(this,"_monthsShortRegex")||(this._monthsShortRegex=cTt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vTt(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||m5e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(cn(this,"_monthsRegex")||(this._monthsRegex=uTt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function m5e(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Nc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Zs(t[o]),n[o]=Zs(n[o]);for(o=0;o<24;o++)r[o]=Zs(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Je("Y",0,0,function(){var e=this.year();return e<=9999?Ic(e,4):"+"+e});Je(0,["YY",2],0,function(){return this.year()%100});Je(0,["YYYY",4],0,"year");Je(0,["YYYYY",5],0,"year");Je(0,["YYYYYY",6,!0],0,"year");Di("year","y");Ii("year",1);Le("Y",DT);Le("YY",cr,ma);Le("YYYY",u9,c9);Le("YYYYY",AT,jT);Le("YYYYYY",AT,jT);On(["YYYYY","YYYYYY"],wi);On("YYYY",function(e,t){t[wi]=e.length===2?$e.parseTwoDigitYear(e):Mt(e)});On("YY",function(e,t){t[wi]=$e.parseTwoDigitYear(e)});On("Y",function(e,t){t[wi]=parseInt(e,10)});function fb(e){return kT(e)?366:365}$e.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var g5e=N0("FullYear",!0);function yTt(){return kT(this.year())}function bTt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function lx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function SE(e,t,n){var r=7+t-n,o=(7+lx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function v5e(e,t,n,r,o){var i=(7+n-r)%7,s=SE(e,r,o),a=1+7*(t-1)+i+s,l,u;return a<=0?(l=e-1,u=fb(l)+a):a>fb(e)?(l=e+1,u=a-fb(e)):(l=e,u=a),{year:l,dayOfYear:u}}function cx(e,t,n){var r=SE(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+ku(s,t,n)):o>ku(e.year(),t,n)?(i=o-ku(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function ku(e,t,n){var r=SE(e,t,n),o=SE(e+1,t,n);return(fb(e)-r+o)/7}Je("w",["ww",2],"wo","week");Je("W",["WW",2],"Wo","isoWeek");Di("week","w");Di("isoWeek","W");Ii("week",5);Ii("isoWeek",5);Le("w",cr);Le("ww",cr,ma);Le("W",cr);Le("WW",cr,ma);Lw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function xTt(e){return cx(e,this._week.dow,this._week.doy).week}var wTt={dow:0,doy:6};function _Tt(){return this._week.dow}function CTt(){return this._week.doy}function STt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ETt(e){var t=cx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Je("d",0,"do","day");Je("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Je("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Je("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Je("e",0,0,"weekday");Je("E",0,0,"isoWeekday");Di("day","d");Di("weekday","e");Di("isoWeekday","E");Ii("day",11);Ii("weekday",11);Ii("isoWeekday",11);Le("d",cr);Le("e",cr);Le("E",cr);Le("dd",function(e,t){return t.weekdaysMinRegex(e)});Le("ddd",function(e,t){return t.weekdaysShortRegex(e)});Le("dddd",function(e,t){return t.weekdaysRegex(e)});Lw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Et(n).invalidWeekday=e});Lw(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function kTt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function jTt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function d9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var TTt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),y5e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ATt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),DTt=Fw,ITt=Fw,PTt=Fw;function OTt(e,t){var n=Al(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?d9(n,this._week.dow):e?n[e.day()]:n}function $Tt(e){return e===!0?d9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function RTt(e){return e===!0?d9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function MTt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Nc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Yr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Yr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Yr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Yr.call(this._weekdaysParse,s),o!==-1||(o=Yr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Yr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Yr.call(this._shortWeekdaysParse,s),o!==-1||(o=Yr.call(this._weekdaysParse,s),o!==-1)?o:(o=Yr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Yr.call(this._minWeekdaysParse,s),o!==-1||(o=Yr.call(this._weekdaysParse,s),o!==-1)?o:(o=Yr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function FTt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return MTt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Nc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function LTt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=kTt(e,this.localeData()),this.add(e-t,"d")):t}function BTt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function NTt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=jTt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function zTt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||f9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(cn(this,"_weekdaysRegex")||(this._weekdaysRegex=DTt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function VTt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||f9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(cn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ITt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function HTt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||f9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(cn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=PTt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function f9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=Nc([2e3,1]).day(i),a=Zs(this.weekdaysMin(s,"")),l=Zs(this.weekdaysShort(s,"")),u=Zs(this.weekdays(s,"")),t.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function h9(){return this.hours()%12||12}function UTt(){return this.hours()||24}Je("H",["HH",2],0,"hour");Je("h",["hh",2],0,h9);Je("k",["kk",2],0,UTt);Je("hmm",0,0,function(){return""+h9.apply(this)+Ic(this.minutes(),2)});Je("hmmss",0,0,function(){return""+h9.apply(this)+Ic(this.minutes(),2)+Ic(this.seconds(),2)});Je("Hmm",0,0,function(){return""+this.hours()+Ic(this.minutes(),2)});Je("Hmmss",0,0,function(){return""+this.hours()+Ic(this.minutes(),2)+Ic(this.seconds(),2)});function b5e(e,t){Je(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}b5e("a",!0);b5e("A",!1);Di("hour","h");Ii("hour",13);function x5e(e,t){return t._meridiemParse}Le("a",x5e);Le("A",x5e);Le("H",cr);Le("h",cr);Le("k",cr);Le("HH",cr,ma);Le("hh",cr,ma);Le("kk",cr,ma);Le("hmm",c5e);Le("hmmss",u5e);Le("Hmm",c5e);Le("Hmmss",u5e);On(["H","HH"],ko);On(["k","kk"],function(e,t,n){var r=Mt(e);t[ko]=r===24?0:r});On(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});On(["h","hh"],function(e,t,n){t[ko]=Mt(e),Et(n).bigHour=!0});On("hmm",function(e,t,n){var r=e.length-2;t[ko]=Mt(e.substr(0,r)),t[vl]=Mt(e.substr(r)),Et(n).bigHour=!0});On("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[ko]=Mt(e.substr(0,r)),t[vl]=Mt(e.substr(r,2)),t[yu]=Mt(e.substr(o)),Et(n).bigHour=!0});On("Hmm",function(e,t,n){var r=e.length-2;t[ko]=Mt(e.substr(0,r)),t[vl]=Mt(e.substr(r))});On("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[ko]=Mt(e.substr(0,r)),t[vl]=Mt(e.substr(r,2)),t[yu]=Mt(e.substr(o))});function WTt(e){return(e+"").toLowerCase().charAt(0)==="p"}var YTt=/[ap]\.?m?\.?/i,qTt=N0("Hours",!0);function GTt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var w5e={calendar:Fjt,longDateFormat:zjt,invalidDate:Hjt,ordinal:Wjt,dayOfMonthOrdinalParse:Yjt,relativeTime:Gjt,months:lTt,monthsShort:d5e,week:wTt,weekdays:TTt,weekdaysMin:ATt,weekdaysShort:y5e,meridiemParse:YTt},mr={},L1={},ux;function KTt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dZ(e){return e&&e.toLowerCase().replace("_","-")}function ZTt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=dZ(e[t]).split("-"),n=i.length,r=dZ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=OT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&KTt(i,r)>=n-1)break;n--}t++}return ux}function XTt(e){return e.match("^[^/\\\\]*$")!=null}function OT(e){var t=null,n;if(mr[e]===void 0&&typeof module<"u"&&module&&module.exports&&XTt(e))try{t=ux._abbr,n=require,n("./locale/"+e),mf(t)}catch{mr[e]=null}return mr[e]}function mf(e,t){var n;return e&&(us(t)?n=ad(e):n=p9(e,t),n?ux=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ux._abbr}function p9(e,t){if(t!==null){var n,r=w5e;if(t.abbr=e,mr[e]!=null)r5e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=mr[e]._config;else if(t.parentLocale!=null)if(mr[t.parentLocale]!=null)r=mr[t.parentLocale]._config;else if(n=OT(t.parentLocale),n!=null)r=n._config;else return L1[t.parentLocale]||(L1[t.parentLocale]=[]),L1[t.parentLocale].push({name:e,config:t}),null;return mr[e]=new s9(WR(r,t)),L1[e]&&L1[e].forEach(function(o){p9(o.name,o.config)}),mf(e),mr[e]}else return delete mr[e],null}function QTt(e,t){if(t!=null){var n,r,o=w5e;mr[e]!=null&&mr[e].parentLocale!=null?mr[e].set(WR(mr[e]._config,t)):(r=OT(e),r!=null&&(o=r._config),t=WR(o,t),r==null&&(t.abbr=e),n=new s9(t),n.parentLocale=mr[e],mr[e]=n),mf(e)}else mr[e]!=null&&(mr[e].parentLocale!=null?(mr[e]=mr[e].parentLocale,e===mf()&&mf(e)):mr[e]!=null&&delete mr[e]);return mr[e]}function ad(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ux;if(!Al(e)){if(t=OT(e),t)return t;e=[e]}return ZTt(e)}function JTt(){return YR(mr)}function m9(e){var t,n=e._a;return n&&Et(e).overflow===-2&&(t=n[vu]<0||n[vu]>11?vu:n[hc]<1||n[hc]>PT(n[wi],n[vu])?hc:n[ko]<0||n[ko]>24||n[ko]===24&&(n[vl]!==0||n[yu]!==0||n[sp]!==0)?ko:n[vl]<0||n[vl]>59?vl:n[yu]<0||n[yu]>59?yu:n[sp]<0||n[sp]>999?sp:-1,Et(e)._overflowDayOfYear&&(t<wi||t>hc)&&(t=hc),Et(e)._overflowWeeks&&t===-1&&(t=iTt),Et(e)._overflowWeekday&&t===-1&&(t=sTt),Et(e).overflow=t),e}var eAt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tAt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nAt=/Z|[+-]\d\d(?::?\d\d)?/,hC=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rAt=/^\/?Date\((-?\d+)/i,oAt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iAt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _5e(e){var t,n,r=e._i,o=eAt.exec(r)||tAt.exec(r),i,s,a,l,u=hC.length,d=pP.length;if(o){for(Et(e).iso=!0,t=0,n=u;t<n;t++)if(hC[t][1].exec(o[1])){s=hC[t][0],i=hC[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(pP[t][1].exec(o[3])){a=(o[2]||" ")+pP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(nAt.exec(o[4]))l="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(l||""),v9(e)}else e._isValid=!1}function sAt(e,t,n,r,o,i){var s=[aAt(e),d5e.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function aAt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function lAt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cAt(e,t,n){if(e){var r=y5e.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Et(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function uAt(e,t,n){if(e)return iAt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function C5e(e){var t=oAt.exec(lAt(e._i)),n;if(t){if(n=sAt(t[4],t[3],t[2],t[5],t[6],t[7]),!cAt(t[1],n,e))return;e._a=n,e._tzm=uAt(t[8],t[9],t[10]),e._d=lx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Et(e).rfc2822=!0}else e._isValid=!1}function dAt(e){var t=rAt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(_5e(e),e._isValid===!1)delete e._isValid;else return;if(C5e(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:$e.createFromInputFallback(e)}$e.createFromInputFallback=el("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function gg(e,t,n){return e??t??n}function fAt(e){var t=new Date($e.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function g9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=fAt(e),e._w&&e._a[hc]==null&&e._a[vu]==null&&hAt(e),e._dayOfYear!=null&&(s=gg(e._a[wi],o[wi]),(e._dayOfYear>fb(s)||e._dayOfYear===0)&&(Et(e)._overflowDayOfYear=!0),n=lx(s,0,e._dayOfYear),e._a[vu]=n.getUTCMonth(),e._a[hc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ko]===24&&e._a[vl]===0&&e._a[yu]===0&&e._a[sp]===0&&(e._nextDay=!0,e._a[ko]=0),e._d=(e._useUTC?lx:bTt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ko]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Et(e).weekdayMismatch=!0)}}function hAt(e){var t,n,r,o,i,s,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=gg(t.GG,e._a[wi],cx(ar(),1,4).year),r=gg(t.W,1),o=gg(t.E,1),(o<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=cx(ar(),i,s),n=gg(t.gg,e._a[wi],u.year),r=gg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(l=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>ku(n,i,s)?Et(e)._overflowWeeks=!0:l!=null?Et(e)._overflowWeekday=!0:(a=v5e(n,r,o,i,s),e._a[wi]=a.year,e._dayOfYear=a.dayOfYear)}$e.ISO_8601=function(){};$e.RFC_2822=function(){};function v9(e){if(e._f===$e.ISO_8601){_5e(e);return}if(e._f===$e.RFC_2822){C5e(e);return}e._a=[],Et(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,l=0,u,d;for(o=o5e(e._f,e._locale).match(a9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(nTt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Et(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),uv[i]?(r?Et(e).empty=!1:Et(e).unusedTokens.push(i),oTt(i,r,e)):e._strict&&!r&&Et(e).unusedTokens.push(i);Et(e).charsLeftOver=a-l,t.length>0&&Et(e).unusedInput.push(t),e._a[ko]<=12&&Et(e).bigHour===!0&&e._a[ko]>0&&(Et(e).bigHour=void 0),Et(e).parsedDateParts=e._a.slice(0),Et(e).meridiem=e._meridiem,e._a[ko]=pAt(e._locale,e._a[ko],e._meridiem),u=Et(e).era,u!==null&&(e._a[wi]=e._locale.erasConvertYear(u,e._a[wi])),g9(e),m9(e)}function pAt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function mAt(e){var t,n,r,o,i,s,a=!1,l=e._f.length;if(l===0){Et(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,t=i9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],v9(t),o9(t)&&(s=!0),i+=Et(t).charsLeftOver,i+=Et(t).unusedTokens.length*10,Et(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));qd(e,n||t)}function gAt(e){if(!e._d){var t=l9(e._i),n=t.day===void 0?t.date:t.day;e._a=t5e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),g9(e)}}function vAt(e){var t=new Mw(m9(S5e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function S5e(e){var t=e._i,n=e._f;return e._locale=e._locale||ad(e._l),t===null||n===void 0&&t===""?ET({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Dl(t)?new Mw(m9(t)):(Rw(t)?e._d=t:Al(n)?mAt(e):n?v9(e):yAt(e),o9(e)||(e._d=null),e))}function yAt(e){var t=e._i;us(t)?e._d=new Date($e.now()):Rw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?dAt(e):Al(t)?(e._a=t5e(t.slice(0),function(n){return parseInt(n,10)}),g9(e)):jp(t)?gAt(e):Nu(t)?e._d=new Date(t):$e.createFromInputFallback(e)}function E5e(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(jp(e)&&r9(e)||Al(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,vAt(i)}function ar(e,t,n,r){return E5e(e,t,n,r,!1)}var bAt=el("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ET()}),xAt=el("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ET()});function k5e(e,t){var n,r;if(t.length===1&&Al(t[0])&&(t=t[0]),!t.length)return ar();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function wAt(){var e=[].slice.call(arguments,0);return k5e("isBefore",e)}function _At(){var e=[].slice.call(arguments,0);return k5e("isAfter",e)}var CAt=function(){return Date.now?Date.now():+new Date},B1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function SAt(e){var t,n=!1,r,o=B1.length;for(t in e)if(cn(e,t)&&!(Yr.call(B1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[B1[r]]){if(n)return!1;parseFloat(e[B1[r]])!==Mt(e[B1[r]])&&(n=!0)}return!0}function EAt(){return this._isValid}function kAt(){return Fl(NaN)}function $T(e){var t=l9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=SAt(t),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=ad(),this._bubble()}function sS(e){return e instanceof $T}function GR(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function jAt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function j5e(e,t){Je(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ic(~~(n/60),2)+t+Ic(~~n%60,2)})}j5e("Z",":");j5e("ZZ","");Le("Z",IT);Le("ZZ",IT);On(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=y9(IT,e)});var TAt=/([\+\-]|\d\d)/gi;function y9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(TAt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function b9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Dl(e)||Rw(e)?e.valueOf():ar(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),$e.updateOffset(n,!1),n):ar(e).local()}function KR(e){return-Math.round(e._d.getTimezoneOffset())}$e.updateOffset=function(){};function AAt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=y9(IT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=KR(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?D5e(this,Fl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:KR(this)}function DAt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function IAt(e){return this.utcOffset(0,e)}function PAt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(KR(this),"m")),this}function OAt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=y9(eTt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function $At(e){return this.isValid()?(e=e?ar(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function RAt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function MAt(){if(!us(this._isDSTShifted))return this._isDSTShifted;var e={},t;return i9(e,this),e=S5e(e),e._a?(t=e._isUTC?Nc(e._a):ar(e._a),this._isDSTShifted=this.isValid()&&jAt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function FAt(){return this.isValid()?!this._isUTC:!1}function LAt(){return this.isValid()?this._isUTC:!1}function T5e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var BAt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,NAt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fl(e,t){var n=e,r=null,o,i,s;return sS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Nu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=BAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[hc])*o,h:Mt(r[ko])*o,m:Mt(r[vl])*o,s:Mt(r[yu])*o,ms:Mt(GR(r[sp]*1e3))*o}):(r=NAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:_h(r[2],o),M:_h(r[3],o),w:_h(r[4],o),d:_h(r[5],o),h:_h(r[6],o),m:_h(r[7],o),s:_h(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=zAt(ar(n.from),ar(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new $T(n),sS(e)&&cn(e,"_locale")&&(i._locale=e._locale),sS(e)&&cn(e,"_isValid")&&(i._isValid=e._isValid),i}Fl.fn=$T.prototype;Fl.invalid=kAt;function _h(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function fZ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zAt(e,t){var n;return e.isValid()&&t.isValid()?(t=b9(t,e),e.isBefore(t)?n=fZ(e,t):(n=fZ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function A5e(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(r5e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Fl(n,r),D5e(this,o,e),this}}function D5e(e,t,n,r){var o=t._milliseconds,i=GR(t._days),s=GR(t._months);e.isValid()&&(r=r??!0,s&&h5e(e,_E(e,"Month")+s*n),i&&s5e(e,"Date",_E(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&$e.updateOffset(e,i||s))}var VAt=A5e(1,"add"),HAt=A5e(-1,"subtract");function I5e(e){return typeof e=="string"||e instanceof String}function UAt(e){return Dl(e)||Rw(e)||I5e(e)||Nu(e)||YAt(e)||WAt(e)||e===null||e===void 0}function WAt(e){var t=jp(e)&&!r9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||cn(e,i);return t&&n}function YAt(e){var t=Al(e),n=!1;return t&&(n=e.filter(function(r){return!Nu(r)&&I5e(e)}).length===0),t&&n}function qAt(e){var t=jp(e)&&!r9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||cn(e,i);return t&&n}function GAt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function KAt(e,t){arguments.length===1&&(arguments[0]?UAt(arguments[0])?(e=arguments[0],t=void 0):qAt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ar(),r=b9(n,this).startOf("day"),o=$e.calendarFormat(this,r)||"sameElse",i=t&&(zc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ar(n)))}function ZAt(){return new Mw(this)}function XAt(e,t){var n=Dl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function QAt(e,t){var n=Dl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function JAt(e,t,n,r){var o=Dl(e)?e:ar(e),i=Dl(t)?t:ar(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function eDt(e,t){var n=Dl(e)?e:ar(e),r;return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function tDt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function nDt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function rDt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=b9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=tl(t),t){case"year":i=aS(this,r)/12;break;case"month":i=aS(this,r);break;case"quarter":i=aS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ja(i)}function aS(e,t){if(e.date()<t.date())return-aS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}$e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function oDt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function iDt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?iS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",iS(n,"Z")):iS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sDt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function aDt(e){e||(e=this.isUtc()?$e.defaultFormatUtc:$e.defaultFormat);var t=iS(this,e);return this.localeData().postformat(t)}function lDt(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||ar(e).isValid())?Fl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cDt(e){return this.from(ar(),e)}function uDt(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||ar(e).isValid())?Fl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dDt(e){return this.to(ar(),e)}function P5e(e){var t;return e===void 0?this._locale._abbr:(t=ad(e),t!=null&&(this._locale=t),this)}var O5e=el("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function $5e(){return this._locale}var EE=1e3,dv=60*EE,kE=60*dv,R5e=(365*400+97)*24*kE;function fv(e,t){return(e%t+t)%t}function M5e(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-R5e:new Date(e,t,n).valueOf()}function F5e(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-R5e:Date.UTC(e,t,n)}function fDt(e){var t,n;if(e=tl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?F5e:M5e,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fv(t+(this._isUTC?0:this.utcOffset()*dv),kE);break;case"minute":t=this._d.valueOf(),t-=fv(t,dv);break;case"second":t=this._d.valueOf(),t-=fv(t,EE);break}return this._d.setTime(t),$e.updateOffset(this,!0),this}function hDt(e){var t,n;if(e=tl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?F5e:M5e,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=kE-fv(t+(this._isUTC?0:this.utcOffset()*dv),kE)-1;break;case"minute":t=this._d.valueOf(),t+=dv-fv(t,dv)-1;break;case"second":t=this._d.valueOf(),t+=EE-fv(t,EE)-1;break}return this._d.setTime(t),$e.updateOffset(this,!0),this}function pDt(){return this._d.valueOf()-(this._offset||0)*6e4}function mDt(){return Math.floor(this.valueOf()/1e3)}function gDt(){return new Date(this.valueOf())}function vDt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yDt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bDt(){return this.isValid()?this.toISOString():null}function xDt(){return o9(this)}function wDt(){return qd({},Et(this))}function _Dt(){return Et(this).overflow}function CDt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr");Je("NN",0,0,"eraAbbr");Je("NNN",0,0,"eraAbbr");Je("NNNN",0,0,"eraName");Je("NNNNN",0,0,"eraNarrow");Je("y",["y",1],"yo","eraYear");Je("y",["yy",2],0,"eraYear");Je("y",["yyy",3],0,"eraYear");Je("y",["yyyy",4],0,"eraYear");Le("N",x9);Le("NN",x9);Le("NNN",x9);Le("NNNN",$Dt);Le("NNNNN",RDt);On(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Et(n).era=o:Et(n).invalidEra=e});Le("y",z0);Le("yy",z0);Le("yyy",z0);Le("yyyy",z0);Le("yo",MDt);On(["y","yy","yyy","yyyy"],wi);On(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[wi]=n._locale.eraYearOrdinalParse(e,o):t[wi]=parseInt(e,10)});function SDt(e,t){var n,r,o,i=this._eras||ad("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=$e(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=$e(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function EDt(e,t,n){var r,o,i=this.eras(),s,a,l;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([s,a,l].indexOf(e)>=0)return i[r]}function kDt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?$e(e.since).year():$e(e.since).year()+(t-e.offset)*n}function jDt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function TDt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function ADt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function DDt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-$e(o[e].since).year())*n+o[e].offset;return this.year()}function IDt(e){return cn(this,"_erasNameRegex")||w9.call(this),e?this._erasNameRegex:this._erasRegex}function PDt(e){return cn(this,"_erasAbbrRegex")||w9.call(this),e?this._erasAbbrRegex:this._erasRegex}function ODt(e){return cn(this,"_erasNarrowRegex")||w9.call(this),e?this._erasNarrowRegex:this._erasRegex}function x9(e,t){return t.erasAbbrRegex(e)}function $Dt(e,t){return t.erasNameRegex(e)}function RDt(e,t){return t.erasNarrowRegex(e)}function MDt(e,t){return t._eraYearOrdinalRegex||z0}function w9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Zs(s[o].name)),e.push(Zs(s[o].abbr)),n.push(Zs(s[o].narrow)),r.push(Zs(s[o].name)),r.push(Zs(s[o].abbr)),r.push(Zs(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100});Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function RT(e,t){Je(0,[e,e.length],0,t)}RT("gggg","weekYear");RT("ggggg","weekYear");RT("GGGG","isoWeekYear");RT("GGGGG","isoWeekYear");Di("weekYear","gg");Di("isoWeekYear","GG");Ii("weekYear",1);Ii("isoWeekYear",1);Le("G",DT);Le("g",DT);Le("GG",cr,ma);Le("gg",cr,ma);Le("GGGG",u9,c9);Le("gggg",u9,c9);Le("GGGGG",AT,jT);Le("ggggg",AT,jT);Lw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});Lw(["gg","GG"],function(e,t,n,r){t[r]=$e.parseTwoDigitYear(e)});function FDt(e){return L5e.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function LDt(e){return L5e.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function BDt(){return ku(this.year(),1,4)}function NDt(){return ku(this.isoWeekYear(),1,4)}function zDt(){var e=this.localeData()._week;return ku(this.year(),e.dow,e.doy)}function VDt(){var e=this.localeData()._week;return ku(this.weekYear(),e.dow,e.doy)}function L5e(e,t,n,r,o){var i;return e==null?cx(this,r,o).year:(i=ku(e,r,o),t>i&&(t=i),HDt.call(this,e,t,n,r,o))}function HDt(e,t,n,r,o){var i=v5e(e,t,n,r,o),s=lx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Je("Q",0,"Qo","quarter");Di("quarter","Q");Ii("quarter",7);Le("Q",a5e);On("Q",function(e,t){t[vu]=(Mt(e)-1)*3});function UDt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date");Di("date","D");Ii("date",9);Le("D",cr);Le("DD",cr,ma);Le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});On(["D","DD"],hc);On("Do",function(e,t){t[hc]=Mt(e.match(cr)[0])});var B5e=N0("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear");Di("dayOfYear","DDD");Ii("dayOfYear",4);Le("DDD",TT);Le("DDDD",l5e);On(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function WDt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Je("m",["mm",2],0,"minute");Di("minute","m");Ii("minute",14);Le("m",cr);Le("mm",cr,ma);On(["m","mm"],vl);var YDt=N0("Minutes",!1);Je("s",["ss",2],0,"second");Di("second","s");Ii("second",15);Le("s",cr);Le("ss",cr,ma);On(["s","ss"],yu);var qDt=N0("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)});Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Je(0,["SSS",3],0,"millisecond");Je(0,["SSSS",4],0,function(){return this.millisecond()*10});Je(0,["SSSSS",5],0,function(){return this.millisecond()*100});Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Di("millisecond","ms");Ii("millisecond",16);Le("S",TT,a5e);Le("SS",TT,ma);Le("SSS",TT,l5e);var Gd,N5e;for(Gd="SSSS";Gd.length<=9;Gd+="S")Le(Gd,z0);function GDt(e,t){t[sp]=Mt(("0."+e)*1e3)}for(Gd="S";Gd.length<=9;Gd+="S")On(Gd,GDt);N5e=N0("Milliseconds",!1);Je("z",0,0,"zoneAbbr");Je("zz",0,0,"zoneName");function KDt(){return this._isUTC?"UTC":""}function ZDt(){return this._isUTC?"Coordinated Universal Time":""}var je=Mw.prototype;je.add=VAt;je.calendar=KAt;je.clone=ZAt;je.diff=rDt;je.endOf=hDt;je.format=aDt;je.from=lDt;je.fromNow=cDt;je.to=uDt;je.toNow=dDt;je.get=Qjt;je.invalidAt=_Dt;je.isAfter=XAt;je.isBefore=QAt;je.isBetween=JAt;je.isSame=eDt;je.isSameOrAfter=tDt;je.isSameOrBefore=nDt;je.isValid=xDt;je.lang=O5e;je.locale=P5e;je.localeData=$5e;je.max=xAt;je.min=bAt;je.parsingFlags=wDt;je.set=Jjt;je.startOf=fDt;je.subtract=HAt;je.toArray=vDt;je.toObject=yDt;je.toDate=gDt;je.toISOString=iDt;je.inspect=sDt;typeof Symbol<"u"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});je.toJSON=bDt;je.toString=oDt;je.unix=mDt;je.valueOf=pDt;je.creationData=CDt;je.eraName=jDt;je.eraNarrow=TDt;je.eraAbbr=ADt;je.eraYear=DDt;je.year=g5e;je.isLeapYear=yTt;je.weekYear=FDt;je.isoWeekYear=LDt;je.quarter=je.quarters=UDt;je.month=p5e;je.daysInMonth=mTt;je.week=je.weeks=STt;je.isoWeek=je.isoWeeks=ETt;je.weeksInYear=zDt;je.weeksInWeekYear=VDt;je.isoWeeksInYear=BDt;je.isoWeeksInISOWeekYear=NDt;je.date=B5e;je.day=je.days=LTt;je.weekday=BTt;je.isoWeekday=NTt;je.dayOfYear=WDt;je.hour=je.hours=qTt;je.minute=je.minutes=YDt;je.second=je.seconds=qDt;je.millisecond=je.milliseconds=N5e;je.utcOffset=AAt;je.utc=IAt;je.local=PAt;je.parseZone=OAt;je.hasAlignedHourOffset=$At;je.isDST=RAt;je.isLocal=FAt;je.isUtcOffset=LAt;je.isUtc=T5e;je.isUTC=T5e;je.zoneAbbr=KDt;je.zoneName=ZDt;je.dates=el("dates accessor is deprecated. Use date instead.",B5e);je.months=el("months accessor is deprecated. Use month instead",p5e);je.years=el("years accessor is deprecated. Use year instead",g5e);je.zone=el("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",DAt);je.isDSTShifted=el("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",MAt);function XDt(e){return ar(e*1e3)}function QDt(){return ar.apply(null,arguments).parseZone()}function z5e(e){return e}var un=s9.prototype;un.calendar=Ljt;un.longDateFormat=Vjt;un.invalidDate=Ujt;un.ordinal=qjt;un.preparse=z5e;un.postformat=z5e;un.relativeTime=Kjt;un.pastFuture=Zjt;un.set=Mjt;un.eras=SDt;un.erasParse=EDt;un.erasConvertYear=kDt;un.erasAbbrRegex=PDt;un.erasNameRegex=IDt;un.erasNarrowRegex=ODt;un.months=dTt;un.monthsShort=fTt;un.monthsParse=pTt;un.monthsRegex=vTt;un.monthsShortRegex=gTt;un.week=xTt;un.firstDayOfYear=CTt;un.firstDayOfWeek=_Tt;un.weekdays=OTt;un.weekdaysMin=RTt;un.weekdaysShort=$Tt;un.weekdaysParse=FTt;un.weekdaysRegex=zTt;un.weekdaysShortRegex=VTt;un.weekdaysMinRegex=HTt;un.isPM=WTt;un.meridiem=GTt;function jE(e,t,n,r){var o=ad(),i=Nc().set(r,t);return o[n](i,e)}function V5e(e,t,n){if(Nu(e)&&(t=e,e=void 0),e=e||"",t!=null)return jE(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=jE(e,r,n,"month");return o}function _9(e,t,n,r){typeof e=="boolean"?(Nu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Nu(t)&&(n=t,t=void 0),t=t||"");var o=ad(),i=e?o._week.dow:0,s,a=[];if(n!=null)return jE(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=jE(t,(s+i)%7,r,"day");return a}function JDt(e,t){return V5e(e,t,"months")}function eIt(e,t){return V5e(e,t,"monthsShort")}function tIt(e,t,n){return _9(e,t,n,"weekdays")}function nIt(e,t,n){return _9(e,t,n,"weekdaysShort")}function rIt(e,t,n){return _9(e,t,n,"weekdaysMin")}mf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});$e.lang=el("moment.lang is deprecated. Use moment.locale instead.",mf);$e.langData=el("moment.langData is deprecated. Use moment.localeData instead.",ad);var Kc=Math.abs;function oIt(){var e=this._data;return this._milliseconds=Kc(this._milliseconds),this._days=Kc(this._days),this._months=Kc(this._months),e.milliseconds=Kc(e.milliseconds),e.seconds=Kc(e.seconds),e.minutes=Kc(e.minutes),e.hours=Kc(e.hours),e.months=Kc(e.months),e.years=Kc(e.years),this}function H5e(e,t,n,r){var o=Fl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function iIt(e,t){return H5e(this,e,t,1)}function sIt(e,t){return H5e(this,e,t,-1)}function hZ(e){return e<0?Math.floor(e):Math.ceil(e)}function aIt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=hZ(ZR(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=ja(e/1e3),r.seconds=o%60,i=ja(o/60),r.minutes=i%60,s=ja(i/60),r.hours=s%24,t+=ja(s/24),l=ja(U5e(t)),n+=l,t-=hZ(ZR(l)),a=ja(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function U5e(e){return e*4800/146097}function ZR(e){return e*146097/4800}function lIt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=tl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+U5e(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ZR(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function cIt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function ld(e){return function(){return this.as(e)}}var uIt=ld("ms"),dIt=ld("s"),fIt=ld("m"),hIt=ld("h"),pIt=ld("d"),mIt=ld("w"),gIt=ld("M"),vIt=ld("Q"),yIt=ld("y");function bIt(){return Fl(this)}function xIt(e){return e=tl(e),this.isValid()?this[e+"s"]():NaN}function km(e){return function(){return this.isValid()?this._data[e]:NaN}}var wIt=km("milliseconds"),_It=km("seconds"),CIt=km("minutes"),SIt=km("hours"),EIt=km("days"),kIt=km("months"),jIt=km("years");function TIt(){return ja(this.days()/7)}var lu=Math.round,Vg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function AIt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function DIt(e,t,n,r){var o=Fl(e).abs(),i=lu(o.as("s")),s=lu(o.as("m")),a=lu(o.as("h")),l=lu(o.as("d")),u=lu(o.as("M")),d=lu(o.as("w")),f=lu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,AIt.apply(null,p)}function IIt(e){return e===void 0?lu:typeof e=="function"?(lu=e,!0):!1}function PIt(e,t){return Vg[e]===void 0?!1:t===void 0?Vg[e]:(Vg[e]=t,e==="s"&&(Vg.ss=t-1),!0)}function OIt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Vg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Vg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=DIt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var mP=Math.abs;function Zm(e){return(e>0)-(e<0)||+e}function MT(){if(!this.isValid())return this.localeData().invalidDate();var e=mP(this._milliseconds)/1e3,t=mP(this._days),n=mP(this._months),r,o,i,s,a=this.asSeconds(),l,u,d,f;return a?(r=ja(e/60),o=ja(r/60),e%=60,r%=60,i=ja(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Zm(this._months)!==Zm(a)?"-":"",d=Zm(this._days)!==Zm(a)?"-":"",f=Zm(this._milliseconds)!==Zm(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var en=$T.prototype;en.isValid=EAt;en.abs=oIt;en.add=iIt;en.subtract=sIt;en.as=lIt;en.asMilliseconds=uIt;en.asSeconds=dIt;en.asMinutes=fIt;en.asHours=hIt;en.asDays=pIt;en.asWeeks=mIt;en.asMonths=gIt;en.asQuarters=vIt;en.asYears=yIt;en.valueOf=cIt;en._bubble=aIt;en.clone=bIt;en.get=xIt;en.milliseconds=wIt;en.seconds=_It;en.minutes=CIt;en.hours=SIt;en.days=EIt;en.weeks=TIt;en.months=kIt;en.years=jIt;en.humanize=OIt;en.toISOString=MT;en.toString=MT;en.toJSON=MT;en.locale=P5e;en.localeData=$5e;en.toIsoString=el("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",MT);en.lang=O5e;Je("X",0,0,"unix");Je("x",0,0,"valueOf");Le("x",DT);Le("X",tTt);On("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});On("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
$e.version="2.29.4";$jt(ar);$e.fn=je;$e.min=wAt;$e.max=_At;$e.now=CAt;$e.utc=Nc;$e.unix=XDt;$e.months=JDt;$e.isDate=Rw;$e.locale=mf;$e.invalid=ET;$e.duration=Fl;$e.isMoment=Dl;$e.weekdays=tIt;$e.parseZone=QDt;$e.localeData=ad;$e.isDuration=sS;$e.monthsShort=eIt;$e.weekdaysMin=rIt;$e.defineLocale=p9;$e.updateLocale=QTt;$e.locales=JTt;$e.weekdaysShort=nIt;$e.normalizeUnits=tl;$e.relativeTimeRounding=IIt;$e.relativeTimeThreshold=PIt;$e.calendarFormat=GAt;$e.prototype=je;$e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function FT(e,t){return $e(e).format(t)}function C9(e,t){const n=$e(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function S9(e){return window.crypto.getRandomValues(e)}var W5e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function $It(e){for(const t in e)if(!(t==="_type"||t==="_key")&&W5e(e,t)&&!E9(e[t]))return!1;return!0}function RIt(e){for(let t=0;t<e.length;t++)if(!E9(e[t]))return!1;return!0}function E9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?RIt(e):t==="object"?$It(e):!1}function MIt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&W5e(e,t)&&e[t]!==void 0)return!1;return!0}const FIt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function LIt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return S9(t),t}function Bw(e){const t=FIt();return LIt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const BIt=Object.prototype.toString;function NIt(e){switch(BIt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Ts(e){const t=NIt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var zIt=UIt,Y5e="---",q5e="A-Za-z--------",VIt=new RegExp("^[^"+q5e+"]*["+Y5e+"]"),HIt=new RegExp("^[^"+Y5e+"]*["+q5e+"]");function UIt(e){return e=String(e||""),VIt.test(e)?"rtl":HIt.test(e)?"ltr":"neutral"}const G5e=Ie(zIt);function pZ(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function mZ(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function gP(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return mZ(n.overflowY,t)||mZ(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function pC(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var gZ=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,l=typeof s=="function"?s:function(ie){return ie!==s};if(!pZ(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;pZ(m)&&l(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&gP(m)&&!gP(document.documentElement)||m!=null&&gP(m,a)&&p.push(m)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,x=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,_=y.width,C=y.top,S=y.right,E=y.bottom,j=y.left,k=o==="start"||o==="nearest"?C:o==="end"?E:C+w/2,T=i==="center"?j+_/2:i==="end"?S:j,A=[],D=0;D<p.length;D++){var I=p[D],P=I.getBoundingClientRect(),M=P.height,$=P.width,V=P.top,L=P.right,H=P.bottom,U=P.left;if(r==="if-needed"&&C>=0&&j>=0&&E<=g&&S<=v&&C>=V&&E<=H&&j>=U&&S<=L)return A;var z=getComputedStyle(I),Y=parseInt(z.borderLeftWidth,10),te=parseInt(z.borderTopWidth,10),N=parseInt(z.borderRightWidth,10),G=parseInt(z.borderBottomWidth,10),q=0,K=0,Q="offsetWidth"in I?I.offsetWidth-I.clientWidth-Y-N:0,X="offsetHeight"in I?I.offsetHeight-I.clientHeight-te-G:0,Z="offsetWidth"in I?I.offsetWidth===0?0:$/I.offsetWidth:0,re="offsetHeight"in I?I.offsetHeight===0?0:M/I.offsetHeight:0;if(f===I)q=o==="start"?k:o==="end"?k-g:o==="nearest"?pC(b,b+g,g,te,G,b+k,b+k+w,w):k-g/2,K=i==="start"?T:i==="center"?T-v/2:i==="end"?T-v:pC(x,x+v,v,Y,N,x+T,x+T+_,_),q=Math.max(0,q+b),K=Math.max(0,K+x);else{q=o==="start"?k-V-te:o==="end"?k-H+G+X:o==="nearest"?pC(V,H,M,te,G+X,k,k+w,w):k-(V+M/2)+X/2,K=i==="start"?T-U-Y:i==="center"?T-(U+$/2)+Q/2:i==="end"?T-L+N+Q:pC(U,L,$,Y,N+Q,T,T+_,_);var le=I.scrollLeft,he=I.scrollTop;k+=he-(q=Math.max(0,Math.min(he+q/re,I.scrollHeight-M/re+X))),T+=le-(K=Math.max(0,Math.min(le+K/Z,I.scrollWidth-$/Z+Q)))}A.push({el:I,top:q,left:K})}return A};function K5e(e){return e===Object(e)&&Object.keys(e).length!==0}function WIt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function YIt(e){return e===!1?{block:"end",inline:"nearest"}:K5e(e)?e:{block:"start",inline:"nearest"}}function qIt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(K5e(t)&&typeof t.behavior=="function")return t.behavior(n?gZ(e,t):[]);if(n){var r=YIt(t);return WIt(gZ(e,r),r.behavior)}}function fl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qp(e){return!!e&&!!e[aa]}function Gp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===tPt}(e)||Array.isArray(e)||!!e[SZ]||!!(!((t=e.constructor)===null||t===void 0)&&t[SZ])||k9(e)||j9(e))}function dx(e,t,n){n===void 0&&(n=!1),V0(e)===0?(n?Object.keys:P9)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function V0(e){var t=e[aa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:k9(e)?2:j9(e)?3:0}function XR(e,t){return V0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GIt(e,t){return V0(e)===2?e.get(t):e[t]}function Z5e(e,t,n){var r=V0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function KIt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function k9(e){return JIt&&e instanceof Map}function j9(e){return ePt&&e instanceof Set}function qh(e){return e.o||e.t}function T9(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=nPt(e);delete t[aa];for(var n=P9(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function A9(e,t){return t===void 0&&(t=!1),D9(e)||qp(e)||!Gp(e)||(V0(e)>1&&(e.set=e.add=e.clear=e.delete=ZIt),Object.freeze(e),t&&dx(e,function(n,r){return A9(r,!0)},!0)),e}function ZIt(){fl(2)}function D9(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Cc(e){var t=rPt[e];return t||fl(18,e),t}function vZ(){return fx}function vP(e,t){t&&(Cc("Patches"),e.u=[],e.s=[],e.v=t)}function TE(e){QR(e),e.p.forEach(XIt),e.p=null}function QR(e){e===fx&&(fx=e.l)}function yZ(e){return fx={p:[],l:fx,h:e,m:!0,_:0}}function XIt(e){var t=e[aa];t.i===0||t.i===1?t.j():t.g=!0}function yP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Cc("ES5").S(t,e,r),r?(n[aa].P&&(TE(t),fl(4)),Gp(e)&&(e=AE(t,e),t.l||DE(t,e)),t.u&&Cc("Patches").M(n[aa].t,e,t.u,t.s)):e=AE(t,n,[]),TE(t),t.u&&t.v(t.u,t.s),e!==X5e?e:void 0}function AE(e,t,n){if(D9(t))return t;var r=t[aa];if(!r)return dx(t,function(a,l){return bZ(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return DE(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=T9(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),dx(i,function(a,l){return bZ(e,r,o,a,l,n,s)}),DE(e,o,!1),n&&e.u&&Cc("Patches").N(r,n,e.u,e.s)}return r.o}function bZ(e,t,n,r,o,i,s){if(qp(o)){var a=AE(e,o,i&&t&&t.i!==3&&!XR(t.R,r)?i.concat(r):void 0);if(Z5e(n,r,a),!qp(a))return;e.m=!1}else s&&n.add(o);if(Gp(o)&&!D9(o)){if(!e.h.D&&e._<1)return;AE(e,o),t&&t.A.l||DE(e,o)}}function DE(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&A9(t,n)}function bP(e,t){var n=e[aa];return(n?qh(n):e)[t]}function xZ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function JR(e){e.P||(e.P=!0,e.l&&JR(e.l))}function xP(e){e.o||(e.o=T9(e.t))}function eM(e,t,n){var r=k9(t)?Cc("MapSet").F(t,n):j9(t)?Cc("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:vZ(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},l=a,u=tM;s&&(l=[a],u=Sy);var d=Proxy.revocable(l,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):Cc("ES5").J(t,n);return(n?n.A:vZ()).p.push(r),r}function QIt(e){return qp(e)||fl(22,e),function t(n){if(!Gp(n))return n;var r,o=n[aa],i=V0(n);if(o){if(!o.P&&(o.i<4||!Cc("ES5").K(o)))return o.t;o.I=!0,r=wZ(n,i),o.I=!1}else r=wZ(n,i);return dx(r,function(s,a){o&&GIt(o.t,s)===a||Z5e(r,s,t(a))}),i===3?new Set(r):r}(e)}function wZ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return T9(e)}var _Z,fx,I9=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",JIt=typeof Map<"u",ePt=typeof Set<"u",CZ=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",X5e=I9?Symbol.for("immer-nothing"):((_Z={})["immer-nothing"]=!0,_Z),SZ=I9?Symbol.for("immer-draftable"):"__$immer_draftable",aa=I9?Symbol.for("immer-state"):"__$immer_state",tPt=""+Object.prototype.constructor,P9=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,nPt=Object.getOwnPropertyDescriptors||function(e){var t={};return P9(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},rPt={},tM={get:function(e,t){if(t===aa)return e;var n=qh(e);if(!XR(n,t))return function(o,i,s){var a,l=xZ(i,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Gp(r)?r:r===bP(e.t,t)?(xP(e),e.o[t]=eM(e.A.h,r,e)):r},has:function(e,t){return t in qh(e)},ownKeys:function(e){return Reflect.ownKeys(qh(e))},set:function(e,t,n){var r=xZ(qh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=bP(qh(e),t),i=o==null?void 0:o[aa];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(KIt(n,o)&&(n!==void 0||XR(e.t,t)))return!0;xP(e),JR(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return bP(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,xP(e),JR(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=qh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){fl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fl(12)}},Sy={};dx(tM,function(e,t){Sy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Sy.deleteProperty=function(e,t){return Sy.set.call(this,e,t,void 0)},Sy.set=function(e,t,n){return tM.set.call(this,e[0],t,n,e[0])};var oPt=function(){function e(n){var r=this;this.O=CZ,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var l=r;return function(g){var x=this;g===void 0&&(g=a);for(var b=arguments.length,y=Array(b>1?b-1:0),w=1;w<b;w++)y[w-1]=arguments[w];return l.produce(g,function(_){var C;return(C=i).call.apply(C,[x,_].concat(y))})}}var u;if(typeof i!="function"&&fl(6),s!==void 0&&typeof s!="function"&&fl(7),Gp(o)){var d=yZ(r),f=eM(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?TE(d):QR(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return vP(d,s),yP(g,d)},function(g){throw TE(d),g}):(vP(d,s),yP(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===X5e&&(u=void 0),r.D&&A9(u,!0),s){var m=[],v=[];Cc("Patches").M(o,u,m,v),s(m,v)}return u}fl(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,l=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Gp(n)||fl(8),qp(n)&&(n=QIt(n));var r=yZ(this),o=eM(this,n,void 0);return o[aa].C=!0,QR(r),o},t.finishDraft=function(n,r){var o=n&&n[aa],i=o.A;return vP(i,r),yP(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!CZ&&fl(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=Cc("Patches").$;return qp(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),la=new oPt,O9=la.produce;la.produceWithPatches.bind(la);la.setAutoFreeze.bind(la);la.setUseProxies.bind(la);la.applyPatches.bind(la);var EZ=la.createDraft.bind(la),kZ=la.finishDraft.bind(la),iPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=J.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},sPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},aPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},IE=new WeakMap,PE=new WeakMap,hb=new WeakMap,Q5e=new WeakMap,jZ=new WeakMap,TZ=new WeakMap,AZ=new WeakMap,J={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=J.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return J.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return J.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&J.compare(e,t)===0},isBefore(e,t){return J.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&J.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&J.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&J.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&J.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&J.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!J.isAncestor(t,e)&&!J.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(J.equals(i,r)||J.endsBefore(i,r)||J.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(J.equals(s,r)||J.isAncestor(s,r))return null;J.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:l}=t;J.equals(a,r)||J.endsBefore(a,r)?r[a.length-1]-=1:J.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=l);break}case"split_node":{var{path:u,position:d}=t;if(J.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(u,r)?r[u.length-1]+=1:J.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(J.equals(f,p))return r;if(J.isAncestor(f,r)||J.equals(f,r)){var m=p.slice();return J.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else J.isSibling(f,p)&&(J.isAncestor(p,r)||J.equals(p,r))?J.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:J.endsBefore(p,r)||J.equals(p,r)||J.isAncestor(p,r)?(J.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):J.endsBefore(f,r)&&(J.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lPt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Ee.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,l]of ue.points(t))t[l]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Ee.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,x]of ue.points(t))t[x]=It.transform(g,n);break}case"merge_node":{var{path:b}=n,y=Ee.get(e,b),w=J.previous(b),_=Ee.get(e,w),C=Ee.parent(e,b),S=b[b.length-1];if(we.isText(y)&&we.isText(_))_.text+=y.text;else if(!we.isText(y)&&!we.isText(_))_.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(b,"] to nodes of different interfaces: ").concat(Lo.stringify(y)," ").concat(Lo.stringify(_)));if(C.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(J.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Ee.get(e,k),D=Ee.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var P=J.transform(k,n),M=Ee.get(e,J.parent(P)),$=P[P.length-1];if(M.children.splice($,0,A),t)for(var[V,L]of ue.points(t))t[L]=It.transform(V,n);break}case"remove_node":{var{path:H}=n,U=H[H.length-1],z=Ee.parent(e,H);if(z.children.splice(U,1),t)for(var[Y,te]of ue.points(t)){var N=It.transform(Y,n);if(t!=null&&N!=null)t[te]=N;else{var G=void 0,q=void 0;for(var[K,Q]of Ee.texts(e))if(J.compare(Q,H)===-1)G=[K,Q];else{q=[K,Q];break}var X=!1;G&&q&&(J.equals(q[1],H)?X=!J.hasPrevious(q[1]):X=J.common(G[1],H).length<J.common(q[1],H).length),G&&!X?(Y.path=G[1],Y.offset=G[0].text.length):q?(Y.path=q[1],Y.offset=0):t=null}}break}case"remove_text":{var{path:Z,offset:re,text:le}=n;if(le.length===0)break;var he=Ee.leaf(e,Z),ie=he.text.slice(0,re),ye=he.text.slice(re+le.length);if(he.text=ie+ye,t)for(var[Ce,Ae]of ue.points(t))t[Ae]=It.transform(Ce,n);break}case"set_node":{var{path:xe,properties:Ze,newProperties:rt}=n;if(xe.length===0)throw new Error("Cannot set properties on the root node!");var at=Ee.get(e,xe);for(var nt in rt){if(nt==="children"||nt==="text")throw new Error('Cannot set the "'.concat(nt,'" property of nodes!'));var Kt=rt[nt];Kt==null?delete at[nt]:at[nt]=Kt}for(var Ye in Ze)rt.hasOwnProperty(Ye)||delete at[Ye];break}case"set_selection":{var{newProperties:me}=n;if(me==null)t=me;else{if(t==null){if(!ue.isRange(me))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Lo.stringify(me)," when there is no current selection."));t=N1({},me)}for(var Ue in me){var qe=me[Ue];if(qe==null){if(Ue==="anchor"||Ue==="focus")throw new Error('Cannot remove the "'.concat(Ue,'" selection property'));delete t[Ue]}else t[Ue]=qe}}break}case"split_node":{var{path:Ne,position:bt,properties:Tt}=n;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var St=Ee.get(e,Ne),Zt=Ee.parent(e,Ne),Oi=Ne[Ne.length-1],is;if(we.isText(St)){var $s=St.text.slice(0,bt),Ut=St.text.slice(bt);St.text=$s,is=N1(N1({},Tt),{},{text:Ut})}else{var Ur=St.children.slice(0,bt),Hl=St.children.slice(bt);St.children=Ur,is=N1(N1({},Tt),{},{children:Hl})}if(Zt.children.splice(Oi+1,0,is),t)for(var[rl,ai]of ue.points(t))t[ai]=It.transform(rl,n);break}}return t},cPt={transform(e,t){e.children=EZ(e.children);var n=e.selection&&EZ(e.selection);try{n=lPt(e,n,t)}finally{e.children=kZ(e.children),n?e.selection=qp(n)?kZ(n):n:e.selection=null}}},uPt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},dPt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},J5e=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(qo(r)&&qo(o)){if(!J5e(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function fPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function zu(e,t){if(e==null)return{};var n=fPt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var hPt=["anchor","focus"];function IZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),l=!1,u=!1;return It.isPoint(t)?(l=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(l=J.compare(t,s.path)>=0,u=J.compare(t,a.path)<=0),l&&u},intersection(e,t){var n=zu(e,hPt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,l=It.isBefore(o,s)?o:s;return It.isBefore(l,a)?null:pPt({anchor:a,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return qo(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var l=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!l||!u)return null;r.anchor=l,r.focus=u})}},PZ=e=>qo(e)&&Ee.isNodeList(e.children)&&!R.isEditor(e),De={isAncestor(e){return qo(e)&&Ee.isNodeList(e.children)},isElement:PZ,isElementList(e){return Array.isArray(e)&&e.every(t=>De.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return PZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},mPt=["children"],gPt=["text"],OZ=new WeakMap,Ee={ancestor(e,t){var n=Ee.get(e,t);if(we.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Lo.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of J.ancestors(t,n)){var o=Ee.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(we.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Lo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Lo.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=Ee.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Ee.child(o,s),l=t.concat(s);yield[a,l],s=r?s-1:s+1}},common(e,t,n){var r=J.common(t,n),o=Ee.get(e,r);return[o,r]},descendant(e,t){var n=Ee.get(e,t);if(R.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Lo.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))De.isElement(n)&&(yield[n,r])},extractProps(e){if(De.isAncestor(e)){var t=zu(e,mPt);return t}else{var t=zu(e,gPt);return t}},first(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(we.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(we.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Lo.stringify(e)));var n=O9({children:e.children},r=>{var[o,i]=ue.edges(t),s=Ee.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var l=Ee.parent(r,a),u=a[a.length-1];l.children.splice(u,1)}if(J.equals(a,i.path)){var d=Ee.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(J.equals(a,o.path)){var f=Ee.leaf(r,a);f.text=f.text.slice(o.offset)}}R.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Lo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return we.isText(e)||De.isElement(e)||R.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=OZ.get(e);if(t!==void 0)return t;var n=e.every(r=>Ee.isNode(r));return OZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(we.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ee.get(e,t);if(!we.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Lo.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of J.levels(t,n)){var o=Ee.get(e,r);yield[o,r]}},matches(e,t){return De.isElement(e)&&De.isElementProps(t)&&De.matches(e,t)||we.isText(e)&&we.isTextProps(t)&&we.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],l=e;!(i&&(r?J.isBefore(a,i):J.isAfter(a,i)));){if(s.has(l)||(yield[l,a]),!s.has(l)&&!we.isText(l)&&l.children.length!==0&&(n==null||n([l,a])===!1)){s.add(l);var u=r?l.children.length-1:0;J.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),l=Ee.get(e,a);continue}if(a.length===0)break;if(!r){var d=J.next(a);if(Ee.has(e,d)){a=d,l=Ee.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=J.previous(a);a=f,l=Ee.get(e,a);continue}a=J.parent(a),l=Ee.get(e,a),s.add(l)}},parent(e,t){var n=J.parent(t),r=Ee.get(e,n);if(we.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return we.isText(e)?e.text:e.children.map(Ee.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))we.isText(n)&&(yield[n,r])}};function $Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$Z(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Hg={isNodeOperation(e){return Hg.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!qo(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&Ee.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&qo(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&Ee.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&qo(e.properties)&&qo(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||qo(e.properties)&&qo(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&qo(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Hg.isOperation(t))},isSelectionOperation(e){return Hg.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Hg.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return fr(fr({},e),{},{type:"remove_node"});case"insert_text":return fr(fr({},e),{},{type:"remove_text"});case"merge_node":return fr(fr({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(J.equals(t,n))return e;if(J.isSibling(n,t))return fr(fr({},e),{},{path:t,newPath:n});var r=J.transform(n,e),o=J.transform(J.next(n),e);return fr(fr({},e),{},{path:r,newPath:o})}case"remove_node":return fr(fr({},e),{},{type:"insert_node"});case"remove_text":return fr(fr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return fr(fr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:l}=e;return a==null?fr(fr({},e),{},{properties:l,newProperties:null}):l==null?fr(fr({},e),{},{properties:null,newProperties:a}):fr(fr({},e),{},{properties:l,newProperties:a})}case"split_node":return fr(fr({},e),{},{type:"merge_node",path:J.next(e.path)})}}},RZ=new WeakMap,vPt=e=>{var t=RZ.get(e);if(t!==void 0)return t;if(!qo(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||qo(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&Ee.isNodeList(e.children)&&Hg.isOperationList(e.operations);return RZ.set(e,n),n},R={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return vPt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},yPt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function MZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function FZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=J.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&J.equals(e.path,t.path)},isPoint(e){return qo(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=J.transform(i,t,n);break}case"insert_text":{J.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{J.equals(t.path,i)&&(r.offset+=t.position),r.path=J.transform(i,t,n);break}case"remove_text":{J.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(J.equals(t.path,i)||J.isAncestor(t.path,i))return null;r.path=J.transform(i,t,n);break}case"split_node":{if(J.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=J.transform(i,t,FZ(FZ({},n),{},{affinity:"forward"})))}else r.path=J.transform(i,t,n);break}}})}},LZ=void 0,Lo={setScrubber(e){LZ=e},stringify(e){return JSON.stringify(e,LZ)}},bPt=["text"],xPt=["anchor","focus"];function BZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var we={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=zu(i,bPt);return s}return J5e(r?o(e):e,r?o(t):t)},isText(e){return qo(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>we.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Zc({},e)];for(var r of t){var o=zu(r,xPt),[i,s]=ue.edges(r),a=[],l=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=l;if(l+=p,u<=m&&l<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===l||d===m)||u>l||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,x=void 0;if(d<l){var b=d-m;x=Zc(Zc({},v),{},{text:v.text.slice(b)}),v=Zc(Zc({},v),{},{text:v.text.slice(0,b)})}if(u>m){var y=u-m;g=Zc(Zc({},v),{},{text:v.text.slice(0,y)}),v=Zc(Zc({},v),{},{text:v.text.slice(y)})}Object.assign(v,o),g&&a.push(g),a.push(v),x&&a.push(x)}n=a}return n}},$9=e=>e.selection?e.selection:e.children.length>0?R.end(e,[]):[0],H0=(e,t)=>{var[n]=R.node(e,t);return r=>r===n},R9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?kPt(t):t,i=ht.None,s=ht.None,a=0,l=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=LPt(d,f);if([i,s]=r?[s,p]:[p,i],Ug(i,ht.ZWJ)&&Ug(s,ht.ExtPict)&&(r?l=NZ(t.substring(0,a)):l=NZ(t.substring(0,t.length-a)),!l)||Ug(i,ht.RI)&&Ug(s,ht.RI)&&(u!==null?u=!u:r?u=!0:u=HPt(t.substring(0,t.length-a)),!u)||i!==ht.None&&s!==ht.None&&NPt(i,s))break;a+=d.length}return a||1},wPt=/\s/,_Pt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,CPt=/['\u2018\u2019]/,SPt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=R9(t,n),[s,a]=M9(t,i,n);if(EPt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},M9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},EPt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(wPt.test(t))return!1;if(CPt.test(t)){var o=R9(n,r),[i,s]=M9(n,o,r);if(e(i,s,r))return!0}return!_Pt.test(t)},kPt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(TPt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(jPt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},jPt=e=>e>=55296&&e<=56319,TPt=e=>e>=56320&&e<=57343,ht;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(ht||(ht={}));var APt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,DPt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,IPt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,PPt=/^[\u1100-\u115F\uA960-\uA97C]$/,OPt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,$Pt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,RPt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,MPt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,FPt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,LPt=(e,t)=>{var n=ht.Any;return e.search(APt)!==-1&&(n|=ht.Extend),t===8205&&(n|=ht.ZWJ),t>=127462&&t<=127487&&(n|=ht.RI),e.search(DPt)!==-1&&(n|=ht.Prepend),e.search(IPt)!==-1&&(n|=ht.SpacingMark),e.search(PPt)!==-1&&(n|=ht.L),e.search(OPt)!==-1&&(n|=ht.V),e.search($Pt)!==-1&&(n|=ht.T),e.search(RPt)!==-1&&(n|=ht.LV),e.search(MPt)!==-1&&(n|=ht.LVT),e.search(FPt)!==-1&&(n|=ht.ExtPict),n};function Ug(e,t){return(e&t)!==0}var BPt=[[ht.L,ht.L|ht.V|ht.LV|ht.LVT],[ht.LV|ht.V,ht.V|ht.T],[ht.LVT|ht.T,ht.T],[ht.Any,ht.Extend|ht.ZWJ],[ht.Any,ht.SpacingMark],[ht.Prepend,ht.Any],[ht.ZWJ,ht.ExtPict],[ht.RI,ht.RI]];function NPt(e,t){return BPt.findIndex(n=>Ug(e,n[0])&&Ug(t,n[1]))===-1}var zPt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,NZ=e=>e.search(zPt)!==-1,VPt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,HPt=e=>{var t=e.match(VPt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},UPt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=$9(e)}=n;if(J.isPath(o)&&(o=R.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&R.void(e,{at:i}))return;var s=ue.start(o),a=R.pointRef(e,s),l=R.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=l.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&R.void(e,{at:o})||R.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function zZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=mC(mC(mC(mC({},cPt),uPt),dPt),UPt),WPt=(e,t)=>{for(var n of R.pathRefs(e))iPt.transform(n,t);for(var r of R.pointRefs(e))sPt.transform(r,t);for(var o of R.rangeRefs(e))aPt.transform(o,t);var i=IE.get(e)||[],s=PE.get(e)||new Set,a,l,u=v=>{if(v){var g=v.join(",");l.has(g)||(l.add(g),a.push(v))}};if(J.operationCanTransformPath(t)){a=[],l=new Set;for(var d of i){var f=J.transform(d,t);u(f)}}else a=i,l=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);IE.set(e,a),PE.set(e,l),se.transform(e,t),e.operations.push(t),R.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),hb.get(e)||(hb.set(e,!0),Promise.resolve().then(()=>{hb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},YPt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return J.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=J.levels(o),s=we.isText(r)?[]:Array.from(Ee.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,l=J.ancestors(a),u=J.previous(a);return[...l,u]}case"move_node":{var{path:d,newPath:f}=t;if(J.equals(d,f))return[];var p=[],m=[];for(var v of J.ancestors(d)){var g=J.transform(v,t);p.push(g)}for(var x of J.ancestors(f)){var b=J.transform(x,t);m.push(b)}var y=m[m.length-1],w=f[f.length-1],_=y.concat(w);return[...p,...m,_]}case"remove_node":{var{path:C}=t,S=J.ancestors(C);return[...S]}case"split_node":{var{path:E}=t,j=J.levels(E),k=J.next(E);return[...j,k]}default:return[]}},qPt=e=>{var{selection:t}=e;return t?Ee.fragment(e,t):[]},GPt=(e,t)=>{var[n,r]=t;if(!we.isText(n)){if(De.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=R.isEditor(n)?!1:De.isElement(n)&&(e.isInline(n)||n.children.length===0||we.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var l=Ee.get(e,r);if(!we.isText(l)){var u=l.children[s],d=l.children[s-1],f=a===n.children.length-1,p=we.isText(u)||De.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(De.isElement(u)){if(e.isInline(u)){if(d==null||!we.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};se.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&we.isText(d)&&(we.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},KPt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},ZPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=R.path(t,i),l=o==="lowest";for(var[u,d]of R.levels(t,{at:a,voids:r,match:s,reverse:l}))if(!we.isText(u)){if(ue.isRange(i)){if(J.isAncestor(d,i.anchor.path)&&J.isAncestor(d,i.focus.path))return[u,d]}else if(!J.equals(a,d))return[u,d]}}};function VZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function HZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XPt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!we.isText(f))return!1;var[m,v]=R.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,l]=R.node(e,r);if(a&&o(a,l)){var[u]=R.parent(e,l);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=HZ(HZ({},R.marks(e)||{}),{},{[t]:n});e.marks=d,hb.get(e)||e.onChange()}}};function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.point(t,n,{edge:"end"}),i=R.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of R.positions(t,WZ(WZ({},r),{},{at:s}))){if(l>a)break;l!==0&&(u=d),l++}return u};function YZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var JPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.start(t,[]),i=R.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of R.positions(t,qZ(qZ({},r),{},{at:s,reverse:!0}))){if(l>a)break;l!==0&&(u=d),l++}return u},eOt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},tOt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t})},nOt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},rOt=(e,t)=>[R.start(e,t),R.end(e,t)];function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function KZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R.above(t,KZ(KZ({},n),{},{match:r=>De.isElement(r)&&R.isElementReadOnly(t,r)}))},iOt=(e,t)=>R.point(e,t,{edge:"end"}),sOt=(e,t)=>{var n=R.path(e,t,{edge:"start"});return R.node(e,n)},aOt=(e,t)=>{var n=R.range(e,t);return Ee.fragment(e,n)};function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function XZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R.above(t,XZ(XZ({},n),{},{match:r=>De.isElement(r)&&R.isVoid(t,r)}))},cOt=(e,t)=>t.children.some(n=>De.isElement(n)&&R.isBlock(e,n)),uOt=(e,t)=>t.children.some(n=>we.isText(n)||R.isInline(e,n)),dOt=(e,t)=>Ee.has(e,t),fOt=(e,t)=>t.children.every(n=>we.isText(n)),hOt=e=>{se.splitNodes(e,{always:!0})},pOt=(e,t,n)=>{se.insertNodes(e,t,n)},mOt=e=>{se.splitNodes(e,{always:!0})};function QZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=gOt({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},yOt=(e,t)=>!e.isInline(t),bOt=(e,t,n)=>R.isStart(e,t,n)||R.isEnd(e,t,n),xOt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&we.isText(r)&&r.text===""&&!e.isVoid(t)},wOt=(e,t,n)=>{var r=R.end(e,n);return It.equals(t,r)},_Ot=e=>{var t=Q5e.get(e);return t===void 0?!0:t},COt=(e,t,n)=>{if(t.offset!==0)return!1;var r=R.start(e,n);return It.equals(t,r)},SOt=(e,t)=>{var n=R.path(e,t,{edge:"end"});return R.node(e,n)},EOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=Ee.leaf(t,o);return[i,o]};function*kOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=R.path(e,n);for(var[l,u]of Ee.levels(e,a))if(i(l,u)&&(s.push([l,u]),!o&&De.isElement(l)&&R.isVoid(e,l)))break;r&&s.reverse(),yield*s}}var jOt=["text"],TOt=["text"],AOt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=R.nodes(t,{match:we.isText});if(o){var[i]=o,s=zu(i,jOt);return s}else return{}}var{anchor:a}=r,{path:l}=a,[u]=R.leaf(t,l);if(a.offset===0){var d=R.previous(t,{at:l,match:we.isText}),f=R.above(t,{match:b=>De.isElement(b)&&R.isVoid(t,b)&&t.markableVoid(b)});if(!f){var p=R.above(t,{match:b=>De.isElement(b)&&R.isBlock(t,b)});if(d&&p){var[m,v]=d,[,g]=p;J.isAncestor(g,v)&&(u=m)}}}var x=zu(u,TOt);return x},DOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=R.after(t,s,{voids:o});if(a){var[,l]=R.last(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(J.isPath(s)){var[d]=R.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=R.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},IOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=Ee.get(t,o);return[i,o]};function*POt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var u,d;if(yPt.isSpan(n))u=n[0],d=n[1];else{var f=R.path(e,n,{edge:"start"}),p=R.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Ee.nodes(e,{reverse:i,from:u,to:d,pass:_=>{var[C]=_;return De.isElement(C)?!!(!s&&(R.isVoid(e,C)||R.isElementReadOnly(e,C))||a&&!R.isSelectable(e,C)):!1}}),v=[],g;for(var[x,b]of m)if(!(a&&De.isElement(x)&&!R.isSelectable(e,x))){var y=g&&J.compare(b,g[1])===0;if(!(r==="highest"&&y)){if(!l(x,b)){if(o&&!y&&we.isText(x))return;continue}if(r==="lowest"&&y){g=[x,b];continue}var w=r==="lowest"?g:[x,b];w&&(o?v.push(w):yield w),g=[x,b]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}var OOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>IE.get(d)||[],s=d=>PE.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(R.isNormalizing(t)){if(r){var l=Array.from(Ee.nodes(t),d=>{var[,f]=d;return f}),u=new Set(l.map(d=>d.join(",")));IE.set(t,l),PE.set(t,u)}i(t).length!==0&&R.withoutNormalizing(t,()=>{for(var d of i(t))if(Ee.has(t,d)){var f=R.node(t,d),[p,m]=f;De.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,x=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:x,initialDirtyPathsLength:g,operation:o}))return;var b=a(t);if(Ee.has(t,b)){var y=R.node(t,b);t.normalizeNode(y,{operation:o})}x++,v=i(t)}})}},$Ot=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=J.parent(o),s=R.node(t,i);return s},ROt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.pathRefs(t);return l.delete(i),i.current=null,a}},s=R.pathRefs(t);return s.add(i),i},MOt=e=>{var t=jZ.get(e);return t||(t=new Set,jZ.set(e,t)),t},FOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(J.isPath(n)){if(i==="start"){var[,s]=Ee.first(t,n);n=s}else if(i==="end"){var[,a]=Ee.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=J.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},LOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.pointRefs(t);return l.delete(i),i.current=null,a}},s=R.pointRefs(t);return s.add(i),i},BOt=e=>{var t=TZ.get(e);return t||(t=new Set,TZ.set(e,t)),t},NOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(J.isPath(n)){var i;if(o==="end"){var[,s]=Ee.last(t,n);i=s}else{var[,a]=Ee.first(t,n);i=a}var l=Ee.get(t,i);if(!we.isText(l))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?l.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function*zOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=R.range(e,n),[l,u]=ue.edges(a),d=o?u:l,f=!1,p="",m=0,v=0,g=0;for(var[x,b]of R.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(De.isElement(x)){if(!i&&(e.isVoid(x)||e.isElementReadOnly(x))){yield R.start(e,b);continue}if(e.isInline(x))continue;if(R.hasInlines(e,x)){var y=J.isAncestor(b,u.path)?u:R.end(e,b),w=J.isAncestor(b,l.path)?l:R.start(e,b);p=R.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(we.isText(x)){var _=J.equals(b,d.path);for(_?(v=o?d.offset:x.text.length-d.offset,g=d.offset):(v=x.text.length,g=o?v:0),(_||f||r==="offset")&&(yield{path:b,offset:g},f=!1);;){if(m===0){if(p==="")break;m=C(p,r,o),p=M9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:b,offset:g}}}}function C(S,E,j){return E==="character"?R9(S,j):E==="word"?SPt(S,j):E==="line"||E==="block"?S.length:1}}var VOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=R.before(t,s,{voids:o});if(a){var[,l]=R.first(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(J.isPath(s)){var[d]=R.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=R.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},HOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.rangeRefs(t);return l.delete(i),i.current=null,a}},s=R.rangeRefs(t);return s.add(i),i},UOt=e=>{var t=AZ.get(e);return t||(t=new Set,AZ.set(e,t)),t},WOt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=R.start(e,t),o=R.end(e,n||t);return{anchor:r,focus:o}};function JZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function YOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qOt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!we.isText(d))return!1;var[p,m]=R.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=R.node(e,n);if(s&&r(s,a)){var[l]=R.parent(e,a);i=l&&e.markableVoid(l)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=YOt({},R.marks(e)||{});delete u[t],e.marks=u,hb.get(e)||e.onChange()}}},GOt=(e,t)=>{Q5e.set(e,t)},KOt=(e,t)=>R.point(e,t,{edge:"start"}),ZOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=R.range(t,n),[s,a]=ue.edges(i),l="";for(var[u,d]of R.nodes(t,{at:i,match:we.isText,voids:o})){var f=u.text;J.equals(d,a.path)&&(f=f.slice(0,a.offset)),J.equals(d,s.path)&&(f=f.slice(s.offset)),l+=f}return l},XOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||J.hasPrevious(s.path))return n;var a=R.above(t,{at:s,match:v=>De.isElement(v)&&R.isBlock(t,v),voids:o}),l=a?a[1]:[],u=R.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of R.nodes(t,{at:d,match:we.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||J.isBefore(m,l)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},QOt=(e,t)=>{var n=R.isNormalizing(e);R.setNormalizing(e,!1);try{t()}finally{R.setNormalizing(e,n)}R.normalize(e)},JOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:l=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=R.void(t,{at:u,mode:"highest"});if(!l&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?R.before(t,u,v)||R.start(t,[]):R.after(t,u,v)||R.end(t,[]);u={anchor:u,focus:g},d=!0}}if(J.isPath(u)){se.removeNodes(t,{at:u,voids:l});return}if(!ue.isCollapsed(u)){if(!d){var[,x]=ue.edges(u),b=R.end(t,[]);It.equals(x,b)||(u=R.unhangRange(t,u,{voids:l}))}var[y,w]=ue.edges(u),_=R.above(t,{match:ie=>De.isElement(ie)&&R.isBlock(t,ie),at:y,voids:l}),C=R.above(t,{match:ie=>De.isElement(ie)&&R.isBlock(t,ie),at:w,voids:l}),S=_&&C&&!J.equals(_[1],C[1]),E=J.equals(y.path,w.path),j=l?null:(r=R.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:R.elementReadOnly(t,{at:y,mode:"highest"}),k=l?null:(o=R.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:R.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=R.before(t,y);T&&_&&J.isAncestor(_[1],T.path)&&(y=T)}if(k){var A=R.after(t,w);A&&C&&J.isAncestor(C[1],A.path)&&(w=A)}var D=[],I;for(var P of R.nodes(t,{at:u,voids:l})){var[M,$]=P;I&&J.compare($,I)===0||(!l&&De.isElement(M)&&(R.isVoid(t,M)||R.isElementReadOnly(t,M))||!J.isCommon($,y.path)&&!J.isCommon($,w.path))&&(D.push(P),I=$)}var V=Array.from(D,ie=>{var[,ye]=ie;return R.pathRef(t,ye)}),L=R.pointRef(t,y),H=R.pointRef(t,w),U="";if(!E&&!j){var z=L.current,[Y]=R.leaf(t,z),{path:te}=z,{offset:N}=y,G=Y.text.slice(N);G.length>0&&(t.apply({type:"remove_text",path:te,offset:N,text:G}),U=G)}if(V.reverse().map(ie=>ie.unref()).filter(ie=>ie!==null).forEach(ie=>se.removeNodes(t,{at:ie,voids:l})),!k){var q=H.current,[K]=R.leaf(t,q),{path:Q}=q,X=E?y.offset:0,Z=K.text.slice(X,w.offset);Z.length>0&&(t.apply({type:"remove_text",path:Q,offset:X,text:Z}),U=Z)}!E&&S&&H.current&&L.current&&se.mergeNodes(t,{at:H.current,hanging:!0,voids:l}),f&&i&&s==="character"&&U.length>1&&U.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,U.slice(0,U.length-a));var re=L.unref(),le=H.unref(),he=i?re||le:le||re;n.at==null&&he&&se.select(t,he)}}})},e3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=$9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=R.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&R.void(t,{at:a}))return;var l=R.pointRef(t,a);se.delete(t,{at:s}),s=l.unref()}else J.isPath(s)&&(s=R.start(t,s));if(!(!i&&R.void(t,{at:s}))){var u=R.above(t,{at:s,match:N=>De.isElement(N)&&R.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(R.isEnd(t,s,d)){var f=R.after(t,d);s=f}else if(R.isStart(t,s,d)){var p=R.before(t,d);s=p}}var m=R.above(t,{match:N=>De.isElement(N)&&R.isBlock(t,N),at:s,voids:i}),[,v]=m,g=R.isStart(t,s,v),x=R.isEnd(t,s,v),b=g&&x,y=!g||g&&x,w=!x,[,_]=Ee.first({children:n},[]),[,C]=Ee.last({children:n},[]),S=[],E=N=>{var[G,q]=N,K=q.length===0;return K?!1:b?!0:!(y&&J.isAncestor(q,_)&&De.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&J.isAncestor(q,C)&&De.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of Ee.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)De.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?k.push(P):A.push(P);var[M]=R.nodes(t,{at:s,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),[,$]=M,V=R.isStart(t,s,$),L=R.isEnd(t,s,$),H=R.pathRef(t,x&&!A.length?J.next(v):v),U=R.pathRef(t,L?J.next($):$);se.splitNodes(t,{at:s,match:N=>I?De.isElement(N)&&R.isBlock(t,N):we.isText(N)||R.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!x||A.length>0),voids:i});var z=R.pathRef(t,!V||V&&L?J.next($):$);if(se.insertNodes(t,k,{at:z.current,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),b&&!k.length&&T.length&&!A.length&&se.delete(t,{at:v,voids:i}),se.insertNodes(t,T,{at:H.current,match:N=>De.isElement(N)&&R.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:U.current,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),!r.at){var Y;if(A.length>0&&U.current?Y=J.previous(U.current):T.length>0&&H.current?Y=J.previous(H.current):z.current&&(Y=J.previous(z.current)),Y){var te=R.end(t,Y);se.select(t,te)}}z.unref(),H.unref(),U.unref()}}})},t3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);se.select(t,s)}}else return},n3t=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},r3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:l,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?R.before(t,l,d):R.after(t,l,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?R.before(t,u,d):R.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},o3t=(e,t)=>{var{selection:n}=e;if(t=R.range(e,t),n){se.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Lo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var i3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,l=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:tX(tX({},l),n)})}},s3t=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},a3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:l,select:u}=r;if(Ee.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=$9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=R.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=R.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){l==null&&(we.isText(d)?l=E=>we.isText(E):t.isInline(d)?l=E=>we.isText(E)||R.isInline(t,E):l=E=>De.isElement(E)&&R.isBlock(t,E));var[m]=R.nodes(t,{at:a.path,match:l,mode:s,voids:i});if(m){var[,v]=m,g=R.pathRef(t,v),x=R.isEnd(t,a,v);se.splitNodes(t,{at:a,match:l,mode:s,voids:i});var b=g.unref();a=x?J.next(b):b}else return}var y=J.parent(a),w=a[a.length-1];if(!(!i&&R.void(t,{at:y}))){for(var _ of n){var C=y.concat(w);w++,t.apply({type:"insert_node",path:C,node:_}),a=J.next(a)}if(a=J.previous(a),u){var S=R.end(t,a);S&&se.select(t,S)}}}})},l3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=J.isPath(r)?H0(t,r):_=>De.isElement(_)&&R.isBlock(t,_)),!!r){var a=R.nodes(t,{at:r,match:s,mode:o,voids:i}),l=Array.from(a,_=>{var[,C]=_;return R.pathRef(t,C)});for(var u of l){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=R.node(t,J.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var x=J.next(m);se.moveNodes(t,{at:d,to:x,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(v===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var b=J.next(m);se.moveNodes(t,{at:d,to:b,voids:i})}else{var y=J.next(d),w=J.next(m);se.splitNodes(t,{at:y,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},c3t=["text"],u3t=["children"],eEe=(e,t)=>{if(De.isElement(t)){var n=t;return R.isVoid(e,t)?!0:n.children.length===1?eEe(e,n.children[0]):!1}else return!R.isEditor(t)},d3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(J.isPath(o)){var[l]=R.parent(t,o);r=T=>l.children.includes(T)}else r=T=>De.isElement(T)&&R.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=R.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=R.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=R.nodes(t,{at:o,match:r,voids:s,mode:a}),p=R.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,x]=p;if(!(v.length===0||x.length===0)){var b=J.next(x),y=J.common(v,x),w=J.isSibling(v,x),_=Array.from(R.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),C=R.above(t,{at:v,mode:"highest",match:T=>_.includes(T)&&eEe(t,T)}),S=C&&R.pathRef(t,C[1]),E,j;if(we.isText(m)&&we.isText(g)){var k=zu(m,c3t);j=g.text.length,E=k}else if(De.isElement(m)&&De.isElement(g)){var k=zu(m,u3t);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Lo.stringify(m)," ").concat(Lo.stringify(g)));w||se.moveNodes(t,{at:v,to:b,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),De.isElement(g)&&R.isEmpty(t,g)||we.isText(g)&&g.text===""&&x[x.length-1]!==0?se.removeNodes(t,{at:x,voids:s}):t.apply({type:"merge_node",path:b,position:j,properties:E}),S&&S.unref()}}}})},f3t=(e,t)=>{R.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=J.isPath(r)?H0(e,r):m=>De.isElement(m)&&R.isBlock(e,m));var a=R.pathRef(e,n),l=R.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(l,m=>{var[,v]=m;return R.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&J.isSibling(p,f)&&J.isAfter(p,f)&&(a.current=J.next(a.current))}a.unref()}})},h3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?H0(t,s):m=>De.isElement(m)&&R.isBlock(t,m)),!r&&ue.isRange(s)&&(s=R.unhangRange(t,s,{voids:o}));var l=R.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(l,m=>{var[,v]=m;return R.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=R.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},p3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:l=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=J.isPath(i)?H0(t,i):j=>De.isElement(j)&&R.isBlock(t,j)),!l&&ue.isRange(i)&&(i=R.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&R.leaf(t,i.anchor)[0].text.length>0)return;var p=R.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",x=R.isEnd(t,v,v.path);se.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!x});var b=R.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!b}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,k)=>j!==k);for(var[y,w]of R.nodes(t,{at:i,match:o,mode:u,voids:f})){var _={},C={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],y[E])&&(S=!0,y.hasOwnProperty(E)&&(_[E]=y[E]),a?n[E]!=null&&(C[E]=a(y[E],n[E])):n[E]!=null&&(C[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:_,newProperties:C})}}}})},m3t=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=R.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},g3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:l=!1}=n;if(i==null&&(i=H=>De.isElement(H)&&R.isBlock(t,H)),ue.isRange(s)&&(s=m3t(t,s)),J.isPath(s)){var u=s,d=R.point(t,u),[f]=R.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,l=!0}if(s){var p=R.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=R.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=R.void(t,{at:s,mode:"highest"}),x=0;if(!o&&g){var[b,y]=g;if(De.isElement(b)&&t.isInline(b)){var w=R.after(t,y);if(!w){var _={text:""},C=J.next(y);se.insertNodes(t,_,{at:C,voids:o}),w=R.point(t,C)}s=w,l=!0}var S=s.path.length-y.length;a=S+1,l=!0}m=R.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+x;for(var[A,D]of R.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&De.isElement(A)&&R.isVoid(t,A))break;var P=p.current,M=R.isEnd(t,P,D);if(l||!p||!R.isEdge(t,P,D)){I=!0;var $=Ee.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:$})}T=D[D.length-1]+(I||M?1:0)}if(n.at==null){var V=m.current||R.end(t,[]);se.select(t,V)}}finally{var L;p.unref(),(L=m)===null||L===void 0||L.unref()}}})},v3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},y3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?H0(t,s):m=>De.isElement(m)&&R.isBlock(t,m)),J.isPath(s)&&(s=R.range(t,s));var l=ue.isRange(s)?R.rangeRef(t,s):null,u=R.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return R.pathRef(t,v)}).reverse(),f=function(v){var g=v.unref(),[x]=R.node(t,g),b=R.range(t,g);o&&l&&(b=ue.intersection(l.current,b)),se.liftNodes(t,{at:b,match:y=>De.isAncestor(x)&&x.children.includes(y),voids:i})};for(var p of d)f(p);l&&l.unref()}})};function nX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var b3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:l=t.selection}=r;if(l){if(a==null&&(J.isPath(l)?a=H0(t,l):t.isInline(n)?a=b=>De.isElement(b)&&R.isInline(t,b)||we.isText(b):a=b=>De.isElement(b)&&R.isBlock(t,b)),i&&ue.isRange(l)){var[u,d]=ue.edges(l),f=R.rangeRef(t,l,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),l=f.unref(),r.at==null&&se.select(t,l)}var p=Array.from(R.nodes(t,{at:l,match:t.isInline(n)?b=>De.isElement(b)&&R.isBlock(t,b):b=>R.isEditor(b),mode:"lowest",voids:s}));for(var[,m]of p){var v=ue.isRange(l)?ue.intersection(l,R.range(t,m)):l;if(v){var g=Array.from(R.nodes(t,{at:v,match:a,mode:o,voids:s}));if(g.length>0){var x=function(){var[b]=g,y=g[g.length-1],[,w]=b,[,_]=y;if(w.length===0&&_.length===0)return"continue";var C=J.equals(w,_)?J.parent(w):J.common(w,_),S=R.range(t,w,_),E=R.node(t,C),[j]=E,k=C.length+1,T=J.next(_.slice(0,k)),A=rX(rX({},n),{},{children:[]});se.insertNodes(t,A,{at:T,voids:s}),se.moveNodes(t,{at:S,match:D=>De.isAncestor(j)&&j.children.includes(D),to:T.concat(0),voids:s})}();if(x==="continue")continue}}}}})},x3t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WPt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XPt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eOt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tOt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nOt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qPt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hOt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mOt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e3t(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pOt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vOt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GPt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qOt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YPt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KPt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZPt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QPt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JPt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t3t(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JOt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n3t(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rOt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oOt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iOt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sOt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aOt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AOt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cOt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uOt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dOt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fOt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a3t(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yOt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bOt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xOt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wOt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Ot(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return COt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SOt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EOt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kOt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l3t(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d3t(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r3t(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f3t(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DOt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IOt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return POt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OOt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Ot(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FOt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ROt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MOt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NOt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LOt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BOt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zOt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VOt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WOt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HOt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UOt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h3t(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o3t(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p3t(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GOt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i3t(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s3t(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g3t(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KOt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZOt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XOt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v3t(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y3t(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lOt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QOt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b3t(e,...r)}};return e},cd={};Object.defineProperty(cd,"__esModule",{value:!0});var w3t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),wP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},_3t={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:w3t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},tEe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var gC=1;gC<20;gC++)tEe["f"+gC]=111+gC;function LT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return nEe(s,t)}),o=function(a){return r.some(function(l){return rEe(l,a)})},i=n==null?o:o(n);return i}function C3t(e,t){return LT(e,t)}function S3t(e,t){return LT(e,{byKey:!0},t)}function nEe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in wP)r[wP[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=F9(p),g=wP[v];(i===1||!g)&&(n?r.key=v:r.which=oEe(p)),g&&(r[g]=m?null:!0)}}catch(x){l=!0,u=x}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function rEe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function oEe(e){e=F9(e);var t=tEe[e]||e.toUpperCase().charCodeAt(0);return t}function F9(e){return e=e.toLowerCase(),e=_3t[e]||e,e}var Fi=cd.default=LT,_P=cd.isHotkey=LT;cd.isCodeHotkey=C3t;cd.isKeyHotkey=S3t;cd.parseHotkey=nEe;cd.compareHotkey=rEe;cd.toKeyCode=oEe;cd.toKeyName=F9;function BT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E3t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qv(e,t){if(e==null)return{};var n=E3t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var L9=h.createContext(null),Vc=()=>{var e=h.useContext(L9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},iEe=parseInt(oe.version.split(".")[0],10),k3t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),bs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),pb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ey=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),j3t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),sEe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),T3t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),A3t=bs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),D3t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),I3t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),P3t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yd=(!T3t||!A3t)&&!j3t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",B9=new WeakMap,N9=new WeakMap,aEe=new WeakMap,cS=new WeakMap,nM=new WeakMap,hx=new WeakMap,Tp=new WeakMap,rM=new WeakMap,NT=new WeakMap,oM=new WeakMap,ap=new WeakMap,lp=new WeakMap,mb=new WeakMap,iM=new WeakMap,z9=new WeakMap,yl=new WeakMap,bu=new WeakMap,hs=new WeakMap,Pd=new WeakMap,Od=new WeakMap,lEe=new WeakMap,Gv=Symbol("placeholder"),cEe=Symbol("mark-placeholder"),O3t=globalThis.Text,V9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,$3t=e=>Vf(e)&&e.nodeType===8,Da=e=>Vf(e)&&e.nodeType===1,Vf=e=>{var t=V9(e);return!!t&&e instanceof t.Node},sM=e=>{var t=e&&e.anchorNode&&V9(e.anchorNode);return!!t&&e instanceof t.Selection},uEe=e=>Vf(e)&&e.nodeType===3,R3t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,M3t=e=>{var[t,n]=e;if(Da(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=dEe(t,o,r?"backward":"forward"),r=o<n;Da(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=L3t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},F3t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},dEe=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;($3t(o)||Da(o)&&o.childNodes.length===0||Da(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},L3t=(e,t,n)=>{var[r]=dEe(e,t,n);return r},fEe=e=>{var t="";if(uEe(e)&&e.nodeValue)return e.nodeValue;if(Da(e)){for(var n of Array.from(e.childNodes))t+=fEe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},B3t=/data-slate-fragment="(.+?)"/m,N3t=e=>{var t=e.getData("text/html"),[,n]=t.match(B3t)||[];return n},H9=(e,t,n)=>{var{target:r}=t;if(Da(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=pe.getWindow(e);if(o.contains(r))return pe.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:l}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!i||i===t?!1:H9(e,i,n)},z3t=0;class V3t{constructor(){this.id="".concat(z3t++)}}var pe={androidPendingDiffs:e=>hs.get(e),androidScheduleFlush:e=>{var t;(t=z9.get(e))===null||t===void 0||t()},blur:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);ap.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=pe.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=pe.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=pe.toSlateNode(e,t.target),s=pe.findPath(e,i);if(De.isElement(i)&&R.isVoid(e,i)){var a=o.getBoundingClientRect(),l=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=R.point(e,s,{edge:l?"start":"end"}),d=l?R.before(e,u):R.after(e,u);if(d){var f=R.range(e,d);return f}}var p,{document:m}=pe.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=pe.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=rM.get(t);return n||(n=new V3t,rM.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=N9.get(r);if(o==null){if(R.isEditor(r))return n;break}var i=B9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Lo.stringify(t)))},focus:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);ap.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=aEe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=pe.toDOMNode(t,t),s;try{s=Da(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Vf(t)&&pe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return R.hasPath(e,n.path)&&R.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>pe.hasEditableTarget(e,t)||pe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Vf(t)&&pe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!lp.get(e),isFocused:e=>!!ap.get(e),isReadOnly:e=>!!oM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(oM.get(e))return!1;var n=pe.hasTarget(e,t)&&pe.toSlateNode(e,t);return De.isElement(n)&&R.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=NT.get(e),r=R.isEditor(t)?cS.get(e):n==null?void 0:n.get(pe.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Lo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=R.node(e,t.path),r=pe.toDOMNode(e,n),o;R.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,l=0;l<s.length;l++){var u=s[l],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[l+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var x,b=g.childNodes[0];o=[b instanceof O3t?b:g,(x=g.textContent)!==null&&x!==void 0&&x.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Lo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=pe.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:pe.toDOMPoint(e,r),a=pe.getWindow(e),l=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Da(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Da(f)?f:f.parentElement,x=!!g.getAttribute("data-slate-zero-width");return l.setStart(u,v?1:d),l.setEnd(f,x?1:p),l},toSlateNode:(e,t)=>{var n=Da(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?hx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:M3t(t),a=i.parentNode,l=null,u=0;if(a){var d,f,p=pe.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),x=null;if(g){if(l=g.closest('[data-slate-node="text"]'),l){var b=pe.getWindow(e),y=b.document.createRange();y.setStart(l,0),y.setEnd(i,s);var w=y.cloneContents(),_=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];_.forEach(P=>{if(bs&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,x=l}}else if(v){for(var C=v.querySelectorAll("[data-slate-leaf]"),S=0;S<C.length;S++){var E=C[S];if(pe.hasDOMNode(e,E)){g=E;break}}g?(l=g.closest('[data-slate-node="text"]'),x=g,u=x.textContent.length,x.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}x&&u===x.textContent.length&&bs&&x.getAttribute("data-slate-zero-width")==="z"&&(d=x.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||pb&&(f=x.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(bs&&!l&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&pe.hasDOMNode(e,j,{editable:!0})){var k=pe.toSlateNode(e,j),{path:T,offset:A}=R.start(e,pe.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!l){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=pe.toSlateNode(e,l),I=pe.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=sM(t)?t.anchorNode:t.startContainer,s,a,l,u,d;if(i)if(sM(t)){if(pb&&t.rangeCount>1){l=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(l instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let C=function(S){return S.childElementCount>0?C(S.children[0]):S};var m=f.startContainer,v=p.startContainer,g=C(m.children[f.startOffset]),x=C(v.children[p.startOffset]);u=0,x.childNodes.length>0?s=x.childNodes[0]:s=x,g.childNodes.length>0?l=g.childNodes[0]:l=g,x instanceof HTMLElement?a=x.innerHTML.length:a=0}else f.startContainer===l?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,l=t.focusNode,u=t.focusOffset;sEe&&F3t(s)||pb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,l=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||l==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in l&&l.getAttribute("contenteditable")==="false"&&l.getAttribute("data-slate-void")!=="true"){var b;l=s,u=((b=s.textContent)===null||b===void 0?void 0:b.length)||0}var y=pe.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!y)return null;var w=d?y:pe.toSlatePoint(e,[l,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var _={anchor:y,focus:w};return ue.isExpanded(_)&&ue.isForward(_)&&Da(l)&&R.void(e,{at:_.focus,mode:"highest"})&&(_=R.unhangRange(e,_,{voids:!0})),_}};function H3t(e,t){var{path:n,diff:r}=t;if(!R.hasPath(e,n))return!1;var o=Ee.get(e,n);if(!we.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=J.next(n);if(!R.hasPath(e,i))return!1;var s=Ee.get(e,i);return we.isText(s)&&s.text.startsWith(r.text)}function hEe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function U3t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function W3t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function pEe(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=U3t(i,o),a=Math.min(i.length-s,o.length-s),l=W3t(i,o,a),u={start:n+s,end:r-l,text:o.slice(s,o.length-l)};return u.start===u.end&&u.text.length===0?null:u}function Y3t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=hEe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return pEe(e,{start:r,end:l,text:a})}function q3t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function aM(e,t){var{path:n,offset:r}=t;if(!R.hasPath(e,n))return null;var o=Ee.get(e,n);if(!we.isText(o))return null;var i=R.above(e,{match:a=>De.isElement(a)&&R.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=R.next(e,{at:n,match:we.isText});if(!s||!J.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function iX(e,t){var n=aM(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=aM(e,t.focus);return r?{anchor:n,focus:r}:null}function lM(e,t,n){var r=hs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return J.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var l={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(l,n,{affinity:"backward"});return u?n.type==="split_node"&&J.equals(n.path,t.path)&&l.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function sX(e,t,n){var r=lM(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=lM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function G3t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!J.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:J.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:J.transform(n,t,{affinity:"forward"})};case"merge_node":return J.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:J.transform(n,t)}:{diff:r,id:o,path:J.transform(n,t)}}var i=J.transform(n,t);return i?{diff:r,path:i,id:o}:null}function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var K3t=25,Z3t=200,X3t=function(){},Q3t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function J3t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,l=0,u=!1,d=()=>{var D=Od.get(t);if(Od.delete(t),D){var{selection:I}=t,P=iX(t,D);P&&(!I||!ue.equals(P,I))&&se.select(t,P)}},f=()=>{var D=Pd.get(t);if(Pd.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?aM(t,D.at):iX(t,D.at);if(!I)return;var P=R.range(t,I);(!t.selection||!ue.equals(t.selection,P))&&se.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!_()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&R.rangeRef(t,t.selection,{affinity:"forward"});bu.set(t,t.marks),X3t("flush",Pd.get(t),hs.get(t));for(var I=_(),P;P=(M=hs.get(t))===null||M===void 0?void 0:M[0];){var M,$,V=yl.get(t);V!==void 0&&(yl.delete(t),t.marks=V),V&&u===!1&&(u=null);var L=q3t(P);(!t.selection||!ue.equals(t.selection,L))&&se.select(t,L),P.diff.text?R.insertText(t,P.diff.text):R.deleteFragment(t),hs.set(t,($=hs.get(t))===null||$===void 0?void 0:$.filter(z=>{var{id:Y}=z;return Y!==P.id})),H3t(t,P)||(I=!1,Pd.delete(t),bu.delete(t),o="action",Od.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Od.get(t)&&(!t.selection||!ue.equals(H,t.selection))&&se.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var U=bu.get(t);bu.delete(t),U!==void 0&&(t.marks=U,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{lp.set(t,!1),p()},K3t)},v=D=>{lp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=nM.get(t);if(P){if(_()||I){P.style.display="none";return}P.style.removeProperty("display")}},x=(D,I)=>{var P,M=(P=hs.get(t))!==null&&P!==void 0?P:[];hs.set(t,M);var $=Ee.leaf(t,D),V=M.findIndex(U=>J.equals(U.path,D));if(V<0){var L=pEe($.text,I);L&&M.push({path:D,diff:I,id:l++}),g();return}var H=Y3t($.text,M[V].diff,I);if(!H){M.splice(V,1),g();return}M[V]=vC(vC({},M[V]),{},{diff:H})},b=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Od.delete(t),n.cancel(),r.cancel(),w()&&p(),Pd.set(t,{at:P,run:I}),a=setTimeout(p)},y=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,M=null,$=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&(M=pe.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var L=pe.getWindow(t),H=L.getSelection();if(!M&&H&&(V=H,M=pe.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),M=(I=M)!==null&&I!==void 0?I:t.selection,!!M){var U=!0;if(P.startsWith("delete")){if(ue.isExpanded(M)){var[z,Y]=ue.edges(M),te=Ee.leaf(t,z.path);if(te.text.length===z.offset&&Y.offset===0){var N=R.next(t,{at:z.path,match:we.isText});N&&J.equals(N[1],Y.path)&&(M={anchor:Y,focus:Y})}}var G=P.endsWith("Backward")?"backward":"forward",[q,K]=ue.edges(M),[Q,X]=R.leaf(t,q.path),Z={text:"",start:q.offset,end:K.offset},re=hs.get(t),le=re==null?void 0:re.find(Ne=>J.equals(Ne.path,X)),he=le?[le.diff,Z]:[Z],ie=hEe(Q.text,...he);if(ie.length===0&&(U=!1),ue.isExpanded(M)){if(U&&J.equals(M.anchor.path,M.focus.path)){var ye={path:M.anchor.path,offset:q.offset},Ce=R.range(t,ye,ye);return E(Ce),x(M.anchor.path,{text:"",end:K.offset,start:q.offset})}return b(()=>R.deleteFragment(t,{direction:G}),{at:M})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return b(()=>R.deleteFragment(t),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:Ae}=M;if(U&&ue.isCollapsed(M)){var xe=Ee.leaf(t,Ae.path);if(Ae.offset<xe.text.length)return x(Ae.path,{text:"",start:Ae.offset,end:Ae.offset+1})}return b(()=>R.deleteForward(t),{at:M})}case"deleteContentBackward":{var Ze,{anchor:rt}=M,at=sM(V)?V.isCollapsed:!!((Ze=V)!==null&&Ze!==void 0&&Ze.collapsed);return U&&at&&ue.isCollapsed(M)&&rt.offset>0?x(rt.path,{text:"",start:rt.offset-1,end:rt.offset}):b(()=>R.deleteBackward(t),{at:M})}case"deleteEntireSoftLine":return b(()=>{R.deleteBackward(t,{unit:"line"}),R.deleteForward(t,{unit:"line"})},{at:M});case"deleteHardLineBackward":return b(()=>R.deleteBackward(t,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return b(()=>R.deleteBackward(t,{unit:"line"}),{at:M});case"deleteHardLineForward":return b(()=>R.deleteForward(t,{unit:"block"}),{at:M});case"deleteSoftLineForward":return b(()=>R.deleteForward(t,{unit:"line"}),{at:M});case"deleteWordBackward":return b(()=>R.deleteBackward(t,{unit:"word"}),{at:M});case"deleteWordForward":return b(()=>R.deleteForward(t,{unit:"word"}),{at:M});case"insertLineBreak":return b(()=>R.insertSoftBreak(t),{at:M});case"insertParagraph":return b(()=>R.insertBreak(t),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Q3t($))return b(()=>pe.insertData(t,$),{at:M});var nt=$??"";if(yl.get(t)&&(nt=nt.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(nt)&&(nt=nt.slice(0,-1)),nt.includes(`
`))return b(()=>{var Ne=nt.split(`
`);Ne.forEach((bt,Tt)=>{bt&&R.insertText(t,bt),Tt!==Ne.length-1&&R.insertSoftBreak(t)})},{at:M});if(J.equals(M.anchor.path,M.focus.path)){var[Kt,Ye]=ue.edges(M),me={start:Kt.offset,end:Ye.offset,text:nt};if(nt&&u&&P==="insertCompositionText"){var Ue=u.start+u.text.search(/\S|$/),qe=me.start+me.text.search(/\S|$/);qe===Ue+1&&me.end===u.start+u.text.length?(me.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=me:u&&ue.isCollapsed(M)&&u.end+u.text.length===Kt.offset?u=vC(vC({},u),{},{text:u.text+nt}):u=!1:u=!1;if(U){x(Kt.path,me);return}}return b(()=>R.insertText(t,nt),{at:M})}}}},w=()=>!!Pd.get(t),_=()=>{var D;return!!((D=hs.get(t))!==null&&D!==void 0&&D.length)},C=()=>w()||_(),S=()=>o,E=D=>{Od.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!J.equals(I.anchor.path,D.anchor.path),M=!I||!J.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||M)&&(u=!1),(P||_())&&(s=setTimeout(p,Z3t))}},j=()=>{(w()||!_())&&p()},k=D=>{_()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(_()||w())&&D.some(P=>H9(t,P,D))){var I;(I=lEe.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:_,hasPendingAction:w,hasPendingChanges:C,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:y,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function e$t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var px=lS?h.useLayoutEffect:h.useEffect;function t$t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));px(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var n$t=["node"];function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function r$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var o$t={subtree:!0,childList:!0,characterData:!0},i$t=bs?e=>{var{node:t}=e,n=qv(e,n$t);if(!bs)return null;var r=Vc(),o=e$t(),[i]=h.useState(()=>J3t(r$t({editor:r},n)));return t$t(t,i.handleDomMutations,o$t),z9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,s$t=["anchor","focus"],a$t=["anchor","focus"],l$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),mEe=(e,t)=>{var n=qv(e,s$t),r=qv(t,a$t);return e[Gv]===t[Gv]&&l$t(n,r)},c$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!mEe(r,o))return!1}return!0},u$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!mEe(r,o))return!1}return!0},d$t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Vc(),s=pe.findPath(i,o),a=J.parent(s),l=n[cEe]===!0;return i.isVoid(r)?oe.createElement(CP,{length:Ee.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&R.string(i,a)===""?oe.createElement(CP,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?oe.createElement(CP,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?oe.createElement(cX,{isTrailing:!0,text:n.text}):oe.createElement(cX,{text:n.text})},cX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return px(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),oe.createElement(f$t,{ref:r},i)},f$t=h.memo(h.forwardRef((e,t)=>oe.createElement("span",{"data-slate-string":!0,ref:t},e.children))),CP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),oe.createElement("span",Object.assign({},o),!bs||!n?"\uFEFF":null,n?oe.createElement("br",null):null)};function h$t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function uX(e){e.current&&(clearTimeout(e.current),e.current=null)}var p$t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>oe.createElement(g$t,Object.assign({},y))}=e,a=Vc(),l=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(h$t(l,y==null),y==null){var w;nM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(nM.set(a,y),!l.current){var _=window.ResizeObserver||d_e;l.current=new _(()=>{var C;(C=t.onPlaceholderResize)===null||C===void 0||C.call(t,y)})}l.current.observe(y),u.current=y}},[u,t,a]),v=oe.createElement(d$t,{isLast:n,leaf:t,parent:o,text:r}),g=t[Gv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(uX(p),f(!1)),()=>uX(p)),[g,f]),g&&d){var x={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Ey?"inherit":void 0},contentEditable:!1,ref:m}};v=oe.createElement(oe.Fragment,null,i(x),v)}var b={"data-slate-leaf":!0};return s({attributes:b,children:v,leaf:t,text:r})},m$t=oe.memo(p$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&we.equals(t.leaf,e.leaf)&&t.leaf[Gv]===e.leaf[Gv]),g$t=e=>{var{attributes:t,children:n}=e;return oe.createElement("span",Object.assign({},t),n)},v$t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Vc(),l=h.useRef(null),u=we.decorations(s,t),d=pe.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(oe.createElement(m$t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var x=NT.get(a);g?(x==null||x.set(d,g),Tp.set(s,g),hx.set(g,s)):(x==null||x.delete(d),Tp.delete(s),l.current&&hx.delete(l.current)),l.current=g},[l,a,d,s]);return oe.createElement("span",{"data-slate-node":"text",ref:v},f)},gEe=oe.memo(v$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&u$t(t.decorations,e.decorations)),y$t=e=>{var{decorations:t,element:n,renderElement:r=y=>oe.createElement(x$t,Object.assign({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Vc(),l=_$t(),u=a.isInline(n),d=pe.findKey(a,n),f=h.useCallback(y=>{var w=NT.get(a);y?(w==null||w.set(d,y),Tp.set(n,y),hx.set(y,n)):(w==null||w.delete(d),Tp.delete(n))},[a,d,n]),p=xEe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&R.hasInlines(a,n)){var v=Ee.string(n),g=G5e(v);g==="rtl"&&(m.dir=g)}if(R.isVoid(a,n)){m["data-slate-void"]=!0,!l&&u&&(m.contentEditable=!1);var x=u?"span":"div",[[b]]=Ee.texts(n);p=oe.createElement(x,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},oe.createElement(gEe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:b})),B9.set(b,0),N9.set(b,n)}return r({attributes:m,children:p,element:n})},b$t=oe.memo(y$t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&c$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),x$t=e=>{var{attributes:t,children:n,element:r}=e,o=Vc(),i=o.isInline(r)?"span":"div";return oe.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},vEe=h.createContext(()=>[]),w$t=()=>h.useContext(vEe),yEe=h.createContext(!1),bEe=()=>h.useContext(yEe),xEe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=w$t(),l=Vc(),u=pe.findPath(l,n),d=[],f=De.isElement(n)&&!l.isInline(n)&&R.hasInlines(l,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=pe.findKey(l,v),x=R.range(l,m),b=s&&ue.intersection(x,s),y=a([v,m]);for(var w of t){var _=ue.intersection(w,x);_&&y.push(_)}De.isElement(v)?d.push(oe.createElement(yEe.Provider,{key:"provider-".concat(g.id),value:!!b},oe.createElement(b$t,{decorations:y,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:b}))):d.push(oe.createElement(gEe,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),B9.set(v,p),N9.set(v,n)}return d},wEe=h.createContext(!1),_$t=()=>h.useContext(wEe),_Ee=h.createContext(null),zT=()=>{var e=h.useContext(_Ee);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function C$t(){var e=Vc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=pe.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var S$t=3,E$t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},k$t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},j$t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},hr=e=>{var t=E$t[e],n=k$t[e],r=j$t[e],o=t&&_P(t),i=n&&_P(n),s=r&&_P(r);return a=>!!(o&&o(a)||oX&&i&&i(a)||!oX&&s&&s(a))},Sr={isBold:hr("bold"),isCompose:hr("compose"),isMoveBackward:hr("moveBackward"),isMoveForward:hr("moveForward"),isDeleteBackward:hr("deleteBackward"),isDeleteForward:hr("deleteForward"),isDeleteLineBackward:hr("deleteLineBackward"),isDeleteLineForward:hr("deleteLineForward"),isDeleteWordBackward:hr("deleteWordBackward"),isDeleteWordForward:hr("deleteWordForward"),isExtendBackward:hr("extendBackward"),isExtendForward:hr("extendForward"),isExtendLineBackward:hr("extendLineBackward"),isExtendLineForward:hr("extendLineForward"),isItalic:hr("italic"),isMoveLineBackward:hr("moveLineBackward"),isMoveLineForward:hr("moveLineForward"),isMoveWordBackward:hr("moveWordBackward"),isMoveWordForward:hr("moveWordForward"),isRedo:hr("redo"),isSoftBreak:hr("insertSoftBreak"),isSplitBlock:hr("splitBlock"),isTransposeCharacter:hr("transposeCharacter"),isUndo:hr("undo")},T$t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(l=>H9(e,l,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},A$t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class CEe extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,A$t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=T$t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}CEe.contextType=L9;var D$t=bs?CEe:e=>{var{children:t}=e;return oe.createElement(oe.Fragment,null,t)},I$t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],P$t=["text"];function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var O$t=e=>oe.createElement(oe.Fragment,null,xEe(e)),$$t=e=>{var t=h.useCallback(N=>oe.createElement(R$t,Object.assign({},N)),[]),{autoFocus:n,decorate:r=M$t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:l,renderPlaceholder:u=t,scrollSelectionIntoView:d=F$t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=qv(e,I$t),g=zT(),[x,b]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[_,C]=h.useState(),{onUserInput:S,receivedUserInput:E}=C$t(),[,j]=h.useReducer(N=>N+1,0);lEe.set(g,j),oM.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>oT(()=>{var N=T.current;if((bs||!pe.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var G=pe.findDocumentOrShadowRoot(g),{activeElement:q}=G,K=pe.toDOMNode(g,g),Q=G.getSelection();if(q===K?(k.latestElement=q,ap.set(g,!0)):ap.delete(g),!Q)return se.deselect(g);var{anchorNode:X,focusNode:Z}=Q,re=pe.hasEditableTarget(g,X)||pe.isTargetInsideNonReadonlyVoid(g,X),le=pe.hasEditableTarget(g,Z)||pe.isTargetInsideNonReadonlyVoid(g,Z);if(re&&le){var he=pe.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});he&&(!pe.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(g,he):N==null||N.handleUserSelect(he))}s&&(!re||!le)&&se.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>Qx(A,0),[A]);T.current=i$t({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),px(()=>{var N,G,q;y.current&&(q=V9(y.current))?(aEe.set(g,q),cS.set(g,y.current),Tp.set(g,y.current),hx.set(y.current,g)):Tp.delete(g);var{selection:K}=g,Q=pe.findDocumentOrShadowRoot(g),X=Q.getSelection();if(!(!X||!pe.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var Z=ie=>{var ye=X.type!=="None";if(!(!K&&!ye)){var Ce=X.focusNode,Ae;if(pb&&X.rangeCount>1){var xe=X.getRangeAt(0),Ze=X.getRangeAt(X.rangeCount-1);xe.startContainer===Ce?Ae=Ze.endContainer:Ae=xe.startContainer}else Ae=X.anchorNode;var rt=cS.get(g),at=!1;if(rt.contains(Ae)&&rt.contains(Ce)&&(at=!0),ye&&at&&K&&!ie){var nt=pe.toSlateRange(g,X,{exactMatch:!0,suppressThrow:!0});if(nt&&ue.equals(nt,K)){var Kt,Ye;if(!k.hasMarkPlaceholder||(Kt=Ae)!==null&&Kt!==void 0&&(Ye=Kt.parentElement)!==null&&Ye!==void 0&&Ye.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!pe.hasRange(g,K)){g.selection=pe.toSlateRange(g,X,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var me=K&&pe.toDOMRange(g,K);return me?(pe.isComposing(g)&&!bs?X.collapseToEnd():ue.isBackward(K)?X.setBaseAndExtent(me.endContainer,me.endOffset,me.startContainer,me.startOffset):X.setBaseAndExtent(me.startContainer,me.startOffset,me.endContainer,me.endOffset),d(g,me)):X.removeAllRanges(),me}};X.rangeCount<=1&&Z();var re=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!bs||!re){setTimeout(()=>{k.isUpdatingSelection=!1});return}var le=null,he=requestAnimationFrame(()=>{if(re){var ie=ye=>{try{var Ce=pe.toDOMNode(g,g);Ce.focus(),Z(ye)}catch{}};ie(),le=setTimeout(()=>{ie(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(he),le&&clearTimeout(le)}}});var I=h.useCallback(N=>{if(S(),!s&&pe.hasEditableTarget(g,N.target)&&!L$t(N,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:q}=g,{inputType:K}=N,Q=N.dataTransfer||N.data||void 0,X=K==="insertCompositionText"||K==="deleteCompositionText";if(X&&pe.isComposing(g))return;var Z=!1;if(K==="insertText"&&q&&ue.isCollapsed(q)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&q.anchor.offset!==0){var re,le;Z=!0,g.marks&&(Z=!1);var{anchor:he}=q,[ie,ye]=pe.toDOMPoint(g,he),Ce=(re=ie.parentElement)===null||re===void 0?void 0:re.closest("a"),Ae=pe.getWindow(g);if(Z&&Ce&&pe.hasDOMNode(g,Ce)){var xe,Ze=Ae==null?void 0:Ae.document.createTreeWalker(Ce,NodeFilter.SHOW_TEXT).lastChild();Ze===ie&&((xe=Ze.textContent)===null||xe===void 0?void 0:xe.length)===ye&&(Z=!1)}if(Z&&ie.parentElement&&(Ae==null||(le=Ae.getComputedStyle(ie.parentElement))===null||le===void 0?void 0:le.whiteSpace)==="pre"){var rt=R.above(g,{at:he.path,match:Ue=>De.isElement(Ue)&&R.isBlock(g,Ue)});rt&&Ee.string(rt[0]).includes("	")&&(Z=!1)}}if(!K.startsWith("delete")||K.startsWith("deleteBy")){var[at]=N.getTargetRanges();if(at){var nt=pe.toSlateRange(g,at,{exactMatch:!1,suppressThrow:!1});if(!q||!ue.equals(q,nt)){Z=!1;var Kt=!X&&g.selection&&R.rangeRef(g,g.selection);se.select(g,nt),Kt&&mb.set(g,Kt)}}}if(X)return;if(Z||N.preventDefault(),q&&ue.isExpanded(q)&&K.startsWith("delete")){var Ye=K.endsWith("Backward")?"backward":"forward";R.deleteFragment(g,{direction:Ye});return}switch(K){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{R.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{R.deleteForward(g);break}case"deleteContentBackward":{R.deleteBackward(g);break}case"deleteEntireSoftLine":{R.deleteBackward(g,{unit:"line"}),R.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{R.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{R.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{R.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{R.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{R.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{R.deleteForward(g,{unit:"word"});break}case"insertLineBreak":R.insertSoftBreak(g);break;case"insertParagraph":{R.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{K==="insertFromComposition"&&pe.isComposing(g)&&(b(!1),lp.set(g,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?pe.insertData(g,Q):typeof Q=="string"&&(Z?w.current.push(()=>R.insertText(g,Q)):R.insertText(g,Q));break}}var me=(G=mb.get(g))===null||G===void 0?void 0:G.unref();mb.delete(g),me&&(!g.selection||!ue.equals(g.selection,me))&&se.select(g,me)}},[g,A,S,o,s,D]),P=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),cS.delete(g),Tp.delete(g),y.current&&yd&&y.current.removeEventListener("beforeinput",I)):yd&&N.addEventListener("beforeinput",I),y.current=N},[A,D,g,I]);px(()=>{var N=pe.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var M=r([g,[]]),$=i&&g.children.length===1&&Array.from(Ee.texts(g)).length===1&&Ee.string(g)===""&&!x,V=h.useCallback(N=>{if(N&&$){var G;C((G=N.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else C(void 0)},[$]);if($){var L=R.start(g,[]);M.push({[Gv]:!0,placeholder:i,onPlaceholderResize:V,anchor:L,focus:L})}var{marks:H}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&H){var{anchor:U}=g.selection,z=Ee.leaf(g,U.path),Y=qv(z,P$t);if(!we.equals(z,H,{loose:!0})){k.hasMarkPlaceholder=!0;var te=Object.fromEntries(Object.keys(Y).map(N=>[N,null]));M.push(Xm(Xm(Xm({[cEe]:!0},te),H),{},{anchor:U,focus:U}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:G}=N,q=Ee.leaf(g,G.path);if(H&&!we.equals(q,H,{loose:!0})){yl.set(g,H);return}}yl.delete(g)})}),oe.createElement(wEe.Provider,{value:s},oe.createElement(vEe.Provider,{value:r},oe.createElement(D$t,{node:y,receivedUserInput:E},oe.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v,{spellCheck:yd||!lS?v.spellCheck:!1,autoCorrect:yd||!lS?v.autoCorrect:"false",autoCapitalize:yd||!lS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:Xm(Xm({},m?{}:Xm({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},_?{minHeight:_}:{})),f),onBeforeInput:h.useCallback(N=>{if(!yd&&!s&&!Mi(N,v.onBeforeInput)&&pe.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!pe.isComposing(g))){var G=N.data;R.insertText(g,G)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Mi(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!pe.hasSelectableTarget(g,N.target)||Mi(N,v.onBlur))){var G=pe.findDocumentOrShadowRoot(g);if(k.latestElement!==G.activeElement){var{relatedTarget:q}=N,K=pe.toDOMNode(g,g);if(q!==K&&!(Da(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&Vf(q)&&pe.hasDOMNode(g,q)){var Q=pe.toSlateNode(g,q);if(De.isElement(Q)&&!g.isVoid(Q))return}if(Ey){var X=G.getSelection();X==null||X.removeAllRanges()}ap.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Mi(N,v.onClick)&&Vf(N.target)){var G=pe.toSlateNode(g,N.target),q=pe.findPath(g,G);if(!R.hasPath(g,q)||Ee.get(g,q)!==G)return;if(N.detail===S$t&&q.length>=1){var K=q;if(!(De.isElement(G)&&R.isBlock(g,G))){var Q,X=R.above(g,{match:Ce=>De.isElement(Ce)&&R.isBlock(g,Ce),at:q});K=(Q=X==null?void 0:X[1])!==null&&Q!==void 0?Q:q.slice(0,1)}var Z=R.range(g,K);se.select(g,Z);return}if(s)return;var re=R.start(g,q),le=R.end(g,q),he=R.void(g,{at:re}),ie=R.void(g,{at:le});if(he&&ie&&J.equals(he[1],ie[1])){var ye=R.range(g,re);se.select(g,ye)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var G;if(pe.isComposing(g)&&(b(!1),lp.set(g,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(N),Mi(N,v.onCompositionEnd)||bs)return;if(!Ey&&!D3t&&!k3t&&!P3t&&!I3t&&N.data){var q=yl.get(g);yl.delete(g),q!==void 0&&(bu.set(g,g.marks),g.marks=q),R.insertText(g,N.data);var K=bu.get(g);bu.delete(g),K!==void 0&&(g.marks=K)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCompositionUpdate)&&(pe.isComposing(g)||(b(!0),lp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(N),Mi(N,v.onCompositionStart)||bs)return;b(!0);var{selection:q}=g;if(q){if(ue.isExpanded(q)){R.deleteFragment(g);return}var K=R.above(g,{match:Z=>De.isElement(Z)&&R.isInline(g,Z),mode:"highest"});if(K){var[,Q]=K;if(R.isEnd(g,q.anchor,Q)){var X=R.after(g,Q);se.setSelection(g,{anchor:X,focus:X})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCopy)&&!fX(N)&&(N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCut)&&!fX(N)){N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"cut");var{selection:G}=g;if(G)if(ue.isExpanded(G))R.deleteFragment(g);else{var q=Ee.parent(g,G.anchor.path);R.isVoid(g,q)&&se.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Mi(N,v.onDragOver)){var G=pe.toSlateNode(g,N.target);De.isElement(G)&&R.isVoid(g,G)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Mi(N,v.onDragStart)){var G=pe.toSlateNode(g,N.target),q=pe.findPath(g,G),K=De.isElement(G)&&R.isVoid(g,G)||R.void(g,{at:q,voids:!0});if(K){var Q=R.range(g,q);se.select(g,Q)}k.isDraggingInternally=!0,pe.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Mi(N,v.onDrop)){N.preventDefault();var G=g.selection,q=pe.findEventRange(g,N),K=N.dataTransfer;se.select(g,q),k.isDraggingInternally&&G&&!ue.equals(G,q)&&!R.void(g,{at:q,voids:!0})&&se.delete(g,{at:G}),pe.insertData(g,K),pe.isFocused(g)||pe.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&pe.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&pe.hasEditableTarget(g,N.target)&&!Mi(N,v.onFocus)){var G=pe.toDOMNode(g,g),q=pe.findDocumentOrShadowRoot(g);if(k.latestElement=q.activeElement,pb&&N.target!==G){G.focus();return}ap.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&pe.hasEditableTarget(g,N.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(N);var{nativeEvent:q}=N;if(pe.isComposing(g)&&q.isComposing===!1&&(lp.set(g,!1),b(!1)),Mi(N,v.onKeyDown)||pe.isComposing(g))return;var{selection:K}=g,Q=g.children[K!==null?K.focus.path[0]:0],X=G5e(Ee.string(Q))==="rtl";if(Sr.isRedo(q)){N.preventDefault();var Z=g;typeof Z.redo=="function"&&Z.redo();return}if(Sr.isUndo(q)){N.preventDefault();var re=g;typeof re.undo=="function"&&re.undo();return}if(Sr.isMoveLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",reverse:!0});return}if(Sr.isMoveLineForward(q)){N.preventDefault(),se.move(g,{unit:"line"});return}if(Sr.isExtendLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Sr.isExtendLineForward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus"});return}if(Sr.isMoveBackward(q)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:!X}):se.collapse(g,{edge:"start"});return}if(Sr.isMoveForward(q)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:X}):se.collapse(g,{edge:"end"});return}if(Sr.isMoveWordBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:!X});return}if(Sr.isMoveWordForward(q)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:X});return}if(yd){if((sEe||Ey)&&K&&(Sr.isDeleteBackward(q)||Sr.isDeleteForward(q))&&ue.isCollapsed(K)){var le=Ee.parent(g,K.anchor.path);if(De.isElement(le)&&R.isVoid(g,le)&&(R.isInline(g,le)||R.isBlock(g,le))){N.preventDefault(),R.deleteBackward(g,{unit:"block"});return}}}else{if(Sr.isBold(q)||Sr.isItalic(q)||Sr.isTransposeCharacter(q)){N.preventDefault();return}if(Sr.isSoftBreak(q)){N.preventDefault(),R.insertSoftBreak(g);return}if(Sr.isSplitBlock(q)){N.preventDefault(),R.insertBreak(g);return}if(Sr.isDeleteBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g);return}if(Sr.isDeleteForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g);return}if(Sr.isDeleteLineBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g,{unit:"line"});return}if(Sr.isDeleteLineForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g,{unit:"line"});return}if(Sr.isDeleteWordBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g,{unit:"word"});return}if(Sr.isDeleteWordForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&pe.hasEditableTarget(g,N.target)&&!Mi(N,v.onPaste)&&(!yd||R3t(N.nativeEvent)||Ey)&&(N.preventDefault(),pe.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),oe.createElement(O$t,{decorations:M,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:l,selection:g.selection})))))},R$t=e=>{var{attributes:t,children:n}=e;return oe.createElement("span",Object.assign({},t),n,bs&&oe.createElement("br",null))},M$t=()=>[],F$t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),qIt(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Mi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},fX=e=>Vf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),L$t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},B$t=h.createContext(!1),N$t=h.createContext({});function z$t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var V$t=["editor","children","onChange","initialValue"],H$t=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=qv(e,V$t),s=h.useRef(!1),[a,l]=oe.useState(()=>{if(!Ee.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Lo.stringify(o)));if(!R.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Lo.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=z$t(t),f=h.useCallback(()=>{r&&r(t.children),l(v=>({v:v.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(iM.set(t,f),()=>{iM.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(pe.isFocused(t));return h.useEffect(()=>{m(pe.isFocused(t))},[t]),px(()=>{var v=()=>m(pe.isFocused(t));return iEe>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),oe.createElement(N$t.Provider,{value:u},oe.createElement(_Ee.Provider,{value:a},oe.createElement(L9.Provider,{value:a.editor},oe.createElement(B$t.Provider,{value:p},n))))},hX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},pX=(e,t,n)=>{var r=pe.toDOMRange(e,t).getBoundingClientRect(),o=pe.toDOMRange(e,n).getBoundingClientRect();return hX(r,o)&&hX(o,r)},U$t=(e,t)=>{var n=R.range(e,ue.end(t)),r=Array.from(R.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(pX(e,R.range(e,r[o]),n))return R.range(e,r[o],n);if(r.length<2)return R.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)pX(e,R.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return R.range(e,r[i],n)};function mX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var W$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:l}=r;return NT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=z9.get(r))===null||f===void 0||f(),!yl.get(r)&&(p=hs.get(r))!==null&&p!==void 0&&p.length&&yl.set(r,null),bu.delete(r),a(u,d)},r.removeMark=u=>{var d;!yl.get(r)&&(d=hs.get(r))!==null&&d!==void 0&&d.length&&yl.set(r,null),bu.delete(r),l(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=R.above(r,{match:v=>De.isElement(v)&&R.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=R.range(r,f,r.selection.anchor),m=U$t(r,p);ue.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=hs.get(r);if(f!=null&&f.length){var p=f.map(S=>G3t(S,u)).filter(Boolean);hs.set(r,p)}var m=Od.get(r);m&&Od.set(r,sX(r,m,u));var v=Pd.get(r);if(v!=null&&v.at){var g=It.isPoint(v==null?void 0:v.at)?lM(r,v.at,u):sX(r,v.at,u);Pd.set(r,g?gX(gX({},v),{},{at:g}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...yC(r,u.path));break}case"set_selection":{var x;(x=mb.get(r))===null||x===void 0||x.unref(),mb.delete(r);break}case"insert_node":case"remove_node":{d.push(...yC(r,J.parent(u.path)));break}case"merge_node":{var b=J.previous(u.path);d.push(...yC(r,b));break}case"move_node":{var y=J.common(J.parent(u.path),J.parent(u.newPath));d.push(...yC(r,y));break}}o(u);for(var[w,_]of d){var[C]=R.node(r,w);rM.set(C,_)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=R.void(r,{at:f.path}),v=R.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=pe.toDOMRange(r,d),x=g.cloneContents(),b=x.childNodes[0];if(x.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(b=T)}),v){var[y]=v,w=g.cloneRange(),_=pe.toDOMNode(r,y);w.setEndAfter(_),x=w.cloneContents()}if(m&&(b=x.querySelector("[data-slate-spacer]")),Array.from(x.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),uEe(b)){var C=b.ownerDocument.createElement("span");C.style.whiteSpace="pre",C.appendChild(b),x.appendChild(C),b=C}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));b.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=x.ownerDocument.createElement("div");return k.appendChild(x),k.setAttribute("hidden","true"),x.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",fEe(k)),x.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||N3t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=iEe<18?vVe.unstable_batchedUpdates:f=>f();d(()=>{var f=iM.get(r);f&&f(),i(u)})},r},yC=(e,t)=>{var n=[];for(var[r,o]of R.levels(e,{at:t})){var i=pe.findKey(e,r);n.push([o,i])}return n},Y$t=$ge,vX=1/0,q$t=17976931348623157e292;function G$t(e){if(!e)return e===0?e:0;if(e=Y$t(e),e===vX||e===-vX){var t=e<0?-1:1;return t*q$t}return e===e?e:0}var SEe=G$t,K$t=SEe;function Z$t(e){var t=K$t(e),n=t%1;return t===t?n?t-n:t:0}var X$t=Z$t,Q$t=$_e,J$t=nh,eRt=X$t,tRt=Math.max;function nRt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:eRt(n);return o<0&&(o=tRt(r+o,0)),Q$t(e,J$t(t),o)}var EEe=nRt;const U9=Ie(EEe);var rRt=T8,oRt=4;function iRt(e){return rRt(e,oRt)}var sRt=iRt;const kEe=Ie(sRt);function uS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function OE(e){return uS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>uS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>uS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function SP(e){return uS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Vu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function yX(e){return Vu(e)?e.jsonType==="object":!1}function aRt(e){return Vu(e)?e.jsonType==="array":!1}function lRt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function cRt(e){return Vu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function uRt(e){if(!Vu(e)||!Array.isArray(e.fields))return!1;const[t,n,r]=e.fields;return AEe(t)&&jEe(n)&&TEe(r)}function jEe(e){return!Vu(e)||e.name!=="style"?!1:Vu(e.type)&&e.type.jsonType==="string"}function TEe(e){return!Vu(e)||e.name!=="list"?!1:Vu(e.type)&&e.type.jsonType==="string"}function AEe(e){return!Vu(e)||e.name!=="children"||!aRt(e.type)?!1:e.type.of.some(cRt)}function W9(e){return e.type?W9(e.type):e.name==="block"}function dRt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(W9);if(!uRt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(AEe))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(l=>l.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(l=>l.name!=="span"&&yX(l)),a=e.of.filter(l=>l.name!==r.name&&yX(l));return{styles:fRt(r),decorators:pRt(i),annotations:hRt(i),lists:mRt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function fRt(e){const t=e.fields.find(jEe);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=DEe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function hRt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function pRt(e){return e.decorators}function mRt(e){const t=e.fields.find(TEe);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=DEe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function DEe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>lRt(n)?n:{title:n,value:n}):[]}const gRt=Object.prototype.toString;function IEe(e){switch(gRt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function vRt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return S9(t),t}const PEe=[];for(let e=0;e<256;++e)PEe[e]=(e+256).toString(16).substring(1);function cM(e){return vRt(e).reduce((t,n)=>t+PEe[n],"").slice(0,e)}const yRt=["pre","textarea","code"],Kv="normal",gs=Object.freeze({_type:"block",markDefs:[],style:Kv}),dS=Object.freeze({_type:"span",marks:[]}),$E={p:gs,blockquote:{...gs,style:"blockquote"}},OEe={span:{object:"text"}},RE={ol:{object:null},ul:{object:null}},ME={h1:{...gs,style:"h1"},h2:{...gs,style:"h2"},h3:{...gs,style:"h3"},h4:{...gs,style:"h4"},h5:{...gs,style:"h5"},h6:{...gs,style:"h6"}},bRt={br:{...gs,style:Kv}},$Ee={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},REe={li:{...gs,style:Kv,level:1,listItem:"bullet"}},xRt={...$E,...OEe,...RE,...REe,...ME,...bRt};co(Object.values(xRt).filter(e=>"style"in e).map(e=>e.style));co(Object.values($Ee));const Kp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var wRt=(e,t)=>{function n(r){var o,i;if(r.nodeType===Kp.BOOLEAN_TYPE&&!yRt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const _Rt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var CRt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,Kp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const l=i.snapshotItem(a),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const s=t.evaluate(_Rt.join("|"),t,null,Kp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const l=s.snapshotItem(a);l&&((o=l.parentNode)==null||o.removeChild(l))}return t};const SRt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,ERt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],kRt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],jRt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function TRt(e){return SRt.test(e)}var ARt=(e,t)=>{var n;if(!TRt(e))return t;const r=t.evaluate(ERt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,Kp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(kRt.join("|"),t,null,Kp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=jRt[s.className],l=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(l),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},DRt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,Kp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,Kp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},IRt=[wRt,ARt,DRt,CRt];function PRt(e){const t=dRt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Er(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function ORt(e,t){const n=t($Rt(e));return IRt.forEach(r=>{r(e,n)}),n}function $Rt(e){return e.trim()}function RRt(){if(IEe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function MRt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),OE(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function FRt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function LRt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function bX(e){return[""," "].includes(e)}function BRt(e){return e.forEach(t=>{OE(t)&&t.children.forEach((n,r)=>{if(!hv(n))return;const o=FRt(t,r),i=LRt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&hv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&hv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Yt(i.marks,n.marks)&&bX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Yt(o.marks,n.marks)&&bX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function NRt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!OE(o[r-1])&&OE(i))return i.children.push(n),t;const s={...gs,children:[n]};return t.push(s),t},[])}function zRt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function hv(e){return e._type==="span"}function xX(e){return e._type==="block"}function wX(e){return e._type==="__decorator"}function _X(e){return e._type==="__annotation"}function ih(e){return e.nodeType===1}function VRt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function HRt(e,t){return[{deserialize(n){if(Er(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Er(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...dS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Er(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...dS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Er(n)!=="blockquote")return;const o={...$E,...ME};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{l.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),i.push(l)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...$E,...ME},i=Er(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Er(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=gs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in OEe)))return r(n.childNodes)}},{deserialize(n,r){if(Er(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in RE)))return r(n.childNodes)}},{deserialize(n){if(Er(n)==="br")return{...dS,text:`
`}}},{deserialize(n,r,o){const i=Er(n),s=i?REe[i]:void 0,a=Er(n.parentNode)||"";if(!s||!n.parentNode||!RE[a])return;const l=VRt(a,t.enabledListTypes);return l?(s.listItem=l,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=$Ee[Er(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Er(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=ih(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:cM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const MEe=Object.keys(RE);function URt(e){const t=ih(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function WRt(e){const t=ih(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function CX(e){return ih(e)&&!!e.getAttribute("data-is-google-docs")}function YRt(e){const t=Er(e.parentNode);if(!(t&&!MEe.includes(t)))return Er(e.parentNode)==="ul"?"bullet":"number"}function qRt(e){let t=0;if(Er(e)==="li"){let n=e.parentNode;for(;n;){const r=Er(n);r&&MEe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const GRt={...$E,...ME};function KRt(e,t){const n=Er(e.firstChild),r=n&&GRt[n];return!r||!t.includes(r.style)?Kv:r.style}function ZRt(e,t){return[{deserialize(n){if(ih(n)&&Er(n)==="span"&&CX(n)){const r={...dS,marks:[],text:n.textContent};return WRt(n)&&r.marks.push("strong"),URt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Er(n)==="li"&&CX(n))return{...gs,listItem:YRt(n),level:qRt(n),style:KRt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function XRt(e){const t=ih(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function QRt(e){const t=ih(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function JRt(e){return ih(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function eMt(){return[{deserialize(e,t){if(Er(e)==="p"&&JRt(e))return{...gs,listItem:XRt(e),level:QRt(e),style:Kv,children:t(e.childNodes)}}}]}function tMt(e,t){return[...eMt(),...ZRt(e,t),...HRt(e,t)]}var nMt=Object.defineProperty,rMt=(e,t,n)=>t in e?nMt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xc=(e,t,n)=>(rMt(e,typeof t!="symbol"?t+"":t,n),n);class oMt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xc(this,"blockContentType"),Xc(this,"rules"),Xc(this,"parseHtml"),Xc(this,"_markDefs",[]),Xc(this,"deserialize",a=>{this._markDefs=[];const{parseHtml:l}=this,u=l(a),d=Array.from(u.childNodes),f=BRt(MRt(NRt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>En(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(W9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f}),Xc(this,"deserializeElements",function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=[];return a.forEach(u=>{l=l.concat(n.deserializeElement(u))}),l}),Xc(this,"deserializeElement",a=>{var l,u;const d=m=>{if(zRt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),x=IEe(g);if(x!=="array"&&x!=="object"&&x!=="null"&&x!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:wX(g)?p=this.deserializeDecorator(g):_X(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&xX(g)&&"listItem"in g){let b=(l=a.parentNode)==null?void 0:l.parentNode;for(;b&&Er(b)==="li";)b=(u=b.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&xX(g)&&g.style==="blockquote"&&g.children.forEach((b,y)=>{hv(b)&&b.text==="\r"&&(b.text=`

`,(y===0||y===g.children.length-1)&&g.children.splice(y,1))});break}}return p||d(a.childNodes)||[]}),Xc(this,"deserializeDecorator",a=>{const{name:l}=a,u=d=>{if(wX(d))return this.deserializeDecorator(d);if(hv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])}),Xc(this,"deserializeAnnotation",a=>{const{markDef:l}=a;this._markDefs.push(l);const u=d=>{if(_X(d))return this.deserializeAnnotation(d);if(hv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])});const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=tMt(t,PRt(t));this.rules=[...o,...i];const s=r.parseHtml||RRt();this.blockContentType=t,this.parseHtml=a=>ORt(a,s).body}}function mx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:cM(12)};const n={_key:cM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const l=s[s.length-1];return l&&SP(a)&&SP(l)&&Yt(l.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(l.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),SP(s)&&(s.marks?i&&(s.marks=s.marks.filter(l=>{var u;const d=i.includes(l),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===l);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function SX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new oMt(t,n).deserialize(e).map(o=>mx(o))}function EX(e){return I8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function kX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(FEe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const l=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:iMt(o),decorators:sMt(a),lists:aMt(o),block:o,span:a,portableText:e,inlineObjects:l,blockObjects:u,annotations:a.annotations}}function iMt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function sMt(e){return e.decorators}function aMt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="list");if(!r)throw new Error("A field with name 'list' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function FEe(e){return e.type?FEe(e.type):e.name==="block"?e:null}const uM="sanity-pte:";_s(uM);function Hr(e){const t="".concat(uM).concat(e);return _s&&_s.enabled(t)?_s(t):_s(uM)}const FE=()=>Bw(12),LEe=h.createContext(FE),lMt=()=>{const e=h.useContext(LEe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},LE=new WeakMap,fS=new WeakMap,bC=new WeakMap,z1=new WeakMap,V1=new WeakMap,H1=new WeakMap,dM=new WeakMap,_a=new WeakMap,BE=new WeakMap;function cMt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function fM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Nw(e){const[t,n]=e;return[t,n]}function jX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function Y9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function VT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function BEe(e){let t=e.map(f=>Nw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===gt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===qn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=qn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=HT(t)),t=NEe(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===qn){const f=t[s-1][1],p=t[s][1],m=jX(f,p),v=jX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[gt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[gt,f.substring(0,v)]),t[s-1][0]=qn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const TX=/[^a-zA-Z0-9]/,AX=/\s/,DX=/[\r\n]/,uMt=/\n\r?\n$/,dMt=/^\r?\n\r?\n/;function NEe(e){const t=e.map(o=>Nw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(TX),u=a.match(TX),d=l&&s.match(AX),f=u&&a.match(AX),p=d&&s.match(DX),m=f&&a.match(DX),v=p&&o.match(uMt),g=m&&i.match(dMt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===gt&&t[r+1][0]===gt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=VT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function HT(e){let t=e.map(u=>Nw(u));t.push([gt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case qn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case gt:r+o>1?(r!==0&&o!==0&&(a=Y9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===gt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[gt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=VT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[qn,s]),n++),n++):n!==0&&t[n-1][0]===gt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===gt&&t[n+1][0]===gt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=HT(t)),t}function fMt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function zEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Nw(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===gt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&fMt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=qn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=HT(n)),n}function hMt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let x=0;x<a;x++)l[x]=-1,u[x]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let x=0;x<i&&!(Date.now()>n);x++){for(let b=-x+p;b<=x-m;b+=2){const y=s+b;let w;b===-x||b!==x&&l[y-1]<l[y+1]?w=l[y+1]:w=l[y-1]+1;let _=w-b;for(;w<r&&_<o&&e.charAt(w)===t.charAt(_);)w++,_++;if(l[y]=w,w>r)m+=2;else if(_>o)p+=2;else if(f){const C=s+d-b;if(C>=0&&C<a&&u[C]!==-1){const S=r-u[C];if(w>=S)return IX(e,t,w,_,n)}}}for(let b=-x+v;b<=x-g;b+=2){const y=s+b;let w;b===-x||b!==x&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let _=w-b;for(;w<r&&_<o&&e.charAt(r-w-1)===t.charAt(o-_-1);)w++,_++;if(u[y]=w,w>r)g+=2;else if(_>o)v+=2;else if(!f){const C=s+d-b;if(C>=0&&C<a&&l[C]!==-1){const S=l[C],E=s+S-C;if(w=r-w,S>=w)return IX(e,t,S,E,n)}}}}return[[In,e],[qn,t]]}function IX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Zp(i,s,{checkLines:!1,deadline:o}),d=Zp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function pMt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=PX(r,o,Math.ceil(r.length/4)),s=PX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function PX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=Y9(e.slice(n),t.slice(o)),f=VT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function mMt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function gMt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function vMt(e,t,n){let r=e,o=t;const i=gMt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Zp(r,o,{checkLines:!1,deadline:n.deadline});mMt(a,s),a=BEe(a),a.push([gt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case qn:d++,p+=a[l][1];break;case In:u++,f+=a[l][1];break;case gt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Zp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function yMt(e,t,n){let r;if(!e)return[[qn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[qn,o.substring(0,s)],[gt,i],[qn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[qn,t]];const a=pMt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Zp(l,d,n),v=Zp(u,f,n);return m.concat([[gt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?vMt(e,t,n):hMt(e,t,n.deadline)}const In=-1,qn=1,gt=0;function q9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Zp(e,t,xMt(n||{}));return _Mt(r),r}function Zp(e,t,n){let r=e,o=t;if(r===o)return r?[[gt,r]]:[];let i=Y9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=VT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=yMt(r,o,n);return s&&l.unshift([gt,s]),a&&l.push([gt,a]),l=HT(l),l}function bMt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function xMt(e){return{checkLines:!0,deadline:bMt(e.timeout||1),...e}}function xC(e,t,n){return n===1?e+t:t+e}function wC(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function wMt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function OX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===qn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===gt){if(o===null&&i===null){const[f,p]=wC(e[t][1],n);e[t][1]=f,e[s][1]=xC(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&wMt(e,o,i,n)){const[u,d]=wC(e[o][1],r),[f]=wC(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=xC(e[t][1],d,n);return}const[a,l]=wC(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[qn,l]),i!==null&&i>=s&&i++):e[o][1]=xC(e[o][1],l,r),i===null?e.splice(s,0,[In,l]):e[i][1]=xC(e[i][1],l,r)}function _Mt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];cMt(i)&&n===gt&&OX(e,t,1),fM(o)&&n===gt&&OX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const CMt={threshold:.5,distance:1e3};function SMt(e){return{...CMt,...e}}const EMt=32;function kMt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>EMt)throw new Error("Pattern too long for this browser.");const o=SMt(r),i=jMt(t);function s(v,g){const x=v/t.length,b=Math.abs(n-g);return o.distance?x+b/o.distance:b?1:x}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const x=Math.min(n+f,e.length)+t.length,b=new Array(x+2);b[x+1]=(1<<v)-1;for(let y=x;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?b[y]=(b[y+1]<<1|1)&w:b[y]=(b[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],b[y]&u){const _=s(v,y-1);if(_<=a)if(a=_,l=y-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=b}return l}function jMt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function EP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return kMt(e,t,r)}function NE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function G9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==qn&&(t[n]=e[n][1]);return t.join("")}function VEe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function Kd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=HEe(r)}return t}function TMt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=HEe(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>Nw(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function HEe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const $d=32,K9=4,AMt={margin:4};function kP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...AMt,...e}}function DMt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=q9(e,t,{checkLines:!0});return r.length>2&&(r=BEe(r),r=zEe(r)),jP(e,r,kP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return jP(G9(e),e,kP(n));if(typeof e=="string"&&t&&Array.isArray(t))return jP(e,t,kP(n));throw new Error("Unknown call format to make()")}function jP(e,t,n){if(t.length===0)return[];const r=[];let o=NE(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,x=g.length,b=Kd(g);switch(!i&&v!==gt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case qn:o.diffs[i++]=m,o.length2+=x,o.utf8Length2+=b,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=x,o.utf8Length1+=b,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+x);break;case gt:x<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=x,o.length2+=x,o.utf8Length1+=b,o.utf8Length2+=b):x>=2*n.margin&&i&&($X(o,d,n),r.push(o),o=NE(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==qn&&(s+=x,l+=b),v!==In&&(a+=x,u+=b)}return i&&($X(o,d,n),r.push(o)),r}function $X(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<$d-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&fM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([gt,s]);const a=s.length,l=Kd(s);let u=e.start2+e.length1+o;u<t.length&&fM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([gt,d]);const f=d.length,p=Kd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function IMt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case qn:n+=s.length;break;case In:r+=s.length;break;case gt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function RX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==qn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function PMt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==gt)i.unshift([gt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==gt)i.push([gt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function OMt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;const n=$d;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=NE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Kd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([gt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Kd(m);if(p===qn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===In&&l.diffs.length===1&&l.diffs[0][0]===gt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Kd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===gt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=VEe(l.diffs),a=a.substring(a.length-t);const d=G9(o.diffs).substring(0,t),f=Kd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===gt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([gt,d])),u||e.splice(++r,0,l)}}}function UEe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=TMt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||K9,s=n.deleteThreshold||.4,a=PMt(o,i);r=a+r+a,OMt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=G9(o[d].diffs);let m,v=-1;if(p.length>$d?(m=EP(r,p.substring(0,$d),f),m!==-1&&(v=EP(r,p.substring(p.length-$d),f+p.length-$d),(v===-1||m>=v)&&(m=-1))):m=EP(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+$d),p===g)r=r.substring(0,m)+VEe(o[d].diffs)+r.substring(m+p.length);else{let x=q9(p,g,{checkLines:!1});if(p.length>$d&&IMt(x)/p.length>s)u[d]=!1;else{x=NEe(x);let b=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const _=o[d].diffs[w];_[0]!==gt&&(y=RX(x,b)),_[0]===qn?r=r.substring(0,m+y)+_[1]+r.substring(m+y):_[0]===In&&(r=r.substring(0,m+y)+r.substring(m+RX(x,b+_[1].length))),_[0]!==In&&(b+=_[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function $Mt(e){return e.map(RMt).join("")}function RMt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case qn:u="+";break;case In:u="-";break;case gt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const MMt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function Z9(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(MMt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=NE(_C(o[1]),_C(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=_C(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=_C(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Kd(l)-l.length;if(a==="-")i.diffs.push([In,l]),i.length1-=u;else if(a==="+")i.diffs.push([qn,l]),i.length2-=u;else if(a===" ")i.diffs.push([gt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function _C(e){return parseInt(e,10)}function WEe(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function MX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=DMt(e,t),o=$Mt(r);return{type:"diffMatchPatch",path:n,value:o}}function cu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function dl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function qs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const FMt=[];function pv(e,t){const n=t[e._key];return n&&Yt(e,n)?n:(t[e._key]=e,e)}function Sc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,l=[{_key:"".concat(s,"-void-child"),_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:x,_key:b,...y}=g;return x!=="span"?(f=!0,pv({_type:x,_key:b,children:l,value:y,__inline:!0},r)):g});return!p&&!m&&!f&&De.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=FMt),pv({_type:i,_key:s,...a,children:v},r))}return pv({_type:i,_key:s,children:l,value:a},r)}):[]}function gr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...x}=u;return pv({...x,...f,_key:p,_type:m},n)}return u});return a?pv({...r,children:l,_key:o,_type:i},n):r}const s="value"in r&&r.value;return pv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function zE(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&De.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&we.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Gh=Hr("operationToPatches");Gh.enabled=!1;function LMt(e){const t=e.block.name;function n(d,f,p){Gh.enabled&&Gh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],y=d.isTextSpan(b)?b.text:"",w=MX(y,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const x=[{_key:m._key},"children",{_key:g._key},"text"],b=p[f.path[0]],y=d.isTextBlock(b)&&b.children[f.path[1]],w=d.isTextSpan(y)&&y.text,_=MX(w||"",g.text,x);return _.value?[_]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=B2e({...d.children[f.path[0]],...f.newProperties},N2e);return[dl(gr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,x=[];return Object.keys(f.newProperties).forEach(b=>{const y=Nn(f.newProperties,b);x.push(dl(y,[{_key:v},"children",{_key:g},b]))}),x}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",x=p[f.path[0]-1],b=f.path[0]===0?m==null?void 0:m._key:x==null?void 0:x._key;return b?[cu([gr([f.node],t)[0]],g,[{_key:b}])]:[WEe(p,[]),cu([gr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",x={...f.node};!x._type&&we.isText(x)&&(x._type="span",x.marks=[]);const y=gr([{_key:"bogus",_type:t,children:[x]}],t)[0].children[0];return[cu([y],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Gh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const x=gr([d.children[f.path[0]+1]],t)[0];x&&(m.push(cu([x],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(y=>{const w=[{_key:g._key},"children",{_key:y._key}];m.push(qs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const x=gr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(cu(x,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(dl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[qs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[qs([{_key:m._key},"children",{_key:v._key}])]:(Gh("Span not found in editor trying to remove node"),[])}else return Gh("Not creating patch inside object block"),[]}function l(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const x=gr([d.children[f.path[0]-1]],t)[0];m.push(dl(x,[{_key:x._key}])),m.push(qs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const x=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,b=g.children[f.path[1]-1];d.isTextSpan(b)&&(m.push(dl(b.text,[{_key:v._key},"children",{_key:b._key},"text"])),x&&m.push(qs([{_key:v._key},"children",{_key:x._key}])))}else Gh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const x=f.path[0]>f.newPath[0]?"before":"after";m.push(qs([{_key:v._key}])),m.push(cu([gr([v],t)[0]],x,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const x=v.children[f.path[1]],b=g.children[f.newPath[1]],y=f.newPath[1]===g.children.length?"after":"before",w=gr([v],t)[0].children[f.path[1]];m.push(qs([{_key:v._key},"children",{_key:x._key}])),m.push(cu([w],y,[{_key:g._key},"children",{_key:b._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function FX(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),l=Array.isArray(o.children)&&o.children[a[1]];return l&&(s=["children",{_key:l._key}]),s?[...i,...s]:i}function LX(e,t){if(!t)return[];const[n,r]=Array.from(R.nodes(t,{at:[],match:s=>Pr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!De.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Yt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return De.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function cp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&FX(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&FX(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function hS(e,t){if(!e||!t)return null;const n={path:LX(e.anchor,t),offset:e.anchor.offset},r={path:LX(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function VE(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const CC=Hr("API:editable");function BMt(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};se.select(o,{focus:i,anchor:i}),o.onChange()}pe.focus(o)},blur:()=>{pe.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...R.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=hS(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i)return gr([i],t.block.name,_a.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return gr([i],t.block.name,_a.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[l]=Array.from(R.nodes(o,{at:o.selection.focus.path.slice(0,1)}))[0]||[void 0];if(!l)throw new Error("No focus block");const d=Sc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0];return R.insertNode(o,d),o.onChange(),((a=cp(gr(o.children,t.block.name,_a.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const l=Sc([{_key:n(),_type:i.name,...s||{}}],e)[0];return R.insertNode(o,l),o.onChange(),((a=cp(gr(o.children,t.block.name,_a.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=hS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,l]=R.node(o,s.focus.path.slice(0,1));if(a&&l&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[gr([a],t.block.name)[0],[{_key:a._key}]];const u=gr([a],t.block.name,_a.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(R.nodes(o,{at:[],match:l=>l._key===i._key})||[])[0]||[void 0];s=pe.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=R.nodes(o,{at:o.selection,match:l=>we.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0});for(const[l,u]of a){const[d]=R.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{we.isText(l)&&l.marks&&Array.isArray(l.marks)&&l.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[l]=R.node(o,a.focus,{depth:1});if(De.isElement(l)&&l._type===t.block.name){const u=n();if(o.isTextBlock(l)){se.setNodes(o,{markDefs:[...l.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=R.node(o,a.focus,{depth:2});if(o.selection){R.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:we.isText,split:!0}),o.selection&&we.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),R.normalize(o),o.onChange();const f=cp(gr(o.children,t.block.name,_a.get(o)),o.selection,t);if(f&&typeof l._key=="string")return R.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=hS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){CC("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(CC("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&De.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(CC("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&De.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(CC("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,l]=R.node(o,s,{depth:2});we.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,l),s=o.selection)}R.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:we.isText,split:!0}),o.onChange(),[...R.nodes(o,{at:s,match:l=>we.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0})].forEach(l=>{let[u,d]=l;var f;const[p]=R.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(we.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];se.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),R.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=BE.get(o.selection);if(s)return s;i=cp(gr(o.children,t.block.name,_a.get(o)),o.selection,t),BE.set(o.selection,i)}return i},getValue:()=>gr(o.children,t.block.name,_a.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function NMt(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const HE=new WeakMap;function gx(e,t){const n=YEe(e);HE.set(e,!0),t(),HE.set(e,n)}function YEe(e){return HE.get(e)}function zMt(e,t){return function(r){HE.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!YEe(r)||!("_key"in s.node);R.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,l]=s;if(De.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:l});for(const[u,d]of Ee.children(r,l))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const UE=new WeakMap;function hM(e,t){const n=qEe(e);UE.set(e,!1),t(),UE.set(e,n)}function qEe(e){return UE.get(e)}const BX="before",NX="after";function VMt(e,t,n){if(t!==BX&&t!==NX)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(BX," or ").concat(NX));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=zX(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...zX(s)),d}function zX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const VX=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function HMt(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function UMt(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function WMt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!VX(t.value,"from")||!VX(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return HMt(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=UMt(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return VMt(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=X9(n[i],{...t,path:o}),n}function YMt(e,t){const n=kEe(e);if(t.path.length===0){if(t.type==="set"){if(!Xx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?ji(n,r):(n[r]=X9(n[r],{...t,path:o}),n)}const GEe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},qMt=Object.keys(GEe);function GMt(e,t){if(!qMt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return GEe[t.type](e,t.value)}const KEe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=UEe(Z9(t),e,{allowExceedingIndices:!0});return n}},KMt=Object.keys(KEe);function ZMt(e,t){if(!KMt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=KEe[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function XMt(e,t){return t.reduce(X9,e)}function QMt(e,t){return Array.isArray(e)?WMt(e,t):hT(e)?ZMt(e,t):Xx(e)?YMt(e,t):GMt(e,t)}function X9(e,t){return QMt(e,t)}const br=Hr("applyPatches"),Q9=br.enabled&&!0;function JMt(e){let t;return function(n,r){let o=!1;Q9&&(br(`

NEW PATCH =============================================================`),br(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=t4t(n,r,e);break;case"unset":o=r4t(n,r,t);break;case"set":o=n4t(n,r);break;case"diffMatchPatch":o=e4t(n,r);break;default:br("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function e4t(e,t){const{block:n,child:r,childPath:o}=UT(e,t.path);if(!n)return br("Block not found"),!1;if(!r||!o)return br("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!we.isText(r))return!1;const s=Z9(t.value),[a]=UEe(s,r.text,{allowExceedingIndices:!0}),l=zEe(q9(r.text,a),5);vs(e,"before");let u=0;for(const[d,f]of l)d===qn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===In?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===gt&&(u+=f.length);return vs(e,"after"),!0}function t4t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=UT(e,t.path);if(!r||!i)return br("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return br("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Sc(m,{schemaTypes:n},dM.get(e)),x=i[0],b=v==="after"?x+1:x;return br("Inserting blocks at path [".concat(b,"]")),vs(e,"before"),se.insertNodes(e,g,{at:[b]}),vs(e,"after"),!0}const{items:a,position:l}=t;if(!o||!s)return br("Child not found"),!1;const u=r&&Sc([{...r,children:a}],{schemaTypes:n},dM.get(e)),d=s[1],f=l==="after"?d+1:d,p=[s[0],f];return br("Inserting children at path ".concat(p)),vs(e,"before"),u&&De.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),vs(e,"after"),!0}function n4t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=UT(e,t.path);if(!r)return br("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return br("Ignoring setting void value"),!1;if(vs(e,"before"),a&&i&&s){if(we.isText(n)&&we.isText(i)){const l=i.text;n.text!==l&&(br("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:l}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else br("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(De.isElement(r)&&t.path.length===1&&o){br("Setting block property");const{children:l,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const l=XMt([r.value],[t])[0];return se.setNodes(e,{...r,value:l},{at:o}),!0}return vs(e,"after"),!0}function r4t(e,t,n){if(t.path.length===0){br("Removing everything"),vs(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((l,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),vs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=UT(e,t.path);if(t.path.length===1){if(!r||!o)return br("Block not found"),!1;const a=o[0];return br("Removing block at path [".concat(a,"]")),vs(e,"before"),se.removeNodes(e,{at:[a]}),vs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return br("Child not found"),!1;const a=s[1];return br("Unsetting child at path ".concat(JSON.stringify(s))),vs(e,"before"),Q9&&br("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),vs(e,"after"),!0}return!1}function ZEe(e){return typeof e=="object"&&"_key"in e}function vs(e,t){Q9&&(br("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),br("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function o4t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=ZEe(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function UT(e,t){const{block:n,path:r}=o4t(e,t);if(!(De.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const l=ZEe(t[2])?s._key===t[2]._key:a===t[2];return l&&(o=a),l});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function XEe(e,t){const n=QEe(e)||!1;LE.set(e,!0),t(),LE.set(e,n)}function QEe(e){return LE.get(e)}function i4t(e){return fS.get(e)}const Yo=Hr("plugin:withUndoRedo"),HX=Yo.enabled&&!1,mv=new WeakMap,TP=new WeakMap,s4t=1e3,JEe=e=>{const t=mv.get(e);return t===void 0?!0:t},a4t=e=>(TP.get(e)||TP.set(e,[]),TP.get(e)||[]);function l4t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=gr(o.children,r.name);const s=a4t(o);n&&o.subscriptions.push(()=>{Yo("Subscribing to patches");const l=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Yo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),mv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Yo("Unsubscribing to patches"),l.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=l=>{if(t){a(l);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=u4t(l,m),g=JEe(o);let x=!0;if(g){if(p?u.length===0&&(x=c4t(l,m)||v):x=!1,p&&x)p.operations.push(l);else{const b={operations:[...o.selection===null?[]:[f4t(o)],l],timestamp:new Date};f.push(b),Yo("Created new undo step",p)}for(;f.length>s4t;)f.shift();d4t(l)&&(d.redos=[])}a(l)},o.undo=()=>{if(t)return;const{undos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(Yo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>UX(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),VE(!!o.selection);try{R.withoutNormalizing(o,()=>{vx(o,()=>{f.map(Hg.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Yo("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},mv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(Yo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>UX(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),VE(!!o.selection);try{R.withoutNormalizing(o,()=>{vx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Yo("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},mv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function UX(e,t,n,r,o){HX&&(Yo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Yo("Operation ".concat(JSON.stringify(n))),Yo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return Yo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[WX(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Yo("Skipping transformation that targeted removed block"),[]):(HX&&(Yo("Selection ".concat(JSON.stringify(e.selection))),Yo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[WX(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Yo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=h4t(e,i);return!s||!Yt({_key:s._key},t.path[0])?[i]:(Z9(t.value).forEach(l=>{var u,d,f,p;let m=0,v=l.utf8Start1;const{diffs:g}=l;if(g.forEach((x,b)=>{const[y,w]=x;y===qn?(m+=w.length,v+=w.length):y===In?(m-=w.length,v-=w.length):y===gt&&(g.slice(b).every(_=>{let[C]=_;return C===gt})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const x=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,b=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(x&&b||y&&w)&&([x,b,y,w].forEach(C=>{C&&v<C.offset&&(C.offset+=m)}),x&&b&&(i.properties={focus:x,anchor:b}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function WX(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const l=[a.path[0]+t,...a.path.slice(1)];a.path=l}if(a.type==="set_selection"){const l=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(l&&u||d&&f)&&([l,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),l&&u&&(a.properties={focus:l,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const c4t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&J.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&J.equals(e.path,t.path)),u4t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),d4t=e=>e.type!=="set_selection";function vx(e,t){const n=JEe(e);mv.set(e,!1),t(),mv.set(e,n)}function f4t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function h4t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const SC=Hr("plugin:withPatches");function p4t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=JMt(i);return function(u){LE.set(u,!1),UE.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;XEe(u,()=>{R.withoutNormalizing(u,()=>{hM(u,()=>{vx(u,()=>{gx(u,()=>{v.forEach(x=>{(x.type==="insert"||x.type==="unset")&&VE(!!u.selection),SC.enabled&&SC("Handling remote patch ".concat(JSON.stringify(x))),g=a(u,x)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const x=g.filter(b=>b.origin!=="local");x.length!==0&&(f=f.concat(x),p())};return n&&u.subscriptions.push(()=>{SC("Subscribing to patches$");const v=n.subscribe(m);return()=>{SC("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const x=zE(s,i);d(v);const b=zE(u.children,i);if(!qEe(u))return u;switch(x&&!b&&v.type!=="set_selection"&&g.push(cu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!x&&b&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,qs([])],t.next({type:"unset",previousValue:gr(s,i.block.name,_a.get(u))})),x&&g.length>0&&(g=[WEe([],[]),...g]),g.length>0&&g.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const m4t=Hr("plugin:withPlaceholderBlock");function g4t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(m4t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const EC=Hr("plugin:withPortableTextBlockStyle");function v4t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!J.equals(s,a.path)){const[l]=R.node(r,[a.path[0]+1,0]);if(we.isText(l)&&l.text===""){EC("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...R.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...R.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[l,u]=a;r.isTextBlock(l)&&l.style===i?(EC("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...l,style:t},{at:u})):(i?EC("Setting style '".concat(i,"'")):EC("Setting default style",t),se.setNodes(r,{...l,style:i||t},{at:u}))}),r.onChange()},r}}const Ch=Hr("plugin:withPortableTextLists"),AP=10;function y4t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(Ch("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(Ch("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...R.nodes(n,{at:n.selection,match:i=>De.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:l,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};Ch("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...R.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;Ch("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...R.nodes(n,{at:n.selection,match:o=>De.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&we.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;De.isElement(i)&&(Ch("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...R.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let l=s.level||1;r?(l--,Ch("Decrementing list level",Math.min(AP,Math.max(1,l)))):(l++,Ch("Incrementing list level",Math.min(AP,Math.max(1,l)))),se.setNodes(n,{level:Math.min(AP,Math.max(1,l))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...R.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Sh=Hr("plugin:withPortableTextMarkModel");function b4t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,l=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=cp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=we.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Sh("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[x,b]=R.node(i,[g.path[0]-1]);if(Sh("Copying markDefs over to merged block",g),i.isTextBlock(x)){const y=Array.isArray(x.markDefs)&&x.markDefs||[],w=co([...y,...g.properties.markDefs]);Yt(w,x.markDefs)||(se.setNodes(i,{markDefs:w},{at:b,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&De.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[x,b]=R.node(i,[g.path[0]+1]);if(Sh("Copying markDefs over to split block",g),i.isTextBlock(x)){const y=Array.isArray(x.markDefs)&&x.markDefs||[];se.setNodes(i,{markDefs:co([...y,...g.properties.markDefs])},{at:b,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[x,b]=R.node(i,[g.path[0]+1,0]);we.isText(x)&&x.text===""&&Array.isArray(x.marks)&&x.marks.length>0&&(se.setNodes(i,{marks:[]},{at:b,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[x,b]=R.node(i,[g.path[0]]);i.isTextBlock(x)&&x.children.length===1&&x.markDefs&&x.markDefs.length>0&&we.isText(x.children[0])&&x.children[0].text===""&&(!x.children[0].marks||x.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:b}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=R.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!l.includes(v)))){const[v]=Array.from(R.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(we.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),se.splitNodes(i,{match:we.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...R.marks(i)||{}}.marks||[]).filter(x=>l.includes(x));se.setNodes(i,{marks:g},{at:J.next(m.focus.path)});return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){se.setNodes(i,{},{match:we.isText,split:!0});const f=[...R.nodes(i,{at:i.selection,match:we.isText})];if(En(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;R.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const x=[...(Array.isArray(v.marks)?v.marks:[]).filter(b=>b!==d),d];se.setNodes(i,{marks:x},{at:g,match:we.isText,split:!0,hanging:!0})})}),R.normalize(i)}else{const f={...R.marks(i)||{}}.marks||[],p={...R.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))R.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:we.isText,split:!0}),i.selection&&[...R.nodes(i,{at:i.selection,match:we.isText})].forEach(m=>{let[v,g]=m;const x=i.children[g[0]];De.isElement(x)&&x.children.includes(v)&&se.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(b=>b!==d),_type:"span"},{at:g})})}),R.normalize(i);else{const p={...R.marks(i)||{}}.marks||[],m={...R.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...R.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(R.nodes(i,{match:we.isText,at:i.selection})).forEach(p=>{const[m]=p;f=co([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Sh("Remove mark '".concat(d,"'")),R.removeMark(i,d)):(Sh("Add mark '".concat(d,"'")),R.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(R.nodes(o,{at:R.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[l]=a.length>1?R.node(o,J.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(l)){const d=l.children[u[1]];we.isText(s)&&we.isText(d)&&Yt(d.marks,s.marks)&&(Sh("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=R.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,l]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>we.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Yt(u,a.markDefs)||(Sh("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:l}),o.onChange())}}}}const eke=Hr("plugin:withPortableTextSelections"),x4t=eke.enabled&&!1;function w4t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const l=BE.get(o.selection);if(l)a=l;else{const u=o.children;a=cp(u,o.selection,t),BE.set(o.selection,a)}}x4t&&eke("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const _4t=Hr("plugin:withSchemaTypes");function C4t(e){return function(n){n.isTextBlock=o=>Xu(o)&&o._type===e.block.name,n.isTextSpan=o=>Js(o)&&o._type==e.span.name,n.isListBlock=o=>Y$e(o)&&o._type===e.block.name,n.isVoid=o=>e.block.name!==o._type&&(e.blockObjects.map(i=>i.name).includes(o._type)||e.inlineObjects.map(i=>i.name).includes(o._type)),n.isInline=o=>e.inlineObjects.map(s=>s.name).includes(o._type)&&"__inline"in o&&o.__inline===!0;const{normalizeNode:r}=n;return n.normalizeNode=o=>{const[i,s]=o;we.isText(i)&&s.length===2&&i._type===void 0&&(_4t("Setting span type on text node without a type"),se.setNodes(n,{_type:"span"},{at:s})),r(o)},n}}const DP=Hr("plugin:withUtils");function S4t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=R.node(n,r.focus,{depth:2});if(!o||!we.isText(o)||o.text.length===0){DP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),l=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=l.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:l.length+1);if(!(f===m||isNaN(f)||isNaN(m))){DP("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}DP("pteExpandToWord: Can't expand to word here")}},n}}const IP=Hr("plugin:withHotKeys"),E4t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function k4t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||E4t,s=()=>Sc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(l){return l.pteWithHotKeys=u=>{Object.keys(i).forEach(x=>{if(x==="marks")for(const b in i[x]){if(o.includes(b))throw new Error("The hotkey ".concat(b," is reserved!"));if(Fi(b,u.nativeEvent)){u.preventDefault();const y=i[x];if(y){const w=y[b];IP("HotKey ".concat(b," to toggle ").concat(w)),l.pteToggleMark(w)}}}if(x==="custom")for(const b in i[x]){if(o.includes(b))throw new Error("The hotkey ".concat(b," is reserved!"));if(Fi(b,u.nativeEvent)){const y=i[x];if(y){const w=y[b];w(u,n)}}}});const d=Fi("enter",u.nativeEvent),f=Fi("tab",u.nativeEvent),p=Fi("shift+enter",u.nativeEvent),m=Fi("shift+tab",u.nativeEvent),v=Fi("backspace",u.nativeEvent),g=Fi("delete",u.nativeEvent);if(v&&l.selection&&l.selection.focus.path[0]>0&&ue.isCollapsed(l.selection)){const x=J.previous(l.selection.focus.path.slice(0,1)),b=Ee.descendant(l,x),y=Ee.descendant(l,l.selection.focus.path.slice(0,1));if(b&&y&&R.isVoid(l,b)&&l.selection.focus.offset===0){IP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),se.removeNodes(l,{match:w=>w===y}),se.select(l,x),l.onChange();return}}if(g&&l.selection&&l.selection.focus.offset===0&&ue.isCollapsed(l.selection)&&l.children[l.selection.focus.path[0]+1]){const x=Ee.descendant(l,J.next(l.selection.focus.path.slice(0,1))),b=l.selection.focus.path.slice(0,1),y=Ee.descendant(l,b);if(x&&y&&!R.isVoid(l,y)&&R.isVoid(l,x)){IP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(l,{match:w=>w===y}),se.select(l,b),l.onChange();return}}if((f||m)&&l.selection){const[x]=R.node(l,l.selection.focus,{depth:2}),[b]=Js(x)?R.node(l,l.selection.focus,{depth:1}):[],y=x&&Xu(b)&&Js(x)&&(x.marks||[]).filter(C=>(b.markDefs||[]).map(S=>S._key).includes(C)).length>0,[w]=ue.edges(l.selection),_=R.isStart(l,w,w.path);x&&Js(x)&&(!y||_)&&l.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&l.selection){const x=l.selection.focus.path.slice(0,1),b=Ee.descendant(l,x);if(l.isListBlock(b)){l.pteEndList()&&u.preventDefault();return}if(l.isTextBlock(b)&&b.style&&b.style!==e.styles[0].value){const[,y]=ue.edges(l.selection);if(R.isEnd(l,y,y.path)){R.insertNode(l,s()),u.preventDefault();return}}if(b&&R.isVoid(l,b)){R.insertNode(l,s()),u.preventDefault();return}u.preventDefault(),l.insertBreak()}if(p){u.preventDefault(),l.insertText(`
`);return}if(Fi("mod+z",u.nativeEvent)){u.preventDefault(),l.undo();return}(Fi("mod+y",u.nativeEvent)||Fi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),l.redo())},l}}function WE(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[qs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,l)=>{if(!Xx(a))return r={patches:[qs([l])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[dl({...a,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[dl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[qs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[qs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[dl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=co(En(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>dl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[cu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[dl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[qs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[dl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const ou=Hr("plugin:withInsertData");function j4t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=l=>l.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(l,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=R.void(o,{at:f.path}),v=R.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=pe.toDOMRange(o,d);let x=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=pe.toDOMNode(o,E);j.setEndAfter(k),x=j.cloneContents()}Array.from(x.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(x.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const b=x.ownerDocument.createElement("div");b.appendChild(x),b.setAttribute("hidden","true"),x.ownerDocument.body.appendChild(b);const y=b.innerHTML;x.ownerDocument.body.removeChild(b);const w=o.getFragment(),_=gr(w,i),C=JSON.stringify(_),S=a(_);l.clearData(),l.setData("text/plain",S),l.setData("text/html",y),l.setData("application/json",C),l.setData("application/x-portable-text",C),ou("text",S),l.setData("application/x-portable-text-event-origin",u||"external"),ou("Set fragment data",C,y)},o.insertPortableTextData=l=>{var u;if(!o.selection)return!1;const d=l.getData("application/x-portable-text"),f=l.getData("application/x-portable-text-event-origin");if(ou("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=D4t(o,Sc(p,{schemaTypes:t}),n,s),v=WE(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),ou("Invalid insert result",v),!1}return YX(o,m,t),!0}}return!1},o.insertTextOrHTMLData=l=>{var u;if(!o.selection)return ou("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),f=l.getData("text/plain");if(d||f){ou("Inserting data",l);let p,m,v;if(d)p=SX(d,t.portableText).map(x=>mx(x,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="HTML";else{const x=A4t(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),b="<html><body>".concat(x,"</body></html>");p=SX(b,t.portableText).map(y=>mx(y,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="text"}const g=WE(p,t,n);if(!g.valid){const x=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:x,data:g}),ou("Invalid insert result",g),!1}return ou("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),YX(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=l=>{o.insertPortableTextData(l)||o.insertTextOrHTMLData(l)},o.insertFragmentData=l=>{const u=l.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const T4t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function A4t(e){return String(e).replace(/[&<>"'`=/]/g,t=>T4t[t])}function D4t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const l=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(l)?[...d.marks].filter(f=>f!==l).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function YX(e,t,n){if(!e.selection)return;const[r,o]=R.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;ou("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Yt(s,t[0].markDefs)||se.setNodes(e,{markDefs:co([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}zE(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const qX=new WeakMap,GX=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:l,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():qX.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=LMt(l),f=zMt(l,r),p=C4t(l),m=BMt(o,l,r),v=p4t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:l}),g=NMt(a||-1),x=y4t(l),b=l4t({readOnly:s,patches$:i,blockSchemaType:l.block}),y=b4t(l,u),w=v4t(l),_=g4t({keyGenerator:r,schemaTypes:l}),C=S4t(),S=w4t(u,l);return n.destroy=()=>{const E=qX.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(y(w(C(_(x(S(m(n))))))))),subscribe:()=>V2e}:{editor:p(f(y(w(x(_(C(g(b(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},PP=Hr("component:PortableTextEditor:SlateContainer");function I4t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{PP("Creating new Slate editor instance");const{editor:u,subscribe:d}=GX(W$t(x3t()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return _a.set(u,{}),dM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{PP("Re-initializing plugin chain"),GX(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const l=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{PP("Destroying Slate editor"),s.destroy()},[s]),c.jsx(H$t,{editor:s,initialValue:l,children:e.children})}const tke=h.createContext(null),U0=()=>{const e=h.useContext(tke);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},nke=h.createContext(null),po=()=>{const e=h.useContext(nke);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},P4t=h.createContext(void 0),rke=h.createContext(!1),O4t=()=>{const e=h.useContext(rke);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},ro=Hr("hook:useSyncValue"),KX=new WeakMap;function $4t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=zT(),l=h.useRef(),u=h.useCallback(()=>{const f=KX.get(t);if(s.current===f){ro("Value is the same object as previous, not need to sync");return}l.current&&f&&(ro("Updating the value debounced"),l.current(f))},[t]),d=h.useCallback(Qx(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{KX.set(t,p);const m=i4t(a),v=QEe(a);if(!n){if(m){ro("Has local changes, not syncing value right now"),d();return}if(v){ro("Has remote changes, not syncing value right now"),d();return}}let g=!1,x=!0;const b=!!a.selection;if((!p||p.length===0)&&(ro("Value is empty"),R.withoutNormalizing(a,()=>{vx(a,()=>{hM(a,()=>{b&&se.deselect(a);const y=a.children.length;a.children.forEach((w,_)=>{se.removeNodes(a,{at:[y-1-_]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),b&&se.select(a,[0,0])})})}),g=!0),p&&p.length>0){const y=Sc(p,{schemaTypes:i});R.withoutNormalizing(a,()=>{XEe(a,()=>{vx(a,()=>{hM(a,()=>{const w=a.children.length;if(y.length<w){for(let _=w-1;_>y.length-1;_--)se.removeNodes(a,{at:[_]});g=!0}y.forEach((_,C)=>{const S=a.children[C];if(S&&!Yt(_,S)&&x){const j=[p[C]],k=WE(j,i,r);k.valid?(S._key===_._key?(ro.enabled&&ro("Updating block",S,_),M4t(a,_,S,C)):(ro.enabled&&ro("Replacing block",S,_),R4t(a,_,C)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),x=!1)}if(!S&&x){const j=[p[C]],k=WE(j,i,r);ro.enabled&&ro("Validating and inserting new block in the end of the value",_),k.valid?gx(a,()=>{se.insertNodes(a,_,{at:[C]})}):(ro("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),x=!1)}})})})})})}if(!x){ro("Invalid value, returning");return}if(g){ro("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}b&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else ro("Server value and editor value is equal, no need to sync.");s.current=p};return l.current=f,f},[o,r,t,n,i,a,d])}function R4t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),gx(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function M4t(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(ro("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],l=!Yt(i,a),u=!Yt(i.text,a==null?void 0:a.text),d=[r,s];if(l)if(i._key===(a==null?void 0:a._key)){ro("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=we.isText(i)&&i._type==="span"&&we.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(ro("Updating changed inline object child",i),se.setNodes(e,{_key:"".concat(t._key,"-void-child")},{at:[...d,0],voids:!0}))}else a?(ro("Replacing child",i),se.removeNodes(e,{at:[r,s]}),gx(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(ro("Inserting new child",i),gx(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const iu=Hr("component:PortableTextEditor:Synchronizer"),ZX=iu.enabled&&!1,F4t=1e3;function L4t(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,l]=h.useState(null),u=h.useRef([]),d=$4t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=zT();h.useEffect(()=>{fS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){iu("Flushing pending patches"),ZX&&iu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const y=_e.getValue(n);r({type:"mutation",patches:u.current,snapshot:y}),u.current=[]}fS.set(f,!1)},[f,n,r]),m=h.useCallback(y=>{if(R.isNormalizing(f)){p();return}y()},[p,f]),v=h.useMemo(()=>oT(()=>{m(v)},F4t,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{iu("Subscribing to editor changes$");const y=t.subscribe(w=>{switch(w.type){case"patch":fS.set(f,!0),u.current.push(w.patch),v(),r(w);break;case"selection":h.startTransition(()=>{ZX&&iu("Setting selection"),l(w.selection)}),r(w);break;default:r(w)}});return()=>{iu("Unsubscribing to changes$"),y.unsubscribe()}},[t,r,p,v,f,d]);const g=h.useCallback(()=>{iu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),x=h.useCallback(()=>{iu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",x)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",x))}));const b=h.useRef(!0);return h.useEffect(()=>{iu("Value from props changed, syncing new value"),d(s),b.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),b.current=!1)},[t,d,s]),c.jsx(LEe.Provider,{value:o,children:c.jsx(nke.Provider,{value:n,children:c.jsx(P4t.Provider,{value:s,children:c.jsx(rke.Provider,{value:i,children:c.jsx(tke.Provider,{value:a,children:e.children})})})})})}var B4t=Object.defineProperty,N4t=(e,t,n)=>t in e?B4t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fn=(e,t,n)=>(N4t(e,typeof t!="symbol"?t+"":t,n),n);const W0=Hr("component:PortableTextEditor");class _e extends oe.Component{constructor(t){if(super(t),fn(this,"change$",new Tr),fn(this,"schemaTypes"),fn(this,"editable"),fn(this,"setEditable",n=>{this.editable={...this.editable,...n}}),!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=kX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:EX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=kX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:EX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,l=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||FE;return c.jsx(I4t,{keyGenerator:d,maxBlocks:l,patches$:a,portableTextEditor:this,readOnly:u,children:c.jsx(L4t,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}fn(_e,"activeAnnotations",e=>e&&e.editable?e.editable.activeAnnotations():[]);fn(_e,"addAnnotation",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)});fn(_e,"blur",e=>{var t;W0("Host blurred"),(t=e.editable)==null||t.blur()});fn(_e,"delete",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)});fn(_e,"findDOMNode",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)});fn(_e,"findByPath",(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]});fn(_e,"focus",e=>{var t;W0("Host requesting focus"),(t=e.editable)==null||t.focus()});fn(_e,"focusBlock",e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()});fn(_e,"focusChild",e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()});fn(_e,"getSelection",e=>e.editable?e.editable.getSelection():null);fn(_e,"getValue",e=>{var t;return(t=e.editable)==null?void 0:t.getValue()});fn(_e,"hasBlockStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)});fn(_e,"hasListStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)});fn(_e,"isCollapsedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()});fn(_e,"isExpandedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()});fn(_e,"isMarkActive",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)});fn(_e,"insertChild",(e,t,n)=>{var r;return W0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)});fn(_e,"insertBlock",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)});fn(_e,"insertBreak",e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()});fn(_e,"isVoid",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)});fn(_e,"isObjectPath",(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n});fn(_e,"marks",e=>{var t;return(t=e.editable)==null?void 0:t.marks()});fn(_e,"select",(e,t)=>{var n;W0("Host setting selection",t),(n=e.editable)==null||n.select(t)});fn(_e,"removeAnnotation",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)});fn(_e,"toggleBlockStyle",(e,t)=>{var n;return W0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)});fn(_e,"toggleList",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)});fn(_e,"toggleMark",(e,t)=>{var n;W0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)});function XX(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(l=>l._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function z4t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Yt({_key:s._key},o.path[0]))&&(n=XX(o,t)),i&&t.find(s=>Yt({_key:s._key},i.path[0]))&&(r=XX(i,t)),n&&r?{anchor:n,focus:r}:null}function V4t(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return c.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const H4t=Hr("components:Leaf"),QX=[],U4t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,l=oe.useRef(null),u=po(),d=bEe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,x=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),b=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>co((r.marks||QX).filter(j=>b.includes(j))),[b,r.marks]),w=Array.isArray(r.marks)?r.marks:QX,_=h.useMemo(()=>w.map(j=>{var k;return!b.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,b]),C=_.length>0&&d;h.useEffect(()=>{if(!C){p(!1);return}const j=_e.getSelection(u);j&&Yt(j.focus.path,x)&&_e.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[C,x,u]);const S=h.useCallback(()=>{if(!C)return;H4t("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);l.current&&k.intersectsNode(l.current)?v(!0):v(!1)}else v(!1)},[C]);h.useEffect(()=>{if(!C)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=_e.getSelection(u);T&&Yt(T.focus.path,x)&&_e.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Yt(k.selection.focus.path,x)&&_e.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[x,u,S,C]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(we.isText(r)&&r._type===o.span.name&&(y.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:l,focused:f,path:x,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&_.length>0&&_.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:l,focused:f,path:x,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=c.jsx("span",{ref:l,children:a(A)})}else j=c.jsx(V4t,{annotation:k,children:c.jsx("span",{ref:l,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=c.jsx(c.Fragment,{children:j}),A=Object.defineProperty({annotations:_,children:T,editorElementRef:l,focused:f,path:x,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[_,g,n,f,r,y,x,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>c.jsx("span",{...t,ref:l,children:E},r._key),[r,t,E])},kC=e=>c.jsx("div",{children:c.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var JX=Object.freeze,W4t=Object.defineProperty,WT=(e,t)=>JX(W4t(e,"raw",{value:JX(t||e.slice())})),eQ,tQ,nQ,rQ;const Y4t=O.div(eQ||(eQ=WT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(tQ||(tQ=WT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const q4t=O.div(nQ||(nQ=WT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>K4t(e.listLevel),e=>X4t(e.listLevel,e.listStyle),e=>Q4t(e.listLevel),e=>J4t(e.listLevel),e=>eFt(e.listLevel)),G4t=O.div(rQ||(rQ=WT([""])));function K4t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const Z4t=["","",""];function X4t(e,t){const n=(e-1)%3;return t==="bullet"?Z4t[n]:"*"}function Q4t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function J4t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function eFt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Gl=Hr("components:DraggableBlock"),oQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Vc(),s=h.useRef(),[a,l]=h.useState(!1),u=h.useMemo(()=>R.isVoid(i,n),[i,n]),d=h.useMemo(()=>R.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:pe.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=z1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",V1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=k.pageY,M=Math.abs(D-P);let $="bottom";if(n===i.children[0]?$="top":M<I/2?($="top",H1.set(i,$)):($="bottom",H1.set(i,$)),T===n){k.dataTransfer.dropEffect="none";return}l(!0)},[f,i,n]),v=h.useCallback(()=>{l(!1)},[]),g=h.useCallback(k=>{const T=V1.get(i);if(T){bC.set(i,!1),k.preventDefault(),k.stopPropagation(),V1.delete(i),s.current&&(Gl("Removing drag ghost"),document.body.removeChild(s.current));const A=H1.get(i);H1.delete(i);let D=pe.findPath(i,T);const I=pe.findPath(i,n),P=J.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){Gl("target is already at the bottom, not moving");return}const M=D;D=J.next(D),Gl("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const M=D;D=J.previous(D),Gl("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(D)))}if(J.equals(D,I)){k.preventDefault(),Gl("targetPath and myPath is the same, not moving");return}Gl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),se.moveNodes(i,{at:I,to:D}),i.onChange();return}Gl("No target element, not doing anything")},[i,n]),x=h.useCallback(k=>{z1.get(i)&&(Gl("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),l(!1))},[i,n]),b=h.useCallback(k=>{if(!u){z1.delete(i);return}bC.set(i,!0),z1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(k=>{if(!u||d){Gl("Not dragging block"),z1.delete(i),bC.set(i,!1);return}if(Gl("Drag start"),bC.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,P=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,P)}}b(k)},[f,i,b,d,u]),w=a&&i.children[0]===V1.get(i),_=a&&i.children[i.children.length-1]===V1.get(i),C=H1.get(i),S=w||a&&!w&&!_&&C==="top",E=_||a&&!w&&!_&&C==="bottom",j=h.useMemo(()=>c.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?c.jsx(c.Fragment,{children:t}):c.jsxs("div",{draggable:u,onDragStart:y,onDrag:b,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:x,children:[S&&j,t,E&&j]})};Hr("components:Element");const tFt=[],nFt={display:"inline-block"},rFt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:l,renderStyle:u,spellCheck:d}=e;const f=Vc(),p=bEe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,x=h.useMemo(()=>gr([r],o.block.name,_a.get(f))[0],[f,r,o.block.name]);let b=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=pe.findPath(f,r),[j]=R.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(De.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return c.jsxs("span",{...t,children:[n,c.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:nFt,contentEditable:!1,children:[a&&a({annotations:tFt,children:c.jsx(kC,{value:x}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:x}),!a&&c.jsx(kC,{value:x})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(b=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(x)&&E&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);l&&I?b=l({block:x,children:b,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:x.level||1,editorElementRef:m}):b=c.jsx(q4t,{listStyle:x.listItem||o.lists[0].value,listLevel:x.level||1,children:c.jsx(G4t,{children:b})})}const A=Object.defineProperty({children:b,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:x},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return c.jsx("div",{...t,className:y,spellCheck:d,children:c.jsx(oQ,{element:r,readOnly:i,blockRef:m,children:c.jsx("div",{ref:m,children:D})})},r._key)}const _=o.blockObjects.find(E=>E.name===r._type);if(!_)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const C=gr([r],o.block.name,_a.get(f))[0];let S;if(s){const E=Object.defineProperty({children:c.jsx(kC,{value:x}),editorElementRef:m,focused:g,path:w,schemaType:_,selected:p,value:C},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),_}});S=s(E)}return c.jsxs("div",{...t,className:y,children:[n,c.jsxs(oQ,{element:r,readOnly:i,blockRef:m,children:[S&&c.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&c.jsx(Y4t,{selected:p,children:c.jsx(kC,{value:x})})]})]},r._key)},oFt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function iFt(e){const t=h.useRef(null);return oFt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Kl=Hr("component:Editable"),sFt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},aFt=[],oke=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:l,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:x,scrollSelectionIntoView:b,spellCheck:y,...w}=t,_=po(),C=O4t(),S=lMt(),E=iFt(n),[j,k]=h.useState(!1),{change$:T,schemaTypes:A}=_,D=zT(),I=A.block.name,P=h.useMemo(()=>j4t(T,A,S),[T,S,A]),M=h.useMemo(()=>k4t(A,S,_,r),[r,S,_,A]);h.useMemo(()=>C?(Kl("Editable is in read only mode"),P(D)):(Kl("Editable is in edit mode"),P(M(D))),[C,D,M,P]);const $=h.useCallback(Q=>c.jsx(rFt,{...Q,readOnly:C,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:A,spellCheck:y}),[A,y,C,d,f,m,g]),V=h.useCallback(Q=>{const X=c.jsx(U4t,{...Q,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:C});return v&&Q.leaf.placeholder&&Q.text.text===""?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:sFt,contentEditable:!1,children:v()}),X]}):X},[C,u,f,p,v,A]),L=h.useCallback(()=>{if(x){Kl("Selection from props ".concat(JSON.stringify(x)));const Q=z4t(x,gr(D.children,I));if(Q!==null){Kl("Normalized selection from props ".concat(JSON.stringify(Q)));const X=hS(Q,D);X&&(se.select(D,X),D.operations.some(Z=>Z.type==="set_selection")||T.next({type:"selection",selection:Q}),D.onChange())}}},[x,D,I,T]);h.useEffect(()=>{Kl("Subscribing to editor changes$");const Q=T.subscribe(X=>{switch(X.type){case"ready":L();break;case"invalidValue":k(!0);break;case"value":k(!1);break}});return()=>{Kl("Unsubscribing to changes$"),Q.unsubscribe()}},[T,L]),h.useEffect(()=>{x&&!j&&L()},[j,x,L]);const H=h.useCallback(Q=>{l&&l(Q)!==void 0&&Q.preventDefault()},[l]),U=h.useCallback(Q=>{if(Q.preventDefault(),!!D.selection){if(!a){Kl("Pasting normally"),D.insertData(Q.clipboardData);return}new Promise(X=>{const Z=_e.getValue(_),re=cp(Z,D.selection,A),le=(re==null?void 0:re.focus.path)||[];X(a({event:Q,value:Z,path:le,schemaTypes:A}))}).then(X=>{if(Kl("Custom paste function from client resolved",X),T.next({type:"loading",isLoading:!0}),!X||!X.insert){Kl("No result from custom paste handler, pasting normally"),D.insertData(Q.clipboardData);return}if(X&&X.insert){D.insertFragment(Sc(X.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",X)}).catch(X=>(T.next({type:"loading",isLoading:!1}),console.error(X),X))}},[T,a,_,A,D]),z=h.useCallback(Q=>{if(i&&i(Q),!Q.isDefaultPrevented()){const X=_e.getSelection(_);T.next({type:"focus",event:Q});const Z=_e.getSelection(_);X===Z&&T.next({type:"selection",selection:X})}},[T,_,i]),Y=h.useCallback(Q=>{o&&o(Q),Q.isPropagationStopped()||T.next({type:"blur",event:Q})},[T,o]),te=h.useCallback(Q=>{s&&s(Q)},[s]),N=h.useCallback(()=>{let Q=null;const X=D.selection;try{Q=D.selection&&pe.toDOMRange(D,D.selection)}catch{VE(!0),se.deselect(D),se.select(D,[0,0]),D.onChange(),Kl("Could not resolve selection (".concat(JSON.stringify(X),"), unselecting"))}},[D]);h.useEffect(()=>{const Q=new MutationObserver(N);return E.current&&Q.observe(E.current,{childList:!0,subtree:!0}),()=>{Q.disconnect()}},[N,E]);const G=h.useCallback(Q=>{t.onKeyDown&&t.onKeyDown(Q),Q.isDefaultPrevented()||D.pteWithHotKeys(Q)},[t,D]),q=h.useMemo(()=>{if(b!==void 0)return b===null?V2e:(Q,X)=>{b(_,X)}},[_,b]),K=h.useCallback(()=>zE(D.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:aFt,[A,D]);return h.useEffect(()=>{E.current=pe.toDOMNode(D,D)},[D,E]),_?j?null:c.jsx($$t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:K,onBlur:Y,onCopy:H,onDOMBeforeInput:te,onFocus:z,onKeyDown:G,onPaste:U,readOnly:C,renderPlaceholder:void 0,renderElement:$,renderLeaf:V,scrollSelectionIntoView:q}):null});var lFt=R_e,cFt=$0,iQ=pT;function uFt(e,t,n){var r=e.length;if(r<2)return r?iQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=lFt(i[o]||s,e[a],t,n));return iQ(cFt(i,1),t,n)}var dFt=uFt,fFt=Gwe,hFt=M0,pFt=dFt,mFt=sT,gFt=hFt(function(e){return pFt(fFt(e,mFt))}),vFt=gFt;const yFt=Ie(vFt);function ike(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(bFt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function bFt(e){return typeof e=="object"&&typeof e._key=="string"}class ky extends Error{constructor(t,n,r){const o=ike(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const xFt=/^[a-z0-9][a-z0-9_.-]+$/i,wFt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,_Ft=/^[a-z_]/i;function sQ(e,t,n){if(!_Ft.test(e))throw new ky("Keys must start with a letter (a-z)",n.concat(e),t);if(!wFt.test(e))throw new ky("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new ky("Keys must be strings",n.concat(e),t);if(!xFt.test(t))throw new ky("Invalid key - use less exotic characters",n.concat(e),t)}return e}const CFt=["_id","_type","_createdAt","_updatedAt","_rev"],pM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function SFt(e){return{...pM,...e,diffMatchPatch:{...pM.diffMatchPatch,...e.diffMatchPatch||{}}}}function YT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",l=s==="undefined";if(a&&!l)return o.push({op:"set",path:r,value:t}),o;if(!a&&l)return o.push({op:"unset",path:r}),o;const u=SFt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?kFt(e,t,u,r,o):EFt(e,t,u,r,o):AFt(e,t,u,r,o)}function EFt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?aQ:cQ).map(d=>sQ(d,e[d],r)),a=s.length,l=Object.keys(t).filter(i?aQ:cQ).map(d=>sQ(d,t[d],r)),u=l.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=l[d];YT(e[f],t[f],n,r.concat([f]),o)}return o}function kFt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,u)=>J9(l,r,u,n))}),t.length<e.length){const l=e.length-t.length===1,u=e.slice(t.length);PFt(n)||!OP(u)?o.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new ky("Multi-dimensional arrays not supported",r.concat(l),t[l]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return OP(s)&&OP(a)?jFt(s,a,n,r,o):ske(s,a,n,r,o)}function ske(e,t,n,r,o){for(let i=0;i<e.length;i++)YT(e[i],J9(t[i],r,i,n),n,r.concat(i),o);return o}function jFt(e,t,n,r,o){const i=lQ(e),s=lQ(t);if(!IFt(i.keys,s.keys))return ske(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const l=s.keys[a],u=i.index[l],d=J9(s.index[l],r,a,n);YT(u,d,n,r.concat({_key:l}),o)}return o}function TFt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let l="";try{const u=$w(e,t),d=e9(u);l=QSe(ZSe(d))}catch{return}return l.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:l}}function AFt(e,t,n,r,o){const i=TFt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function aQ(e){return CFt.indexOf(e)===-1}function OP(e){const t=[];for(let n=0;n<e.length;n++){const r=DFt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function DFt(e){return typeof e=="object"&&e!==null&&e._key}function lQ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function IFt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function J9(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=ike(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function PFt(e){return!!e.ifRevisionID}function cQ(e){return!0}var OFt=aT,$Ft=R8,RFt=Object.prototype,MFt=RFt.hasOwnProperty,FFt=$Ft(function(e,t,n){MFt.call(e,n)?e[n].push(t):OFt(e,n,[t])}),LFt=FFt;const e7=Ie(LFt),uQ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,dQ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",$P=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return dQ(n.overflowY,t)||dQ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},jC=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,BFt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},fQ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:$=>$!==u;if(!uQ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;uQ(v)&&f(v);){if(v=BFt(v),v===p){m.push(v);break}v!=null&&v===document.body&&$P(v)&&!$P(document.documentElement)||v!=null&&$P(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,x=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:b,scrollY:y}=window,{height:w,width:_,top:C,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=($=>{const V=window.getComputedStyle($);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?C-k:a==="end"?E+A:C+w/2-k+A,P=l==="center"?j+_/2-D+T:l==="end"?S+T:j-D;const M=[];for(let $=0;$<m.length;$++){const V=m[$],{height:L,width:H,top:U,right:z,bottom:Y,left:te}=V.getBoundingClientRect();if(s==="if-needed"&&C>=0&&j>=0&&E<=x&&S<=g&&C>=U&&E<=Y&&j>=te&&S<=z)return M;const N=getComputedStyle(V),G=parseInt(N.borderLeftWidth,10),q=parseInt(N.borderTopWidth,10),K=parseInt(N.borderRightWidth,10),Q=parseInt(N.borderBottomWidth,10);let X=0,Z=0;const re="offsetWidth"in V?V.offsetWidth-V.clientWidth-G-K:0,le="offsetHeight"in V?V.offsetHeight-V.clientHeight-q-Q:0,he="offsetWidth"in V?V.offsetWidth===0?0:H/V.offsetWidth:0,ie="offsetHeight"in V?V.offsetHeight===0?0:L/V.offsetHeight:0;if(p===V)X=a==="start"?I:a==="end"?I-x:a==="nearest"?jC(y,y+x,x,q,Q,y+I,y+I+w,w):I-x/2,Z=l==="start"?P:l==="center"?P-g/2:l==="end"?P-g:jC(b,b+g,g,G,K,b+P,b+P+_,_),X=Math.max(0,X+y),Z=Math.max(0,Z+b);else{X=a==="start"?I-U-q:a==="end"?I-Y+Q+le:a==="nearest"?jC(U,Y,L,q,Q+le,I,I+w,w):I-(U+L/2)+le/2,Z=l==="start"?P-te-G:l==="center"?P-(te+H/2)+re/2:l==="end"?P-z+K+re:jC(te,z,H,G,K+re,P,P+_,_);const{scrollLeft:ye,scrollTop:Ce}=V;X=ie===0?0:Math.max(0,Math.min(Ce+X/ie,V.scrollHeight-L/ie+le)),Z=he===0?0:Math.max(0,Math.min(ye+Z/he,V.scrollWidth-H/he+re)),I+=Ce-X,P+=ye-Z}M.push({el:V,top:X,left:Z})}return M},NFt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function yx(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(fQ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of fQ(e,NFt(t))){const a=i-n.top+n.bottom,l=s-n.left+n.right;o.scroll({top:a,left:l,behavior:r})}}function zFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function t7(e){return"nodeType"in e}function Ps(e){var t,n;return e?Y0(e)?e:t7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function n7(e){const{Document:t}=Ps(e);return e instanceof t}function zw(e){return Y0(e)?!1:e instanceof Ps(e).HTMLElement}function ake(e){return e instanceof Ps(e).SVGElement}function q0(e){return e?Y0(e)?e.document:t7(e)?n7(e)?e:zw(e)||ake(e)?e.ownerDocument:document:document:document}const Il=qT?h.useLayoutEffect:h.useEffect;function r7(e){const t=h.useRef(e);return Il(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function VFt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function bx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Il(()=>{n.current!==e&&(n.current=e)},t),n}function Vw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function YE(e){const t=r7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function mM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let RP={};function Hw(e,t){return h.useMemo(()=>{if(t)return t;const n=RP[e]==null?0:RP[e]+1;return RP[e]=n,e+"-"+n},[e,t])}function lke(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+e*u)}return i},{...t})}}const gv=lke(1),xx=lke(-1);function HFt(e){return"clientX"in e&&"clientY"in e}function o7(e){if(!e)return!1;const{KeyboardEvent:t}=Ps(e.target);return t&&e instanceof t}function UFt(e){if(!e)return!1;const{TouchEvent:t}=Ps(e.target);return t&&e instanceof t}function gM(e){if(UFt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return HFt(e)?{x:e.clientX,y:e.clientY}:null}const wx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[wx.Translate.toString(e),wx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),hQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function WFt(e){return e.matches(hQ)?e:e.querySelector(hQ)}const YFt={display:"none"};function qFt(e){let{id:t,value:n}=e;return oe.createElement("div",{id:t,style:YFt},n)}function GFt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return oe.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function KFt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const cke=h.createContext(null);function ZFt(e){const t=h.useContext(cke);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function XFt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const QFt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JFt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function e6t(e){let{announcements:t=JFt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=QFt}=e;const{announce:i,announcement:s}=KFt(),a=Hw("DndLiveRegion"),[l,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),ZFt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!l)return null;const d=oe.createElement(oe.Fragment,null,oe.createElement(qFt,{id:r,value:o.draggable}),oe.createElement(GFt,{id:a,announcement:s}));return n?uc.createPortal(d,n):d}var xo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(xo||(xo={}));function qE(){}function pQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function t6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Pl=Object.freeze({x:0,y:0});function uke(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dke(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function n6t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function mQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function fke(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function gQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const r6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=gQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=uke(gQ(l),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(dke)},o6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=mQ(t),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=mQ(l),d=o.reduce((p,m,v)=>p+uke(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(dke)};function i6t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const s6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=i6t(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(n6t)};function a6t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hke(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Pl}function l6t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const c6t=l6t(1);function u6t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function d6t(e,t,n){const r=u6t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const f6t={ignoreTransform:!1};function G0(e,t){t===void 0&&(t=f6t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ps(e).getComputedStyle(e);u&&(n=d6t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function vQ(e){return G0(e,{ignoreTransform:!0})}function h6t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function p6t(e,t){return t===void 0&&(t=Ps(e).getComputedStyle(e)),t.position==="fixed"}function m6t(e,t){t===void 0&&(t=Ps(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function GT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(n7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!zw(o)||ake(o)||n.includes(o))return n;const i=Ps(e).getComputedStyle(o);return o!==e&&m6t(o,i)&&n.push(o),p6t(o,i)?n:r(o.parentNode)}return e?r(e):n}function pke(e){const[t]=GT(e,1);return t??null}function MP(e){return!qT||!e?null:Y0(e)?e:t7(e)?n7(e)||e===q0(e).scrollingElement?window:zw(e)?e:null:null}function mke(e){return Y0(e)?e.scrollX:e.scrollLeft}function gke(e){return Y0(e)?e.scrollY:e.scrollTop}function vM(e){return{x:mke(e),y:gke(e)}}var Fo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Fo||(Fo={}));function vke(e){return!qT||!e?!1:e===document.scrollingElement}function yke(e){const t={x:0,y:0},n=vke(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const g6t={x:.2,y:.2};function v6t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=g6t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=yke(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Fo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&l>=t.bottom-g.height&&(m.y=Fo.Forward,v.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!p&&a>=t.right-g.width?(m.x=Fo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Fo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function y6t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function bke(e){return e.reduce((t,n)=>gv(t,vM(n)),Pl)}function b6t(e){return e.reduce((t,n)=>t+mke(n),0)}function x6t(e){return e.reduce((t,n)=>t+gke(n),0)}function w6t(e,t){if(t===void 0&&(t=G0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);pke(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _6t=[["x",["left","right"],b6t],["y",["top","bottom"],x6t]];let i7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=GT(n),o=bke(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of _6t)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class gb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function C6t(e){const{EventTarget:t}=Ps(e);return e instanceof t?e:q0(e)}function FP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Sa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Sa||(Sa={}));function yQ(e){e.preventDefault()}function S6t(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const xke={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},E6t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class s7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gb(q0(n)),this.windowListeners=new gb(Ps(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sa.Resize,this.handleCancel),this.windowListeners.add(Sa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&w6t(r),n(Pl)}handleKeyDown(t){if(o7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=xke,coordinateGetter:s=E6t,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Pl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=xx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const x=t.code,{isTop:b,isRight:y,isLeft:w,isBottom:_,maxScroll:C,minScroll:S}=yke(g),E=y6t(g),j={x:Math.min(x===Xt.Right?E.right-E.width/2:E.right,Math.max(x===Xt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(x===Xt.Down?E.bottom-E.height/2:E.bottom,Math.max(x===Xt.Down?E.top:E.top+E.height/2,f.y))},k=x===Xt.Right&&!y||x===Xt.Left&&!w,T=x===Xt.Down&&!_||x===Xt.Up&&!b;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=x===Xt.Right&&A<=C.x||x===Xt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=x===Xt.Right?g.scrollLeft-C.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=x===Xt.Down&&A<=C.y||x===Xt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=x===Xt.Down?g.scrollTop-C.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,gv(xx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}s7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=xke,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function bQ(e){return!!(e&&"distance"in e)}function xQ(e){return!!(e&&"delay"in e)}class a7{constructor(t,n,r){var o;r===void 0&&(r=C6t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=q0(s),this.documentListeners=new gb(this.document),this.listeners=new gb(r),this.windowListeners=new gb(Ps(s)),this.initialCoordinates=(o=gM(i))!=null?o:Pl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Sa.Resize,this.handleCancel),this.windowListeners.add(Sa.DragStart,yQ),this.windowListeners.add(Sa.VisibilityChange,this.handleCancel),this.windowListeners.add(Sa.ContextMenu,yQ),this.documentListeners.add(Sa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(bQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Sa.Click,S6t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=gM(t))!=null?n:Pl,u=xx(o,l);if(!r&&a){if(bQ(a)){if(a.tolerance!=null&&FP(u,a.tolerance))return this.handleCancel();if(FP(u,a.distance))return this.handleStart()}return xQ(a)&&FP(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const k6t={move:{name:"pointermove"},end:{name:"pointerup"}};class l7 extends a7{constructor(t){const{event:n}=t,r=q0(n.target);super(t,k6t,r)}}l7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const j6t={move:{name:"mousemove"},end:{name:"mouseup"}};var yM;(function(e){e[e.RightClick=2]="RightClick"})(yM||(yM={}));class T6t extends a7{constructor(t){super(t,j6t,q0(t.event.target))}}T6t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===yM.RightClick?!1:(r==null||r({event:n}),!0)}}];const LP={move:{name:"touchmove"},end:{name:"touchend"}};class A6t extends a7{constructor(t){super(t,LP)}static setup(){return window.addEventListener(LP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(LP.move.name,t)};function t(){}}}A6t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var vb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vb||(vb={}));var GE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(GE||(GE={}));function D6t(e){let{acceleration:t,activator:n=vb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=GE.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=P6t({delta:f,disabled:!i}),[v,g]=VFt(),x=h.useRef({x:0,y:0}),b=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case vb.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case vb.DraggableRect:return o}},[n,o,l]),w=h.useRef(null),_=h.useCallback(()=>{const S=w.current;if(!S)return;const E=x.current.x*b.current.x,j=x.current.y*b.current.y;S.scrollBy(E,j)},[]),C=h.useMemo(()=>a===GE.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){g();return}for(const S of C){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=v6t(S,j,y,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(_,s),x.current=T,b.current=k;return}}x.current={x:0,y:0},b.current={x:0,y:0},g()},[t,_,r,g,i,s,JSON.stringify(y),JSON.stringify(m),v,u,C,d,JSON.stringify(p)])}const I6t={x:{[Fo.Backward]:!1,[Fo.Forward]:!1},y:{[Fo.Backward]:!1,[Fo.Forward]:!1}};function P6t(e){let{delta:t,disabled:n}=e;const r=mM(t);return Vw(o=>{if(n||!r||!o)return I6t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Fo.Backward]:o.x[Fo.Backward]||i.x===-1,[Fo.Forward]:o.x[Fo.Forward]||i.x===1},y:{[Fo.Backward]:o.y[Fo.Backward]||i.y===-1,[Fo.Forward]:o.y[Fo.Forward]||i.y===1}}},[n,t,r])}function O6t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Vw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function $6t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var _x;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(_x||(_x={}));var bM;(function(e){e.Optimized="optimized"})(bM||(bM={}));const wQ=new Map;function R6t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:l,strategy:u}=o,d=h.useRef(e),f=x(),p=bx(f),m=h.useCallback(function(b){b===void 0&&(b=[]),!p.current&&s(y=>y===null?b:y.concat(b.filter(w=>!y.includes(w))))},[p]),v=h.useRef(null),g=Vw(b=>{if(f&&!n)return wQ;if(!b||b===wQ||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const _=w.node.current,C=_?new i7(l(_),_):null;w.rect.current=C,C&&y.set(w.id,C)}return y}return b},[e,i,n,f,l]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function x(){switch(u){case _x.Always:return!1;case _x.BeforeDragging:return n;default:return!n}}}function wke(e,t){return Vw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function M6t(e,t){return wke(e,t)}function F6t(e){let{callback:t,disabled:n}=e;const r=r7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function KT(e){let{callback:t,disabled:n}=e;const r=r7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function L6t(e){return new i7(G0(e),e)}function _Q(e,t,n){t===void 0&&(t=L6t);const[r,o]=h.useReducer(a,null),i=F6t({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=KT({callback:o});return Il(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function B6t(e){const t=wke(e);return hke(e,t)}const CQ=[];function N6t(e){const t=h.useRef(e),n=Vw(r=>e?r&&r!==CQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:GT(e):CQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function z6t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=MP(i.target);s&&n(a=>a?(a.set(s,vM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const u=MP(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,vM(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const u=MP(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>gv(i,s),Pl):bke(e):Pl,[e,t])}function SQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Pl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?xx(e,n.current):Pl}function V6t(e){h.useEffect(()=>{if(!qT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function H6t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function _ke(e){return h.useMemo(()=>e?h6t(e):null,[e])}const BP=[];function U6t(e,t){t===void 0&&(t=G0);const[n]=e,r=_ke(n?Ps(n):null),[o,i]=h.useReducer(a,BP),s=KT({callback:i});return e.length>0&&o===BP&&i(),Il(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(l=>vke(l)?r:new i7(t(l),l)):BP}}function W6t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return zw(t)?t:e}function Y6t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(zw(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=KT({callback:o}),s=h.useCallback(u=>{const d=W6t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,l]=YE(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const q6t=[{sensor:l7,options:{}},{sensor:s7,options:{}}],G6t={current:{}},pS={draggable:{measure:vQ},droppable:{measure:vQ,strategy:_x.WhileDragging,frequency:bM.Optimized},dragOverlay:{measure:G0}};class yb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const K6t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:pS,measureDroppableContainers:qE,windowRect:null,measuringScheduled:!1},Z6t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qE,draggableNodes:new Map,over:null,measureDroppableContainers:qE},ZT=h.createContext(Z6t),Cke=h.createContext(K6t);function X6t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yb}}}function Q6t(e,t){switch(t.type){case xo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case xo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case xo.DragEnd:case xo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new yb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case xo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new yb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case xo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new yb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function J6t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(ZT),i=mM(r),s=mM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!o7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=WFt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function eLt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function tLt(e){return h.useMemo(()=>({draggable:{...pS.draggable,...e==null?void 0:e.draggable},droppable:{...pS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...pS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function nLt(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Il(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=hke(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=pke(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const Ske=h.createContext({...Pl,scaleX:1,scaleY:1});var Rd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Rd||(Rd={}));const rLt=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:d=q6t,collisionDetection:f=s6t,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(Q6t,void 0,X6t),[x,b]=g,[y,w]=XFt(),[_,C]=h.useState(Rd.Uninitialized),S=_===Rd.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=x,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Rn;return E!=null?{id:E,data:(Rn=A==null?void 0:A.data)!=null?Rn:G6t,rect:D}:null},[E,A]),P=h.useRef(null),[M,$]=h.useState(null),[V,L]=h.useState(null),H=bx(v,Object.values(v)),U=Hw("DndDescribedBy",s),z=h.useMemo(()=>T.getEnabled(),[T]),Y=tLt(p),{droppableRects:te,measureDroppableContainers:N,measuringScheduled:G}=R6t(z,{dragging:S,dependencies:[k.x,k.y],config:Y.droppable}),q=O6t(j,E),K=h.useMemo(()=>V?gM(V):null,[V]),Q=ai(),X=M6t(q,Y.draggable.measure);nLt({activeNode:E?j.get(E):null,config:Q.layoutShiftCompensation,initialRect:X,measure:Y.draggable.measure});const Z=_Q(q,Y.draggable.measure,X),re=_Q(q?q.parentElement:null),le=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=T.getNodeFor((n=le.current.over)==null?void 0:n.id),ie=Y6t({measure:Y.dragOverlay.measure}),ye=(r=ie.nodeRef.current)!=null?r:q,Ce=S?(o=ie.rect)!=null?o:Z:null,Ae=!!(ie.nodeRef.current&&ie.rect),xe=B6t(Ae?null:Z),Ze=_ke(ye?Ps(ye):null),rt=N6t(S?he??q:null),at=U6t(rt),nt=eLt(m,{transform:{x:k.x-xe.x,y:k.y-xe.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:Z,containerNodeRect:re,draggingNodeRect:Ce,over:le.current.over,overlayNodeRect:ie.rect,scrollableAncestors:rt,scrollableAncestorRects:at,windowRect:Ze}),Kt=K?gv(K,k):null,Ye=z6t(rt),me=SQ(Ye),Ue=SQ(Ye,[Z]),qe=gv(nt,me),Ne=Ce?c6t(Ce,nt):null,bt=I&&Ne?f({active:I,collisionRect:Ne,droppableRects:te,droppableContainers:z,pointerCoordinates:Kt}):null,Tt=fke(bt,"id"),[St,Zt]=h.useState(null),Oi=Ae?nt:gv(nt,Ue),is=a6t(Oi,(i=St==null?void 0:St.rect)!=null?i:null,Z),$s=h.useCallback((Rn,Rr)=>{let{sensor:Jr,options:ze}=Rr;if(P.current==null)return;const mt=j.get(P.current);if(!mt)return;const Qn=Rn.nativeEvent,vn=new Jr({active:P.current,activeNode:mt,event:Qn,options:ze,context:le,onStart(mo){const ss=P.current;if(ss==null)return;const Rs=j.get(ss);if(!Rs)return;const{onDragStart:Ul}=H.current,qc={active:{id:ss,data:Rs.data,rect:D}};uc.unstable_batchedUpdates(()=>{Ul==null||Ul(qc),C(Rd.Initializing),b({type:xo.DragStart,initialCoordinates:mo,active:ss}),y({type:"onDragStart",event:qc})})},onMove(mo){b({type:xo.DragMove,coordinates:mo})},onEnd:li(xo.DragEnd),onCancel:li(xo.DragCancel)});uc.unstable_batchedUpdates(()=>{$(vn),L(Rn.nativeEvent)});function li(mo){return async function(){const{active:Rs,collisions:Ul,over:qc,scrollAdjustedTranslate:Nm}=le.current;let ph=null;if(Rs&&Nm){const{cancelDrop:mh}=H.current;ph={activatorEvent:Qn,active:Rs,collisions:Ul,delta:Nm,over:qc},mo===xo.DragEnd&&typeof mh=="function"&&await Promise.resolve(mh(ph))&&(mo=xo.DragCancel)}P.current=null,uc.unstable_batchedUpdates(()=>{b({type:mo}),C(Rd.Uninitialized),Zt(null),$(null),L(null);const mh=mo===xo.DragEnd?"onDragEnd":"onDragCancel";if(ph){const g1=H.current[mh];g1==null||g1(ph),y({type:mh,event:ph})}})}}},[j]),Ut=h.useCallback((Rn,Rr)=>(Jr,ze)=>{const mt=Jr.nativeEvent,Qn=j.get(ze);if(P.current!==null||!Qn||mt.dndKit||mt.defaultPrevented)return;const vn={active:Qn};Rn(Jr,Rr.options,vn)===!0&&(mt.dndKit={capturedBy:Rr.sensor},P.current=ze,$s(Jr,Rr))},[j,$s]),Ur=$6t(d,Ut);V6t(d),Il(()=>{Z&&_===Rd.Initializing&&C(Rd.Initialized)},[Z,_]),h.useEffect(()=>{const{onDragMove:Rn}=H.current,{active:Rr,activatorEvent:Jr,collisions:ze,over:mt}=le.current;if(!Rr||!Jr)return;const Qn={active:Rr,activatorEvent:Jr,collisions:ze,delta:{x:qe.x,y:qe.y},over:mt};uc.unstable_batchedUpdates(()=>{Rn==null||Rn(Qn),y({type:"onDragMove",event:Qn})})},[qe.x,qe.y]),h.useEffect(()=>{const{active:Rn,activatorEvent:Rr,collisions:Jr,droppableContainers:ze,scrollAdjustedTranslate:mt}=le.current;if(!Rn||P.current==null||!Rr||!mt)return;const{onDragOver:Qn}=H.current,vn=ze.get(Tt),li=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,mo={active:Rn,activatorEvent:Rr,collisions:Jr,delta:{x:mt.x,y:mt.y},over:li};uc.unstable_batchedUpdates(()=>{Zt(li),Qn==null||Qn(mo),y({type:"onDragOver",event:mo})})},[Tt]),Il(()=>{le.current={activatorEvent:V,active:I,activeNode:q,collisionRect:Ne,collisions:bt,droppableRects:te,draggableNodes:j,draggingNode:ye,draggingNodeRect:Ce,droppableContainers:T,over:St,scrollableAncestors:rt,scrollAdjustedTranslate:qe},D.current={initial:Ce,translated:Ne}},[I,q,bt,Ne,j,ye,Ce,te,T,St,rt,qe]),D6t({...Q,delta:k,draggingRect:Ne,pointerCoordinates:Kt,scrollableAncestors:rt,scrollableAncestorRects:at});const Hl=h.useMemo(()=>({active:I,activeNode:q,activeNodeRect:Z,activatorEvent:V,collisions:bt,containerNodeRect:re,dragOverlay:ie,draggableNodes:j,droppableContainers:T,droppableRects:te,over:St,measureDroppableContainers:N,scrollableAncestors:rt,scrollableAncestorRects:at,measuringConfiguration:Y,measuringScheduled:G,windowRect:Ze}),[I,q,Z,V,bt,re,ie,j,T,te,St,N,rt,at,Y,G,Ze]),rl=h.useMemo(()=>({activatorEvent:V,activators:Ur,active:I,activeNodeRect:Z,ariaDescribedById:{draggable:U},dispatch:b,draggableNodes:j,over:St,measureDroppableContainers:N}),[V,Ur,I,Z,b,U,j,St,N]);return oe.createElement(cke.Provider,{value:w},oe.createElement(ZT.Provider,{value:rl},oe.createElement(Cke.Provider,{value:Hl},oe.createElement(Ske.Provider,{value:is},u)),oe.createElement(J6t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),oe.createElement(e6t,{...a,hiddenTextDescribedById:U}));function ai(){const Rn=(M==null?void 0:M.autoScrollEnabled)===!1,Rr=typeof l=="object"?l.enabled===!1:l===!1,Jr=S&&!Rn&&!Rr;return typeof l=="object"?{...l,enabled:Jr}:{enabled:Jr}}}),oLt=h.createContext(null),EQ="button",iLt="Droppable";function sLt(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Hw(iLt),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(ZT),{role:m=EQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},x=(l==null?void 0:l.id)===t,b=h.useContext(x?Ske:oLt),[y,w]=YE(),[_,C]=YE(),S=H6t(s,t),E=bx(n);Il(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:_,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":x&&m===EQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,x,v,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:x,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:C,transform:b}}function aLt(){return h.useContext(Cke)}const lLt="Droppable",cLt={timeout:25};function uLt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=Hw(lLt),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=h.useContext(ZT),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:x}={...cLt,...o},b=bx(g??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),m.current=null},x)},[x]),w=KT({callback:y,disabled:v||!s}),_=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[C,S]=YE(_),E=bx(t);return h.useEffect(()=>{!w||!C.current||(w.disconnect(),f.current=!1,w.observe(C.current))},[C,w]),Il(()=>(a({type:xo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:C,rect:p,data:E}}),()=>a({type:xo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:xo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:C,over:l,setNodeRef:S}}function Eke(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function dLt(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function TC(e){return e!==null&&e>=0}function fLt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function hLt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const AC={scaleX:1,scaleY:1},pLt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const l=mLt(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...AC}:null}return s>o&&s<=i?{x:-a.width-l,y:0,...AC}:s<o&&s>=i?{x:a.width+l,y:0,...AC}:{x:0,y:0,...AC}};function mLt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const kke=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Eke(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},DC={scaleX:1,scaleY:1},gLt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...DC}:null}const l=vLt(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...DC}:o<n&&o>=s?{x:0,y:a.height+l,...DC}:{x:0,y:0,...DC}};function vLt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const jke="Sortable",Tke=oe.createContext({activeIndex:-1,containerId:jke,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kke,disabled:{draggable:!1,droppable:!1}});function yLt(e){let{children:t,id:n,items:r,strategy:o=kke,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=aLt(),f=Hw(jke,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,x=u?m.indexOf(u.id):-1,b=h.useRef(m),y=!fLt(m,b.current),w=x!==-1&&g===-1||y,_=hLt(i);Il(()=>{y&&v&&d(m)},[y,m,v,d]),h.useEffect(()=>{b.current=m},[m]);const C=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:_,disableTransforms:w,items:m,overIndex:x,useDragOverlay:p,sortedRects:dLt(m,l),strategy:o}),[g,f,_.draggable,_.droppable,w,m,x,l,p,o]);return oe.createElement(Tke.Provider,{value:C},t)}const bLt=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Eke(n,r,o).indexOf(t)},xLt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},wLt={duration:200,easing:"ease"},Ake="transform",_Lt=wx.Transition.toString({property:Ake,duration:0,easing:"linear"}),CLt={roleDescription:"sortable"};function SLt(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Il(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const u=G0(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function Dke(e){let{animateLayoutChanges:t=xLt,attributes:n,disabled:r,data:o,getNewIndex:i=bLt,id:s,strategy:a,resizeObserverConfig:l,transition:u=wLt}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:x,useDragOverlay:b,strategy:y}=h.useContext(Tke),w=ELt(r,m),_=d.indexOf(s),C=h.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...o}),[f,o,_,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=uLt({id:s,data:C,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:M,listeners:$,isDragging:V,over:L,setActivatorNodeRef:H,transform:U}=sLt({id:s,data:C,attributes:{...CLt,...n},disabled:w.draggable}),z=zFt(T,M),Y=!!A,te=Y&&!v&&TC(p)&&TC(x),N=!b&&V,G=N&&te?U:null,K=te?G??(a??y)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:x,index:_}):null,Q=TC(p)&&TC(x)?i({id:s,items:d,activeIndex:p,overIndex:x}):_,X=A==null?void 0:A.id,Z=h.useRef({activeId:X,items:d,newIndex:Q,containerId:f}),re=d!==Z.current.items,le=t({active:A,containerId:f,isDragging:V,isSorting:Y,id:s,index:_,items:d,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:u,wasDragging:Z.current.activeId!=null}),he=SLt({disabled:!le,index:_,node:j,rect:E});return h.useEffect(()=>{Y&&Z.current.newIndex!==Q&&(Z.current.newIndex=Q),f!==Z.current.containerId&&(Z.current.containerId=f),d!==Z.current.items&&(Z.current.items=d)},[Y,Q,f,d]),h.useEffect(()=>{if(X===Z.current.activeId)return;if(X&&!Z.current.activeId){Z.current.activeId=X;return}const ye=setTimeout(()=>{Z.current.activeId=X},50);return()=>clearTimeout(ye)},[X]),{active:A,activeIndex:p,attributes:P,data:C,rect:E,index:_,newIndex:Q,items:d,isOver:k,isSorting:Y,isDragging:V,listeners:$,node:j,overIndex:x,over:L,setNodeRef:z,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:M,transform:he??K,transition:ie()};function ie(){if(he||re&&Z.current.newIndex===_)return _Lt;if(!(N&&!o7(D)||!u)&&(Y||le))return wx.Transition.toString({...u,property:Ake})}}function ELt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function KE(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const kLt=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],jLt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(kLt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&l.push(f);break;case Xt.Up:r.top>p.top&&l.push(f);break;case Xt.Left:r.left>p.left&&l.push(f);break;case Xt.Right:r.left<p.left&&l.push(f);break}});const u=o6t({active:n,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null});let d=fke(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const x=GT(v).some((S,E)=>a[E]!==S),b=Ike(f,p),y=TLt(f,p),w=x||!b?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},_={x:m.left,y:m.top};return w.x&&w.y?_:xx(_,w)}}}};function Ike(e,t){return!KE(e)||!KE(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function TLt(e,t){return!KE(e)||!KE(t)||!Ike(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const ALt=e=>{let{transform:t}=e;return{...t,y:0}},DLt=e=>{let{transform:t}=e;return{...t,x:0}};var ILt=am;function PLt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!ILt(s):n(s,a)))var a=s,l=i}return l}var Pke=PLt;function OLt(e,t){return e<t}var $Lt=OLt,RLt=Pke,MLt=$Lt,FLt=xm;function LLt(e){return e&&e.length?RLt(e,FLt,MLt):void 0}var BLt=LLt;const NLt=Ie(BLt);function zLt(e,t){return e>t}var VLt=zLt,HLt=Pke,ULt=VLt,WLt=xm;function YLt(e){return e&&e.length?HLt(e,WLt,ULt):void 0}var qLt=YLt;const GLt=Ie(qLt);var KLt=Object.defineProperty,ZLt=(e,t,n)=>t in e?KLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IC=(e,t,n)=>(ZLt(e,typeof t!="symbol"?t+"":t,n),n);const XLt=/[0-9]/,QLt=/^[a-zA-Z0-9_]$/,JLt=/^[a-zA-Z_]$/,Oke={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},e8t=Object.keys(Oke);class t8t{constructor(t){IC(this,"source"),IC(this,"i"),IC(this,"length"),IC(this,"tokenizers"),this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(JLt)?r:null):r.match(QLt)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(XLt)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of e8t){const r=Oke[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function n8t(e){return new t8t(e).tokenize()}var r8t=Object.defineProperty,o8t=(e,t,n)=>t in e?r8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NP=(e,t,n)=>(o8t(e,typeof t!="symbol"?t+"":t,n),n);class i8t{constructor(t){NP(this,"tokens"),NP(this,"length"),NP(this,"i"),this.tokens=n8t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function $ke(e){const t=new i8t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function s8t(e){const[t,n]=Rke(e);if(!t)throw new Error("Head cannot be null");return l8t(t,n)}function Rke(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function a8t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function l8t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=Rke(n);return[r,a8t(o,t)]}return[n,t]})}function Mke(e){return vg(e,!1)}function vg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(vg(e.rhs,!1)):"",r="".concat(vg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(Mke(o));const i=r[0];i&&vg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>vg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(vg(e.term,!1))}}var c8t=Object.defineProperty,u8t=(e,t,n)=>t in e?c8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d8t=(e,t,n)=>(u8t(e,typeof t!="symbol"?t+"":t,n),n);class Gs{constructor(t){if(d8t(this,"expr"),!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=zP(r,t);let o="end"in this.expr&&this.expr.end||n();o=zP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return kQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return kQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Gs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return s8t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Gs(n):null,tail:r?new Gs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Gs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[zP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return Mke(this.expr)}static fromPath(t){const n=$ke(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Gs(n)}static attributeReference(t){return new Gs({type:"attribute",name:t})}static indexReference(t){return new Gs({type:"index",value:t})}}function kQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function zP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}var f8t=Object.defineProperty,h8t=(e,t,n)=>t in e?f8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jQ=(e,t,n)=>(h8t(e,typeof t!="symbol"?t+"":t,n),n);class Wg{constructor(t,n){jQ(this,"head"),jQ(this,"tail"),this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=En(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Wg(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Wg(new Gs({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Wg(t.head,t.tail)):[new Wg(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}var p8t=Object.defineProperty,m8t=(e,t,n)=>t in e?p8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VP=(e,t,n)=>(m8t(e,typeof t!="symbol"?t+"":t,n),n);class up{constructor(t,n){VP(this,"active"),VP(this,"recursives"),VP(this,"payload"),this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new up(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Gs({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new up(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new up([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Gs.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Gs.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=$ke(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Wg(null,new Gs(n));return new up(r.descend())}}function mS(e){return e!==null&&typeof e=="object"}var g8t=Object.defineProperty,v8t=(e,t,n)=>t in e?g8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TQ=(e,t,n)=>(v8t(e,typeof t!="symbol"?t+"":t,n),n);class ZE{constructor(t,n){TQ(this,"_value"),TQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new ZE(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return mS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return mS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!mS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new ZE(this._value[t],this.path.concat(t)):null}get(){return this._value}}function y8t(e,t){const n=[],r=up.fromPath(e).setPayload(function(s){n.push(...s)}),o=new ZE(t);return Fke(r,o),n}function Fke(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{AQ(o.target,t).forEach(i=>{Fke(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(AQ(o,t))})}function AQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return _T(n)}function b8t(e,t){return y8t(e,t).map(r=>({path:r.path,value:r.get()}))}const x8t=/^[a-z_$]+/;function Lke(e){let t="";return e.forEach((n,r)=>{t+=w8t(n,r===0)}),t}function w8t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(mS(e)){const n=e;return Object.keys(e).map(r=>_8t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&x8t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function _8t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}var C8t=Object.defineProperty,S8t=(e,t,n)=>t in e?C8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HP=(e,t,n)=>(S8t(e,typeof t!="symbol"?t+"":t,n),n);class Bke{constructor(t,n,r){HP(this,"id"),HP(this,"path"),HP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var E8t=Object.defineProperty,k8t=(e,t,n)=>t in e?E8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UP=(e,t,n)=>(k8t(e,typeof t!="symbol"?t+"":t,n),n);function DQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class IQ{constructor(t,n,r){UP(this,"path"),UP(this,"value"),UP(this,"id"),this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,DQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),DQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function XT(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}var j8t=Object.defineProperty,T8t=(e,t,n)=>t in e?j8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PC=(e,t,n)=>(T8t(e,typeof t!="symbol"?t+"":t,n),n);class A8t{constructor(t,n,r,o){PC(this,"location"),PC(this,"path"),PC(this,"items"),PC(this,"id"),this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=D8t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=I8t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=XT(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function D8t(e,t){let n=NLt(XT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function I8t(e,t){let n=GLt(XT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}var P8t=Object.defineProperty,O8t=(e,t,n)=>t in e?P8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WP=(e,t,n)=>(O8t(e,typeof t!="symbol"?t+"":t,n),n);class Nke{constructor(t,n,r){WP(this,"id"),WP(this,"path"),WP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var $8t=Object.defineProperty,R8t=(e,t,n)=>t in e?$8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YP=(e,t,n)=>(R8t(e,typeof t!="symbol"?t+"":t,n),n);class M8t{constructor(t,n){YP(this,"id"),YP(this,"path"),YP(this,"value"),this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(XT(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}var F8t=Object.defineProperty,L8t=(e,t,n)=>t in e?F8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qP=(e,t,n)=>(L8t(e,typeof t!="symbol"?t+"":t,n),n);function PQ(e,t){if(typeof t!="string")return t;const[n]=XSe(e,t,{allowExceedingIndices:!0});return n}class B8t{constructor(t,n,r){qP(this,"path"),qP(this,"dmpPatch"),qP(this,"id"),this.id=t,this.path=n,this.dmpPatch=JSe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),l=PQ(this.dmpPatch,a);r=r.setIndex(i,l)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=PQ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function zke(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(zke(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:l}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new Nke(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new Bke(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new M8t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new B8t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new IQ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new IQ(e.id,u,-a[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new A8t(e.id,u,d,f.items))}return t}var N8t=Object.defineProperty,z8t=(e,t,n)=>t in e?N8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OQ=(e,t,n)=>(z8t(e,typeof t!="symbol"?t+"":t,n),n);class rc{constructor(t,n){OQ(this,"_value"),OQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new rc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return U1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return U1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!U1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new rc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new rc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new rc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new rc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new rc(r,this.path)}setAttribute(t,n){if(!U1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new rc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!U1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new rc(n,this.path)}}function U1(e){return e!==null&&typeof e=="object"}var V8t=Object.defineProperty,H8t=(e,t,n)=>t in e?V8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U8t=(e,t,n)=>(H8t(e,typeof t!="symbol"?t+"":t,n),n);let W8t=class{constructor(t){U8t(this,"patches"),this.patches=zke(t)}apply(t){const n=new rc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=up.fromPath(i.path).setPayload(i);n=xM(s,n)}return n}};function xM(e,t){const n=e.payload instanceof Bke||e.payload instanceof Nke;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const l=r.getIndex(a);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,xM(s.matcher,l))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const l=xM(s.matcher,a);a!==l&&(r=r.setAttributeAccessor(s.target.name(),l))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&Y8t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function Y8t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const q8t=sd,Lt=_s("mutator-document");var G8t=Object.defineProperty,K8t=(e,t,n)=>t in e?G8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GP=(e,t,n)=>(K8t(e,typeof t!="symbol"?t+"":t,n),n);class Ec{constructor(t){GP(this,"params"),GP(this,"compiled"),GP(this,"_appliesToMissingDocument"),this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=q8t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new W8t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Lt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Lt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Ec({mutations:r})}}var Z8t=Object.defineProperty,X8t=(e,t,n)=>t in e?Z8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,il=(e,t,n)=>(X8t(e,typeof t!="symbol"?t+"":t,n),n);let Q8t=class{constructor(t){il(this,"incoming",[]),il(this,"submitted",[]),il(this,"pending",[]),il(this,"HEAD"),il(this,"EDGE"),il(this,"onRebase"),il(this,"onMutation"),il(this,"onConsistencyChanged"),il(this,"onRemoteMutation"),il(this,"inconsistentAt",null),il(this,"lastStagedAt",null),this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Lt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Lt.enabled&&Lt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Lt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Lt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Lt.enabled&&(Lt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Lt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Lt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Lt("needRebase === %s",n)),n}return Lt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Lt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Lt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Lt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Lt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Ec.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Yt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};var J8t=Object.defineProperty,e9t=(e,t,n)=>t in e?J8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t,n)=>(e9t(e,typeof t!="symbol"?t+"":t,n),n);class OC{constructor(t){Qm(this,"BASIS"),Qm(this,"PRESTAGE"),Qm(this,"setOperations"),Qm(this,"documentPresent"),Qm(this,"out",[]),Qm(this,"staged"),t?Lt("Reset mutation buffer to rev %s",t._rev):Lt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Lt("Purged mutation buffer"),n=new Ec({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Lt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Lt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=b8t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=QSe(ZSe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=Lke(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Ec({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Ec({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var t9t=Object.defineProperty,n9t=(e,t,n)=>t in e?t9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pi=(e,t,n)=>(n9t(e,typeof t!="symbol"?t+"":t,n),n);const r9t=1e3*60;class o9t{constructor(t,n){let{resolve:r,reject:o}=n;pi(this,"mutations"),pi(this,"tries"),pi(this,"resolve"),pi(this,"reject"),this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Ec.applyAll(t,this.mutations)}squash(t){const n=Ec.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const $Q=(e,t)=>e.concat(t.mutations);class i9t{constructor(t){pi(this,"mutations"),pi(this,"document"),pi(this,"LOCAL"),pi(this,"commits"),pi(this,"buffer"),pi(this,"onMutation"),pi(this,"onRemoteMutation"),pi(this,"onRebase"),pi(this,"onDelete"),pi(this,"onConsistencyChanged"),pi(this,"commitHandler"),pi(this,"committerRunning",!1),this.buffer=new OC(t),this.document=new Q8t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Lt("Document state reset to revision %s",t._rev):Lt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Lt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Lt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Lt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Lt("Committing local changes");const r=this.buffer.purge();this.commits.push(new o9t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new OC(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Lt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Lt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,r9t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new OC(this.LOCAL),this.committerRunning=!1}};Lt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Lt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Lt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new OC(this.LOCAL),this.onMutation&&this.onMutation(t);return}Lt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Lt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Yt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce($Q,[]),n.reduce($Q,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var Vke={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,l,u,d;return o=this._getShortAt(r),l=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[l]*i<=4?u=this._getTagValue(r+8,l,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,i)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,l;for(l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(i);return l}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(xs)})(Vke);var s9t=Vke.ExifReader,a9t=function(e){var t=new s9t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[l9t(o)]=n[o].description;return r};function l9t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const c9t=Ie(a9t);var u9t=nh,d9t=eh,f9t=th;function h9t(e){return function(t,n,r){var o=Object(t);if(!d9t(t)){var i=u9t(n);t=f9t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var p9t=h9t,m9t=p9t,g9t=EEe,v9t=m9t(g9t),y9t=v9t;const Hke=Ie(y9t);var b9t=Math.ceil,x9t=Math.max;function w9t(e,t,n,r){for(var o=-1,i=x9t(b9t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var _9t=w9t,C9t=_9t,S9t=QL,KP=SEe;function E9t(e){return function(t,n,r){return r&&typeof r!="number"&&S9t(t,n,r)&&(n=r=void 0),t=KP(t),n===void 0?(n=t,t=0):n=KP(n),r=r===void 0?t<n?1:-1:KP(r),C9t(t,n,r,e)}}var k9t=E9t,j9t=k9t,T9t=j9t(),A9t=T9t;const c7=Ie(A9t);var Uke={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],o={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},i={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},s={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,x){var b="-",y="",w="",_=!0,C={},S,E,j,k,T,A,D,I,P,M,$,V,L,H,U="";if(typeof g!="string")return"";if(typeof x=="string"&&(b=x),D=s.en,I=i.en,typeof x=="object"){S=x.maintainCase||!1,C=x.custom&&typeof x.custom=="object"?x.custom:C,j=+x.truncate>1&&x.truncate||!1,k=x.uric||!1,T=x.uricNoSlash||!1,A=x.mark||!1,_=!(x.symbols===!1||x.lang===!1),b=x.separator||b,k&&(U+=a),T&&(U+=l),A&&(U+=u),D=x.lang&&s[x.lang]&&_?s[x.lang]:_?s.en:{},I=x.lang&&i[x.lang]?i[x.lang]:x.lang===!1||x.lang===!0?{}:i.en,x.titleCase&&typeof x.titleCase.length=="number"&&Array.prototype.toString.call(x.titleCase)?(x.titleCase.forEach(function(z){C[z+""]=z+""}),E=!0):E=!!x.titleCase,x.custom&&typeof x.custom.length=="number"&&Array.prototype.toString.call(x.custom)&&x.custom.forEach(function(z){C[z+""]=z+""}),Object.keys(C).forEach(function(z){var Y;z.length>1?Y=new RegExp("\\b"+p(z)+"\\b","gi"):Y=new RegExp(p(z),"gi"),g=g.replace(Y,C[z])});for($ in C)U+=$}for(U+=b,U=p(U),g=g.replace(/(^\s+|\s+$)/g,""),L=!1,H=!1,M=0,V=g.length;M<V;M++)$=g[M],m($,C)?L=!1:I[$]?($=L&&I[$].match(/[A-Za-z0-9]/)?" "+I[$]:I[$],L=!1):$ in n?(M+1<V&&r.indexOf(g[M+1])>=0?(w+=$,$=""):H===!0?($=o[w]+n[$],w=""):$=L&&n[$].match(/[A-Za-z0-9]/)?" "+n[$]:n[$],L=!1,H=!1):$ in o?(w+=$,$="",M===V-1&&($=o[w]),H=!0):D[$]&&!(k&&a.indexOf($)!==-1)&&!(T&&l.indexOf($)!==-1)?($=L||y.substr(-1).match(/[A-Za-z0-9]/)?b+D[$]:D[$],$+=g[M+1]!==void 0&&g[M+1].match(/[A-Za-z0-9]/)?b:"",L=!0):(H===!0?($=o[w]+$,w="",H=!1):L&&(/[A-Za-z0-9]/.test($)||y.substr(-1).match(/A-Za-z0-9]/))&&($=" "+$),L=!1),y+=$.replace(new RegExp("[^\\w\\s"+U+"_-]","g"),b);return E&&(y=y.replace(/(\w)(\S*)/g,function(z,Y,te){var N=Y.toUpperCase()+(te!==null?te:"");return Object.keys(C).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),j&&y.length>j&&(P=y.charAt(j)===b,y=y.slice(0,j),P||(y=y.slice(0,y.lastIndexOf(b)))),!S&&!E&&(y=y.toLowerCase()),y},f=function(g){return function(b){return d(b,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var x in g)if(g[x]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(xs)})(Uke);var D9t=Uke.exports,I9t=D9t;const Wke=Ie(I9t);var P9t=M0,O9t=QL;function $9t(e){return P9t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&O9t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var R9t=$9t,M9t=L0,F9t=R9t,L9t=th,B9t=F9t(function(e,t,n,r){M9t(t,L9t(t),e,r)}),N9t=B9t;const z9t=Ie(N9t);var V9t=Fc;function H9t(e,t){return V9t(t,function(n){return e[n]})}var U9t=H9t,W9t=U9t,Y9t=th;function q9t(e){return e==null?[]:W9t(e,Y9t(e))}var Yke=q9t;const G9t=Ie(Yke);var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.SKIP=Gke;var qke=Xp.reduce=Kke;Xp.withCustomPathSegment=Xp.SKIP_MARKER=void 0;function u7(e,t){return X9t(e)||Z9t(e,t)||K9t()}function K9t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Z9t(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function X9t(e){if(Array.isArray(e))return e}function gS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gS=function(n){return typeof n}:gS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gS(e)}function QT(e,t,n){return t}function Q9t(e){return Array.isArray(e)?"array":e===null?"null":gS(e)}var d7={_:"SKIP_MARKER"};Xp.SKIP_MARKER=d7;function Gke(e){return[d7,e]}function f7(e,t,n,r){var o=t(e,n,r);return o===Gke?[!0,e]:Array.isArray(o)&&o[0]===d7?[!0,o[1]]:[!1,o]}function J9t(e,t,n,r){var o=f7(e,t,n,r),i=u7(o,2),s=i[1];return s}function e7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=f7(e,t,n,r),s=u7(i,2),a=s[0],l=s[1];return a?l:Object.keys(n).reduce(function(u,d){return h7(u,t,n[d],r.concat(o(n[d],d,n)),o)},l)}function t7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=f7(e,t,n,r),s=u7(i,2),a=s[0],l=s[1];return a?l:n.reduce(function(u,d,f){return h7(u,t,d,r.concat(o(d,f,n)),o)},l)}function h7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=Q9t(n);return i==="object"?e7t(e,t,n,r,o):i==="array"?t7t(e,t,n,r,o):J9t(e,t,n,r)}function Kke(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:QT;return h7(n,t,e,[],r)}var n7t=function(t){return function(n,r,o){return Kke(n,r,o,t)}};Xp.withCustomPathSegment=n7t;function Zke(e){return t=>jo(()=>{const n=new Tr;return t.pipe(Bwe(()=>n,{leading:!0,trailing:!0}),$we((r,o)=>_we(e(r,o),Dc).pipe(Rwe(()=>{n.next()}))))})}var r7t=Object.defineProperty,o7t=(e,t,n)=>t in e?r7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RQ=(e,t,n)=>(o7t(e,typeof t!="symbol"?t+"":t,n),n);function i7t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s7t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(i7t(n));return new RegExp("^".concat(t.join("."),"$"))}class Xke{constructor(t){RQ(this,"pattern"),RQ(this,"patternRe"),this.pattern=t,this.patternRe=s7t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var a7t=Object.defineProperty,l7t=(e,t,n)=>t in e?a7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W1=(e,t,n)=>(l7t(e,typeof t!="symbol"?t+"":t,n),n);class Zd{constructor(t){W1(this,"type","stream"),W1(this,"generator"),W1(this,"ticker"),W1(this,"isDone"),W1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const c7t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function u7t(e){return c7t.test(e)?new Date(e):null}function d7t(e){const t=Eh(e.getUTCFullYear(),4),n=Eh(e.getUTCMonth()+1,2),r=Eh(e.getUTCDate(),2),o=Eh(e.getUTCHours(),2),i=Eh(e.getUTCMinutes(),2),s=Eh(e.getUTCSeconds(),2);let a="";const l=e.getMilliseconds();return l!=0&&(a=".".concat(Eh(l,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Eh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var f7t=Object.defineProperty,h7t=(e,t,n)=>t in e?f7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wM=(e,t,n)=>(h7t(e,typeof t!="symbol"?t+"":t,n),n);class ud{constructor(t,n){wM(this,"data"),wM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield rr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Pe=new ud(null,"null"),$o=new ud(!0,"boolean"),io=new ud(!1,"boolean");class Zv{constructor(t){wM(this,"date"),this.date=t}static parseToValue(t){const n=u7t(t);return n?new ud(new Zv(n),"datetime"):Pe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Zv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return d7t(this.date)}toJSON(){return this.toString()}}function Fa(e){return Number.isFinite(e)?new ud(e,"number"):Pe}function La(e){return new ud(e,"string")}function _M(e){return new ud(e,"datetime")}function p7t(e){return new ud(e,"path")}function m7t(e){return e&&typeof e.next=="function"}function rr(e){return m7t(e)?new Zd(async function*(){for await(const t of e)yield rr(t)}):e==null?Pe:new ud(e,Xv(e))}function Xv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof Xke?"path":e instanceof Zv?"datetime":typeof e}function ZP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const g7t=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,v7t=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,Qke=/(\b\.+|\.+\b)/g,y7t=1024;function b7t(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function Jke(e){return e.replace(Qke,"").match(g7t)||[]}function x7t(e){return eje(e).map(n=>r=>r.some(o=>n.test(o)))}function eje(e){return(e.replace(Qke,"").match(v7t)||[]).map(n=>new RegExp("^".concat(n.slice(0,y7t).replace(/\*/g,".*"),"$"),"i"))}async function XE(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const MQ={datetime:1,number:2,string:3,boolean:4};function dp(e,t){const n=Xv(e),r=Xv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function w7t(e,t){const n=Xv(e),r=Xv(t),o=MQ[n]||100,i=MQ[r]||100;if(o!==i)return o-i;let s=dp(e,t);return s===null&&(s=0),s}const _7t={"==":function(t,n){return ZP(t,n)?$o:io},"!=":function(t,n){return ZP(t,n)?io:$o},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=dp(t.data,n.data);return r===null?Pe:r>0?$o:io},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=dp(t.data,n.data);return r===null?Pe:r>=0?$o:io},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=dp(t.data,n.data);return r===null?Pe:r<0?$o:io},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=dp(t.data,n.data);return r===null?Pe:r<=0?$o:io},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Pe:n.data.matches(t.data)?$o:io;if(n.isArray()){for await(const r of n)if(ZP(t,r))return $o;return io}return Pe},match:async function(t,n){let r=[],o=[];return await XE(t,a=>{r=r.concat(Jke(a))}),await XE(n,a=>{o=o.concat(x7t(a))})&&b7t(r,o)?$o:io},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?_M(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Fa(t.data+n.data):t.type==="string"&&n.type==="string"?La(t.data+n.data):t.type==="object"&&n.type==="object"?rr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?rr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Zd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Pe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?_M(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Fa(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Fa(t.data-n.data):Pe},"*":$C((e,t)=>e*t),"/":$C((e,t)=>e/t),"%":$C((e,t)=>e%t),"**":$C((e,t)=>Math.pow(e,t))};function $C(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Fa(r)}return Pe}}var C7t=Object.defineProperty,S7t=(e,t,n)=>t in e?C7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jm=(e,t,n)=>(S7t(e,typeof t!="symbol"?t+"":t,n),n);class Cx{constructor(t,n,r,o,i){Jm(this,"params"),Jm(this,"source"),Jm(this,"value"),Jm(this,"parent"),Jm(this,"context"),Jm(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new Cx(this.params,this.source,t,this.context,this.parent):new Cx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function p7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p7;const r=E7t[e.type];return r(e,t,n)}function FQ(e,t){return"then"in e?e.then(t):t(e)}const E7t={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return rr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Pe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Pe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=_7t[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),l=n(i,t);return"then"in a||"then"in l?(async()=>s(await a,await l))():s(a,l)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Pe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),l=await n(o,t),u=await n(i,t),d=dp(await a.get(),await l.get());if(d===null)return Pe;const f=dp(await a.get(),await u.get());return f===null?Pe:s?d>=0&&f<=0?$o:io:d>=0&&f<0?$o:io},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Zd(async function*(){for await(const s of i){const a=t.createNested(s),l=await n(o,a);l.type==="boolean"&&l.data===!0&&(yield s)}}):Pe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Pe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?rr(i.data[o]):Pe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Pe;const s=await i.get(),a=o<0?o+s.length:o;return rr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Pe;const l=await a.get();let u=o,d=i;return u<0&&(u=l.length+u),d<0&&(d=l.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),rr(l.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Pe;const i=o.data._ref;if(typeof i!="string")return Pe;if(t.context.dereference)return rr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Pe},Value(e){let{value:t}=e;return rr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const l=await n(i.value,t);l.type==="object"&&Object.assign(o,l.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return rr(o)},Array(e,t,n){let{elements:r}=e;return new Zd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?$o:i.type!=="boolean"||s.type!=="boolean"?Pe:io},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?io:i.type!=="boolean"||s.type!=="boolean"?Pe:$o},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Pe:o.data?io:$o},Neg(e,t,n){let{base:r}=e;return FQ(n(r,t),o=>o.type!=="number"?Pe:Fa(-o.data))},Pos(e,t,n){let{base:r}=e;return FQ(n(r,t),o=>o.type!=="number"?Pe:Fa(o.data))},Asc(){return Pe},Desc(){return Pe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Pe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Zd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Pe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Zd(async function*(){for await(const s of i){const a=t.createHidden(s),l=await n(o,a);if(l.isArray())for await(const u of l)yield u;else yield l}}):Pe}};function tje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=rr(t.root),r=rr(t.dataset),o={...t.params},i=new Cx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?rr(t.after):null,before:t.before?rr(t.before):null,dereference:t.dereference},null);return p7(e,i)}function jy(e){switch(e.type){case"Group":return jy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return jy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return jy(e.left)&&jy(e.right);default:return!1}default:return!1}}const k7t=new Cx({},Pe,Pe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function XP(e){return jy(e)?nje(e):null}function nje(e){const t=p7(e,k7t,nje);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function j7t(e){if(e.type==="object")return oje(e.data);if(e.isArray()){const t=await rje(e);if(t.length>0)return t.join(`

`)}return null}async function rje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=oje(n.data);r!==null&&t.push(r)}else n.isArray()&&await rje(n,t);return t}function oje(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const LQ=1.2;async function yg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return T7t(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await yg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await yg(e.left,t,n),o=await yg(e.right,t,n);return r+o}case"And":{const r=await yg(e.left,t,n),o=await yg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function T7t(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await XE(o,d=>{s=s.concat(Jke(d))}),!await XE(i,d=>{a=a.concat(eje(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(LQ+1)/(f+LQ)}return u}function CM(e,t){switch(Xv(e)){case"array":for(const n of e)if(CM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(CM(n,t))return!0;break}return!1}function A7t(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const $n={};$n.anywhere=async function(){throw new Error("not implemented")};$n.anywhere.arity=1;$n.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Pe};$n.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Pe;let i=0;for await(const s of o)i++;return Fa(i)};$n.count.arity=1;$n.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Pe:Zv.parseToValue(o.data)};$n.dateTime.arity=1;$n.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?io:$o};$n.defined.arity=1;$n.identity=async function(t,n){return La(n.context.identity)};$n.identity.arity=0;$n.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Fa(A7t(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Fa(i)}return Pe};$n.length.arity=1;$n.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Pe:p7t(new Xke(o.data))};$n.path.arity=1;$n.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return La("".concat(o.data));default:return Pe}};$n.string.arity=1;$n.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&o.add(l.data)}if(o.size===0)return io;const i=await n.value.get();return CM(i,o)?$o:io};$n.references.arity=e=>e>=1;$n.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Pe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Pe;s=a.data}return s===0?i<0?Fa(-Math.round(-i)):Fa(Math.round(i)):Fa(Number(i.toFixed(s)))};$n.round.arity=e=>e>=1&&e<=2;$n.now=async function(t,n){return La(n.context.timestamp.toISOString())};$n.now.arity=0;$n.boost=async function(){throw new Error("unexpected boost call")};$n.boost.arity=2;const Ll={};Ll.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:La(r.data.toLowerCase())};Ll.lower.arity=1;Ll.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:La(r.data.toUpperCase())};Ll.upper.arity=1;Ll.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.length===0?rr([]):o.data.length===0?rr(Array.from(r.data)):rr(r.data.split(o.data))};Ll.split.arity=2;$n.lower=Ll.lower;$n.upper=Ll.upper;Ll.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.startsWith(o.data)?$o:io};Ll.startsWith.arity=2;const jm={};jm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;const o=await n(e[1],t);if(o.type!=="string")return Pe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Pe}s=!0}return rr(i)};jm.join.arity=2;jm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Zd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Pe};jm.compact.arity=1;jm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Zd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Pe};jm.unique.arity=1;const m7={};m7.text=async function(e,t,n){const r=await n(e[0],t),o=await j7t(r);return o===null?Pe:La(o)};m7.text.arity=1;const g7={};g7.projectId=async function(e,t){return t.context.sanity?La(t.context.sanity.projectId):Pe};g7.dataset=async function(e,t){return t.context.sanity?La(t.context.sanity.dataset):Pe};const Uw={};Uw.order=async function(t,n,r,o){if(await!0,!t.isArray())return Pe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const l=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}l.push(p),u++}return l.sort((d,f)=>{for(let p=0;p<a;p++){let m=w7t(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),rr(l.map(d=>d[0]))};Uw.order.arity=e=>e>=1;Uw.score=async function(t,n,r,o){if(!t.isArray())return Pe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const l=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await yg(f,l,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,l)=>l._score-a._score),rr(s)};Uw.score.arity=e=>e>=1;const sh={};sh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?La("update"):r?La("create"):n?La("delete"):Pe};sh.changedAny=()=>{throw new Error("not implemented")};sh.changedAny.arity=1;sh.changedAny.mode="delta";sh.changedOnly=()=>{throw new Error("not implemented")};sh.changedOnly.arity=1;sh.changedOnly.mode="delta";const Ww={};Ww.changedAny=()=>{throw new Error("not implemented")};Ww.changedAny.arity=3;Ww.changedOnly=()=>{throw new Error("not implemented")};Ww.changedOnly.arity=3;const dd={};dd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data<o)&&(o=i.data)}return rr(o)};dd.min.arity=1;dd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data>o)&&(o=i.data)}return rr(o)};dd.max.arity=1;dd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;o+=i.data}return rr(o)};dd.sum.arity=1;dd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Pe;o+=s.data,i++}return i===0?Pe:rr(o/i)};dd.avg.arity=1;const v7={};v7.now=async function(t,n,r){return _M(new Zv(n.context.timestamp))};v7.now.arity=0;const D7t={global:$n,string:Ll,array:jm,pt:m7,delta:sh,diff:Ww,sanity:g7,math:dd,dateTime:v7};var I7t=Object.defineProperty,P7t=(e,t,n)=>t in e?I7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y1=(e,t,n)=>(P7t(e,typeof t!="symbol"?t+"":t,n),n);class O7t{constructor(t,n,r){Y1(this,"string"),Y1(this,"marks"),Y1(this,"index"),Y1(this,"parseOptions"),Y1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const $7t=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,QP=/^\d+/,fp=/^[a-zA-Z_][a-zA-Z_0-9]*/,RC=1,MC=2,FC=3,eo=4,eg=4,LC=6,BC=6,NC=7,zC=7,VC=7,HC=8,R7t=10,M7t=10,F7t=8;function L7t(e){let t=0;t=Xe(e,t);let n=An(e,t,0);return n.type==="error"?n:(t=Xe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function An(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=An(e,Xe(e,t+1),R7t);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=An(e,Xe(e,t+1),F7t);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=An(e,Xe(e,t+1),0);if(u.type==="error")return u;switch(t=Xe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Xe(e,t+1);;){if(u=An(e,t,0),u.type==="error")return u;if(t=Xe(e,u.position),e[t]!==",")break;t=Xe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=An(e,Xe(e,t+1),M7t);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=SM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Xe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Xe(e,t+3));let u=An(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Xe(e,t),e[t]!==","||(t=Xe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=B7t(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=ac(e,t+1,fp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=ac(e,t,QP);if(u){t+=u;let f="integer";if(e[t]==="."){let p=ac(e,t+1,QP);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=ac(e,t,QP);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=ac(e,t,fp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=NQ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Xe(e,t);if(u===e.length){t=u;break}if(a=BQ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=BQ(e,Xe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>RC||s<=RC)break e;let p=An(e,Xe(e,u+2),RC);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=RC;break}case"=":{if(n>eo||s<=eo)break e;let p=An(e,Xe(e,u+2),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=eo;break}default:break e}break}case"+":{if(n>LC||s<LC)break e;let f=An(e,Xe(e,u+1),LC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=LC;break}case"-":{if(n>BC||s<BC)break e;let f=An(e,Xe(e,u+1),BC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=BC;break}case"*":{if(e[u+1]==="*"){if(n>HC||s<=HC)break e;let p=An(e,Xe(e,u+2),HC);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=HC;break}if(n>NC||s<NC)break e;let f=An(e,Xe(e,u+1),NC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=NC;break}case"/":{if(n>zC||s<zC)break e;let f=An(e,Xe(e,u+1),zC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=zC;break}case"%":{if(n>VC||s<VC)break e;let f=An(e,Xe(e,u+1),VC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=VC;break}case"<":case">":{if(n>eo||s<=eo)break e;let f=u+1;e[f]==="="&&f++;let p=An(e,Xe(e,f),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=eo;break}case"|":{if(e[u+1]==="|"){if(n>MC||s<MC)break e;let f=An(e,Xe(e,u+2),MC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=MC}else{if(n>11||s<11)break e;let f=Xe(e,u+1),p=ac(e,f,fp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=NQ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>FC||s<FC)break e;let f=An(e,Xe(e,u+2),FC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=FC;break}case"!":{if(e[u+1]!=="="||n>eo||s<=eo)break e;let f=An(e,Xe(e,u+2),eo+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=eo;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>eg||s<eg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=eg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>eg||s<eg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=eg;break}default:switch(N7t(e,u,fp)){case"in":{if(n>eo||s<=eo)break e;t=Xe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Xe(e,t+1));let m=t,v=An(e,t,eo+1);if(v.type==="error")return v;if(t=Xe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Xe(e,t+3)):t=Xe(e,t+2);let x=An(e,t,eo+1);if(x.type==="error")return x;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,x.marks),t=x.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Xe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=eo;break}case"match":{if(n>eo||s<=eo)break e;let p=An(e,Xe(e,u+5),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let l=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:l}}function BQ(e,t){let n=t;switch(e[t]){case".":{t=Xe(e,t+1);let s=t,a=ac(e,t,fp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Xe(e,t),i=ac(e,o,fp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Xe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=An(e,t,0);if(a.type==="error")return a;if(t=Xe(e,a.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=Xe(e,t);let u=An(e,t,0);return u.type==="error"?u:(t=Xe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Xe(e,t+1),e[t]==="{"){let s=SM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=SM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function NQ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Xe(e,n+2);let i=ac(e,n,fp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Xe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Xe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Xe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=An(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Xe(e,i.position),e[n]!==","||(n=Xe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function SM(e,t){let n=[{name:"object",position:t}];for(t=Xe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Xe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=An(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=An(e,t,0);if(o.type==="error")return o;let i=Xe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=An(e,Xe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Xe(e,t),e[t]!==",")break;t=Xe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function B7t(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Xe(e,t){return t+ac(e,t,$7t)}function ac(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function N7t(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Oa(e,t){return n=>t(e(n))}function EM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function z7t(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function vS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Oa(e,t.build)};case"a-b":return{type:"a-b",build:Oa(e,t.build)};case"b-b":return{type:"a-a",build:Oa(e,EM(t.build))};case"b-a":return{type:"a-a",build:Oa(e,z7t(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function JP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Oa(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function V7t(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Oa(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function H7t(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Oa(EM(e),t.build)};case"a-b":return{type:"a-b",build:Oa(EM(e),t.build)};case"b-a":return{type:"b-a",build:Oa(e,t.build)};case"b-b":return{type:"b-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var U7t=Object.defineProperty,W7t=(e,t,n)=>t in e?U7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kM=(e,t,n)=>(W7t(e,typeof t!="symbol"?t+"":t,n),n);const Y7t={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function q7t(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Li extends Error{constructor(){super(...arguments),kM(this,"name","GroqQueryError")}}const it={group(e){return{type:"Group",base:e.process(it)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(it).n+1}},traverse(e){const t=e.process(it),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(ije));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=vS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(it)}},pos(e){return{type:"Pos",base:e.process(it)}},add(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(it),n=e.processString(),r=e.process(it);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(it),n=e.getMark().name==="inc_range";e.shift();const r=e.process(it),o=e.process(it);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=Y7t[r];break}case"unicode_hex":e.shift(),t+=q7t(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(G7t));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(it);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(it));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Li("unexpected argument to select()");e.shift();const a=e.process(it),l=e.process(it);s.alternatives.push({type:"SelectAlternative",condition:a,value:l})}else{if(s.fallback)throw new Li("unexpected argument to select()");const a=e.process(it);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)K7t(t,n,r.length)?(e.process(jM),r.push({type:"Selector"})):r.push(e.process(it));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Li("unexpected boost");const o=D7t[t];if(!o)throw new Li("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Li("Undefined function: ".concat(n));if(i.arity!==void 0&&zQ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Li("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(it);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Li("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(it)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(it)});continue}}o.push(e.process(it))}e.shift(),e.allowBoost=i;const s=Uw[r];if(!s)throw new Li("Undefined pipe function: ".concat(r));return s.arity&&zQ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Li("unexpected =>")},and(e){const t=e.process(it),n=e.process(it);return{type:"And",left:t,right:n}},or(e){const t=e.process(it),n=e.process(it);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(it)}},asc(e){throw new Li("unexpected asc")},desc(e){throw new Li("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},G7t={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(it),r=e.process(it);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(it);return{type:"ObjectAttributeValue",name:sje(t),value:t}},object_pair(e){const t=e.process(it);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(it);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(it)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},ije={square_bracket(e){const t=e.process(it),n=XP(t);return n&&n.type==="number"?r=>V7t(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>JP(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>vS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(it),r=e.process(it),o=XP(n),i=XP(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Li("slicing must use constant numbers");return s=>vS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(it);return n=>H7t(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>JP(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>JP(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>vS(n=>({type:"ArrayCoerce",base:n}),t)}},jM={group(e){return e.process(jM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(jM);e.getMark().name!=="traversal_end";)e.process(ije);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=it.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function sje(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return sje(e.base);throw new Li("Cannot determine property key for type: ".concat(e.type))}function zQ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Li("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Li("Incorrect number of arguments to function ".concat(e,"()."))}function K7t(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class Z7t extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),kM(this,"position"),kM(this,"name","GroqSyntaxError"),this.position=t}}function aje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=L7t(e);if(n.type==="error")throw new Z7t(n.position);return new O7t(e,n.marks,t).process(it)}function X7t(e,t=HJe){return n=>{const r=n;let o=null,i=null;const s=new Tr,a=s.pipe(Wa((l,u)=>l+u,0),tt(l=>l===0?Ei(e,t).pipe(Wn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&l>0?Ei(0,t).pipe(Wn(()=>{o||(o=r.connect())})):RL));return Oet(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var Q7t=Object.defineProperty,J7t=(e,t,n)=>t in e?Q7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tg=(e,t,n)=>(J7t(e,typeof t!="symbol"?t+"":t,n),n);const eBt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class lje{constructor(t,n,r){tg(this,"model"),tg(this,"root"),tg(this,"patch"),tg(this,"i"),tg(this,"inputStack"),tg(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=eBt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Yw(e){return e>>16?4:e>>11?3:e>>7?2:1}function TM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Yw(r);o==4&&n++,t+=o}return t}function VQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Yw(i);s===4&&o++,r+=s}return o}function tBt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Yw(i);r+=a,o+=a===4?2:1}return r}function nBt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let l=Yw(s);o+=l,i+=l===4?2:1}return o}var rBt=Object.defineProperty,oBt=(e,t,n)=>t in e?rBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iBt=(e,t,n)=>(oBt(e,typeof t!="symbol"?t+"":t,n),n);class AM{constructor(t){iBt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:TM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(hu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<i;n++){let u=t.value.codePointAt(n),d=Yw(u);d===4&&n++,l+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let l of t.uses){let u=l.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let l=s;l<a;l++){let u=i.parts[l];this.stringAppendPart(t,u)}}}function sBt(e,t){return{data:e,startMeta:t,endMeta:t}}function hu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>hu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=hu(o)}}return e.data=t,t}function DM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function IM(e,t){let n=DM(e),r=DM(t);if(n!==r)return t;let o=new AM(e.endMeta),i=new AM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),l=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=IM(v,m),a.fields[p]===v&&l++)}return u===d&&u===l?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let l=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=IM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(hu(e)===hu(t))return e;break}case"string":{let s=hu(e),a=hu(t);if(s===a)return e;let l=i.copyString(null),u=tBt(s,a),d=nBt(s,a,u),f=TM(a),p=TM(s);0<u&&i.stringAppendSlice(l,e,0,u),u<f-d&&i.stringAppendSlice(l,t,u,f-d),p-d<p&&i.stringAppendSlice(l,e,p-d,p);let m=i.finalize(l);if(hu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function aBt(e,t,n){let r=new AM(n);return new lje(r,e,t).process()}var sl=Object.freeze({__proto__:null,applyPatch:aBt,getType:DM,rebaseValue:IM,unwrap:hu,wrap:sBt});class lBt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=VQ(i,r),a=VQ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function PM(e,t){let n=e;return new lje(new lBt,n,t).process()}function ah(e,t,n){return delete e[t],e[t]=n,n}function cBt(e,t){const n=uBt(e,t);return dBt(n,e,t)}function uBt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function dBt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],l=e[r-1][o];a>l?--o:--r}return i}function fBt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const l=HQ(e,t);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return ah(this,"items",l)}}}const r=WQ(e),o=WQ(t);if(r&&o)return pBt(e,r,t,o);const i=HQ(e,t);return i?y7(e,t,i,!1):hBt(e,t)}function y7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function HQ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=JT(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function hBt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Am(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Tm(i,void 0),annotation:i.annotation})}return y7(e,t,r,!0)}function pBt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){UQ(t.index,u,d),UQ(r.index,u,f);const m=e.at(d),v=n.at(f),g=JT(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const l=cBt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){a(d,u,l.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!l.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Tm(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Am(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(mBt),y7(e,n,i,s)}function mBt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function UQ(e,t,n){const r=e.get(t);gBt(r,n),r.length===0&&e.delete(t)}function gBt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function WQ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const l=i.get("_key");if(l&&l.type==="string"&&(s="k".concat(l.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function vBt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Tm(i,void 0),annotation:e.annotationAt(o)})}return ah(this,"items",r)}}}function yBt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Am(i,void 0),annotation:e.annotationAt(o)})}return ah(this,"items",r)}}}function bBt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=xBt(e,t);return ah(this,"segments",i)}}}function xBt(e,t){const n=[],r=J8($w(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case wt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:for(const l of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});o+=a.length;break;case Yn:for(const l of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function wBt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return ah(this,"segments",r)}}}function _Bt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return ah(this,"segments",r)}}}function CBt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Tm(e,void 0),toType:t.type,toValue:t.value,toDiff:Am(t,void 0),annotation:t.annotation}}const YQ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function SBt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(YQ.has(a))continue;const l=e.get(a),u=t.get(a);if(u){const d=JT(l,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Tm(l,void 0),o=!0}for(const a of t.keys){if(YQ.has(a)||e.get(a))continue;const l=t.get(a);r[a]=Am(l,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function EBt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Tm(i,void 0)}return ah(this,"fields",r)}}}function kBt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Am(i,void 0)}return ah(this,"fields",r)}}}function jBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function TBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function JT(e,t){return e.type!==t.type?e.type==="null"?Am(t,null):t.type==="null"?Tm(e,null):CBt(e,t):ABt(e.type,e,t)}function ABt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return TBt(t,n);case"number":return jBt(t,n);case"string":return bBt(t,n);case"array":return fBt(t,n);case"object":return SBt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Tm(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return wBt(e,t);case"array":return vBt(e,t);case"object":return EBt(e,t);default:throw new Error("Unhandled diff type")}}function Am(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return _Bt(e,t);case"array":return yBt(e,t);case"object":return kBt(e,t);default:throw new Error("Unhandled diff type")}}var DBt=Object.defineProperty,IBt=(e,t,n)=>t in e?DBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1=(e,t,n)=>(IBt(e,typeof t!="symbol"?t+"":t,n),n);class PBt{constructor(t,n){q1(this,"type","array"),q1(this,"length"),q1(this,"value"),q1(this,"annotation"),q1(this,"elements",[]),this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=b7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}var OBt=Object.defineProperty,$Bt=(e,t,n)=>t in e?OBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G1=(e,t,n)=>($Bt(e,typeof t!="symbol"?t+"":t,n),n);class RBt{constructor(t,n){G1(this,"type","object"),G1(this,"value"),G1(this,"keys"),G1(this,"annotation"),G1(this,"fields",{}),this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=b7(r,this.annotation)}}var MBt=Object.defineProperty,FBt=(e,t,n)=>t in e?MBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eO=(e,t,n)=>(FBt(e,typeof t!="symbol"?t+"":t,n),n);let LBt=class{constructor(t,n){eO(this,"type","string"),eO(this,"value"),eO(this,"annotation"),this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};var BBt=Object.defineProperty,NBt=(e,t,n)=>t in e?BBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tO=(e,t,n)=>(NBt(e,typeof t!="symbol"?t+"":t,n),n);class nO{constructor(t,n,r){tO(this,"type"),tO(this,"value"),tO(this,"annotation"),this.type=t,this.value=n,this.annotation=r}}function b7(e,t){if(Array.isArray(e))return new PBt(e,t);if(e===null)return new nO("null",e,t);const n=typeof e;switch(n){case"number":return new nO(n,e,t);case"boolean":return new nO(n,e,t);case"object":return new RBt(e,t);case"string":return new LBt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var cje={exports:{}},uje={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=h;function zBt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VBt=typeof Object.is=="function"?Object.is:zBt,HBt=qw.useSyncExternalStore,UBt=qw.useRef,WBt=qw.useEffect,YBt=qw.useMemo,qBt=qw.useDebugValue;uje.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=UBt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=YBt(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,VBt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,o]);var a=HBt(e,i[0],i[1]);return WBt(function(){s.hasValue=!0,s.value=a},[a]),qBt(a),a};cje.exports=uje;var x7=cje.exports,GBt=Math.floor,KBt=Math.random;function ZBt(e,t){return e+GBt(KBt()*(t-e+1))}var XBt=ZBt,QBt=XBt;function JBt(e){var t=e.length;return t?e[QBt(0,t-1)]:void 0}var dje=JBt,eNt=dje,tNt=Yke;function nNt(e){return eNt(tNt(e))}var rNt=nNt,oNt=dje,iNt=rNt,sNt=Qr;function aNt(e){var t=sNt(e)?oNt:iNt;return t(e)}var lNt=aNt;const cNt=Ie(lNt);var uNt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=pNt(r),this._batchScheduleFn=mNt(r),this._cacheKeyFn=gNt(r),this._cacheMap=vNt(r),this._batch=null,this.name=yNt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=fNt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var l=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){l.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!fje(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),dNt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){rO||(rO=Promise.resolve()),rO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},rO;function fNt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){hNt(e,n)}),n}function hNt(e,t){if(t.hasDispatched=!0,t.keys.length===0){OM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return oO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return oO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!fje(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));OM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){oO(e,t,r)})}function oO(e,t,n){OM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function OM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function pNt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function mNt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return dNt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function gNt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function vNt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function yNt(e){return e&&e.name?e.name:null}function fje(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var bNt=uNt;const xNt=Ie(bNt);var eA={exports:{}},Ty={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Ty.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ty.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Ty.exports=function(){return Date.now()-n},n=Date.now()):(Ty.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(xs);var wNt=Ty.exports,_Nt=wNt,ju=typeof window>"u"?xs:window,UC=["moz","webkit"],vv="AnimationFrame",Qv=ju["request"+vv],Sx=ju["cancel"+vv]||ju["cancelRequest"+vv];for(var K1=0;!Qv&&K1<UC.length;K1++)Qv=ju[UC[K1]+"Request"+vv],Sx=ju[UC[K1]+"Cancel"+vv]||ju[UC[K1]+"CancelRequest"+vv];if(!Qv||!Sx){var iO=0,qQ=0,kh=[],CNt=1e3/60;Qv=function(e){if(kh.length===0){var t=_Nt(),n=Math.max(0,CNt-(t-iO));iO=n+t,setTimeout(function(){var r=kh.slice(0);kh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(iO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return kh.push({handle:++qQ,callback:e,cancelled:!1}),qQ},Sx=function(e){for(var t=0;t<kh.length;t++)kh[t].handle===e&&(kh[t].cancelled=!0)}}eA.exports=function(e){return Qv.call(ju,e)};eA.exports.cancel=function(){Sx.apply(ju,arguments)};eA.exports.polyfill=function(e){e||(e=ju),e.requestAnimationFrame=Qv,e.cancelAnimationFrame=Sx};var SNt=eA.exports;const ENt=Ie(SNt);function bb(e,t,n){return Math.min(Math.max(e,n),t)}class kNt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ay=kNt;function hje(e){if(typeof e!="string")throw new Ay(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=$Nt.test(e)?ANt(e):e;const n=DNt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Ex(a,2),16)),parseInt(Ex(s[3]||"f",2),16)/255]}const r=INt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=PNt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=ONt.exec(t);if(i){const[s,a,l,u]=Array.from(i).slice(1).map(parseFloat);if(bb(0,100,a)!==a)throw new Ay(e);if(bb(0,100,l)!==l)throw new Ay(e);return[...RNt(s,a,l),Number.isNaN(u)?1:u]}throw new Ay(e)}function jNt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const GQ=e=>parseInt(e.replace(/_/g,""),36),TNt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=GQ(t.substring(0,3)),r=GQ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function ANt(e){const t=e.toLowerCase().trim(),n=TNt[jNt(t)];if(!n)throw new Ay(e);return`#${n}`}const Ex=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),DNt=new RegExp(`^#${Ex("([a-f0-9])",3)}([a-f0-9])?$`,"i"),INt=new RegExp(`^#${Ex("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),PNt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ex(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),ONt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,$Nt=/^[a-z]+$/i,KQ=e=>Math.round(e*255),RNt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(KQ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,u=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,u=s):o>=3&&o<4?(l=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=l+d,m=u+d;return[f,p,m].map(KQ)};function MNt(e){const[t,n,r,o]=hje(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const l=i-s,u=a>.5?l/(2-i-s):l/(i+s);return[60*(t===i?(n-r)/l+(n<r?6:0):n===i?(r-t)/l+2:(t-n)/l+4),u,a,o]}function FNt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${bb(0,100,t*100).toFixed()}%, ${bb(0,100,n*100).toFixed()}%, ${parseFloat(bb(0,1,r).toFixed(3))})`}function pje(e,t){const[n,r,o,i]=MNt(e);return FNt(n,r,o-t,i)}function $M(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=hje(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function LNt(e,t){const n=$M(e),r=$M(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const BNt={decorative:1.5,readable:3,aa:4.5,aaa:7};function ZQ(e,t="aa",n="#fff"){return LNt(e,n)<BNt[t]}function NNt(e,t){return pje(e,-t)}function zNt(e){return $M(e)>.179}function VNt(e){return zNt(e)?"#000":"#fff"}var HNt=Jwe,UNt=ww,WNt=eT,YNt=Qr,qNt=eh,GNt=tT,KNt=rT,ZNt=qL,XNt="[object Map]",QNt="[object Set]",JNt=Object.prototype,ezt=JNt.hasOwnProperty;function tzt(e){if(e==null)return!0;if(qNt(e)&&(YNt(e)||typeof e=="string"||typeof e.splice=="function"||GNt(e)||ZNt(e)||WNt(e)))return!e.length;var t=UNt(e);if(t==XNt||t==QNt)return!e.size;if(KNt(e))return!HNt(e).length;for(var n in e)if(ezt.call(e,n))return!1;return!0}var nzt=tzt;const rzt=Ie(nzt);var ozt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),izt=()=>{try{return!!(ozt&&import.meta.webpackHot)}catch{return!1}};function szt(e){if(izt)return typeof import.meta.webpackHot>"u"?lzt(e):azt(e)}function azt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function lzt(e){h.useEffect(()=>{},[e])}var czt=w7;w7.displayName="bash";w7.aliases=["shell"];function w7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const uzt=Ie(czt);var dzt=_7;_7.displayName="json";_7.aliases=["webmanifest"];function _7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const fzt=Ie(dzt);var hzt=C7;C7.displayName="jsx";C7.aliases=[];function C7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(e)}const pzt=Ie(hzt);var mzt=S7;S7.displayName="typescript";S7.aliases=["ts"];function S7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const gzt=Ie(mzt);var mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mc||(mc={}));var QE=function(e){return e},XQ="beforeunload",vzt="popstate";function yzt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,QE({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=mc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){C(A*-1)}},C(A))}}else y(E)}}r.addEventListener(vzt,a);var l=mc.Pop,u=i(),d=u[0],f=u[1],p=JE(),m=JE();d==null&&(d=0,o.replaceState(Lu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:mje(E)}function g(E,j){return j===void 0&&(j=null),QE(Lu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?MM(E):E,{state:j,key:RM()}))}function x(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function b(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function y(E){l=E;var j=i();d=j[0],f=j[1],p.call({action:l,location:f})}function w(E,j){var k=mc.Push,T=g(E,j);function A(){w(E,j)}if(b(k,T,A)){var D=x(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}y(k)}}function _(E,j){var k=mc.Replace,T=g(E,j);function A(){_(E,j)}if(b(k,T,A)){var D=x(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),y(k)}}function C(E){o.go(E)}var S={get action(){return l},get location(){return f},createHref:v,push:w,replace:_,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(XQ,JQ),function(){k(),m.length||r.removeEventListener(XQ,JQ)}}};return S}function bzt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var _=QE(Lu({pathname:"/",search:"",hash:"",state:null,key:RM()},typeof w=="string"?MM(w):w));return _}),s=QQ(o??i.length-1,0,i.length-1),a=mc.Pop,l=i[s],u=JE(),d=JE();function f(w){return typeof w=="string"?w:mje(w)}function p(w,_){return _===void 0&&(_=null),QE(Lu({pathname:l.pathname,search:"",hash:""},typeof w=="string"?MM(w):w,{state:_,key:RM()}))}function m(w,_,C){return!d.length||(d.call({action:w,location:_,retry:C}),!1)}function v(w,_){a=w,l=_,u.call({action:a,location:l})}function g(w,_){var C=mc.Push,S=p(w,_);function E(){g(w,_)}m(C,S,E)&&(s+=1,i.splice(s,i.length,S),v(C,S))}function x(w,_){var C=mc.Replace,S=p(w,_);function E(){x(w,_)}m(C,S,E)&&(i[s]=S,v(C,S))}function b(w){var _=QQ(s+w,0,i.length-1),C=mc.Pop,S=i[_];function E(){b(w)}m(C,S,E)&&(s=_,v(C,S))}var y={get index(){return s},get action(){return a},get location(){return l},createHref:f,push:g,replace:x,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(_){return u.push(_)},block:function(_){return d.push(_)}};return y}function QQ(e,t,n){return Math.min(Math.max(e,t),n)}function JQ(e){e.preventDefault(),e.returnValue=""}function JE(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function RM(){return Math.random().toString(36).substr(2,8)}function mje(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function MM(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var xzt=Lc,gje=/[\\^$.*+?()[\]{}|]/g,wzt=RegExp(gje.source);function _zt(e){return e=xzt(e),e&&wzt.test(e)?e.replace(gje,"\\$&"):e}var Czt=_zt;const E7=Ie(Czt);var vje,eJ=uc;vje=eJ.createRoot,eJ.hydrateRoot;h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),c.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),c.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const Szt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,Ca.hex]},Ezt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=Szt[r?"dark":"light"];return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),c.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),c.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),c.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),c.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),c.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),c.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),c.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),c.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),c.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),c.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),c.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),c.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),c.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),c.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),c.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),kzt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:Ca.hex},jzt=h.forwardRef(function(t,n){const{color:r=kzt,...o}=t;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),c.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),c.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),c.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var K0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yje=h;function xt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ds=Object.prototype.hasOwnProperty,Tzt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tJ={},nJ={};function bje(e){return ds.call(nJ,e)?!0:ds.call(tJ,e)?!1:Tzt.test(e)?nJ[e]=!0:(tJ[e]=!0,!1)}function rs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var k7=/[\-:]([a-z])/g;function j7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k7,j7);ei[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k7,j7);ei[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k7,j7);ei[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var yS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Azt=["Webkit","ms","Moz","O"];Object.keys(yS).forEach(function(e){Azt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yS[t]=yS[e]})});var Dzt=/["'&<>]/;function Hi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Dzt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Izt=/([A-Z])/g,Pzt=/^ms-/,FM=Array.isArray;function Qc(e,t){return{insertionMode:e,selectedValue:t}}function Ozt(e,t,n){switch(t){case"select":return Qc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Qc(2,null);case"math":return Qc(3,null);case"foreignObject":return Qc(1,null);case"table":return Qc(4,null);case"thead":case"tbody":case"tfoot":return Qc(5,null);case"colgroup":return Qc(7,null);case"tr":return Qc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Qc(1,null):e}var rJ=new Map;function xje(e,t,n){if(typeof n!="object")throw Error(xt(62));t=!0;for(var r in n)if(ds.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Hi(r);o=Hi((""+o).trim())}else{i=r;var s=rJ.get(i);s!==void 0||(s=Hi(i.replace(Izt,"-$1").toLowerCase().replace(Pzt,"-ms-")),rJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ds.call(yS,r)?""+o:o+"px":Hi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Ls(e,t,n,r){switch(n){case"style":xje(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ei.hasOwnProperty(n)?ei[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Hi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Hi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Hi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Hi(r),'"')}}else if(bje(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Hi(r),'"')}}}function bS(e,t,n){if(t!=null){if(n!=null)throw Error(xt(60));if(typeof t!="object"||!("__html"in t))throw Error(xt(61));t=t.__html,t!=null&&e.push(""+t)}}function $zt(e){var t="";return yje.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function sO(e,t,n,r){e.push(Xl(n));var o=n=null,i;for(i in t)if(ds.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ls(e,r,i,s)}}return e.push(">"),bS(e,o,n),typeof n=="string"?(e.push(Hi(n)),null):n}var Rzt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,oJ=new Map;function Xl(e){var t=oJ.get(e);if(t===void 0){if(!Rzt.test(e))throw Error(xt(65,e));t="<"+e,oJ.set(e,t)}return t}function Mzt(e,t,n,r,o){switch(t){case"select":e.push(Xl("select"));var i=null,s=null;for(d in n)if(ds.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ls(e,r,d,a)}}return e.push(">"),bS(e,s,i),i;case"option":s=o.selectedValue,e.push(Xl("option"));var l=a=null,u=null,d=null;for(i in n)if(ds.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Ls(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:$zt(a),FM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),bS(e,d,a),a;case"textarea":e.push(Xl("textarea")),d=s=i=null;for(a in n)if(ds.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(xt(91));default:Ls(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(xt(92));if(FM(d)&&1<d.length)throw Error(xt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Hi(""+i)),null;case"input":e.push(Xl("input")),l=d=a=i=null;for(s in n)if(ds.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(xt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ls(e,r,s,u)}return d!==null?Ls(e,r,"checked",d):l!==null&&Ls(e,r,"checked",l),i!==null?Ls(e,r,"value",i):a!==null&&Ls(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Xl("menuitem"));for(var p in n)if(ds.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(xt(400));default:Ls(e,r,p,i)}return e.push(">"),null;case"title":e.push(Xl("title")),i=null;for(f in n)if(ds.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(xt(434));default:Ls(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(Xl(t)),s=i=null;for(l in n)if(ds.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ls(e,r,l,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(xt(60));if(typeof s!="object"||!("__html"in s))throw Error(xt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Xl(t));for(var m in n)if(ds.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(xt(399,t));default:Ls(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return sO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),sO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return sO(e,n,t,r);e.push(Xl(t)),s=i=null;for(u in n)if(ds.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":xje(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:bje(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Hi(a),'"')}return e.push(">"),bS(e,s,i),i}}function iJ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(xt(395));return e.push(n),e.push('"></template>')}function Fzt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(xt(397))}}function Lzt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(xt(397))}}var Bzt=/[<\u2028\u2029]/g;function aO(e){return JSON.stringify(e).replace(Bzt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Nzt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function sJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Hi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Hi(t)),e=!0),e)}var xb=Object.assign,zzt=Symbol.for("react.element"),wje=Symbol.for("react.portal"),_je=Symbol.for("react.fragment"),Cje=Symbol.for("react.strict_mode"),Sje=Symbol.for("react.profiler"),Eje=Symbol.for("react.provider"),kje=Symbol.for("react.context"),jje=Symbol.for("react.forward_ref"),Tje=Symbol.for("react.suspense"),Aje=Symbol.for("react.suspense_list"),Dje=Symbol.for("react.memo"),T7=Symbol.for("react.lazy"),Vzt=Symbol.for("react.scope"),Hzt=Symbol.for("react.debug_trace_mode"),Uzt=Symbol.for("react.legacy_hidden"),Wzt=Symbol.for("react.default_value"),aJ=Symbol.iterator;function LM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _je:return"Fragment";case wje:return"Portal";case Sje:return"Profiler";case Cje:return"StrictMode";case Tje:return"Suspense";case Aje:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kje:return(e.displayName||"Context")+".Consumer";case Eje:return(e._context.displayName||"Context")+".Provider";case jje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dje:return t=e.displayName||null,t!==null?t:LM(e.type)||"Memo";case T7:t=e._payload,e=e._init;try{return LM(e(t))}catch{}}return null}var Ije={};function lJ(e,t){if(e=e.contextTypes,!e)return Ije;var n={},r;for(r in e)n[r]=t[r];return n}var hp=null;function tA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(xt(401))}else{if(n===null)throw Error(xt(401));tA(e,n)}t.context._currentValue2=t.value}}function Pje(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&Pje(e)}function Oje(e){var t=e.parent;t!==null&&Oje(t),e.context._currentValue2=e.value}function $je(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(xt(402));e.depth===t.depth?tA(e,t):$je(e,t)}function Rje(e,t){var n=t.parent;if(n===null)throw Error(xt(402));e.depth===n.depth?tA(e,n):Rje(e,n),t.context._currentValue2=t.value}function ek(e){var t=hp;t!==e&&(t===null?Oje(e):e===null?Pje(t):t.depth===e.depth?tA(t,e):t.depth>e.depth?$je(t,e):Rje(t,e),hp=e)}var cJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function uJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=cJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:xb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&cJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=xb({},i,a)):xb(i,a))}e.state=i}else i.queue=null}var Yzt={id:1,overflow:""};function BM(e,t,n){var r=e.id;e=e.overflow;var o=32-xS(r)-1;r&=~(1<<o),n+=1;var i=32-xS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-xS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var xS=Math.clz32?Math.clz32:Kzt,qzt=Math.log,Gzt=Math.LN2;function Kzt(e){return e>>>=0,e===0?32:31-(qzt(e)/Gzt|0)|0}function Zzt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xzt=typeof Object.is=="function"?Object.is:Zzt,Hu=null,A7=null,wS=null,Ln=null,Dy=!1,tk=!1,kx=0,Xd=null,nA=0;function Zh(){if(Hu===null)throw Error(xt(321));return Hu}function dJ(){if(0<nA)throw Error(xt(312));return{memoizedState:null,queue:null,next:null}}function D7(){return Ln===null?wS===null?(Dy=!1,wS=Ln=dJ()):(Dy=!0,Ln=wS):Ln.next===null?(Dy=!1,Ln=Ln.next=dJ()):(Dy=!0,Ln=Ln.next),Ln}function I7(){A7=Hu=null,tk=!1,wS=null,nA=0,Ln=Xd=null}function Mje(e,t){return typeof t=="function"?t(e):t}function fJ(e,t,n){if(Hu=Zh(),Ln=D7(),Dy){var r=Ln.queue;if(t=r.dispatch,Xd!==null&&(n=Xd.get(r),n!==void 0)){Xd.delete(r),r=Ln.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Ln.memoizedState=r,[r,t]}return[Ln.memoizedState,t]}return e=e===Mje?typeof t=="function"?t():t:n!==void 0?n(t):t,Ln.memoizedState=e,e=Ln.queue={last:null,dispatch:null},e=e.dispatch=Qzt.bind(null,Hu,e),[Ln.memoizedState,e]}function hJ(e,t){if(Hu=Zh(),Ln=D7(),t=t===void 0?null:t,Ln!==null){var n=Ln.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Xzt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ln.memoizedState=[e,t],e}function Qzt(e,t,n){if(25<=nA)throw Error(xt(301));if(e===Hu)if(tk=!0,e={action:n,next:null},Xd===null&&(Xd=new Map),n=Xd.get(t),n===void 0)Xd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Jzt(){throw Error(xt(394))}function WC(){}var pJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Zh(),e._currentValue2},useMemo:hJ,useReducer:fJ,useRef:function(e){Hu=Zh(),Ln=D7();var t=Ln.memoizedState;return t===null?(e={current:e},Ln.memoizedState=e):t},useState:function(e){return fJ(Mje,e)},useInsertionEffect:WC,useLayoutEffect:function(){},useCallback:function(e,t){return hJ(function(){return e},t)},useImperativeHandle:WC,useEffect:WC,useDebugValue:WC,useDeferredValue:function(e){return Zh(),e},useTransition:function(){return Zh(),[!1,Jzt]},useId:function(){var e=A7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-xS(e)-1)).toString(32)+t;var n=_S;if(n===null)throw Error(xt(404));return t=kx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Zh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(xt(407));return n()}},_S=null,lO=yje.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function eVt(e){return console.error(e),null}function Iy(){}function tVt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?eVt:o,onAllReady:i===void 0?Iy:i,onShellReady:s===void 0?Iy:s,onShellError:a===void 0?Iy:a,onFatalError:l===void 0?Iy:l},n=nk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=P7(t,e,null,n,d,Ije,null,Yzt),u.push(e),t}function P7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&Bje(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function nk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function jx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function rk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function mJ(e,t,n,r,o){for(Hu={},A7=t,kx=0,e=n(r,o);tk;)tk=!1,kx=0,nA+=1,Ln=null,e=n(r,o);return I7(),e}function gJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(xt(108,LM(r)||"Unknown",a));r=xb({},s,n)}t.legacyContext=r,Hs(e,t,o),t.legacyContext=s}else Hs(e,t,o)}function vJ(e,t){if(e&&e.defaultProps){t=xb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function NM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=lJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),uJ(i,n,r,o),gJ(e,t,i,n)}else{i=lJ(n,t.legacyContext),o=mJ(e,t,n,r,i);var s=kx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)uJ(o,n,r,i),gJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=BM(r,1,0);try{Hs(e,t,o)}finally{t.treeContext=r}}else Hs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=Mzt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=Ozt(s,n,r),zM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case Uzt:case Hzt:case Cje:case Sje:case _je:Hs(e,t,r.children);return;case Aje:Hs(e,t,r.children);return;case Vzt:throw Error(xt(343));case Tje:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=nk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=nk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(zM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,ok(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=jx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=P7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jje:if(r=mJ(e,t,n.render,r,o),kx!==0){n=t.treeContext,t.treeContext=BM(n,1,0);try{Hs(e,t,r)}finally{t.treeContext=n}}else Hs(e,t,r);return;case Dje:n=n.type,r=vJ(n,r),NM(e,t,n,r,o);return;case Eje:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=hp,hp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Hs(e,t,o),e=hp,e===null)throw Error(xt(403));r=e.parentValue,e.context._currentValue2=r===Wzt?e.context._defaultValue:r,e=hp=e.parent,t.context=e;return;case kje:r=r.children,r=r(n._currentValue2),Hs(e,t,r);return;case T7:o=n._init,n=o(n._payload),r=vJ(n,r),NM(e,t,n,r,void 0);return}throw Error(xt(130,n==null?n:typeof n,""))}}function Hs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case zzt:NM(e,t,n.type,n.props,n.ref);return;case wje:throw Error(xt(257));case T7:var r=n._init;n=r(n._payload),Hs(e,t,n);return}if(FM(n)){yJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=aJ&&n[aJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);yJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(xt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=sJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=sJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function yJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=BM(i,r,o);try{zM(e,t,n[o])}finally{t.treeContext=i}}}function zM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Hs(e,t,n)}catch(l){if(I7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=nk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=P7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ek(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ek(i),l}}function nVt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Lje(this,t,e)}function Fje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(xt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Fje(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ok(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ok(e,n)}else e.completedSegments.push(t)}function Lje(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(xt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Iy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ok(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(nVt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ok(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Bje(e){if(e.status!==2){var t=hp,n=lO.current;lO.current=pJ;var r=_S;_S=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){ek(s.context);try{Hs(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,Lje(a,s.blockedBoundary,l)}catch(v){if(I7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=jx(a,f);if(d===null?rk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&O7(e,e.destination)}catch(v){jx(e,v),rk(e,v)}finally{_S=r,lO.current=n,n===pJ&&ek(t)}}}function YC(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=rA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(xt(390))}}function rA(e,t,n){var r=n.boundary;if(r===null)return YC(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Hi(r),t.push(r),t.push('"')),t.push("></template>")),YC(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,iJ(t,e.responseState,r),YC(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),iJ(t,e.responseState,r.id),YC(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(xt(391));return rA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function bJ(e,t,n){return Fzt(t,e.responseState,n.formatContext,n.id),rA(e,t,n),Lzt(t,n.formatContext)}function xJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Nje(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(xt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function Nje(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(xt(392));return bJ(e,t,r)}return bJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function O7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){rA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(xt(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var p=aO(u||"");r.push(p)}if(d||f){r.push(",");var m=aO(d||"");r.push(m)}if(f){r.push(",");var v=aO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!xJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var x=e.partialBoundaries;for(i=0;i<x.length;i++){var b=x[i];e:{o=e,s=t;var y=b.completedSegments;for(a=0;a<y.length;a++)if(!Nje(o,s,b,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){e.destination=null,i++,x.splice(0,i);return}}x.splice(0,i);var _=e.completedBoundaries;for(i=0;i<_.length;i++)if(!xJ(e,t,_[i])){e.destination=null,i++,_.splice(0,i);return}_.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function rVt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Fje(r,e,t)}),n.clear(),e.destination!==null&&O7(e,e.destination)}catch(r){jx(e,r),rk(e,r)}}function oVt(){}function zje(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},l=!1;if(e=tVt(e,Nzt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,oVt,void 0,function(){l=!0},void 0,void 0),Bje(e),rVt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{O7(e,a)}catch(u){jx(e,u),rk(e,u)}}if(o)throw i;if(!l)throw Error(xt(426));return s}K0.renderToNodeStream=function(){throw Error(xt(207))};K0.renderToStaticMarkup=function(e,t){return zje(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};K0.renderToStaticNodeStream=function(){throw Error(xt(208))};K0.renderToString=function(e,t){return zje(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};K0.version="18.2.0";var $7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vje=h;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Us=null,Ws=0;function Ge(e,t){if(t.length!==0)if(512<t.length)0<Ws&&(e.enqueue(new Uint8Array(Us.buffer,0,Ws)),Us=new Uint8Array(512),Ws=0),e.enqueue(t);else{var n=Us.length-Ws;n<t.length&&(n===0?e.enqueue(Us):(Us.set(t.subarray(0,n),Ws),e.enqueue(Us),t=t.subarray(n)),Us=new Uint8Array(512),Ws=0),Us.set(t,Ws),Ws+=t.length}}function or(e,t){return Ge(e,t),!0}function wJ(e){Us&&0<Ws&&(e.enqueue(new Uint8Array(Us.buffer,0,Ws)),Us=null,Ws=0)}var Hje=new TextEncoder;function Rt(e){return Hje.encode(e)}function Oe(e){return Hje.encode(e)}function Uje(e,t){typeof e.error=="function"?e.error(t):e.close()}var fs=Object.prototype.hasOwnProperty,iVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_J={},CJ={};function Wje(e){return fs.call(CJ,e)?!0:fs.call(_J,e)?!1:iVt.test(e)?CJ[e]=!0:(_J[e]=!0,!1)}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ti[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ti[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ti[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ti[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ti[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ti[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ti[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ti[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ti[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var R7=/[\-:]([a-z])/g;function M7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R7,M7);ti[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R7,M7);ti[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R7,M7);ti[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ti[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});ti.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ti[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var CS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sVt=["Webkit","ms","Moz","O"];Object.keys(CS).forEach(function(e){sVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),CS[t]=CS[e]})});var aVt=/["'&<>]/;function Ko(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=aVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var lVt=/([A-Z])/g,cVt=/^ms-/,VM=Array.isArray,uVt=Oe("<script>"),dVt=Oe("<\/script>"),fVt=Oe('<script src="'),hVt=Oe('<script type="module" src="'),SJ=Oe('" async=""><\/script>'),pVt=/(<\/|<)(s)(cript)/gi;function mVt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function gVt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?uVt:Oe('<script nonce="'+Ko(t)+'">');var i=[];if(n!==void 0&&i.push(t,Rt((""+n).replace(pVt,mVt)),dVt),r!==void 0)for(n=0;n<r.length;n++)i.push(fVt,Rt(Ko(r[n])),SJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(hVt,Rt(Ko(o[r])),SJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Oe(e+"P:"),segmentPrefix:Oe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ql(e,t){return{insertionMode:e,selectedValue:t}}function vVt(e){return Ql(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function yVt(e,t,n){switch(t){case"select":return Ql(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ql(2,null);case"math":return Ql(3,null);case"foreignObject":return Ql(1,null);case"table":return Ql(4,null);case"thead":case"tbody":case"tfoot":return Ql(5,null);case"colgroup":return Ql(7,null);case"tr":return Ql(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ql(1,null):e}var F7=Oe("<!-- -->");function EJ(e,t,n,r){return t===""?r:(r&&e.push(F7),e.push(Rt(Ko(t))),!0)}var kJ=new Map,bVt=Oe(' style="'),jJ=Oe(":"),xVt=Oe(";");function Yje(e,t,n){if(typeof n!="object")throw Error(Pt(62));t=!0;for(var r in n)if(fs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Rt(Ko(r));o=Rt(Ko((""+o).trim()))}else{i=r;var s=kJ.get(i);s!==void 0||(s=Oe(Ko(i.replace(lVt,"-$1").toLowerCase().replace(cVt,"-ms-"))),kJ.set(i,s)),i=s,o=typeof o=="number"?o===0||fs.call(CS,r)?Rt(""+o):Rt(o+"px"):Rt(Ko((""+o).trim()))}t?(t=!1,e.push(bVt,i,jJ,o)):e.push(xVt,i,jJ,o)}}t||e.push(Xh)}var Ed=Oe(" "),bg=Oe('="'),Xh=Oe('"'),TJ=Oe('=""');function Bs(e,t,n,r){switch(n){case"style":Yje(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ti.hasOwnProperty(n)?ti[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Rt(t.attributeName),t.type){case 3:r&&e.push(Ed,n,TJ);break;case 4:r===!0?e.push(Ed,n,TJ):r!==!1&&e.push(Ed,n,bg,Rt(Ko(r)),Xh);break;case 5:isNaN(r)||e.push(Ed,n,bg,Rt(Ko(r)),Xh);break;case 6:!isNaN(r)&&1<=r&&e.push(Ed,n,bg,Rt(Ko(r)),Xh);break;default:t.sanitizeURL&&(r=""+r),e.push(Ed,n,bg,Rt(Ko(r)),Xh)}}else if(Wje(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ed,Rt(n),bg,Rt(Ko(r)),Xh)}}}var kd=Oe(">"),AJ=Oe("/>");function SS(e,t,n){if(t!=null){if(n!=null)throw Error(Pt(60));if(typeof t!="object"||!("__html"in t))throw Error(Pt(61));t=t.__html,t!=null&&e.push(Rt(""+t))}}function wVt(e){var t="";return Vje.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var cO=Oe(' selected=""');function uO(e,t,n,r){e.push(Jl(n));var o=n=null,i;for(i in t)if(fs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Bs(e,r,i,s)}}return e.push(kd),SS(e,o,n),typeof n=="string"?(e.push(Rt(Ko(n))),null):n}var dO=Oe(`
`),_Vt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,DJ=new Map;function Jl(e){var t=DJ.get(e);if(t===void 0){if(!_Vt.test(e))throw Error(Pt(65,e));t=Oe("<"+e),DJ.set(e,t)}return t}var CVt=Oe("<!DOCTYPE html>");function SVt(e,t,n,r,o){switch(t){case"select":e.push(Jl("select"));var i=null,s=null;for(d in n)if(fs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Bs(e,r,d,a)}}return e.push(kd),SS(e,s,i),i;case"option":s=o.selectedValue,e.push(Jl("option"));var l=a=null,u=null,d=null;for(i in n)if(fs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Bs(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:wVt(a),VM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(cO);break}}else""+s===n&&e.push(cO);else u&&e.push(cO);return e.push(kd),SS(e,d,a),a;case"textarea":e.push(Jl("textarea")),d=s=i=null;for(a in n)if(fs.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Pt(91));default:Bs(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(kd),d!=null){if(i!=null)throw Error(Pt(92));if(VM(d)&&1<d.length)throw Error(Pt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(dO),i!==null&&e.push(Rt(Ko(""+i))),null;case"input":e.push(Jl("input")),l=d=a=i=null;for(s in n)if(fs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Bs(e,r,s,u)}return d!==null?Bs(e,r,"checked",d):l!==null&&Bs(e,r,"checked",l),i!==null?Bs(e,r,"value",i):a!==null&&Bs(e,r,"value",a),e.push(AJ),null;case"menuitem":e.push(Jl("menuitem"));for(var p in n)if(fs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(400));default:Bs(e,r,p,i)}return e.push(kd),null;case"title":e.push(Jl("title")),i=null;for(f in n)if(fs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Pt(434));default:Bs(e,r,f,s)}return e.push(kd),i;case"listing":case"pre":e.push(Jl(t)),s=i=null;for(l in n)if(fs.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Bs(e,r,l,a)}if(e.push(kd),s!=null){if(i!=null)throw Error(Pt(60));if(typeof s!="object"||!("__html"in s))throw Error(Pt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(dO,Rt(n)):e.push(Rt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(dO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Jl(t));for(var m in n)if(fs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,t));default:Bs(e,r,m,i)}return e.push(AJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return uO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(CVt),uO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return uO(e,n,t,r);e.push(Jl(t)),s=i=null;for(u in n)if(fs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Yje(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Wje(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ed,Rt(u),bg,Rt(Ko(a)),Xh)}return e.push(kd),SS(e,s,i),i}}var EVt=Oe("</"),kVt=Oe(">"),jVt=Oe('<template id="'),TVt=Oe('"></template>'),AVt=Oe("<!--$-->"),DVt=Oe('<!--$?--><template id="'),IVt=Oe('"></template>'),PVt=Oe("<!--$!-->"),OVt=Oe("<!--/$-->"),$Vt=Oe("<template"),RVt=Oe('"'),MVt=Oe(' data-dgst="');Oe(' data-msg="');Oe(' data-stck="');var FVt=Oe("></template>");function IJ(e,t,n){if(Ge(e,DVt),n===null)throw Error(Pt(395));return Ge(e,n),or(e,IVt)}var LVt=Oe('<div hidden id="'),BVt=Oe('">'),NVt=Oe("</div>"),zVt=Oe('<svg aria-hidden="true" style="display:none" id="'),VVt=Oe('">'),HVt=Oe("</svg>"),UVt=Oe('<math aria-hidden="true" style="display:none" id="'),WVt=Oe('">'),YVt=Oe("</math>"),qVt=Oe('<table hidden id="'),GVt=Oe('">'),KVt=Oe("</table>"),ZVt=Oe('<table hidden><tbody id="'),XVt=Oe('">'),QVt=Oe("</tbody></table>"),JVt=Oe('<table hidden><tr id="'),eHt=Oe('">'),tHt=Oe("</tr></table>"),nHt=Oe('<table hidden><colgroup id="'),rHt=Oe('">'),oHt=Oe("</colgroup></table>");function iHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ge(e,LVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,BVt);case 2:return Ge(e,zVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,VVt);case 3:return Ge(e,UVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,WVt);case 4:return Ge(e,qVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,GVt);case 5:return Ge(e,ZVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,XVt);case 6:return Ge(e,JVt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,eHt);case 7:return Ge(e,nHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,rHt);default:throw Error(Pt(397))}}function sHt(e,t){switch(t.insertionMode){case 0:case 1:return or(e,NVt);case 2:return or(e,HVt);case 3:return or(e,YVt);case 4:return or(e,KVt);case 5:return or(e,QVt);case 6:return or(e,tHt);case 7:return or(e,oHt);default:throw Error(Pt(397))}}var aHt=Oe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),lHt=Oe('$RS("'),cHt=Oe('","'),uHt=Oe('")<\/script>'),dHt=Oe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),fHt=Oe('$RC("'),hHt=Oe('","'),pHt=Oe('")<\/script>'),mHt=Oe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),gHt=Oe('$RX("'),vHt=Oe('"'),yHt=Oe(")<\/script>"),fO=Oe(","),bHt=/[<\u2028\u2029]/g;function hO(e){return JSON.stringify(e).replace(bHt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var wb=Object.assign,xHt=Symbol.for("react.element"),qje=Symbol.for("react.portal"),Gje=Symbol.for("react.fragment"),Kje=Symbol.for("react.strict_mode"),Zje=Symbol.for("react.profiler"),Xje=Symbol.for("react.provider"),Qje=Symbol.for("react.context"),Jje=Symbol.for("react.forward_ref"),eTe=Symbol.for("react.suspense"),tTe=Symbol.for("react.suspense_list"),nTe=Symbol.for("react.memo"),L7=Symbol.for("react.lazy"),wHt=Symbol.for("react.scope"),_Ht=Symbol.for("react.debug_trace_mode"),CHt=Symbol.for("react.legacy_hidden"),SHt=Symbol.for("react.default_value"),PJ=Symbol.iterator;function HM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gje:return"Fragment";case qje:return"Portal";case Zje:return"Profiler";case Kje:return"StrictMode";case eTe:return"Suspense";case tTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qje:return(e.displayName||"Context")+".Consumer";case Xje:return(e._context.displayName||"Context")+".Provider";case Jje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nTe:return t=e.displayName||null,t!==null?t:HM(e.type)||"Memo";case L7:t=e._payload,e=e._init;try{return HM(e(t))}catch{}}return null}var rTe={};function OJ(e,t){if(e=e.contextTypes,!e)return rTe;var n={},r;for(r in e)n[r]=t[r];return n}var pp=null;function oA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Pt(401))}else{if(n===null)throw Error(Pt(401));oA(e,n)}t.context._currentValue=t.value}}function oTe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&oTe(e)}function iTe(e){var t=e.parent;t!==null&&iTe(t),e.context._currentValue=e.value}function sTe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pt(402));e.depth===t.depth?oA(e,t):sTe(e,t)}function aTe(e,t){var n=t.parent;if(n===null)throw Error(Pt(402));e.depth===n.depth?oA(e,n):aTe(e,n),t.context._currentValue=t.value}function ik(e){var t=pp;t!==e&&(t===null?iTe(e):e===null?oTe(t):t.depth===e.depth?oA(t,e):t.depth>e.depth?sTe(t,e):aTe(t,e),pp=e)}var $J={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function RJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=$J,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:wb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&$J.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=wb({},i,a)):wb(i,a))}e.state=i}else i.queue=null}var EHt={id:1,overflow:""};function UM(e,t,n){var r=e.id;e=e.overflow;var o=32-ES(r)-1;r&=~(1<<o),n+=1;var i=32-ES(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-ES(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var ES=Math.clz32?Math.clz32:THt,kHt=Math.log,jHt=Math.LN2;function THt(e){return e>>>=0,e===0?32:31-(kHt(e)/jHt|0)|0}function AHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DHt=typeof Object.is=="function"?Object.is:AHt,Uu=null,B7=null,kS=null,Bn=null,Py=!1,sk=!1,Tx=0,Qd=null,iA=0;function Qh(){if(Uu===null)throw Error(Pt(321));return Uu}function MJ(){if(0<iA)throw Error(Pt(312));return{memoizedState:null,queue:null,next:null}}function N7(){return Bn===null?kS===null?(Py=!1,kS=Bn=MJ()):(Py=!0,Bn=kS):Bn.next===null?(Py=!1,Bn=Bn.next=MJ()):(Py=!0,Bn=Bn.next),Bn}function z7(){B7=Uu=null,sk=!1,kS=null,iA=0,Bn=Qd=null}function lTe(e,t){return typeof t=="function"?t(e):t}function FJ(e,t,n){if(Uu=Qh(),Bn=N7(),Py){var r=Bn.queue;if(t=r.dispatch,Qd!==null&&(n=Qd.get(r),n!==void 0)){Qd.delete(r),r=Bn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Bn.memoizedState=r,[r,t]}return[Bn.memoizedState,t]}return e=e===lTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Bn.memoizedState=e,e=Bn.queue={last:null,dispatch:null},e=e.dispatch=IHt.bind(null,Uu,e),[Bn.memoizedState,e]}function LJ(e,t){if(Uu=Qh(),Bn=N7(),t=t===void 0?null:t,Bn!==null){var n=Bn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!DHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Bn.memoizedState=[e,t],e}function IHt(e,t,n){if(25<=iA)throw Error(Pt(301));if(e===Uu)if(sk=!0,e={action:n,next:null},Qd===null&&(Qd=new Map),n=Qd.get(t),n===void 0)Qd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function PHt(){throw Error(Pt(394))}function qC(){}var BJ={readContext:function(e){return e._currentValue},useContext:function(e){return Qh(),e._currentValue},useMemo:LJ,useReducer:FJ,useRef:function(e){Uu=Qh(),Bn=N7();var t=Bn.memoizedState;return t===null?(e={current:e},Bn.memoizedState=e):t},useState:function(e){return FJ(lTe,e)},useInsertionEffect:qC,useLayoutEffect:function(){},useCallback:function(e,t){return LJ(function(){return e},t)},useImperativeHandle:qC,useEffect:qC,useDebugValue:qC,useDeferredValue:function(e){return Qh(),e},useTransition:function(){return Qh(),[!1,PHt]},useId:function(){var e=B7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-ES(e)-1)).toString(32)+t;var n=jS;if(n===null)throw Error(Pt(404));return t=Tx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Qh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Pt(407));return n()}},jS=null,pO=Vje.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function OHt(e){return console.error(e),null}function Oy(){}function $Ht(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?OHt:o,onAllReady:i===void 0?Oy:i,onShellReady:s===void 0?Oy:s,onShellError:a===void 0?Oy:a,onFatalError:l===void 0?Oy:l},n=ak(t,0,null,n,!1,!1),n.parentFlushed=!0,e=V7(t,e,null,n,d,rTe,null,EHt),u.push(e),t}function V7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&dTe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function ak(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Ax(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function lk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,Uje(e.destination,t)):(e.status=1,e.fatalError=t)}function NJ(e,t,n,r,o){for(Uu={},B7=t,Tx=0,e=n(r,o);sk;)sk=!1,Tx=0,iA+=1,Bn=null,e=n(r,o);return z7(),e}function zJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Pt(108,HM(r)||"Unknown",a));r=wb({},s,n)}t.legacyContext=r,Ys(e,t,o),t.legacyContext=s}else Ys(e,t,o)}function VJ(e,t){if(e&&e.defaultProps){t=wb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function WM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=OJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),RJ(i,n,r,o),zJ(e,t,i,n)}else{i=OJ(n,t.legacyContext),o=NJ(e,t,n,r,i);var s=Tx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)RJ(o,n,r,i),zJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=UM(r,1,0);try{Ys(e,t,o)}finally{t.treeContext=r}}else Ys(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=SVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=yVt(s,n,r),YM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(EVt,Rt(n),kVt)}o.lastPushedText=!1}else{switch(n){case CHt:case _Ht:case Kje:case Zje:case Gje:Ys(e,t,r.children);return;case tTe:Ys(e,t,r.children);return;case wHt:throw Error(Pt(343));case eTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=ak(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=ak(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(YM(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(F7),u.status=1,ck(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Ax(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=V7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Jje:if(r=NJ(e,t,n.render,r,o),Tx!==0){n=t.treeContext,t.treeContext=UM(n,1,0);try{Ys(e,t,r)}finally{t.treeContext=n}}else Ys(e,t,r);return;case nTe:n=n.type,r=VJ(n,r),WM(e,t,n,r,o);return;case Xje:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=pp,pp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ys(e,t,o),e=pp,e===null)throw Error(Pt(403));r=e.parentValue,e.context._currentValue=r===SHt?e.context._defaultValue:r,e=pp=e.parent,t.context=e;return;case Qje:r=r.children,r=r(n._currentValue),Ys(e,t,r);return;case L7:o=n._init,n=o(n._payload),r=VJ(n,r),WM(e,t,n,r,void 0);return}throw Error(Pt(130,n==null?n:typeof n,""))}}function Ys(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case xHt:WM(e,t,n.type,n.props,n.ref);return;case qje:throw Error(Pt(257));case L7:var r=n._init;n=r(n._payload),Ys(e,t,n);return}if(VM(n)){HJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=PJ&&n[PJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);HJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=EJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=EJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function HJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=UM(i,r,o);try{YM(e,t,n[o])}finally{t.treeContext=i}}}function YM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ys(e,t,n)}catch(l){if(z7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=ak(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=V7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ik(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ik(i),l}}function RHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,uTe(this,t,e)}function cTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Pt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return cTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ck(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ck(e,n)}else e.completedSegments.push(t)}function uTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Oy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ck(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(RHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ck(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function dTe(e){if(e.status!==2){var t=pp,n=pO.current;pO.current=BJ;var r=jS;jS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){ik(s.context);try{Ys(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(F7),s.abortSet.delete(s),l.status=1,uTe(a,s.blockedBoundary,l)}catch(v){if(z7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=Ax(a,f);if(d===null?lk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&H7(e,e.destination)}catch(v){Ax(e,v),lk(e,v)}finally{jS=r,pO.current=n,n===BJ&&ik(t)}}}function GC(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ge(t,jVt),Ge(t,e.placeholderPrefix),e=Rt(r.toString(16)),Ge(t,e),or(t,TVt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ge(t,r[i]);o=sA(e,t,o)}for(;i<r.length-1;i++)Ge(t,r[i]);return i<r.length&&(o=or(t,r[i])),o;default:throw Error(Pt(390))}}function sA(e,t,n){var r=n.boundary;if(r===null)return GC(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,or(t,PVt),Ge(t,$Vt),r&&(Ge(t,MVt),Ge(t,Rt(Ko(r))),Ge(t,RVt)),or(t,FVt),GC(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Oe(o.boundaryPrefix+i.toString(16)),r=r.id=o,IJ(t,e.responseState,r),GC(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),IJ(t,e.responseState,r.id),GC(e,t,n);else{if(or(t,AVt),n=r.completedSegments,n.length!==1)throw Error(Pt(391));sA(e,t,n[0])}return or(t,OVt)}function UJ(e,t,n){return iHt(t,e.responseState,n.formatContext,n.id),sA(e,t,n),sHt(t,n.formatContext)}function WJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)fTe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ge(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ge(t,fHt):(e.sentCompleteBoundaryFunction=!0,Ge(t,dHt)),r===null)throw Error(Pt(395));return n=Rt(n.toString(16)),Ge(t,r),Ge(t,hHt),Ge(t,e.segmentPrefix),Ge(t,n),or(t,pHt)}function fTe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Pt(392));return UJ(e,t,r)}return UJ(e,t,r),e=e.responseState,Ge(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ge(t,lHt):(e.sentCompleteSegmentFunction=!0,Ge(t,aHt)),Ge(t,e.segmentPrefix),o=Rt(o.toString(16)),Ge(t,o),Ge(t,cHt),Ge(t,e.placeholderPrefix),Ge(t,o),or(t,uHt)}function H7(e,t){Us=new Uint8Array(512),Ws=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){sA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ge(t,r[n]);n<r.length&&or(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ge(r,a.startInlineScript),a.sentClientRenderFunction?Ge(r,gHt):(a.sentClientRenderFunction=!0,Ge(r,mHt)),l===null)throw Error(Pt(395));Ge(r,l),Ge(r,vHt),(u||d||f)&&(Ge(r,fO),Ge(r,Rt(hO(u||"")))),(d||f)&&(Ge(r,fO),Ge(r,Rt(hO(d||"")))),f&&(Ge(r,fO),Ge(r,Rt(hO(f)))),or(r,yHt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)WJ(e,t,p[i]);p.splice(0,i),wJ(t),Us=new Uint8Array(512),Ws=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!fTe(o,s,v,g[a])){a++,g.splice(0,a);var x=!1;break e}g.splice(0,a),x=!0}if(!x){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var b=e.completedBoundaries;for(i=0;i<b.length;i++)WJ(e,t,b[i]);b.splice(0,i)}finally{wJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function YJ(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return cTe(r,e,t)}),n.clear(),e.destination!==null&&H7(e,e.destination)}catch(r){Ax(e,r),lk(e,r)}}$7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=$Ht(e,gVt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),vVt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,Uje(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{H7(a,f)}catch(p){Ax(a,p),lk(a,p)}}},cancel:function(){YJ(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var l=t.signal,u=function(){YJ(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}dTe(a)})};$7.version="18.2.0";var Z0,hTe;Z0=K0,hTe=$7;Z0.version;var MHt=Z0.renderToString;Z0.renderToStaticMarkup;Z0.renderToNodeStream;Z0.renderToStaticNodeStream;hTe.renderToReadableStream;function FHt(e){return typeof e=="function"}function qJ(e){return FHt(e)?e():e}const LHt=()=>{};function BHt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=oe.useContext(e),l=oe.useRef();oe.useLayoutEffect(()=>{if(n===null)return LHt;const u=qJ(r);return i(n,u),l.current=u,()=>{a(n)}},[i,n,a,r]),oe.useLayoutEffect(()=>{const u=qJ(r);typeof l.current<"u"&&!o(l.current,u)&&n!==null&&s(n,u),l.current=u})}}function NHt(){const e=new Map,{publish:t,subscribe:n}=hF(),r=Qx(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(l,u){e.has(l),e.set(l,u),r(o())}function s(l,u){e.has(l),e.set(l,u),r(o())}function a(l){e.has(l),e.delete(l),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let Jv=!1;const mO=e=>{Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),Jv=!0};function zHt(){return Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Jv=!0,[]}const VHt=()=>(Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Jv=!0,()=>{}),HHt={add:mO,update:mO,remove:mO,subscribe:VHt,read:zHt};let UHt=0;const WHt=()=>++UHt;function pTe(){const e=oe.createContext(HHt);function t(){const o=oe.useContext(e),[i,s]=oe.useState(o.read());return oe.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=oe.useMemo(()=>NHt(),[]);return c.jsx(e.Provider,{value:i,children:o.children})}const r=BHt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(oe.useRef(WHt()).current),o,i)}}}const Fs=4,YHt=16,GJ=8,lt=8,Ta=2,KC=4,bi=12,ng=2,qHt=!1,GHt=!1,U7=pTe(),KHt=U7.Tracker,W7=U7.useReportedValues,mTe=U7.useReporter,Dm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),ZHt=e=>{const t=oe.useRef(null),{onSetFocus:n}=oe.useContext(Dm),[r,o]=oe.useState(!1),i=oe.useCallback(()=>{o(!0)},[]),s=oe.useCallback(()=>{o(!1)},[]);mTe("change-".concat(vr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),fF);const a=h.useCallback(l=>{XHt(l,n,e.path)},[n,e.path]);return c.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function XHt(e,t,n){e.stopPropagation(),t(n)}function Go(e){const t=h.useRef(e);return Yt(t.current,e)||(t.current=e),t.current}function lh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Go(i),a=Ao(()=>be(s).pipe(tt(l=>fo(be({type:"loading"}),e(l).pipe(ce(u=>({type:"value",value:u}))))),Wa((l,u)=>{let[d]=l;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Kn((l,u)=>{let[d,f]=l,[p,m]=u;return!(d!==p||f!==m)}),ce(l=>({type:"tuple",tuple:l})),Xn(l=>be({type:"error",error:l}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function ho(e){return e!=null}const QHt="drafts",Y7="".concat(QHt,".");function q7(e){return e.startsWith(Y7)}function gTe(e){return{draftId:ni(e),publishedId:Zn(e)}}function ni(e){return q7(e)?e:Y7+e}function Zn(e){return q7(e)?e.slice(Y7.length):e}function G7(e){const t=e.reduce((n,r)=>{const o=Zn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function JHt(e){return G7(e).map(t=>t.draft||t.published).filter(ho)}const eUt=Object.freeze({}),Vn=Object.freeze([]);function tUt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const nUt=tUt();function KJ(e){return Array.isArray(e)}function _t(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function TS(e){return typeof e=="string"}const rUt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:d_e,oUt=()=>{const e=hF(),t=new rUt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(l=>l.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},iUt=oUt(),sUt=["sanity.imageAsset","sanity.fileAsset"];function aUt(e){return e.type==="document"&&sUt.includes(e.name)}function sOn(e){return e.type==="document"&&!aUt(e)}const lUt=["match","in","asc","desc","true","false","null"],cUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,vTe=e=>!cUt.test(e)||lUt.includes(e),K7=e=>'["'.concat(e,'"]'),uUt=e=>"@".concat(K7(e)),dUt=e=>Array.isArray(e)&&e.length===0,fUt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(dUt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;vTe(r)?t=o?uUt(r):"".concat(t).concat(K7(r)):t=o?r:"".concat(t,".").concat(r)}return t},Qp=hUt();function hUt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const pUt={isLoading:!0,value:void 0,error:null};function yTe(e,t){return Ao(()=>e.pipe(mUt()),[e],typeof t>"u"?pUt:{isLoading:!1,value:t,error:null})}function mUt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),Xn(t=>be({isLoading:!1,value:void 0,error:t})))}function gUt(e,t,n){return h.useMemo(()=>oT(e,t,n),[e,n,t])}function bTe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var ZJ=Object.freeze,vUt=Object.defineProperty,xu=(e,t)=>ZJ(vUt(e,"raw",{value:ZJ(t||e.slice())})),XJ,QJ,JJ,eee,tee,nee,ree,oee,iee;const yUt=250,bUt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(XJ||(XJ=xu([`
        `,` {
          display: none;
        }
      `])),qM):de(eee||(eee=xu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(QJ||(QJ=xu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),qM),r&&de(JJ||(JJ=xu([`
        `,` {
          opacity: 0;
        }
      `])),xTe))}),xUt=O.div(tee||(tee=xu([`
  flex-grow: 1;
  min-width: 0;
`]))),qM=O.div(nee||(nee=xu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),wUt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(ree||(ree=xu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),xTe=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de(iee||(iee=xu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),yUt,r,n&&de(oee||(oee=xu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function _Ut(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=oe.useContext(Dm),{zIndex:a}=Rc(),l=h.useMemo(()=>n||!r?null:c.jsxs(qM,{"data-testid":"change-bar",$zIndex:a,children:[c.jsx(wUt,{"data-testid":"change-bar__marker"}),c.jsx(xTe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return c.jsxs(bUt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[c.jsx(xUt,{"data-testid":"change-bar__field-wrapper",children:t}),l]})}const CUt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:l=Vn,withHoverEffect:u,...d}=t,f=Rc(),[p,m]=h.useState(!1),v=h.useCallback(b=>{s==null||s(b),m(!0)},[s]),g=h.useCallback(b=>{a==null||a(b),m(!1)},[a]),x=h.useRef(null);return mTe(r?null:"field-".concat(vr(l)),()=>({element:x.current,path:l,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),fF),c.jsx("div",{...d,ref:x,onMouseEnter:v,onMouseLeave:g,children:c.jsx(_Ut,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ri(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return c.jsx(CUt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}oe.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const GM=oe.createContext(null);function SUt(e){const t=oe.useContext(GM);oe.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const see=()=>{},Z7=oe.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=lr(n),a=h.useContext(GM),l=h.useMemo(()=>hF(),[]);return h.useEffect(()=>o?l.subscribe(o):see,[l,o]),h.useEffect(()=>a?l.subscribe(a.publish):see,[a,l]),h.useEffect(()=>{const u=f=>{l.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[l,s]),c.jsx(GM.Provider,{value:l,children:oe.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function EUt(e){let{onScroll:t,children:n}=e;return SUt(t),c.jsx(c.Fragment,{children:n})}function aee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Cf(r),i="".concat(e,"-").concat(vr(o));if(n.has(i))return n.get(i);let s;for(const[a,l]of n){if(!("path"in l)||!a.startsWith(e))continue;const u=wRe(o,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&Sl(d);if(u!==0&&!(u!==l.path.length&&!f)&&(s=l,u===o.length))break}return s}function kUt(e){return e[0]!=="changePanel"}function wTe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function jUt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&wTe(e)}const TUt=-15;function lee(e){let n=e.element;for(;!jUt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+TUt,left:0,behavior:"smooth"})}const cee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),wTe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function ZC(e,t,n){return["M ".concat(e-KC," ").concat(t-KC*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+KC," ").concat(t-KC*n)].join("")}function gO(e,t){return"M".concat(e," ").concat(t)}function to(e,t){return"L".concat(e," ").concat(t)}function AUt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ls(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function DUt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],l=Math.min(Fs,Math.abs(o-s)/2);return t.isAbove?a.push(gO(r+lt,o-bi+Ta),to(r+lt,o-Fs),ls(r+lt,o,r+lt+Fs,o)):t.isBelow?a.push(gO(r+lt,o+bi-Ta),to(r+lt,o+Fs),ls(r+lt,o,r+lt+Fs,o)):a.push(gO(r,o)),n.isAbove?o<n.bounds.top?a.push(to(n.bounds.left-8-l,o),ls(n.bounds.left-8,o,n.bounds.left-8,o+l),to(n.bounds.left-8,s-l),ls(n.bounds.left-8,s,n.bounds.left-8+l,s),to(n.bounds.left+lt-Fs,s),ls(n.bounds.left+lt,s,n.bounds.left+lt,s-Fs),to(n.bounds.left+lt,s-bi+Ta)):a.push(to(n.bounds.left+lt-Fs,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o-Fs),to(n.bounds.left+lt,s-bi+Ta)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(to(n.bounds.left-lt-l,o),ls(n.bounds.left-lt,o,n.bounds.left-lt,o-l),to(n.bounds.left-lt,s+l),ls(n.bounds.left-lt,s,n.bounds.left-lt+l,s),to(n.bounds.left+lt-Fs,s),ls(n.bounds.left+lt,s,n.bounds.left+lt,s+Fs),to(n.bounds.left+lt,s+bi-Ta)):a.push(to(n.bounds.left+lt-Fs,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o+Fs),to(n.bounds.left+lt,s+bi-Ta)):o<s?a.push(to(n.bounds.left+lt-l,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o+l),to(n.bounds.left+lt,s-l),ls(n.bounds.left+lt,s,n.bounds.left+lt+l,s),to(i,s)):a.push(to(n.bounds.left+lt-l,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o-l),to(n.bounds.left+lt,s+l),ls(n.bounds.left+lt,s,n.bounds.left+lt+l,s),to(i,s)),AUt(a)}function uee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ta,o=e.top>t.top+t.height-Ta;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+GJ,endY:e.top+e.height-GJ,isAbove:r,isBelow:o,outOfBounds:r||o}}function IUt(e){const t={top:e.from.bounds.top+bi,bottom:e.from.bounds.top+e.from.bounds.height-bi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-bi*2},n=uee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+bi,bottom:e.to.bounds.top+e.to.bounds.height-bi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-bi*2},o=uee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function PUt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return c.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var dee=Object.freeze,OUt=Object.defineProperty,aA=(e,t)=>dee(OUt(e,"raw",{value:dee(t||e.slice())})),fee,hee,pee,mee;O.rect(fee||(fee=aA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const Z1=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(hee||(hee=aA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),$Ut=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(pee||(pee=aA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),RUt=O(PUt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(mee||(mee=aA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),MUt=h.memo(function(t){let{from:n,to:r}=t;const o=IUt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=DUt(o);return c.jsxs(c.Fragment,{children:[c.jsx($Ut,{d:i,strokeWidth:YHt}),c.jsx(Z1,{d:i,strokeWidth:ng}),c.jsx(RUt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:ng,bounds:r.bounds}),o.from.isAbove&&c.jsx(Z1,{d:ZC(o.from.left+lt,o.from.bounds.top-bi+Ta,-1),strokeWidth:ng}),o.from.isBelow&&c.jsx(Z1,{d:ZC(o.from.left+lt,o.from.bounds.top+o.from.bounds.height+bi-Ta,1),strokeWidth:ng}),o.to.isAbove&&c.jsx(Z1,{d:ZC(o.to.bounds.left+lt,o.to.bounds.top-bi+Ta,-1),strokeWidth:ng}),o.to.isBelow&&c.jsx(Z1,{d:ZC(o.to.bounds.left+lt,o.to.bounds.top+o.to.bounds.height+bi-Ta,1),strokeWidth:ng}),qHt]})});function FUt(e,t){h.useEffect(()=>iUt.observe(e,t),[e,t])}var gee=Object.freeze,LUt=Object.defineProperty,BUt=(e,t)=>gee(LUt(e,"raw",{value:gee(t||e.slice())})),vee;const NUt=O.svg(vee||(vee=BUt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function yee(e,t,n,r){const o=[],i=[];for(const u of e){if(!kUt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=aee("field",d,n),p=aee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(ho).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...cee(d.element,r)},change:{...f,...cee(f.element,r)}}}),isHoverConnector:s}}function zUt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=oe.useState(null),i=W7(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},l]=h.useState(()=>yee(i,r,s,t)),u=h.useMemo(()=>wm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{l(yee(i,r,s,t))},[s,i,r,t]);return FUt(t,d),c.jsx(EUt,{onScroll:d,children:c.jsx(NUt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?c.jsx(VUt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function VUt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{lee(n),lee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),l=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:c.jsx(MUt,{from:l,to:u})}),GHt]})}function HUt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,l]=oe.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return c.jsx(Dm.Provider,{value:u,children:c.jsx(KHt,{children:c.jsxs(Z7,{...s,ref:l,className:n,children:[t,a&&c.jsx(zUt,{rootElement:a,onSetFocus:i})]})})})}const aOn=HUt;function UUt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function X7(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&UUt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var bee=Object.freeze,WUt=Object.defineProperty,lA=(e,t)=>bee(WUt(e,"raw",{value:bee(t||e.slice())})),xee,wee,_ee,Cee;const YUt="data-active",vO="a,button",qUt=O.div(e=>{let{theme:t,offset:n}=e;return de(xee||(xee=lA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ge(t.sanity.radius[1]),-n,-n,-n,_Te,X7({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),GUt=O.div(wee||(wee=lA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),_Te=O(F)(_ee||(_ee=lA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),KUt=O(F).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Cee||(Cee=lA([`
  position: relative;
  width: 100%;
`]))),Im=h.forwardRef(function(t,n){let{activeItemDataAttr:r=YUt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:l,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:x,items:b,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:_,overscan:C,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,M]=h.useState(!1),[$,V]=h.useState(null),[L,H]=h.useState(null),U=h.useCallback(me=>{if(!y)return;const[Ue]=[...me.getVirtualItems()].reverse();if(!Ue)return;Ue.index>=b.length-w-1&&k.current&&y()},[y,b.length,w]),z=P_e({count:b.length,getItemKey:f,getScrollElement:()=>L,estimateSize:()=>x,onChange:U,overscan:C}),Y=h.useMemo(()=>{let me=-1;return b.reduce((Ue,qe,Ne)=>{var bt,Tt;const St=(bt=d==null?void 0:d(Ne))!=null?bt:!1,Zt=(Tt=p==null?void 0:p(Ne))!=null?Tt:!1;return St||(me+=1),Ue[Ne]={activeIndex:St?null:me,disabled:St,selected:Zt},Ue},[])},[d,p,b]),te=h.useMemo(()=>Y.filter(me=>!me.disabled).length,[Y]),N=h.useCallback(me=>$==null?void 0:$.setAttribute("data-enabled",(!me).toString()),[$]),G=h.useCallback(me=>"".concat(T.current,"-item-").concat(me),[]),q=h.useCallback(()=>"".concat(T.current,"-children"),[]),K=h.useCallback(()=>{const me=[g,L].some(qe=>document.activeElement===qe);if(_&&!me&&!P)return;const Ue=Array.from((D==null?void 0:D.children)||[]);Ue==null||Ue.forEach(qe=>{var Ne,bt,Tt;const St=Number((Ne=qe.dataset)==null?void 0:Ne.index),Zt=(bt=Y[St])==null?void 0:bt.activeIndex;(Tt=qe.querySelector(vO))==null||Tt.toggleAttribute(r,Zt===A.current)})},[r,D==null?void 0:D.children,P,g,Y,_,L]),Q=h.useCallback(()=>{const me=Array.from((D==null?void 0:D.children)||[]);me==null||me.forEach(Ue=>{var qe;(qe=Ue.querySelector(vO))==null||qe.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),X=h.useMemo(()=>oT(K,200),[K]),Z=h.useCallback(()=>{const me=A==null?void 0:A.current;b.length>0?(g==null||g.setAttribute("aria-activedescendant",G(me)),L==null||L.setAttribute("aria-activedescendant",G(me))):(g==null||g.removeAttribute("aria-activedescendant"),L==null||L.removeAttribute("aria-activedescendant"))},[G,g,b.length,L]),re=h.useCallback(()=>{var me,Ue;const qe=D==null?void 0:D.parentElement;if(D&&qe){const Ne=qe.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ue=(me=z.getVirtualItemForOffset(Ne))==null?void 0:me.index)!=null?Ue:-1}return-1},[D,z]),le=h.useCallback(me=>{let{index:Ue,scrollAlign:qe,scrollIntoView:Ne=!0}=me;if(A.current=Ue,Z(),K(),Ne){const bt=Y.findIndex(Tt=>Tt.activeIndex===Ue);bt>-1&&z.scrollToIndex(bt,qe?{align:qe}:{})}},[Z,Y,K,z]),he=h.useCallback(me=>{let Ue=-1;const qe=te-1;if(me==="next"){const Ne=E?0:qe;Ue=A.current<te-1?A.current+1:Ne}if(me==="previous"){const Ne=E?qe:0;Ue=A.current>0?A.current-1:Ne}le({index:Ue,scrollIntoView:!0}),N(!1)},[te,N,le,E]),ie=h.useCallback(me=>{switch(me){case"input":g==null||g.focus();break;case"list":L==null||L.focus();break}},[g,L]),ye=h.useCallback(()=>{g==null||g.focus()},[g]),Ce=h.useCallback(()=>{L==null||L.focus()},[L]),Ae=h.useCallback(me=>()=>{le({index:me,scrollIntoView:!1})},[le]),xe=h.useCallback(()=>{K()},[K]),Ze=h.useCallback(me=>Ue=>{const qe=Array.from((D==null?void 0:D.children)||[]);if(qe.length&&(Ue.key==="ArrowDown"&&(Ue.preventDefault(),ie(me),he("next")),Ue.key==="ArrowUp"&&(Ue.preventDefault(),ie(me),he("previous")),Ue.key==="Enter")){Ue.preventDefault(),ie(me);const Ne=qe.find(bt=>Number(bt.dataset.index)===Y.findIndex(Tt=>Tt.activeIndex===A.current));if(Ne){const bt=Ne==null?void 0:Ne.querySelector(vO);bt==null||bt.click()}}},[D==null?void 0:D.children,ie,Y,he]),rt=h.useCallback(me=>Ze("input")(me),[Ze]),at=h.useCallback(me=>Ze("list")(me),[Ze]),nt=h.useCallback(()=>{_&&(K(),M(!0))},[_,K]),Kt=h.useCallback(()=>{_&&(Q(),M(!1))},[Q,_]);h.useImperativeHandle(n,()=>({focusInputElement(){ye()},focusListElement(){Ce()},getTopIndex(){return re()},scrollToIndex(me){le({index:me}),N(!0)}}),[N,ye,Ce,re,le]),h.useEffect(()=>{typeof m<"u"&&!k.current&&le({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,_,le]),h.useEffect(()=>{function me(){N(!0)}return L==null||L.addEventListener("mousemove",me),L==null||L.addEventListener("wheel",me,{passive:!0}),()=>{L==null||L.removeEventListener("mousemove",me),L==null||L.removeEventListener("wheel",me)}},[N,L]),h.useEffect(()=>(g==null||g.addEventListener("focus",xe),g==null||g.addEventListener("keydown",rt),L==null||L.addEventListener("focus",xe),L==null||L.addEventListener("keydown",at),()=>{g==null||g.removeEventListener("focus",xe),g==null||g.removeEventListener("keydown",rt),L==null||L.removeEventListener("focus",xe),L==null||L.removeEventListener("keydown",at)}),[a,xe,Ze,rt,at,Q,g,K,L]),h.useEffect(()=>{Z()},[Z,b]),h.useEffect(()=>{const me=new MutationObserver(X);return D&&me.observe(D,{childList:!0,subtree:!0}),()=>{me.disconnect()}},[D,X]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",q()),g==null||g.setAttribute("role","combobox")},[q,g]),h.useEffect(()=>{s&&ie(s)},[s,a,Ce,ye,ie]);const Ye=a?0:-1;return c.jsxs(_Te,{id:q(),onMouseEnter:nt,onMouseLeave:Kt,ref:H,sizing:"border",tabIndex:Ye,...j,children:[a&&c.jsx(qUt,{offset:u}),c.jsx(GUt,{"aria-hidden":"true","data-enabled":!0,ref:V}),z&&c.jsx(KUt,{forwardedAs:"ul",$height:z.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:z.getVirtualItems().map(me=>{const Ue=me.index,{activeIndex:qe,disabled:Ne,selected:bt}=Y[Ue],Tt=S(b[Ue],{activeIndex:qe,disabled:Ne,selected:bt,virtualIndex:Ue}),St=h.cloneElement(Tt,{tabIndex:-1}),Zt=typeof qe=="number"&&!Ne?{"aria-posinset":qe+1,...i?{"aria-selected":bt.toString()}:{},"aria-setsize":te,id:G(qe),role:"option",onMouseEnter:Ae(qe)}:{};return c.jsx(ne,{as:"li","data-index":Ue,ref:l?void 0:z.measureElement,style:{flex:1,...l?{height:"".concat(me.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(me.start,"px)"),width:"100%"},tabIndex:-1,...Zt,children:St},me.key)})})]})}),See=new WeakMap;let ZUt=0;function Eee(e){const t=See.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(ZUt++);return See.set(e,n),n}function XUt(e){const t=h.useRef(void 0);return Bf(e,t.current)||(t.current=e),[t.current]}function QUt(e,t){h.useEffect(e,XUt(t))}const JUt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,l=n({...r,onComplete:()=>{s(o)}});return QUt(()=>(i(o,l),a(),()=>{i(o,null),a()}),l),null},(e,t)=>e.args===t.args),eWt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},tWt=e=>clearTimeout(e),nWt=typeof requestIdleCallback>"u"?eWt:requestIdleCallback,rWt=typeof cancelIdleCallback>"u"?tWt:cancelIdleCallback,oWt={trailing:!0};function lOn(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[l,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&rWt(d.current),d.current=nWt(()=>{d.current=null,a(b=>b+1)})},[]),p=gUt(f,60,oWt),m=h.useCallback((b,y)=>{if(y===null)delete i.current[b];else{const w=i.current[b];i.current[b]={...w,value:y}}},[]),v=h.useCallback(b=>{u(y=>({...y,[b]:(y[b]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(b=>Eee(b)),[t]),x=h.useMemo(()=>g.map(b=>{var y;return(y=i.current[b])==null?void 0:y.value}).filter(ho),[g,s]);return c.jsxs(c.Fragment,{children:[t.map(b=>{const y=Eee(b),w=l[y]||0;return c.jsx(JUt,{hook:b,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(y,"-").concat(w))}),r({states:x})]})}function iWt(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(sWt):n;return c.jsx(CL,{...r,keys:o})}const kee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function sWt(e){const t=e.toLowerCase();return t==="alt"&&kee?jee(e,"option"):t==="option"&&!kee?jee(e,"alt"):e}function jee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Pc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return c.jsxs(F,{padding:2,children:[c.jsxs(Jt,{space:2,children:[c.jsx(B,{size:1,children:c.jsx(Ef,{})}),c.jsx(B,{weight:"semibold",children:n})]}),c.jsx(Jt,{marginTop:4,children:c.jsx(B,{size:1,children:o.length===0?c.jsxs(c.Fragment,{children:["You have no role that grants you permission to ",r]}):c.jsxs(c.Fragment,{children:["Your role",i&&"s"," ",aWt(o.map(s=>c.jsx("code",{children:s.title},s.name)),c.jsx(c.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function aWt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const lWt=O(sa)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return dt(r,e.$width,o=>({width:o==="auto"?"none":ge(n[o]),maxWidth:"100%"}))}),cWt=oe.forwardRef(function(t,n){const{width:r,...o}=t,i=ve(r);return c.jsx(lWt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Tee=Object.freeze,uWt=Object.defineProperty,CTe=(e,t)=>Tee(uWt(e,"raw",{value:Tee(t||e.slice())})),Aee,Dee;const dWt=O(hn)(()=>de(Aee||(Aee=CTe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),fWt=O(es)(e=>{const t=e.theme.sanity.radius[3];return de(Dee||(Dee=CTe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function hWt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),l=c.jsx(cWt,{width:s,children:c.jsx(od,{autoFocus:!0,children:c.jsxs(ne,{ref:i,children:[c.jsx(fWt,{children:c.jsx(F,{padding:2,paddingLeft:3,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(B,{textOverflow:"ellipsis",weight:"semibold",children:n})}),c.jsx(ae,{icon:ua,mode:"bleed",onClick:a})]})})}),t]})})});return c.jsx(dWt,{portal:!0,constrainSize:!0,content:l,open:!0,referenceElement:o})}var Iee=Object.freeze,pWt=Object.defineProperty,mWt=(e,t)=>Iee(pWt(e,"raw",{value:Iee(t||e.slice())})),Pee;const gWt=O(ee)(()=>de(Pee||(Pee=mWt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),STe=h.createContext({selected:!1});function vWt(){const e=h.useContext(STe);if(!e)throw new Error("PreviewCard: missing context value");return e}const yv=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return c.jsx(gWt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:c.jsx(STe.Provider,{value:{selected:o},children:r})})}),Xi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},yWt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Oee=Object.freeze,bWt=Object.defineProperty,xWt=(e,t)=>Oee(bWt(e,"raw",{value:Oee(t||e.slice())})),$ee;const ETe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=yWt[n];return de($ee||($ee=xWt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we cant use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg>  icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ge(i),o?"100%":ge(s),o?void 0:ge(i),l=>{let{theme:u}=l;return ge(u.sanity.radius[r])},a)});ETe.displayName="MediaWrapper";function Gw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return c.jsxs(ETe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[wWt({dimensions:n,layout:r,media:o}),t&&c.jsx("span",{})]})}function wWt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Or.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?c.jsx(B,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function _Wt(e,t,n){return Or.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?c.jsx("div",{children:e}):e}function Bo(e,t,n){return typeof e=="string"?e:Or.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var Ree=Object.freeze,CWt=Object.defineProperty,Q7=(e,t)=>Ree(CWt(e,"raw",{value:Ree(t||e.slice())})),Mee,Fee,Lee;const SWt={...Xi.default,aspect:1,fit:"crop",dpr:Cm()},Bee=O(W)(Mee||(Mee=Q7([`
  height: `,`;
`])),ge(Xi.default.height)),EWt=O(Si).attrs({animated:!0,radius:1})(Fee||(Fee=Q7([`
  max-width: `,`;
  width: 80%;
`])),ge(160)),kWt=O(Si).attrs({animated:!0,radius:1,size:1})(Lee||(Lee=Q7([`
  max-width: `,`;
  width: 60%;
`])),ge(120));function kTe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,l=Hht(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&c.jsx(F,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Bo(o,"default")});return i?c.jsxs(Bee,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&c.jsx(k0,{animated:!0,marginRight:2,radius:2,style:Xi.default}),c.jsxs(ne,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[c.jsx(EWt,{}),c.jsx(kWt,{})]}),u]}):c.jsxs(Bee,{align:"center",className:l,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&c.jsx(Gw,{dimensions:SWt,layout:"default",media:r,styles:a}),c.jsxs(ne,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[c.jsxs(B,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Bo(t,"default"),!t&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Bo(n,"default")}),s&&c.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Nee=Object.freeze,jWt=Object.defineProperty,Pm=(e,t)=>Nee(jWt(e,"raw",{value:Nee(t||e.slice())})),zee,Vee,Hee,Uee,Wee,Yee,qee;const Gee=O(W).attrs({align:"center"})(zee||(zee=Pm([`
  height: `,`;
`])),ge(Xi.detail.height)),TWt=O(F)(Vee||(Vee=Pm([`
  white-space: nowrap;
`]))),AWt=O(k0).attrs({animated:!0,radius:2})(Hee||(Hee=Pm([`
  width: `,`;
  height: `,`;
`])),ge(Xi.detail.width),ge(Xi.detail.height)),DWt=O(Si).attrs({animated:!0,radius:1})(Uee||(Uee=Pm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ge(160)),IWt=O(Si).attrs({animated:!0,radius:1,size:1})(Wee||(Wee=Pm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ge(120)),PWt=O(Si).attrs({animated:!0,radius:1,size:1})(Yee||(Yee=Pm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ge(180)),OWt=O(B)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(qee||(qee=Pm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ge(i),o)}),$Wt={...Xi.detail,fit:"crop",aspect:1,dpr:Cm()};function RWt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=$Wt,media:i,status:s,children:a,isPlaceholder:l}=e,u=s&&c.jsx(TWt,{marginLeft:3,paddingRight:1,children:Bo(s,"detail")});return l?c.jsxs(Gee,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(AWt,{"data-testid":"detail-preview__media"}),c.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(W,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(ne,{flex:1,space:2,children:[c.jsx(DWt,{}),c.jsx(IWt,{})]}),u]}),r&&c.jsx(F,{marginTop:3,children:c.jsx(PWt,{})})]})]}):c.jsxs(Gee,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(Gw,{dimensions:o,layout:"detail",media:i}),c.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(W,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(ne,{flex:1,space:2,children:[c.jsxs(B,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Bo(t,"detail"),!t&&c.jsx(c.Fragment,{children:"Untitled"})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Bo(n,"detail")})]}),u]}),r&&c.jsx(F,{marginTop:3,children:c.jsx(OWt,{muted:!0,size:1,children:Bo(r,"detail")})})]}),a]})}var Kee=Object.freeze,MWt=Object.defineProperty,J7=(e,t)=>Kee(MWt(e,"raw",{value:Kee(t||e.slice())})),Zee,Xee,Qee;const al=43,eB=3,FWt=O.svg(Zee||(Zee=J7([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),al,al),LWt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(Xee||(Xee=J7([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,eB)}),BWt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(Qee||(Qee=J7([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,eB)});function NWt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=al/2-eB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(al/2," ").concat(al/2," ").concat(al," ").concat(al);return c.jsxs(FWt,{viewBox:s,children:[c.jsx(LWt,{cx:al,cy:al,r}),c.jsx(BWt,{cx:al,cy:al,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Jee=Object.freeze,zWt=Object.defineProperty,jTe=(e,t)=>Jee(zWt(e,"raw",{value:Jee(t||e.slice())})),ete,tte;const VWt=.5,HWt=O(ee)(ete||(ete=jTe([`
  overflow: hidden;
  overflow: clip;
`]))),UWt=O(ee)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(tte||(tte=jTe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),VWt,fe.blue[n.dark?400:500].hex)});function WWt(e){const{value:t}=e;return c.jsx(HWt,{radius:5,children:c.jsx(UWt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var nte=Object.freeze,YWt=Object.defineProperty,Kw=(e,t)=>nte(YWt(e,"raw",{value:nte(t||e.slice())})),rte,ote,ite,ste,ate;const qWt=O(F)(rte||(rte=Kw([`
  position: relative;
`]))),GWt=O(W).attrs({align:"center",justify:"center"})(ote||(ote=Kw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),KWt=O(k0).attrs({animated:!0,radius:2})(ite||(ite=Kw([`
  width: 100%;
  height: 100%;
`]))),ZWt=O(W).attrs({align:"center",justify:"center"})(ste||(ste=Kw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),XWt=O(ne).attrs({padding:2,space:2})(ate||(ate=Kw([`
  max-width: `,`;
`])),ge(200)),QWt={...Xi.media,aspect:1,fit:"crop",dpr:Cm()};function JWt(e){const{media:t,mediaDimensions:n=QWt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:l=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:c.jsxs(XWt,{children:[a&&c.jsx(B,{align:"center",size:1,weight:"semibold",children:Bo(a,"media")}),s&&c.jsx(B,{align:"center",muted:!0,size:1,children:Bo(s,"media")})]}),[s,a]);return c.jsxs(qWt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[c.jsx("div",{style:f}),c.jsx(yt,{content:p,disabled:!p,placement:"top",portal:!0,children:c.jsxs(GWt,{children:[o?c.jsx(KWt,{}):c.jsx(Gw,{border:l,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&c.jsx(ZWt,{children:c.jsx(NWt,{value:i})})]})}),r]})}var lte=Object.freeze,eYt=Object.defineProperty,tB=(e,t)=>lte(eYt(e,"raw",{value:lte(t||e.slice())})),cte,ute,dte;const tYt=O(W).attrs({align:"center"})(cte||(cte=tB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ge(Xi.block.height)),nYt=O(ee)(ute||(ute=tB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),rYt=O(F).attrs({overflow:"hidden"})(dte||(dte=tB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),oYt={...Xi.blockImage,fit:"fillmax",dpr:Cm()},iYt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function sYt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=oYt,media:a,children:l,status:u}=e;return c.jsxs(rYt,{children:[c.jsxs(ne,{children:[c.jsxs(tYt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[c.jsxs(ne,{flex:1,space:2,children:[(n||i)&&c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Bo(n,"block"):i}),r&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Bo(r,"block")})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[u&&c.jsx(F,{paddingX:2,paddingY:3,children:Bo(u,"block")}),t]})]}),c.jsx(nYt,{$ratio:iYt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:c.jsx(Gw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&c.jsx(F,{paddingX:2,paddingY:3,children:c.jsx(B,{muted:!0,size:1,children:Bo(o,"block")})}),l&&c.jsx("div",{children:l})]})}var fte=Object.freeze,aYt=Object.defineProperty,lYt=(e,t)=>fte(aYt(e,"raw",{value:fte(t||e.slice())})),hte;const cYt={...Xi.block,aspect:1,fit:"crop",dpr:Cm()},uYt=O(W).attrs({align:"center"})(hte||(hte=lYt([`
  min-height: `,`;
`])),ge(Xi.block.height));function dYt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=cYt,media:s,status:a,children:l}=e;return c.jsxs(ne,{"data-testid":"block-preview",space:1,children:[c.jsxs(uYt,{"data-testid":"block-preview__header",children:[s&&c.jsx(Gw,{dimensions:i,layout:"block",media:s}),c.jsxs(F,{flex:1,paddingLeft:s?2:1,children:[c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Bo(n,"block"):"Untitled"}),r&&c.jsx(F,{marginTop:2,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Bo(r,"block")})}),o&&c.jsx(F,{marginTop:3,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Bo(o,"block")})})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[a&&c.jsx(F,{paddingX:2,paddingY:3,children:Bo(a,"block")}),t]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}var pte=Object.freeze,fYt=Object.defineProperty,nB=(e,t)=>pte(fYt(e,"raw",{value:pte(t||e.slice())})),mte,gte,vte;const hYt=O.span(mte||(mte=nB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),pYt=O.span(gte||(gte=nB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])},e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),mYt=O(B).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(vte||(vte=nB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),gYt={...Xi.inline,fit:"crop",aspect:1,dpr:Cm()};function vYt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=gYt}=e;return c.jsxs(hYt,{"data-testid":"inline-preview",children:[r&&c.jsxs(pYt,{"data-testid":"inline-preview-media",children:[_Wt(r,"inline",o),c.jsx("span",{})]}),c.jsx(mYt,{"data-testid":"inline-preview-title",size:1,children:Bo(t,"inline",n)})]})}var yte=Object.freeze,yYt=Object.defineProperty,cA=(e,t)=>yte(yYt(e,"raw",{value:yte(t||e.slice())})),bte,xte,wte,_te;({...Xi.default,dpr:Cm()});O(F)(bte||(bte=cA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(W).attrs({align:"center"})(xte||(xte=cA([`
  height: `,`;
`])),ge(Xi.default.height));O(Si).attrs({animated:!0,radius:1})(wte||(wte=cA([`
  max-width: `,`;
  width: 80%;
`])),ge(160));O(Si).attrs({animated:!0,radius:1,size:1})(_te||(_te=cA([`
  max-width: `,`;
  width: 60%;
`])),ge(120));const bYt=["aria-hidden","disabled","href"],xYt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function wYt(e){return[...e.querySelectorAll(xYt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function TTe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,l]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const y=wYt(s);d(y)}},[s]),x=h.useCallback(y=>{l(y)},[]),b=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),l(C=>{const S=(C+p)%f;return!r&&S===p?C:S})},_=()=>{y.preventDefault(),l(C=>{const S=(C+1)%f;return!r&&S===0?C:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():_()),o.includes("arrows")&&(y.key===v&&w(),y.key===m&&_())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const y=new MutationObserver(g);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:bYt}),()=>{y.disconnect()}},[u,g,s]),h.useEffect(()=>{var y;u.forEach((w,_)=>{_===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>x(_),w.onblur=()=>x(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>x(_))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,x,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",b),()=>{s==null||s.removeEventListener("keydown",b)}),[b,s])}const _Yt=O(F)({position:"relative"}),CYt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),ch=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:l="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Is(),g=f&&v.sanity.color.solid[f],x=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),b=!!r,y=typeof r=="object"?c.jsx(B,{size:1,children:r.reason}):c.jsxs(W,{align:"center",gap:2,style:{lineHeight:0},children:[c.jsx(B,{size:1,children:a}),i&&c.jsx(iWt,{fontSize:0,keys:i,style:{margin:-4}})]});return c.jsx(yt,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:c.jsx("div",{children:c.jsx(ae,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:b,mode:l,ref:n,children:c.jsxs(W,{gap:u,children:[c.jsxs(_Yt,{children:[c.jsxs(B,{size:o,children:[h.isValidElement(s)&&s,Or.isValidElementType(s)&&h.createElement(s)]}),f&&c.jsx(CYt,{style:x})]}),d&&c.jsx(F,{flex:1,children:c.jsx(B,{size:o,children:d})})]})})})})});var Cte=Object.freeze,SYt=Object.defineProperty,EYt=(e,t)=>Cte(SYt(e,"raw",{value:Cte(t||e.slice())})),Ste;const kYt=O(B)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(Ste||(Ste=EYt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),sr=oe.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return c.jsx(kYt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),Zw=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return c.jsx(yt,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:c.jsx("div",{children:r})})}),rB=h.forwardRef((e,t)=>{const{push:n}=Ai();return h.useImperativeHandle(t,()=>({push:n})),null});rB.displayName="ImperativeToast";const jYt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},TYt=h.createContext(jYt);function AYt(){return h.useContext(TYt)}function e0(e){let{children:t,zOffset:n}=e;const o=AYt()[n];return c.jsx(Mf,{zOffset:o,children:t})}function DYt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function l(u,d){s(o(u),e,d)}return{get:a,set:l}}const ATe=h.createContext(null);function IYt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const l=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(l)},set:i=>{let{namespace:s,dependencies:a,value:l}=i;const u=r.get(s)||DYt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,l)}}},[]);return c.jsx(ATe.Provider,{value:n,children:t})}function fd(){const e=h.useContext(ATe);if(!e)throw new Error("Could not find `cache` context");return e}var PYt=Object.defineProperty,OYt=(e,t,n)=>t in e?PYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Yt=(e,t,n)=>(OYt(e,typeof t!="symbol"?t+"":t,n),n);class oB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),$Yt(this,"projectId"),this.projectId=n}}const iB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),sB={};function DTe(e,t){iB?localStorage[e]=t:sB[e]=t}function RYt(e){return iB?localStorage[e]:sB[e]}function ITe(e){iB?localStorage.removeItem(e):delete sB[e]}function MYt(e){const t=typeof window>"u"?be():Zi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new Tr,o=xn(r,t.pipe(ct(s=>s.key===n),ce(s=>s.newValue),ct(ho),ce(s=>JSON.parse(s)))).pipe(To(1));function i(s){try{DTe(n,JSON.stringify(s)),ITe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Ete=/sid=([^&]{20,})&?/;function FYt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Ete)||[];if(!t)return null;const n=e.replace(Ete,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let kte=FYt();const LYt=()=>{const e=kte;return e&&(kte=null),e};var jte=Object.freeze,BYt=Object.defineProperty,PTe=(e,t)=>jte(BYt(e,"raw",{value:jte(t||e.slice())})),Tte,Ate;const NYt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(Tte||(Tte=PTe([`
    fill: `,`;
  `])),n)}),zYt=O.img(Ate||(Ate=PTe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),VYt=()=>c.jsx(NYt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),HYt=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function UYt(e){const{provider:t}=e;return t.logo?c.jsx(zYt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const WYt={google:HYt,github:VYt};async function YYt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Dte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function qYt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=lh(t);function s(a){let{projectId:l,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&YYt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Dte({loginMethod:n,projectId:l,url:d[0].url,basePath:u}),x=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),x?c.jsxs(W,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[c.jsx(B,{muted:!0,children:"Loading"}),c.jsx(Vr,{muted:!0})]}):c.jsxs(ne,{space:4,children:[c.jsx(ii,{align:"center",size:1,children:"Choose login provider"}),c.jsx(ne,{space:2,children:d.map((b,y)=>c.jsx(ae,{as:"a",icon:WYt[b.name]||c.jsx(UYt,{provider:b}),href:Dte({loginMethod:n,projectId:l,url:b.url,basePath:u}),mode:"ghost",text:b.title},"".concat(b.url,"_").concat(y)))})]})}return s}const aB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},Ite=e=>{try{const t=RYt(aB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},OTe=e=>{try{ITe(aB(e))}catch(t){console.error(t)}},GYt=e=>{let{token:t,projectId:n}=e;try{DTe(aB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Pte=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return OTe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new oB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function KYt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:l}=MYt("dual_mode_auth_".concat(n)),u=t??s2e,d=l.pipe(ki(i==="dual"?Ite(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(b=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...b&&{token:b},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),tt(b=>jo(async()=>{const y=await Pte(b,a);return{currentUser:y,client:b,authenticated:!!y}})),Kn((b,y)=>Yt(b.currentUser,y.currentUser)),To(1));async function m(){const b=LYt();if(!b){a(i==="cookie"?null:Ite(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Pte(y,a)),w||i==="cookie"){a(null);return}const _=await v(y,b);a(_??null)}async function v(b,y){const{token:w}=await b.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return GYt({token:w,projectId:n}),w}async function g(){const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});OTe(n),await b.request({uri:"/auth/logout",method:"POST"}),a(null)}const x=qYt({...s,getClient:()=>p.pipe(ce(b=>b.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:x,logout:g}}function $Te(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,$Te(r)]})))}const ZYt=iT(KYt,$Te);function XYt(e){return _t(e)&&"state"in e&&_t(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function RTe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function QYt(e){return t=>{let n=[];const r=Xn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(Wn(()=>{n=[]}),r)}}const Ote=typeof window>"u"?be({}):Zi(window,"online"),JYt=typeof window>"u"?be({}):Zi(window,"offline"),eqt=e=>Math.pow(2,e)*100,tqt={type:"connecting"},MTe=Vwe(),nqt=MTe[0];MTe[1];const rqt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function oqt(e){let{bifur:t}=e;return{connectionStatus$:xn(t.heartbeats,JYt.pipe(Up(j0(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),QYt((r,o,i)=>{const s=Math.min(24e4,eqt(o)),a=new Date(new Date().getTime()+s),l=Ei(a),u=!navigator.onLine,d=rqt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=RL.pipe(FL(u?Ote:xn(l,Ote,nqt)));return fo(be(d),f.pipe(ys(1)),i)}),ki(tqt))}}const iqt=ave(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function $te(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(hT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function lB(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return $te(r),r}}return $te(e),()=>e}const sqt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},aqt=[];var lqt=Object.defineProperty,cqt=(e,t,n)=>t in e?lqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XC=(e,t,n)=>(cqt(e,typeof t!="symbol"?t+"":t,n),n);const gf=class FTe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};XC(this,"message"),XC(this,"paths"),XC(this,"children"),XC(this,"operation"),this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new FTe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function uqt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function cB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Sl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function dqt(e){return e!==null||e!==void 0}function _b(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>_b(i,t,n)).filter(dqt);if(typeof e=="string")return _b(new gf(e),t,n);if(!(e instanceof gf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(cB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return _b(new gf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const fqt={}.toString,Rte=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function hqt(e){for(let t=0;t<Rte.length;t++)if(Rte[t]===e)return!0;return!1}function LTe(e){const t=fqt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!hqt(n)?n.name:t}function Dx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Dx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Dx(e[o],t[o]))return!1}return!0}return!1}const Mte=5e3,Fte=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new gf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Om={type:(e,t,n)=>{const r=LTe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Fte({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Fte({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),""):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Dx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(cB(r.path)," has taken more than ").concat(Mte,"ms to respond"))},Mte);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},pqt={...Om,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},mqt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,gqt={...Om,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(mqt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},yO="http://sanity",vqt=e=>/^\.*\//.test(e),yqt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,bqt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let l;try{l=a?new URL(r,yO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&l.origin!==yO)return n||"Only relative URLs are allowed";if(!a&&l.origin===yO&&vqt(r))return n||"Relative URLs are not allowed";if(!i&&(l.username||l.password))return n||"Username/password not allowed";const u=l.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const l=r.test(a);if(!i&&!l||i&&l){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||yqt.test(r)?!0:n||"Must be a valid email address"}},xqt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(l=>Dx(l,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new gf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],l=t[s];Dx(a,l)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new gf(n||"Can't be a duplicate",{paths:o}):!0}},wqt=["_key","_type","_weak"],_qt={...Om,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!wqt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!Zu(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Lte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Cqt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Bte=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Zo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Zo(new Date(t),r))};function QC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const Sqt={...Om,type:(e,t,n)=>!"".concat(t)||Cqt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=QC(t);if(!o||!t||o>=QC(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Lte(r.type.options)?r.type.options:{},s=Bte(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=QC(t);if(!o||!t||o<=QC(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Lte(r.type.options)?r.type.options:{},s=Bte(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var Eqt=Object.defineProperty,kqt=(e,t,n)=>t in e?Eqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fi=(e,t,n)=>(kqt(e,typeof t!="symbol"?t+"":t,n),n),go;const jqt={Boolean:pqt,Number:gqt,String:bqt,Array:xqt,Object:_qt,Date:Sqt},BTe=e=>e&&e.type?BTe(e.type):e,Tqt=e=>typeof e!="object"||!e?!1:e.type===KM.FIELD_REF,Aqt=[],Nte=Symbol("FIELD_REF"),Dqt=["Array","Boolean","Date","Number","Object","String"],KM=(go=class{constructor(e){fi(this,"_type"),fi(this,"_level"),fi(this,"_required"),fi(this,"_typeDef"),fi(this,"_message"),fi(this,"_rules",[]),fi(this,"_fieldRules"),fi(this,"valueOfField",go.valueOfField.bind(go)),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new go;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=l2t(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!Dqt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(uqt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=BTe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return Aqt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&jqt[this._type]||Om;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let l="constraint"in s?s.constraint:null;Tqt(l)&&(l=Nn(t.parent,l.path));let u;try{u=await a(l,e,this._message,t)}catch(d){const f=new gf("".concat(cB(t.path),": Exception occurred while validating value: ").concat(d.message));return _b(f,"error",t)}return _b(u,this._level,t)}))).flat()}},fi(go,"FIELD_REF",Nte),fi(go,"array",e=>new go(e).type("Array")),fi(go,"object",e=>new go(e).type("Object")),fi(go,"string",e=>new go(e).type("String")),fi(go,"number",e=>new go(e).type("Number")),fi(go,"boolean",e=>new go(e).type("Boolean")),fi(go,"dateTime",e=>new go(e).type("Date")),fi(go,"valueOfField",e=>({type:Nte,path:e})),go),Iqt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},Pqt=function(t){return window.clearTimeout(t)},uk=typeof window>"u"?void 0:window,Oqt=(uk==null?void 0:uk.requestIdleCallback)||Iqt,$qt=(uk==null?void 0:uk.cancelIdleCallback)||Pqt,Rqt=iT(Fqt);function Mqt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function zte(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Sl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const Vte=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:l,draft:u}=Mqt(r._id),d=r._type,f=zte(o.concat("current"));!a&&f.includes("[]")&&Rqt(zte(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function Fqt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const Lqt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||Vte,s={...t,parent:t.parent,type:t.type,defaultIsUnique:Vte};return await i(r,s)?!0:"Slug is already in use"},Bqt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Nqt=e=>e in Bqt;function NTe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?NTe(e.type,t):[],e]):[]}function zqt(e,t){let n=e;Nqt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>Vqt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(Lqt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function zTe(e){return e?!("fields"in e)&&e.type?zTe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function Vqt(e,t){return t.jsonType==="object"&&zTe(t)||e.value===void 0?e:e.value}function Ix(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Ix({...e,validation:r}));if(t instanceof KM)return[t];const n=Object.values(NTe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(zqt,new KM(e));return t?Ix({...e,validation:t(n)}):[n]}const Hte=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Hqt=e=>e!=null;function Uqt(e,t){if(t.length===1)return t[0];const n=rF(e)&&e._type,r=e==null||!n&&LTe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const Wqt=[];function Yqt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),be(Wqt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return ZM(i).pipe(Xn(s=>(console.error(s),be([{type:"validation",level:"error",path:[],item:new gf(s==null?void 0:s.message)}]))))}function ZM(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Ix(n),a=s.map(p=>jo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let l=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});l=l.concat(s.map(m=>m._fieldRules).filter(Hqt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const x=p[v];return Ix({...x,validation:g}).map(b=>{const y=Hte(t)?t[v]:void 0;return jo(()=>b.validate(y,{...i,parent:t,path:r.concat(v),type:x}))})})),l=l.concat(n.fields.map(m=>ZM({...i,parent:t,value:Hte(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(l=l.concat(t.map((p,m)=>ZM({...i,parent:t,value:p,path:r.concat(Sl(p)?{_key:p._key}:m),type:Uqt(p,n.of)})))),jo(()=>xn([...a,...l])).pipe(vt(p=>fo(qqt(),p),40),Yj(),Twe(),ce(En),ce(p=>s.some(m=>m._fieldRules)?Nf(p,m=>JSON.stringify(m)):p))}function qqt(e){return new ut(t=>{const n=Oqt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>$qt(n)})}function Gqt(e){return AS(e,new Set),e}function AS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Ix(e),"fields"in e)for(const n of e.fields)AS(n.type,t);if("of"in e)for(const n of e.of)AS(n,t);if(e.annotations)for(const n of e.annotations)AS(n,t)}}function Kqt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&Gqt(r)}),e}var Zqt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},Xqt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},Qqt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},Jqt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},eGt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},tGt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},nGt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},rGt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},oGt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},iGt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},sGt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const aGt=e=>e.severity==="error",lGt=[eGt,Zqt,Xqt,tGt,sGt,Qqt,Jqt,iGt,oGt,nGt,rGt];function cGt(e){const t=JCt(e.types).getTypes(),n=J_t(t),r=n.some(i=>i.problems.some(aGt)),o=I8.compile({name:e.name,types:r?[]:[...e.types,...lGt].filter(Boolean)});return o._validation=n,Kqt(o)}function t0(e){return typeof e.title=="string"?e.title:e.type?t0(e.type):e.name||e.jsonType}const gn={apiVersion:"2022-09-09"};var Ute=Object.freeze,uGt=Object.defineProperty,dGt=(e,t)=>Ute(uGt(e,"raw",{value:Ute(t||e.slice())})),Wte;const fGt=O(es)(Wte||(Wte=dGt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function hGt(){return c.jsx(fGt,{children:c.jsx(W,{height:"fill",align:"center",justify:"center",children:c.jsx(Vr,{})})})}function pGt(e){const{text:t}=e;return c.jsxs(W,{direction:"row",justify:"center",align:"center",children:[c.jsx(Vr,{}),c.jsx(F,{marginLeft:2,children:c.jsx(B,{children:t})})]})}const Yte={referringDocuments:[],isLoading:!0};function mGt(e){const t=Vl();return Ao(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),ki(Yte)),[t,e],Yte)}const gGt=()=>h.createElement(h.Fragment);function vGt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:gGt})}}function Bl(e){const{options:t}=ur().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...NA(t,[])];o.reverse();const s=o.map(a=>{let{config:l}=a;return r(l)}).filter(Boolean);return vGt(n,s)},[n,t,r])}function gc(e,t){return t.name===e||!!(t.type&&gc(e,t.type))}const yGt={default:kTe,media:JWt,detail:RWt,inline:vYt,block:dYt,blockImage:sYt};function bGt(){return c.jsx(Rp,{className:"sanity-studio__preview-fallback-icon"})}function Xw(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=Cr(gn),l=h.useMemo(()=>wT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return c.jsx("img",{alt:TS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:l.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[l,r,i]),d=h.useCallback(()=>h.createElement(t||bGt),[t]),f=h.useMemo(()=>t===!1?!1:Or.isValidElementType(r)||h.isValidElement(r)?r:ub(r)?u:TS(o)?c.jsx("img",{src:o,alt:TS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=yGt[n||"default"];return h.createElement(m,p)}const xGt=typeof window>"u"?Gn:Zi(window,"resize").pipe(To(1)),wGt=typeof window>"u"?Gn:Zi(window,"scroll",{passive:!0,capture:!0}).pipe(To(1)),_Gt=typeof window>"u"?Gn:Zi(window,"orientationchange").pipe(To(1)),VTe=150;function CGt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const SGt=CGt()?EGt():kGt();function EGt(){const e=new Tr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(VTe,"px")});return function(r){return new ut(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(vt(()=>e.asObservable()),ct(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function kGt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),VTe)}return function(o){const i=n(o);return xn(be(i()),xGt,wGt,_Gt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const jGt=typeof window>"u"?Gn:Zi(document,"visibilitychange").pipe(To(1));function TGt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=fo(be(!document.hidden),jGt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Kn()),s=SGt(t).pipe(ce(u=>u.isIntersecting)),l=i.pipe(tt(u=>u?s:be(!1)),tt(u=>u?be(!0):be(!1).pipe(zet(n))),Kn()).subscribe(o);return()=>l.unsubscribe()},[t,n]),r}const AGt={isLoading:!0},DGt={isLoading:!1};function HTe(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Os();return Ao(()=>!t||!o||!r?be(DGt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),Xn(s=>be({isLoading:!1,error:s}))),[t,i,n,r,o],AGt)}function IGt(e){return PGt(e==null?void 0:e._upload)}function X1(e){return TS(e)?e:void 0}function PGt(e){var t,n;if(!_t(e))return;const r=typeof e.progress=="number"?e.progress:0,o=X1(e.initiated||e.createdAt),i=X1(e.updated||e.updatedAt),s=X1((t=e==null?void 0:e.file)==null?void 0:t.name),a=X1((n=e==null?void 0:e.file)==null?void 0:n.type),l=X1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:l}}const OGt=1e3*2;function UTe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[l,u]=h.useState(null),d=TGt({element:s?null:l,hideDelay:OGt}),f=HTe({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>IGt(n),[n]),v=h.useMemo(()=>{var g,x;return m!=null&&m.previewImage?c.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(x=f==null?void 0:f.value)==null?void 0:x.media:i.icon},[f,i,m]);return c.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function uB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const $Gt=e=>e.liveEdit===!0;function uA(e,t,n,r){const o=$Gt(t)?be({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ni(n)},t),i=e.observeForPreview({_type:"reference",_ref:Zn(n)},t);return zo([o,i]).pipe(ce(s=>{let[a,l]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:l.snapshot?{title:r,...l.snapshot||{}}:null}}),ki({draft:null,isLoading:!0,published:null}))}const RGt=e=>({title:c.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:c.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>c.jsx(Xr,{})}),dB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?z9t({},o,t,(i,s)=>typeof s>"u"?i:s):RGt(t)},WTe=["_id","_rev","_type"],MGt=[...WTe,"_key"],qte={available:!0,reason:"READABLE"},FGt={available:!1,reason:"PERMISSION_DENIED"},LGt={available:!1,reason:"NOT_FOUND"},BGt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(Xr,{})};function NGt(e){return Array.isArray(e)&&(e.length===0||e.some(Xu))}function zGt(e){const t=Array.isArray(e)&&e.find(Xu);return!t||!t.children?"":t.children.filter(Js).map(n=>n.text).join("")}function YTe(e){return Object.keys(e)}const VGt=["_id","_type","_upload","_createdAt","_updatedAt"],n0=[],XM=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),HGt=Qx(()=>{const e=XM.getAll(),n=En(Object.keys(e).map(r=>{const o=e[r];return Nf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Nf(o,a=>a.error.message).forEach(a=>{var l;if(a.error.type==="returnValueError"){const u=typeof((l=a.type.preview)==null?void 0:l.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),XM.clear())},1e3),Q1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?n0:[hB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(fB(t))))]},UGt={media:()=>n0,title:Q1("title"),subtitle:Q1("subtitle"),description:Q1("description"),imageUrl:Q1("imageUrl"),date:Q1("date")};function fB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(_t(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>fB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function WGt(e,t){if(typeof t>"u")return n0;const n=UGt[e];return n&&n(t)||n0}function hB(e,t){return Object.assign(t,{type:e})}function YGt(e){return!_r(e)||e===null?[hB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(fB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...WGt(r,o)]},n0)}function qGt(e){return{...e,errors:[...e.errors||[],...YGt(e.returnValue)]}}function GGt(e){return YTe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:NGt(r)?zGt(r):r}},{})}function QM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):GGt(t),errors:n0}}catch(i){return{returnValue:null,errors:[hB("prepareError",i)]}}}function Gte(e,t,n){return e.errors.forEach(r=>XM.add(t,n,r)),HGt(),BGt}function KGt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function ZGt(e){return KGt(e)?e.options.list.map(n=>sF(n)?n:{title:n,value:n}):void 0}function dk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},l=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],x=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.name===g),b=x&&ZGt(x.type);if(!i&&b){const y=b&&b.find(w=>w.value===Nn(e,s[p]));f[p]=y?y.value:Nn(e,s[p])}else f[p]=Nn(e,s[p]);return f},{}),u=QM(t,l,n);if(u.errors.length>0)return Gte(u,t,l);const d=qGt(QM(t,l,n));return d.errors.length>0?Gte(d,t,l):{...Ct(e,VGt),...u.returnValue}}function DS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return new ut(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:l,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const l=a.map(u=>{const d=s[u];return d&&d.args}).filter(ho);e(l).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const XGt=11164;function QGt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=XGt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function JGt(e,t){return e.push(...t),e}function qTe(e,t){function n(s){const a=ni(s),l=Zn(s);return zo([r(a),r(l)]).pipe(Kn(Bf),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>_t(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Kn(),tt(a=>a?be(qte):o(s)))}const o=DS(function(a){const l=[...new Set(En(a))];return wr(QGt(l)).pipe(vt(i,10),jwe(JGt,[]),ce(u=>a.map(d=>{let[f]=d;return u[l.indexOf(f)]})))},1);function i(s){return jo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(l=>{const u=G8(l.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return qte;if(f.reason==="existence")return LGt;if(f.reason==="permission")return FGt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function Kte(e,t,n){return{...e,[t]:n}}function eKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new ut(n=>t.subscribe(n)).pipe(tt(n=>{const r=YTe(n).map(o=>{const i=n[o];return set(i)?wr(i).pipe(ce(s=>[o,s])):be([o,i])});return e.wait?zo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,l]=s;return Kte(i,a,l)},{}))):wr(r).pipe(Yj(),Wa((o,i)=>{let[s,a]=i;return Kte(o,s,a)},{}))}))}function tKt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function nKt(e,t){return t.filter(n=>!(n[0]in e))}function rKt(e){return Zu(e)?e._ref:"_id"in e?e._id:void 0}function JM(e,t,n,r){if(!e||typeof e!="object")return be(e);const o=rKt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=nKt(i,t);if(o&&s.length>0){const u=co(s.map(f=>f[0])),d=mge(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(tt(f=>f===null?be(null):JM({...tKt(u),...Zu(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const l=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=_t(e)?e[d]:void 0:u[d]=JM(e[d],f,n,r),u},i);return be(l).pipe(eKt({wait:!0}))}function oKt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function iKt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return JM(n,oKt(r),t,o)}}}function sKt(e){return _r(e)}function aKt(e){return _r(e)}function lKt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(iF(i)){if(!mge(o))return be({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(tt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return be({snapshot:void 0})}))}if(_f(i))return aKt(o)?t(o._ref).pipe(tt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return be({snapshot:void 0})})):be({snapshot:void 0});const l=uB(i.preview);return l?n(o,l,a).pipe(ce(u=>({type:i,snapshot:u&&dk(u,i,s)}))):be({type:i,snapshot:o&&sKt(o)?QM(i,o,s).returnValue:null})}}function cKt(e,t){const{observeDocumentPairAvailability:n}=qTe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:l}=gTe(i);return n(a).pipe(tt(u=>{if(!u.draft.available&&!u.published.available)return be({id:l,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return zo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:l},d)]).pipe(ce(f=>{let[p,m]=f;const v=_t(p)&&"_type"in p&&p._type||_t(m)&&"_type"in m&&m._type||null;return{id:l,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function uKt(e){return G9t(e.reduce((t,n,r)=>{let[o,i]=n;const s=wm(i.join(","),__e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function dKt(e){return JSON.stringify(e)}const fKt=e=>vTe(e)?'"'.concat(e,'": @').concat(K7(e)):e;function hKt(e){let{ids:t,fields:n}=e;const r=[...WTe,...n];return"*[_id in [".concat(t.map(dKt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(fKt).join(","),"}")}function pKt(e){return"[".concat(e.map(hKt).join(","),"][0...").concat(e.length,"]")}function mKt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const l=t[o].ids[a],u=r.find(d=>d._id===l);n[s]=u||null}),n),[])}function gKt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const vKt=e=>e;function yKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vKt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function bKt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=wr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(Ya()),_=w.pipe(ct(S=>S.type==="welcome"),To({refCount:!0,bufferSize:1}));_.subscribe();const C=w.pipe(ct(S=>S.type==="mutation"));r={welcome$:_,mutations$:C}}return r};function i(w){const _=o();return xn(_.welcome$,_.mutations$.pipe(ct(C=>C.documentId===w)))}function s(w){return function(C){const S=uKt(C);return w.observable.fetch(pKt(S),{},{tag:"preview.document-paths"}).pipe(ce(E=>mKt(E,S)))}}const a=DS(s(n),100),l=DS(s(n),1e3);function u(w,_){return i(w).pipe(tt(C=>C.type==="welcome"||C.visibility==="query"?a(w,_).pipe(vt(S=>fo(be(S),S===void 0?l(w,_):[]))):l(w,_)))}const d={},f=iT(function(_){const C=n.withConfig(_),S=s(C);return DS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Zi(document,"visibilitychange").pipe(ki(0),ce(()=>document.visibilityState==="visible"),tt(w=>w?Ei(0,p):Gn),Ya());function v(w,_,C){return m.pipe(ki(0)).pipe(tt(()=>f(C)(w,_)))}function g(w,_,C){let S=null;const E=xn(jo(()=>S===null?Gn:be(S)),C?v(w,_,C):u(w,_)).pipe(Wn(j=>S=j),To({refCount:!0,bufferSize:1}));return{id:w,fields:_,changes$:E}}function x(w,_,C){const S=C?"".concat(C.projectId,":").concat(C.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];ox(_,En(E.map(T=>T.fields))).length>0&&E.push(g(w,_,C));const k=E.filter(T=>T.fields.some(A=>_.includes(A))).map(T=>T.changes$);return zo(k).pipe(ce(T=>T.filter(Boolean)),ct(T=>yKt(T,A=>A._rev)),ce(T=>T.length===0?null:b(T,_)),Kn(gKt(_)))}return{observeFields:x};function b(w,_){return[...MGt,..._].reduce((C,S)=>{const E=y(w,S);return E!==void 0&&(C[S]=E),C},{})}function y(w,_){let C;return w.some(S=>_ in S?(C=S[_],!0):!1),C}}function xKt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=bKt({observePaths:r,versionedClient:n}),{observePaths:i}=iKt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>_t(p)&&typeof p._type=="string"?p._type:void 0),Kn())}const a=lKt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:l}=qTe(n,i),{observePathsDocumentPair:u}=cKt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:l,unstable_observePathsDocumentPair:u}}const wKt=e=>!!(e.type&&e.type.name==="document"),_Kt=e=>e.name.startsWith("sanity."),CKt=e=>e.getTypeNames().map(t=>e.get(t)).filter(ho).filter(t=>wKt(t)).filter(t=>!_Kt(t)),SKt=(e,t)=>{const{phrases:n,words:r}=AKt(e),[o,i]=jKt(n,t),[s,a]=TKt(r,t);return[o+s,[a,i].join(", ")]},EKt=e=>typeof e=="string"?e:JSON.stringify(e);function kKt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=G8(e,o=>o.typeName);return t.map((o,i)=>{var s;const l=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=EKt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=SKt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=l.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:l}})}function jKt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function TKt(e,t){const n=co(_T(w2e(cv(t)))),r=V5(e,n),o=USe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function AKt(e){const t=co(e.map(cv)),[n,r]=M8(t,o=>/^".*"$/.test(o));return{phrases:co(n).map(cv).map(DKt),words:co(r.map(cv))}}function DKt(e){return e.replace(/^"(.*)"$/,"$1")}const IKt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,PKt=/(^[.]+)|([.]+$)/;function OKt(e){return(e.match(IKt)||[]).map(t=>t.replace(PKt,""))}const $Kt=4,RKt=1e3,MKt=Lkt([En,USe,_T]);function Zte(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:fUt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const GTe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function FKt(e,t){const n=MKt(t.map(o=>(o.paths||[]).map(i=>GTe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function LKt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>w2e(i).length>1?(t.push(i),""):i),r=t.map(i=>Jkt(cv(i))),o=co(_T(OKt(cv(n))));return[...r,...o]}function BKt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function NKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:l}=Zte(e.types,!1),u=LKt(e.query),d=l?Zte(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...FKt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(GTe(k)))," }");return"".concat(E).concat(j)}),m=BKt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",x=v.join(", ")+(g?", ".concat(g):"");let b="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(x,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");b=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(x,"}")].join("|")}const y=["findability-mvi:".concat($Kt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(b):b,_=(n=t==null?void 0:t.offset)!=null?n:0,C=((r=t==null?void 0:t.limit)!=null?r:RKt)+_;return{query:w,params:{...zKt(u),__types:a.map(S=>S.typeName),__limit:C,__offset:_,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const zKt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function VKt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function pB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=VKt(o,e),{query:a,params:l,options:u,searchSpec:d,terms:f}=NKt(s,{...n,...i});return t.observable.fetch(a,l,u).pipe(n.unique?ce(JHt):Wn(),ce(p=>kKt(d,p,f)),i!=null&&i.skipSortByScore?Wn():ce(p=>wm(p,m=>-m.score)))}}const HKt={available:!0,reason:"READABLE"},Xte={available:!1,reason:"PERMISSION_DENIED"},Qte={available:!1,reason:"NOT_FOUND"};function KTe(e,t,n){const{publishedId:r,draftId:o}=gTe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(tt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Xte:Qte;return be({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},l={_type:"reference",_ref:r};return zo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(tt(d=>{if(!d)return be({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(x=>x.name===d);if(!f)return be({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...uB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(x=>x?{_id:o,...dk(x,f)}:void 0),ki(void 0)),v=e.observePaths(l,p).pipe(ce(x=>x?{_id:r,...dk(x,f)}:void 0),ki(void 0));return zo([m,v]).pipe(ce(x=>{let[b,y]=x;return{draft:b,published:y}})).pipe(ce(x=>{const b=s.draft.available||s.published.available?HKt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Xte:Qte;return{type:d,id:r,availability:b,preview:{draft:_t(x.draft)?x.draft:void 0,published:_t(x.published)?x.published:void 0}}}))}))}))}function UKt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ni(t.id))}function WKt(e,t){return t.length===0?be([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function ZTe(e,t,n,r){return pB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(G7),ce(i=>i.slice(0,100)),vt(i=>WKt(e,UKt(i)).pipe(ce(s=>i.map(a=>{const l=ni(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(l)?{_id:l,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function cOn(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Jp=Symbol.for("sanity.patch");function Gi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Jp,type:"setIfMissing",path:t,value:e}}function Jd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Jp,type:"insert",path:n,position:t,items:e}}function pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Jp,type:"set",path:t,value:e}}function Qe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Jp,type:"unset",path:e}}function YKt(e,t){return{...e,path:[t,...e.path]}}var qKt=Object.defineProperty,GKt=(e,t,n)=>t in e?qKt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KKt=(e,t,n)=>(GKt(e,typeof t!="symbol"?t+"":t,n),n);class st{constructor(t){KKt(this,"patches"),this.patches=t}static from(t){return t instanceof st?t:new st(Array.isArray(t)?En(t):[t])}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st.from([...En(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st.from([...this.patches,...En(n)])}prefixAll(t){return st.from(this.patches.map(n=>YKt(n,t)))}}var Jte=Object.freeze,ZKt=Object.defineProperty,XKt=(e,t)=>Jte(ZKt(e,"raw",{value:Jte(t||e.slice())})),ene;const QKt={warning:"caution",error:"critical"},JKt=O(F)(ene||(ene=XKt([`
  border-top: 1px solid var(--card-border-color);
`])));function Hc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return c.jsxs(ee,{radius:2,tone:QKt[n],...i,"data-ui":"Alert",children:[c.jsxs(W,{padding:4,children:[c.jsx(F,{children:c.jsxs(B,{size:1,children:[n==="warning"&&c.jsx(Xr,{}),n==="error"&&c.jsx(da,{})]})}),c.jsxs(F,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"semibold",children:o}),t&&c.jsx(F,{marginTop:3,children:t})]})]}),r&&c.jsx(JKt,{children:r})]})}function mB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Pi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bf;const r=mB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function XTe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const QTe=h.createContext(null);function oi(){const e=h.useContext(QTe);if(!e)throw new Error("FormBuilder: missing context value");return e}const eZt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function gB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),l=oe.useCallback(()=>{a(t.of[0])},[t,a]);return n?c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:"This field is read-only"})}),children:c.jsx(ln,{children:c.jsx(ae,{icon:ea,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ae,{icon:ea,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(ae,{icon:ea,mode:"ghost",text:"Add item"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((u,d)=>{var f,p;const m=_f(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return c.jsx(Me,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:eZt}),r]})}var tne=Object.freeze,tZt=Object.defineProperty,nZt=(e,t)=>tne(tZt(e,"raw",{value:tne(t||e.slice())})),nne;const rZt=e=>e==="error"?c.jsx(da,{}):e==="warning"?c.jsx(Xr,{}):c.jsx(lm,{}),oZt=O(B)(e=>{let{theme:t}=e;return de(nne||(nne=nZt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function JTe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=oi().__internal.components;return t.length===0&&n.length===0?null:c.jsxs(ne,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:l}=i;return c.jsxs(W,{children:[c.jsx(F,{marginRight:2,marginBottom:s+1===n.length?0:2,children:c.jsx(oZt,{size:1,"data-error":l==="error"?"":void 0,"data-warning":l==="warning"?"":void 0,"data-info":l==="info"?"":void 0,children:rZt(l)})}),c.jsx(F,{children:c.jsx(B,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&c.jsxs(F,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&c.jsx(o,{markers:t})]})]})}function iZt(){return c.jsxs(B,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const vB=oe.createContext(null),Qw=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),l=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:l,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,l,r]);return c.jsx(vB.Provider,{value:f,children:t.children})});function ga(){const e=h.useContext(vB);if(!e)throw new Error("Form context not provided");return e}function yB(e,t){return e4(e,t,new WeakSet)}function e4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const l=e4(e[a],t[a],n);l!==e[a]&&(i=!1),s[a]=l}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const l of i){const u=e4(e[l],t[l],n);u!==e[l]&&(s=!1),a[l]=u}return s?e:a}return t}const eAe=h.createContext([]);function sZt(e){return c.jsx(eAe.Provider,{value:e.presence,children:e.children})}function aZt(){const e=h.useContext(eAe);if(!e)throw new Error("Form context not provided");return e}function X0(e,t){const n=aZt(),r=h.useRef(n),o=yB(r.current,n.filter(i=>vi(e,i.path)&&(t||!_n(e,i.path))));return r.current=o,o}const tAe=h.createContext([]);function lZt(e){return c.jsx(tAe.Provider,{value:e.validation,children:e.children})}function cZt(){const e=h.useContext(tAe);if(!e)throw new Error("Form context not provided");return e}function bB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=cZt();return h.useMemo(()=>n.filter(r=>vi(e,r.path)&&(t||!_n(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function uZt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&c.jsx(B,{size:1,children:t.disabled.reason});return c.jsx(Zw,{content:r,placement:"left",children:c.jsx(Me,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?za:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const dZt={placement:"right",fallbackPlacements:["top","bottom"]};function fZt(e){const{group:t}=e;return t.expanded?c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return c.jsx(t4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):c.jsx(SL,{fontSize:1,icon:t.icon,padding:3,popover:dZt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return c.jsx(t4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function t4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?c.jsx(Dr,{}):t.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Dr,{}),c.jsx(fZt,{group:t})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Dr,{}),c.jsx(uZt,{action:t})]})}var rne=Object.freeze,hZt=Object.defineProperty,pZt=(e,t)=>rne(hZt(e,"raw",{value:rne(t||e.slice())})),one;const nAe={placement:"top"},mZt=O(W)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(one||(one=pZt([`
    height: 25;
    line-height: 0;
    gap: `,`px;
  `])),n[1]/2)});function ine(e){return"renderAsButton"in e&&e.renderAsButton}const gZt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),l=h.useMemo(()=>n.filter(ine),[n]),u=h.useMemo(()=>n.filter(p=>!ine(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Vo,title:"Field actions"}]:[],...l],[l,d]);return c.jsx(mZt,{children:f.map((p,m)=>c.jsx(vZt,{node:p,onOpen:s,onClose:a,open:o},m))})}),vZt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?c.jsx(ee,{borderLeft:!0,flex:"none"}):n.type==="action"?c.jsx(ch,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:nAe}):c.jsx(bZt,{node:n,onOpen:r,onClose:o,open:i})}),yZt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function bZt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return c.jsx(rn,{button:c.jsx(ch,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:nAe}),id:h.useId(),menu:c.jsx(Ht,{children:t.children.map((i,s)=>{var a;return c.jsx(t4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:yZt})}function rAe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:rAe(t.children)}:t)}const Jw=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,l=n.length,u=h.useRef(l),[d,f]=h.useState(()=>Array.from(new Array(l))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(x=>{const b=[...x];return b[v]=g,b})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(rAe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==l){const v=Array.from(new Array(l));for(let g=0;g<l;g++)v[g]=p.current[g];u.current=l,f(v),p.current=v}},[l]),c.jsx(c.Fragment,{children:n.map((v,g)=>c.jsx(xZt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),xZt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:l}=t,u=Go(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{l(i,u)},[i,u,l]),null}),oAe=h.createContext(null);function xB(){const e=h.useContext(oAe);if(!e)throw new Error("UserColorManager: missing context value");return e}function wZt(e){const t=xB();return Ao(e?t.listen(e):WJe(),[e],t.get(null))}const _Zt="purple",CZt=["green","red","gray"],SZt=lve.filter(e=>!CZt.includes(e)),iAe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},EZt=e=>{const{background:t,border:n,text:r}=iAe(e);return SZt.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},kZt=e=>{const{background:t,border:n,text:r}=iAe(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function jZt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||EZt(o),s=t||kZt(o),a=r||_Zt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const l=Object.keys(i),u=new Map,d=new Map,f=l.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:x};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!_()))return b(k,A);const D=j(k);return f[D]===0?b(k,D):b(k,C(A))}function x(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function b(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function y(k,T){p.delete(k),f[T]--}function w(){return l.find(k=>f[k]===0)}function _(){return!!w()}function C(k){let T=1/0,A=[];return l.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new ut(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),y(k,T)}}).pipe(To({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return l[Math.abs(T)%l.length]}}function TZt(e){let{children:t,manager:n}=e;const{scheme:r}=Uc(),o=h.useMemo(()=>n||jZt({scheme:r}),[n,r]);return c.jsx(oAe.Provider,{value:o,children:t})}const AZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DZt=/_key\s*==\s*['"](.*)['"]/;function Cn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Cl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(bc(n))return Cl(Array.isArray(e)?e[n]:void 0,r);if(Pr(n))return Cl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Cl(_t(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function IZt(e,t){return typeof t!="number"&&!Pr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Sl(n)&&n._key===t._key)}function PZt(e){const t=e.match(AZt);if(!t)throw new Error("Invalid path string");return t.map(OZt)}function OZt(e){return bc(e)?$Zt(e):Pr(e)?RZt(e):Ip(e)?MZt(e):e}function $Zt(e){return Number(e.replace(/[^\d]/g,""))}function RZt(e){const t=e.match(DZt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function MZt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function sAe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Pr(n)&&Pr(o)?n._key===o._key:bc(n)?Number(n)===Number(o):Ip(n)&&Ip(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function aAe(e){return Sl(e)?e._key:void 0}function n4(e){const t=aAe(e);return t?{_key:t}:void 0}function FZt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function lAe(e,t){return e.get((t==null?void 0:t.author)||null)}function e_(e,t){const n=Array.isArray(t)?t:PZt(t);return LZt(e,n)}function LZt(e,t){const n=r4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function r4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Ip(r))throw new Error("Index tuples are not supported in diff paths");if(bc(r)||Pr(r)){const s=bc(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(Cn(n)," (not an array)");return}const a=e.items.find(bc(r)?l=>l.toIndex===r:l=>BZt(l,r));if(!a){"Failed to get item ".concat(s," at path ").concat(Cn(n)," (item missing)");return}return r4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(Cn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(Cn(n)," (field did not exist)");return}return r4(i,o,n.concat(r))}function BZt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function dA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){NZt(e,t,n);return}if(e.type==="object"){zZt(e,t,n);return}e.type==="string"&&VZt(e,t,n)}}function NZt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:HZt(r);dA(r.diff,t,n.concat(s))})}function zZt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];dA(o,t,n.concat(r))})}function VZt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{dA(r,t,n)})}function HZt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function cAe(e){const t=xB();return lAe(t,e)}function r0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=xB(),r=h.useMemo(()=>e_(e,t),[e,t]);return h.useMemo(()=>lAe(n,r),[r,n])}function Ki(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=e_(t,n);return c.jsx(sne,{...r,annotations:o?[o]:[]})}return c.jsx(sne,{...e})}function sne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=c.jsxs(ne,{padding:3,space:2,children:[c.jsx(Nt,{size:1,style:{textTransform:"uppercase"},children:r}),c.jsx(ne,{space:2,children:t.map((s,a)=>c.jsx(UZt,{annotation:s},a))})]});return c.jsx(e0,{zOffset:"paneFooter",children:c.jsx(yt,{content:i,portal:!0,...o,children:n})})}function UZt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=a1(n),i=cAe(t),s=Uf(r,{minimal:!0});return c.jsxs(Jt,{space:2,children:[c.jsxs(W,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[c.jsx(qa,{user:n}),c.jsx(Jt,{paddingLeft:2,children:c.jsx(B,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading"})})]}),c.jsx(B,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var ane=Object.freeze,WZt=Object.defineProperty,YZt=(e,t)=>ane(WZt(e,"raw",{value:ane(t||e.slice())})),lne;const qZt=O(ee)(lne||(lne=YZt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),GZt=[],_i=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:l,path:u=GZt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||e_(a,u),[r,a,u]),v=cAe(m),g=c.jsx(qZt,{...p,as:o,className:s,"data-hover":l||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?c.jsx(Ki,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var cne=Object.freeze,KZt=Object.defineProperty,uAe=(e,t)=>cne(KZt(e,"raw",{value:cne(t||e.slice())})),une,dne;const wB=O.div(une||(une=uAe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),fk=O(B)(dne||(dne=uAe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function ZZt(e){const{change:t,segment:n}=e;if(typeof n=="string")return c.jsx(F,{children:c.jsx(B,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",l=typeof i>"u";if(a)return c.jsx(XZt,{annotation:s,change:t,toIndex:i});if(l)return c.jsx(QZt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return c.jsx(JZt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return c.jsx(F,{padding:1,children:c.jsxs(B,{size:1,weight:"semibold",children:["#",u]})})}function XZt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=c.jsxs(c.Fragment,{children:["#",o]}),l=(n!=null&&n.diff?e_(n.diff,[]):void 0)||t;return l?c.jsx(_i,{annotation:l,tooltip:{description:i},as:wB,children:c.jsx(fk,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):c.jsx(B,{size:1,weight:"semibold",children:s})}function QZt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return c.jsx(_i,{annotation:t||null,as:wB,tooltip:{description:o},children:c.jsxs(fk,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function JZt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"":"",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:1,children:c.jsxs(fk,{size:1,weight:"semibold",children:["#",r+1]})}),c.jsx(_i,{annotation:t,as:wB,tooltip:{description:a},children:c.jsxs(fk,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function dAe(e){const{change:t,titlePath:n}=e;return c.jsx(_L,{maxLength:4,separator:c.jsx(B,{muted:!0,size:1,children:c.jsx(Qu,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?c.jsx(ZZt,{change:t,segment:r},o):null)})}function eXt(e){return _t(e)&&typeof(e==null?void 0:e.then)=="function"}function tXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return eXt(l)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof l>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),l)},[e,o,i,s,r,t])}const o4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Go(i),a=si();return tXt(t,n,{currentUser:a,document:r,parent:o,value:s})},Wu=h.createContext({path:[]});function i4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(nXt(t)&&rXt(e))for(const o of t.fields){const i=i4(e[o.name],o.type);if(i)return i}}}function nXt(e){return e.jsonType==="object"}function rXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function oXt(e){return rF(e)?e._type:sXt(e)}function iXt(e,t){return e.action==="added"?{toType:J1(t,e.toValue)}:e.action==="changed"?{fromType:J1(t,e.fromValue),toType:J1(t,e.toValue)}:e.action==="removed"?{fromType:J1(t,e.fromValue)}:{toType:J1(t,e.toValue)}}function J1(e,t){const n=oXt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function sXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const Q0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],fA="",J0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],aXt="",hk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lXt="",fAe="";function cXt(e){return e.of.some(pAe)}const uXt=J0.map(e=>e[0]).concat(Q0.map(e=>e[0])),dXt=J0.map(e=>e[1]).concat(Q0.map(e=>e[1])),hAe=uXt.concat(dXt).concat(hk).concat(fA).concat(fAe),fne=new RegExp("".concat(hAe.join("|")),"g"),fXt=new RegExp("".concat(hAe.join("|"),`|
`),"g");function pAe(e){return e.jsonType==="object"&&e.name==="block"}function hXt(e){return Xu(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function hne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function s4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function _B(e){return e.decorators?B0(e.decorators,["value"],["asc"]):[]}function mAe(e,t){return _B(t).some(n=>n.value===e)}function pne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Js(i)?(s=i.text)==null?void 0:s.replace(fne,""):"";if(Js(i)){const l=CB(e,i),u=l==null?void 0:l.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(fne,"")).join(fAe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(fA).concat(a)}).join(""):""}function pXt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=s4(t.fields,{_key:"bogus",_type:"span"});a&&_B(a).forEach((g,x)=>{i[g.value]=J0[x]}),yAe(r.origin).forEach((g,x)=>{o[g._key]=Q0[x]}),gAe(r.origin).forEach((g,x)=>{s[g._key]=hk[x]});const d=pne(r.origin,r.fromValue,i,o,s),f=pne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:mXt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function mXt(e,t){const n=[],r=e9($w(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case wt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Yn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return En(n.map(s=>{const a=[];if(s.text.length>1){const l=[...s.text.matchAll(fXt)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===l[l.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),l.length===0&&a.push(s)}else a.push(s);return a}))}function gAe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),B0(t,["_key"],["asc"])}function CB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function gXt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function vAe(e){return e&&Yt(Object.keys(e),["_key","_type"])||!1}function vXt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function yAe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),B0(t,["_key"],["asc"])}const yXt=[];function bXt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function xXt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const wXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?bXt:xXt,l=r0(t,[]),u=o!=null;return c.jsxs(W,{align:"center",children:[c.jsx(Ki,{diff:t,children:c.jsxs(W,{align:"center",children:[c.jsx(a,{checked:r,color:l}),u&&c.jsxs(c.Fragment,{children:[c.jsx(F,{marginX:2,children:c.jsx(DB,{})}),c.jsx(a,{checked:o,color:l})]})]})}),u&&i&&c.jsx(F,{marginLeft:2,children:c.jsx(B,{size:1,weight:"semibold",children:i})})]})};var mne=Object.freeze,_Xt=Object.defineProperty,CXt=(e,t)=>mne(_Xt(e,"raw",{value:mne(t||e.slice())})),gne;const SXt="YYYY-MM-DD",EXt="HH:mm",kXt=O.div(gne||(gne=CXt([`
  display: inline-block;
  word-wrap: break-word;
`]))),jXt=function(t){let{value:n,schemaType:r}=t;return c.jsx(F,{as:kXt,paddingX:2,paddingY:1,children:TXt(n,r)})};function TXt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||SXt,i=(n==null?void 0:n.timeFormat)||EXt;return FT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const vne=e=>{let{diff:t,schemaType:n}=e;return c.jsx(t_,{align:"center",diff:t,layout:"grid",previewComponent:jXt,schemaType:n})},bAe=h.createContext(null);function hA(){const e=h.useContext(bAe);if(!e)throw new Error("DocumentChange: missing context value");return e}function yne(e){const[t,n]=h.useState(void 0),r=Cr(gn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function AXt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var bne=Object.freeze,DXt=Object.defineProperty,IXt=(e,t)=>bne(DXt(e,"raw",{value:bne(t||e.slice())})),xne;const PXt=O.div(xne||(xne=IXt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),OXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,l=yne(s==null?void 0:s._ref),u=yne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(l==null?void 0:l.size)&&l.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=AXt(m,v),x=m?m.toFixed(2):void 0,b=v?v.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=l&&c.jsx(_i,{as:"del",diff:t,path:"asset._ref",style:y,children:c.jsx(d4,{title:l.originalFilename||"Untitled",icon:Rp,children:c.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")})})}),_=u&&c.jsx(_i,{as:"ins",diff:t,path:"asset._ref",style:y,children:c.jsx(d4,{title:u.originalFilename||"Untitled",icon:Rp,children:c.jsxs(W,{align:"center",children:[c.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")}),g!==0&&c.jsx(ee,{radius:2,padding:1,as:PXt,marginLeft:2,children:c.jsxs(B,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),C=c.jsxs(c.Fragment,{children:[w&&!_&&c.jsx(Ki,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&_&&c.jsx(Ki,{diff:t,path:"asset._ref",children:c.jsx(IB,{from:w,layout:"grid",to:_})}),!w&&_&&c.jsx(Ki,{diff:t,path:"asset._ref",description:"Added",children:_})]});return c.jsxs(c.Fragment,{children:[f&&C,p.length>0&&c.jsx(F,{marginTop:f?4:3,children:c.jsx(n_,{diff:t,schemaType:n,fields:p})})]})};function wne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function $Xt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function RXt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function MXt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,l=r0(n,"crop"),u=r0(n,"hotspot");return c.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[c.jsx("defs",{children:t&&o&&c.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[c.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),c.jsx(_ne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&c.jsx(Ki,{diff:n,path:"crop",description:"Crop changed",children:c.jsx("g",{children:c.jsx(FXt,{crop:t,fill:wne(l.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:l.border,strokeWidth:1,width:i,height:s})})}),o&&c.jsx(Ki,{diff:n,path:"hotspot",description:"Hotspot changed",children:c.jsx("g",{children:c.jsx(_ne,{hotspot:o,fill:wne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function FXt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return c.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function _ne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return c.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Cne=Object.freeze,LXt=Object.defineProperty,SB=(e,t)=>Cne(LXt(e,"raw",{value:Cne(t||e.slice())})),Sne,Ene,kne;const BXt=["originalFilename"],jne=()=>c.jsx(ee,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(W,{align:"center",justify:"center",height:"fill",children:c.jsx(B,{size:1,muted:!0,children:"(no image)"})})}),NXt=O.div(Sne||(Sne=SB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),zXt=O.img(Ene||(Ene=SB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),VXt=O.div(kne||(kne=SB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function bO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:l,crop:u,is:d}=e,f=Cr(gn),[p,m]=oe.useState(),{value:v}=exn(i,BXt),g=kEt(i),x=h.useMemo(()=>wT(f),[f]),b=v===null,y=v&&v.originalFilename||"Untitled",w=x.image(i).height(190).dpr(RXt()).fit("max"),_=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),C=s==="changed"?void 0:s;return c.jsxs(W,{direction:"column",height:"fill",flex:1,children:[c.jsx(F,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(W,{as:NXt,direction:"column","data-changed":d==="from"&&_?"":void 0,"data-error":p?"":void 0,children:[!b&&!p&&c.jsx(zXt,{src:w.toString()||"",alt:y,"data-action":C,onError:m,width:g.width,height:g.height}),(b||p)&&c.jsx(F,{paddingY:5,children:c.jsx(B,{size:1,muted:!0,align:"center",children:b?"Image is deleted":"Error loading image"})}),c.jsx(VXt,{children:c.jsx(MXt,{crop:u&&!fEt(u)?u:void 0,diff:a,hash:$Xt("".concat(w.toString()||"","-").concat(d)),hotspot:l&&!hEt(l)?l:void 0,width:g.width,height:g.height})})]})}),c.jsx(d4,{title:y,icon:El,markRemoved:_&&d==="from",children:C?c.jsx("div",{children:C}):c.jsxs("div",{children:[g.width,"  ",g.height]})})]})}const HXt=["crop","hotspot"],UXt=["asset",...HXt],xO={flex:1},WXt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:l}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=e_(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!UXt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),x=p.includes("crop"),b=p.includes("hotspot"),y=x||b,w=g||y,_=y&&!g,C=i&&u?c.jsx(_i,{annotation:f,style:xO,children:c.jsx(bO,{is:"from",id:u,diff:t,action:v,hotspot:_&&b?i.hotspot:void 0,crop:_&&x?i.crop:void 0})}):c.jsx(jne,{}),S=s&&d?c.jsx(_i,{annotation:f,style:xO,children:c.jsx(bO,{is:"to",id:d,diff:t,hotspot:_&&b?s.hotspot:void 0,crop:_&&x?s.crop:void 0})}):c.jsx(jne,{});if(!C&&!S)return c.jsx(ee,{padding:4,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!l)return d?c.jsx(_i,{annotation:f,style:xO,children:c.jsx(bO,{id:d,is:"to",diff:t})}):null;const E=c.jsx(IB,{align:"center",from:C,layout:"grid",to:S});return c.jsxs(c.Fragment,{children:[w&&(g?c.jsx(Ki,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&c.jsx(F,{marginTop:w?4:3,children:c.jsx(n_,{diff:t,schemaType:n,fields:m})})]})};var Tne=Object.freeze,YXt=Object.defineProperty,qXt=(e,t)=>Tne(YXt(e,"raw",{value:Tne(t||e.slice())})),Ane;const GXt=O.div(Ane||(Ane=qXt([`
  display: inline-block;
  word-break: break-all;
`]))),KXt=e=>{const{value:t}=e;return c.jsx(F,{as:GXt,paddingX:2,paddingY:1,children:t})},ZXt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(t_,{diff:t,schemaType:n,previewComponent:KXt,layout:"inline"})};var Dne=Object.freeze,XXt=Object.defineProperty,QXt=(e,t)=>Dne(XXt(e,"raw",{value:Dne(t||e.slice())})),Ine;const JXt=O.blockquote(Ine||(Ine=QXt([`
  margin: 0;
`])));function eQt(e){let{children:t}=e;return c.jsx("div",{children:c.jsx(JXt,{children:t})})}var Pne=Object.freeze,tQt=Object.defineProperty,nQt=(e,t)=>Pne(tQt(e,"raw",{value:Pne(t||e.slice())})),One;const rQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},oQt=O(ii)(One||(One=nQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function iQt(e){let{style:t,children:n}=e;return c.jsx(oQt,{size:rQt[t],children:n})}var $ne=Object.freeze,sQt=Object.defineProperty,aQt=(e,t)=>$ne(sQt(e,"raw",{value:$ne(t||e.slice())})),Rne;const lQt=O.div(Rne||(Rne=aQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function cQt(e){let{children:t}=e;return c.jsx(lQt,{children:t})}const uQt=[];function dQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=r0(o,uQt),{path:l}=h.useContext(Wu),{onSetFocus:u}=h.useContext(Dm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(l)},[l,d,u]);i.style==="blockquote"?f=c.jsx(eQt,{children:f}):i.style&&hXt(i)?f=c.jsx(iQt,{style:i.style,children:f}):f=c.jsx(cQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=c.jsx(ee,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:c.jsxs(ne,{space:2,children:[c.jsx(Ki,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:c.jsxs(B,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),c.jsx(F,{style:v,children:f})]})})}return c.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Mne=Object.freeze,fQt=Object.defineProperty,pA=(e,t)=>Mne(fQt(e,"raw",{value:Mne(t||e.slice())})),Fne,Lne,Bne,Nne;const e1=O(F)(Fne||(Fne=pA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),xAe=O(B)(Lne||(Lne=pA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),EB=O(F)(Bne||(Bne=pA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),e1),wAe=O(F)(Nne||(Nne=pA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var zne=Object.freeze,hQt=Object.defineProperty,pQt=(e,t)=>zne(hQt(e,"raw",{value:zne(t||e.slice())})),Vne;const a4=O.div(Vne||(Vne=pQt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),EB);function mQt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?c.jsx(gQt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):c.jsx(a4,{children:t}):c.jsx(a4,{...s,children:"Unknown schema type"})}function gQt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Dm),{path:l}=h.useContext(Wu),[u,d]=h.useState(null),f=r0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),x=r&&vAe(r),b=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>l.slice(0,l.findIndex(I=>Pr(I)&&I._key===r._key)),[l,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),_=h.useMemo(()=>y.concat(b),[b,y]),C="field-".concat(vr(_)),S=W7(),E=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(C)}).length>0,[C,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(_))},[E,_,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(_),10))},[w,m,_,a]),k=h.useCallback(()=>{E||g(!1)},[E]);zr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=c.jsx(Wu.Provider,{value:{path:_},children:c.jsx(wAe,{padding:3,children:c.jsxs("div",{children:[x&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!x&&c.jsx(n_,{diff:t,schemaType:o})]})})});return c.jsx(a4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:c.jsx(hn,{content:D,open:v,ref:d,portal:!0,children:c.jsx(EB,{paddingLeft:1,children:c.jsx(Ki,{annotations:A,description:"".concat(t.action," annotation"),children:c.jsxs(e1,{style:{display:"inline-flex"},children:[c.jsx("span",{children:n}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(xAe,{size:0,children:c.jsx(Rl,{})})})]})})})})})}var Hne=Object.freeze,vQt=Object.defineProperty,yQt=(e,t)=>Hne(vQt(e,"raw",{value:Hne(t||e.slice())})),Une;const bQt=O.span(Une||(Une=yQt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function xQt(e){let{mark:t,children:n}=e;return c.jsx(bQt,{decoration:t,children:n})}var Wne=Object.freeze,wQt=Object.defineProperty,_Qt=(e,t)=>Wne(wQt(e,"raw",{value:Wne(t||e.slice())})),Yne;const l4=O(ee)(Yne||(Yne=_Qt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),e1);function CQt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?c.jsx(SQt,{...o,diff:t,object:n,schemaType:r}):c.jsx(l4,{children:c.jsx(a_,{schemaType:r,value:n,layout:"inline"})}):c.jsxs(l4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function SQt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Wu),{onSetFocus:a}=h.useContext(Dm),l=r0(t,[]),u=h.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=h.useState(!1),p=n&&vAe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Pr(k)&&k._key===n._key)).concat(r),x="field-".concat(vr(g)),y=W7().filter(k=>{let[T]=k;return T.startsWith(x)}).length>0,w=s.slice(0,-1).concat(r).concat([Dge]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const _=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),C=h.useCallback(()=>{f(!1)},[]),S=c.jsx(Wu.Provider,{value:{path:g},children:c.jsx(EQt,{diff:t,emptyObject:p,onClose:C,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return c.jsx(l4,{...i,onClick:_,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(hn,{content:S,open:d,portal:!0,children:c.jsx(EB,{children:c.jsx(Ki,{annotations:j,description:"".concat(t.action," inline object"),children:c.jsxs(e1,{children:[c.jsx(a_,{schemaType:o,value:n,layout:"inline"}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(xAe,{size:0,children:c.jsx(Rl,{})})})]})})})})})}function EQt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return zr(a,[i]),c.jsxs(wAe,{ref:s,padding:3,children:[n&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&c.jsx(n_,{diff:t,schemaType:o})]})}function kQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?c.jsx(jQt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):c.jsx(e1,{children:r})}function jQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=oe.useContext(Dm),{path:l}=oe.useContext(Wu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=l.slice(0,l.findIndex(y=>Pr(y)&&Pr(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(y=>y.text===i.text)||t||n,x=g&&g.action!=="unchanged"&&g.annotation||null,b=x&&i.action!=="unchanged"?c.jsx(_i,{annotation:x,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(an(i.action)," text")},children:r}):null;return c.jsx(e1,{...s,onClick:m,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:b||r})})})}const kB=J0.map(e=>e[0]),jB=J0.map(e=>e[1]),IS=Q0.map(e=>e[0]),c4=Q0.map(e=>e[1]),TQt=kB.concat(IS),_Ae=jB.concat(c4),AQt=kB.concat(jB),DQt=new RegExp("".concat(AQt.concat(_Ae).join("|")),"g");function IQt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?gAe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=s4(n.fields,s);let l=[];if(a){l=_B(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if($Qt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=hne(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return c.jsx(_i,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(an(y.action)," empty text")},children:c.jsx("span",{children:aXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let x;const b=yAe(t.origin);return d.forEach(y=>{var w,_,C;v++;const S=hk.includes(y.text),E=TQt.includes(y.text),j=_Ae.includes(y.text),k=y.text===fA,T=y.action==="removed";if(k)T||m++;else if(E||j){if(E&&IS.includes(y.text)){const A=b[IS.indexOf(y.text)];A&&g.push({mark:A._key,symbols:[y.text,c4[IS.indexOf(y.text)]],object:A})}j&&c4.includes(y.text)&&(x=g.pop())}else if(S){const A=hk.findIndex(P=>P===y.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=s4(n.fields,I),M=hne(t.origin,I);f.push(c.jsx(CQt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:M,schemaType:P},"inline-object-".concat(I._key)))}}else if(y.text){const A=()=>{var $;return($=t.origin.fromValue)==null?void 0:$.children.find(V=>V.text&&V.text.match(vXt(y.text)))},D=r.children[m]||A(),I=D&&CB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(_=I==null?void 0:I.fields)!=null&&_.text?(C=I==null?void 0:I.fields)==null?void 0:C.text:void 0,M=c.jsx(kQt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:y,children:PQt({diff:t,child:D,decoratorTypes:l,seg:y,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach($=>{p[$.mark]=p[$.mark]||[],p[$.mark].push(M)}),x){const $="annotation-".concat(x.object._key),V=f[f.length-1];if(V&&V.key!==$){const L=gXt(t.origin,x.mark),H=x&&a.annotations&&a.annotations.find(U=>x&&x.object&&U.name===x.object._type);f.push(c.jsx(mQt,{object:x.object,diff:L,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:c.jsx(c.Fragment,{children:p[x.mark]})},$))}x=void 0}g.length===0&&f.push(M)}}),oe.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return c.jsx(dQt,{block:t.displayValue,diff:t,children:c.jsx(c.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function PQt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return c.jsx("br",{});let a=c.jsx("span",{children:o.text.replace(/ /g,lXt)},"text-".concat(i));const l=n&&CB(t.origin,n),u=Js(n)?n.marks||[]:[];return l&&(a=OQt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:l,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{mAe(d,s)&&(a=c.jsx(xQt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function OQt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:l}=e;var u;let d=c.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const b=f.split(fA).filter(S=>!!S).join(""),y=b.substring(0,b.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),_=[];return[...w.matchAll(DQt)].forEach(S=>{var E;const j=S[0],k=J0.concat(Q0).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?kB.indexOf(j):jB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&_.push(A)}}),g=yFt(t,co(_)),v&&g.length>0&&g.some(S=>mAe(S,l))&&(d=c.jsx(_i,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function $Qt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const RQt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>pXt(t,n),[t,n]);return c.jsx("div",{"data-diff-action":t.action,children:c.jsx(IQt,{diff:r,schemaType:n})})};var qne=Object.freeze,MQt=Object.defineProperty,FQt=(e,t)=>qne(MQt(e,"raw",{value:qne(t||e.slice())})),Gne;const LQt=O.div(Gne||(Gne=FQt([`
  word-wrap: break-word;
`]))),BQt=e=>{let{value:t,schemaType:n}=e;return c.jsx(F,{as:LQt,padding:2,children:c.jsx(a_,{schemaType:n,value:t,layout:"default"})})},NQt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(t_,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:BQt,schemaType:n})};var Kne=Object.freeze,zQt=Object.defineProperty,VQt=(e,t)=>Kne(zQt(e,"raw",{value:Kne(t||e.slice())})),Zne;const HQt=O.div(Zne||(Zne=VQt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),UQt=e=>{const{value:t}=e;return c.jsx(F,{as:HQt,paddingX:2,paddingY:1,children:t})};var Xne=Object.freeze,WQt=Object.defineProperty,YQt=(e,t)=>Xne(WQt(e,"raw",{value:Xne(t||e.slice())})),Qne;const qQt=O.div(Qne||(Qne=YQt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),GQt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?c.jsx(t_,{diff:t,previewComponent:UQt,schemaType:n}):c.jsx(qQt,{children:c.jsx(HJt,{diff:t})})},Jne={block:RQt,boolean:{component:wXt,showHeader:!1},date:vne,datetime:vne,file:OXt,image:WXt,number:ZXt,reference:NQt,string:GQt};function CAe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||KQt(r,t)||Jne[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Jne[i]}function KQt(e,t){const n=yXt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function ZQt(e){const t=ere(e.fromValue),n=ere(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function SAe(e){return e.type==="field"}function ere(e){return e!==null&&typeof e<"u"&&e!==""}function TB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!CAe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return EAe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return JQt(e,t,n,r)}return kAe(e,t,n,r,o)}function EAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of a)l.single?i.push(...XQt(l.field,t,n,r,s)):i.push(...QQt(l,t,n,r,s));return i.length<2?i:[{type:"group",key:Cn(n)||"root",path:n,titlePath:r,changes:AB(i,r.length),schemaType:e}]}function XQt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return TB(e.type,a,l,u,s)}function QQt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:l,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=l,v=r.concat([a||s]),g=[];for(const x of i){const b=t.fields[x.name];if(!b||!b.isChanged||d&&!d.includes(x.name))continue;const y=n.concat([x.name]),w=v.concat([x.type.title||x.name]);g.push(...TB({readOnly:m,hidden:p,...x.type},b,y,w,f))}return g.length<2?g:[{type:"group",key:Cn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:AB(g,v.length),readOnly:m,hidden:p}]}function JQt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(o.length===0)return[];const i=cXt(e),s=[],a=o.reduce((l,u)=>{const d=iXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",Cn(n)),l;const p=n4(u.diff.fromValue)||n4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),x=y=>(y.type==="field"&&sAe(m,y.path)&&(y.itemDiff=u),y),b=TB(f,u.diff,m,g,v).map(x);return i&&b.filter(SAe).forEach((y,w,_)=>{y.showHeader=_.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),b.length===0?l.push(...kAe(f,u.diff,m,g,v)):l.push(...b),l},s);return a.length>1?[{type:"group",key:Cn(n)||"root",path:n,titlePath:r,changes:AB(a,r.length),schemaType:e}]:a}function kAe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:l,type:u}=t;if(u==="array"&&tre(a)&&tre(l))return[];let d;typeof a<"u"&&(d=i4(a,e)),!d&&typeof l<"u"&&(d=i4(l,e));let f=!0,p;const m=CAe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:Cn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function AB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function tre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const nre=e=>e.type==="field"&&e.diff.action==="added",jAe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...jAe(n))}),t},TAe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},eJt=(e,t)=>{const n=e[t],r=aAe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},tJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function mA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=jAe(e),i=o.filter(nre);o.filter(s=>!nre(s)).forEach(s=>mA(s,t,n)),r.push(...rre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...rre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...rJt(e.itemDiff,e.parentDiff,e.path)):r.push(...oJt(e.diff,t,e.path));n.patch.execute(r)}function nJt(e,t,n){const r=e.toValue;return AAe(r,t,n)}function rre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>TAe(t[r],i))||n.push(nJt(e,t[r],t));return[{unset:[...new Set(n.map(Cn))]}]}function AAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Cl(e,o),s=[o,...n.filter(a=>!TAe(a,o))];return DAe(i,o,n)?AAe(e,o,s,r):t}function rJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=aJt(t,e);let a;if(i===0)a={before:Cn([...r,0])};else{const l=i-1,d=n4(o[l])||l;a={after:Cn([...r,d])}}return[{unset:[Cn(n)]},{insert:{...a,items:[s]}}]}function oJt(e,t,n){const r=YT(e.toValue,e.fromValue,tJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:Cn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(Cn(f.path)),[]),s=new Set,a=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,a.push(...iJt(f.path,t,s)),d[Cn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...l?[{set:u}]:[]]}function iJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),l=Cn(a);if(n.has(l))continue;const u=e[s],d=Pr(u)||bc(u),f=Cl(r,a),p=ore(f);if(d&&Array.isArray(f)&&!Cl(o,e.slice(0,s+1))){const m=IZt(f,u),v=f[m-1],g=Cl(r,a.concat(u)),x=Sl(v)?{_key:v._key}:m-1,b=Cn(a.concat(m<1?0:x));i.push({setIfMissing:{[l]:[]}}),i.push({insert:{after:b,items:[ore(g)]}}),s++;continue}typeof p>"u"||(n.add(l),i.push({setIfMissing:{[l]:p}}))}return i}function sJt(e,t,n){if(!_t(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,eJt(e,r)];if(!DAe(e[r],o,n))return!1}return!0}function DAe(e,t,n){const r=n==null?void 0:n.some(i=>Cn(i)===Cn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||FZt(e)||sJt(e,t,n)}function ore(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Sl(e)&&(t._key=e._key),rF(e)&&(t._type=e._type),t}function aJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const hd=!1;var lJt=Object.defineProperty,cJt=(e,t,n)=>t in e?lJt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uJt=(e,t,n)=>(cJt(e,typeof t!="symbol"?t+"":t,n),n);class dJt extends oe.Component{constructor(){super(...arguments),uJt(this,"state",{})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?c.jsx(ee,{padding:3,radius:2,tone:"critical",children:c.jsxs(W,{children:[c.jsx(B,{size:1,children:c.jsx(da,{})}),c.jsxs(F,{paddingLeft:3,children:[c.jsx(B,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),hd]})]})}):this.props.children}}const fJt={down:cve,right:uve};function DB(e){const{direction:t="right",...n}=e,r=fJt[t];return c.jsx(B,{muted:!0,size:1,...n,children:h.createElement(r)})}var ire=Object.freeze,hJt=Object.defineProperty,IAe=(e,t)=>ire(hJt(e,"raw",{value:ire(t||e.slice())})),sre,are;const wO=O.pre(sre||(sre=IAe([`
  overflow-x: auto;
  position: relative;
`]))),pJt=O.div(are||(are=IAe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function mJt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),l=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(F,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?c.jsx(gJt,{change:r}):t})}const _O=e=>{let{title:t}=e;return c.jsx(F,{padding:3,display:"inline-block",as:pJt,children:c.jsx(Nt,{size:1,muted:!0,children:t})})};function gJt(e){let{change:t}=e;var n,r,o;return c.jsxs(ne,{space:3,children:[c.jsxs(ee,{padding:3,tone:"transparent",as:wO,radius:1,children:[c.jsx(_O,{title:"meta"}),c.jsx(xr,{language:"json",size:1,children:vJt({path:Cn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),c.jsxs(ee,{as:wO,tone:"critical",padding:3,radius:1,children:[c.jsx(_O,{title:"from"}),c.jsx(xr,{language:"json",size:1,children:lre(t.diff.fromValue)})]}),c.jsx(ee,{children:c.jsx(DB,{direction:"down",align:"center"})}),c.jsxs(ee,{as:wO,tone:"positive",padding:3,radius:1,children:[c.jsx(_O,{title:"to"}),c.jsx(xr,{language:"json",size:1,children:lre(t.diff.toValue)})]})]})}function lre(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function vJt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const yJt={flexShrink:0},bJt={alignItems:"stretch"},cre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},IB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...l}=t,u=Is(),d=o==="inline"?W:ln,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ge(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?yJt:bJt;return c.jsxs(d,{...l,ref:n,style:f,"data-from-to-layout":!0,children:[i&&c.jsxs(c.Fragment,{children:[c.jsx(W,{align:cre[r],style:p,children:i}),c.jsx(W,{align:"center",justify:"center",padding:2,children:c.jsx(DB,{})})]}),c.jsx(W,{align:cre[r],style:p,children:s})]})}),CO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function t_(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:l}=r,u=ZQt(r);if(l==="unchanged")return c.jsx(_i,{className:n,style:CO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(_i,{as:"del",className:n,diff:r,path:i,style:CO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(_i,{as:"ins",className:n,diff:r,path:i,style:CO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?c.jsx(Ki,{description:u,diff:r,path:i,children:d}):!d&&f?c.jsx(Ki,{description:u,diff:r,path:i,children:f}):c.jsx(Ki,{description:u,diff:r,path:i,children:c.jsx(IB,{align:t,from:d,layout:o,to:f})})}const xJt=e=>{let{value:t,schemaType:n}=e;return c.jsx(F,{padding:2,children:c.jsx(a_,{schemaType:n,value:t,layout:"default"})})},wJt=e=>{const{diff:t,schemaType:n}=e;return c.jsx(t_,{diff:t,schemaType:n,previewComponent:xJt,layout:"grid"})};var ure=Object.freeze,_Jt=Object.defineProperty,CJt=(e,t)=>ure(_Jt(e,"raw",{value:ure(t||e.slice())})),dre;const SJt=O(ae)(dre||(dre=CJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),PAe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return c.jsx(SJt,{icon:IF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function EJt(e){let{error:t}=e;return c.jsx(ee,{tone:"critical",padding:3,children:c.jsxs(W,{align:"flex-start",children:[c.jsx(F,{children:c.jsx(B,{children:c.jsx(da,{})})}),c.jsx(F,{flex:1,paddingLeft:3,children:c.jsxs(B,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var fre=Object.freeze,kJt=Object.defineProperty,PB=(e,t)=>fre(kJt(e,"raw",{value:fre(t||e.slice())})),hre,pre,mre;const jJt=O.div(hre||(hre=PB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),TJt=O.div(pre||(pre=PB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),AJt=O(hn)(mre||(mre=PB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function DJt(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||wJt,{documentId:s,schemaType:a,rootDiff:l,isComparingCurrent:u,FieldWrapper:d=oe.Fragment}=hA(),f=Wc(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[x,b]=h.useState(null),[y,w]=fh({id:s,type:a.name,permission:"update"}),_=h.useCallback(()=>{mA(n,l,f)},[n,l,f]),C=h.useCallback(()=>{m(!0)},[]),S=oe.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);zr(k,[x]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:c.jsxs(ne,{space:1,as:jJt,children:[n.showHeader&&c.jsx(dAe,{change:n,titlePath:n.titlePath}),c.jsx(d,{path:A,hasHover:v,children:c.jsxs(mJt,{change:n,as:TJt,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?c.jsx(EJt,{error:n.error}):c.jsx(dJt,{children:c.jsx(Wu.Provider,{value:{path:n.path},children:c.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&c.jsx(AJt,{content:c.jsxs(F,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",onClick:S,children:c.jsx(B,{align:"center",children:"Cancel"})}),c.jsx(ae,{tone:"critical",onClick:_,children:c.jsx(B,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:b,children:c.jsx(F,{flex:1,children:c.jsx(PAe,{onClick:C,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,_,C,u,w,y,v,A])}function IJt(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var gre=Object.freeze,PJt=Object.defineProperty,OB=(e,t)=>gre(PJt(e,"raw",{value:gre(t||e.slice())})),vre,yre,bre;const OJt=O.div(vre||(vre=OB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),$Jt=O.div(yre||(yre=OB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),RJt=O(hn)(bre||(bre=OB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function MJt(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:l}=h.useContext(Wu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=hA(),v=s.every(I=>SAe(I)&&pAe(I.schemaType)),g=sAe(l,a),[x,b]=IJt(),y=Wc(u,d.name),[w,_]=h.useState(!1),[C,S]=h.useState(null),[E,j]=fh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>mA(t,p,y),[t,p,y]),T=h.useCallback(()=>{_(!0)},[]),A=h.useCallback(()=>{_(!1)},[]);zr(()=>_(!1),[C]);const D=h.useMemo(()=>r?null:c.jsxs(ne,{space:1,as:$Jt,"data-revert-group-hover":b?"":void 0,"data-portable-text":v?"":void 0,children:[c.jsx(ne,{as:OJt,space:5,children:s.map(I=>c.jsx(OAe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&c.jsx(RJt,{content:c.jsxs(F,{children:["Are you sure you want to revert the changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",onClick:A,children:c.jsx(B,{align:"center",children:"Cancel"})}),c.jsx(ae,{tone:"critical",onClick:k,children:c.jsx(B,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:c.jsx(F,{children:c.jsx(PAe,{onClick:T,ref:x,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,b,j,v,E,x]);return r?null:c.jsxs(ne,{space:1,...o,children:[c.jsx(dAe,{titlePath:i}),g||!f?D:c.jsx(f,{hasHover:b,path:t.path,children:D})]})}function OAe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=hA(),a=o4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=o4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?c.jsx(DJt,{change:r,readOnly:l}):r.type==="group"?c.jsx(MJt,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:l}):c.jsxs(B,{children:["Unknown change type: ",c.jsx("code",{children:r.type||"undefined"})]})}function u4(){return c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),c.jsx(B,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var xre=Object.freeze,FJt=Object.defineProperty,$Ae=(e,t)=>xre(FJt(e,"raw",{value:xre(t||e.slice())})),wre,_re;const LJt=O.div(wre||(wre=$Ae([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),BJt=O(hn)(_re||(_re=$Ae([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function n_(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=hA(),a=Wc(o,r.name),{path:l}=h.useContext(Wu),u=l.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=o4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,x]=fh({id:o,type:r.name,permission:"update"}),b=h.useMemo(()=>EAe(r,t,l,[],{fieldFilter:n}),[r,n,l,t]),y=h.useMemo(()=>n&&n.length===0?[]:NJt(b),[b,n]),w=b[0],_=h.useCallback(()=>{mA(w,t,a),f(!1)},[w,t,a]),C=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(zr(A,[k]),y.length===0)return u?c.jsx(u4,{}):null;const D=u&&y.length>1;return c.jsx(ee,{children:c.jsxs(ne,{space:5,children:[c.jsx(ne,{as:LJt,space:5,children:y.map(I=>c.jsx("div",{children:c.jsx(OAe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!x&&(g==null?void 0:g.granted)&&c.jsx(BJt,{content:c.jsxs(F,{children:["Are you sure you want to revert all ",y.length," changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",text:"Cancel",onClick:j}),c.jsx(ae,{tone:"critical",text:"Revert all",onClick:_})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:c.jsx(ne,{children:c.jsx(ae,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:IF,onClick:C,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function NJt(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Cre=Object.freeze,zJt=Object.defineProperty,RAe=(e,t)=>Cre(zJt(e,"raw",{value:Cre(t||e.slice())})),Sre,Ere;const kre=O.span(Sre||(Sre=RAe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),jre=O(B)(Ere||(Ere=RAe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function VJt(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?c.jsx(_i,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:kre,children:c.jsx(jre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?c.jsx(_i,{annotation:t.annotation,as:kre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:c.jsx(jre,{as:"del",children:n})}):c.jsx(ee,{as:"span",radius:2,style:{display:"inline"},children:n})}function HJt(e){const{diff:t}=e;return c.jsx(c.Fragment,{children:(t.segments||[]).map((n,r)=>c.jsx(VJt,{segment:n},r))})}var Tre=Object.freeze,UJt=Object.defineProperty,WJt=(e,t)=>Tre(UJt(e,"raw",{value:Tre(t||e.slice())})),Are;const SO=O(B)(Are||(Are=WJt([`
  color: inherit;
`])));function d4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return c.jsxs(W,{padding:2,align:"center",children:[r&&c.jsx(F,{padding:2,children:c.jsx(SO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),c.jsxs(ne,{space:2,paddingLeft:2,children:[c.jsx(SO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&c.jsx("div",{children:n}),c.jsx(SO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Dre=Object.freeze,YJt=Object.defineProperty,qJt=(e,t)=>Dre(YJt(e,"raw",{value:Dre(t||e.slice())})),Ire;O.div(Ire||(Ire=qJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const MAe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Pre(){return h.useContext(MAe)}const FAe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function r_(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Pre(),a=Pre().hoveredStack[0],l=Qp||(a?Cn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:l,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,l]);return c.jsx(FAe.Provider,{value:f,children:n})}function LAe(){return h.useContext(FAe)}function GJt(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const l=Cn(a);r(u=>u.includes(l)?u:[l,...u])},[]),i=h.useCallback(a=>{const l=Cn(a);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return c.jsx(MAe.Provider,{value:s,children:t})}const KJt={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function ZJt(e){const{__internal_fieldActions:t=Vn,__internal_patchChannel:n=KJt,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:l,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:x,onFieldGroupSelect:b,onPathBlur:y,onPathFocus:w,onPathOpen:_,onSetFieldSetCollapsed:C,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:M,schemaType:$,unstable:V,validation:L,value:H}=e,U=h.useRef(H);h.useEffect(()=>{U.current=H},[H]);const z=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:gB,CustomMarkers:(V==null?void 0:V.CustomMarkers)||iZt,Markers:(V==null?void 0:V.Markers)||JTe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>U.current,onChange:x}),[t,l.assetSources,l==null?void 0:l.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,x,n,V==null?void 0:V.CustomMarkers,V==null?void 0:V.Markers]),Y=h.useMemo(()=>({__internal:z,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:M,schemaType:$,value:H}),[z,r,o,s,a,H,d,f,p,m,g,j,k,T,A,D,I,P,M,$]);return c.jsx(QTe.Provider,{value:Y,children:c.jsx(Qw,{onChange:x,onFieldGroupSelect:b,onPathBlur:y,onPathFocus:w,onPathOpen:_,onSetPathCollapsed:S,onSetFieldSetCollapsed:C,children:c.jsx(sZt,{presence:E,children:c.jsx(lZt,{validation:L,children:c.jsx(GJt,{children:i})})})})})}function XJt(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:x,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:_,readOnly:C,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=ur().form,A=Yfn(),D=qfn(),I=LIe(),P=Gfn(),M=Kfn(),$=Zfn(),V=Xfn(),L=h.useCallback(G=>c.jsx(A,{...G}),[A]),H=h.useCallback(G=>c.jsx(D,{...G}),[D]),U=h.useCallback(G=>c.jsx(P,{...G}),[P]),z=h.useCallback(G=>c.jsx(UTe,{component:I,...G}),[I]),Y=h.useCallback(G=>c.jsx(M,{...G}),[M]),te=h.useCallback(G=>c.jsx($,{...G}),[$]),N=h.useCallback(G=>c.jsx(V,{...G}),[V]);return c.jsx(ZJt,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:l,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:x,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:_,readOnly:C,renderAnnotation:N,renderBlock:Y,renderField:H,renderInlineBlock:te,renderInput:L,renderItem:U,renderPreview:z,schemaType:S,validation:E,value:j,children:i})}function uOn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:x,onSetFieldSetCollapsed:b,onSetPathCollapsed:y,presence:w,readOnly:_,schemaType:C,validation:S,value:E}=e;return c.jsx(XJt,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:b,presence:w,validation:S,readOnly:_,schemaType:C,value:E,children:c.jsx(QJt,{})})}function QJt(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=oi(),{onChange:g,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:_,onSetPathCollapsed:C}=ga(),S=h.useCallback(L=>C([L],!0),[C]),E=h.useCallback(L=>C([L],!1),[C]),j=h.useCallback(()=>b(Vn),[b]),k=h.useCallback(()=>y(Vn),[y]),T=h.useCallback(L=>g(st.from(L)),[g]),A=h.useRef(null),D=h.useCallback(L=>x(Vn,L),[x]),I=h.useCallback(L=>w([L]),[w]),P=h.useCallback(()=>w([]),[w]),M=h.useCallback(L=>_([L],!0),[_]),$=h.useCallback(L=>_([L],!1),[_]),V={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(L=>L.kind==="field"&&L.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:P,onFieldCollapse:S,onFieldSetCollapse:M,onFieldExpand:E,onFieldSetExpand:$,onPathFocus:y,onFieldOpen:I,onFieldGroupSelect:D,path:Vn,presence:Vn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Vn,value:v};return c.jsx(c.Fragment,{children:d(V)})}const BAe=h.createContext({});function NAe(){return h.useContext(BAe)}function dOn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return c.jsx(BAe.Provider,{value:s,children:t})}h.createContext(null);function gA(e,t){return Pi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&yx(e.current,{scrollMode:"always"})},[e]))}function JJt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return S9(t),t}const een=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Px(e){const t=een();return JJt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var Ore=Object.freeze,ten=Object.defineProperty,zAe=(e,t)=>Ore(ten(e,"raw",{value:Ore(t||e.slice())})),$re,Rre;const nen={portal:!0},ren=O(ee)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de($re||($re=zAe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),oen=O(F)(Rre||(Rre=zAe([`
  max-width: 150px;
`]))),Mre=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function $B(e){const{presence:t}=e,{color:n}=ive().sanity,r=n.dark?"light":"dark",{selected:o}=vWt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(l=>l.user.id===a)).filter(ho),[t]),s=h.useMemo(()=>c.jsx(oen,{padding:2,children:c.jsx(B,{align:"center",size:1,children:Mre(i)})}),[i]);return c.jsx(yt,{content:s,...nen,children:c.jsx(ren,{scheme:o?r:void 0,$selected:o,children:c.jsx(Lj,{maxLength:2,"aria-label":Mre(i),children:i.map(a=>c.jsx(qa,{user:a.user},a.user.id))})})})}const ien=3,VAe=3,pk=-4,Ox=23,Fre=4,sen=[0,.25,.75,1],JC=23,aen=8,len=8,HAe=20,UAe=20,EO=!1,cen=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function uen(e){return-pk+(Ox+pk)*e}var Lre=Object.freeze,den=Object.defineProperty,WAe=(e,t)=>Lre(den(e,"raw",{value:Lre(t||e.slice())})),Bre,Nre;const YAe=O(W)(Bre||(Bre=WAe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),fen=O(W)(Nre||(Nre=WAe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),hen=oe.createContext([]);function pen(e){const{children:t,items:n}=e,r=h.useMemo(()=>c.jsx(ne,{padding:1,sizing:"border",children:n.map(o=>c.jsxs(W,{align:"center",gap:2,padding:1,children:[c.jsx("div",{children:c.jsx(qa,{user:o.user,status:"online"})}),c.jsx(B,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return c.jsx(yt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:men,useReporter:gen,useReportedValues:ven}=pTe(),qAe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=VAe,stack:s=!0}=t;const a=Nf(n||[],p=>p.user.id),l=wm(a,p=>p.lastActiveAt),[u,d]=s?cen(l,i):[[],l],f=[...d.reverse().map(p=>({key:p.user.id,element:c.jsx(qa,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:c.jsx(Z$,{count:u.length})}:null].filter(Boolean);return c.jsxs(YAe,{children:[c.jsx("div",{}),c.jsx(fen,{direction:"row-reverse",children:f.map((p,m)=>p&&c.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Ox+pk),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function yen(e){const t=h.useContext(hen),{presence:n=t,maxAvatars:r=VAe}=e,o=h.useRef(null);gen(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Nf(n||[],s=>s.user.id),[n]);return c.jsx(pen,{items:i,children:c.jsx(YAe,{ref:o,style:{minHeight:Ox,minWidth:Ox}})})}const o_=yen,ben=e=>{const t=new Tr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new ut(o=>{const i=t.pipe(ct(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},RB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=oe.useRef(null);return oe.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(Wn(l=>t(r,l))).subscribe();return()=>a.unsubscribe()},[n,r,t]),c.jsx("div",{ref:i,...o})};var zre=Object.freeze,xen=Object.defineProperty,em=(e,t)=>zre(xen(e,"raw",{value:zre(t||e.slice())})),Vre,Hre,Ure,Wre,Yre,qre,Gre;const wen=O.div(Vre||(Vre=em([`
  position: relative;
`]))),_en=O.div(Hre||(Hre=em([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),MB=de(Ure||(Ure=em([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Cen=O(RB)(e=>{let{$debug:t,margins:n}=e;return de(Wre||(Wre=em([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),MB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Sen=O(RB)(e=>{let{$debug:t}=e;return de(qre||(qre=em([`
    `,`

    visibility: none;

    `,`
  `])),MB,t&&de(Yre||(Yre=em([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),Een=O(RB)(e=>{let{$debug:t}=e;return de(Gre||(Gre=em([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),MB,t?"blue":"transparent")}),ken=e=>"".concat(e,"px"),jen=e=>0-e,Ten=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),l=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>ben({rootMargin:l.map(jen).map(ken).join(" "),threshold:sen}),[l]),[d,f]=h.useState({}),p=h.useCallback((x,b)=>{f(y=>({...y,[x]:b}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(x=>{var b;return((b=x.presence)==null?void 0:b.length)>0}).map(x=>{const b=d[x.id];if(!b)return null;const{bottom:y,top:w}=b.boundingClientRect,_=b.boundingClientRect.top<m.boundingClientRect.bottom,C=b.boundingClientRect.top<v.boundingClientRect.top,S=b.isIntersecting?w-(b.intersectionRect.top-JC):_?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=b.isIntersecting?-(y-(b.intersectionRect.bottom+JC)):C?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=aen?"top":E<=len?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:x,position:j}}).filter(Boolean):[],[v,d,r,m]);return c.jsxs(wen,{ref:n,children:[c.jsx(Cen,{$debug:EO,io:u,id:"::top",onIntersection:p,margins:l}),c.jsx("div",{children:i}),c.jsx(_en,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(x=>{const b=x.rect.width===0;return c.jsx(Sen,{$debug:EO,io:u,onIntersection:p,id:x.id,style:{width:b?1:x.rect.width,left:x.rect.left-(b?1:0),top:x.rect.top-JC,height:x.rect.height+JC*2}},x.id)}),c.jsx(Een,{$debug:EO,id:"::bottom",io:u,onIntersection:p})]})}),GAe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Aen=e=>e.top+e.height;function Den(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?Aen(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const e2=e=>B0(e,t=>t.region.rect.top),Ien=(e,t)=>e+t,Kre=e=>e.reduce(Ien,0);function Pen(e){const t=Den(e2(e)),n={top:[],inside:[],bottom:[],...e7(t,r=>r.position)};return{top:e2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:e2(n.inside).map(r=>({...r,indent:0})),bottom:e2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const Zre=e=>{let{height:t,...n}=e;return c.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},Oen=[0,0,0,0],$en=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function Ren(e,t){return{...$en(e,t),width:e.offsetWidth,height:e.offsetHeight}}function Men(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:Ren(o.element,t)}})}function Fen(e){const{children:t,margins:n=Oen}=e,r=ven(),o=oe.useRef(null),i=oe.useMemo(()=>o.current?Men(r,o.current):f4,[r]),s=oe.useCallback((a,l)=>{const u=Pen(a.filter(m=>m.region.presence.length>0)),d=Kre(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=Kre([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:x}=v,b=g<=HAe,y=x<=UAe;return{nearTop:m.nearTop+(b?v.region.presence.length:0),nearBottom:m.nearBottom+(y?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(Xre,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),c.jsx(Zre,{height:d}),c.jsx(Len,{containerWidth:l,regionsWithIntersectionDetails:u.inside}),c.jsx(Zre,{height:f}),c.jsx(Xre,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return c.jsx(Ten,{ref:o,margins:n,regions:i,render:s,children:t})}const f4=[],Xre=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?En(wm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||f4)):f4,[s,i]),[l,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Ox+pk):0)-u,m=o==="top"?l:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...GAe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Fre+1+m,bottom:Fre+1+m}),[p,m]);return c.jsx("div",{"data-dock":o,style:v,children:c.jsx(qAe,{position:o,maxAvatars:ien,presence:a})},"sticky-".concat(o))});function Len(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return c.jsx(c.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=HAe,l=s<=UAe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(oe.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",...GAe,left:o,transform:"translate3d(".concat(a||l?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(Nen,{value:()=>"".concat(i," | ").concat(s,""),children:c.jsx(qAe,{stack:!a&&!l,position:a?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const Ben=e=>e.children,Nen=Ben,zen=[0,0,0,0];function Ven(e){let{children:t,margins:n}=e;return c.jsx(men,{children:c.jsx(Fen,{margins:n||zen,children:t})})}const vA=Ven;var Qre=Object.freeze,Hen=Object.defineProperty,i_=(e,t)=>Qre(Hen(e,"raw",{value:Qre(t||e.slice())})),Jre,eoe,toe,noe,roe;const Uen=O(W)(Jre||(Jre=i_([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Wen=O(F)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(eoe||(eoe=i_([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Yen=O(F)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(toe||(toe=i_([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),qen=O(F)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(noe||(noe=i_([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),Gen=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(roe||(roe=i_([`
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),ooe=4;function KAe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[l,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[x,b]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:_=!1}=t||{},C=r&&r.length>0,S=i||s||l||_,E=S&&C||!y?3:void 0,j=(t==null?void 0:t.button)||C,k=S||y;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(v){const{width:A}=v.getBoundingClientRect();b(A||0)}},[v]);const T=h.useMemo(()=>n?c.jsx(qen,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return c.jsxs(Uen,{align:"flex-end",children:[c.jsx(Yen,{flex:1,paddingY:2,$presenceMaxWidth:uen(ooe),children:o}),a&&a.length>0&&c.jsx(Wen,{flex:"none",paddingBottom:1,$right:p+x,children:c.jsx(o_,{maxAvatars:ooe,presence:a})}),T,k&&j&&c.jsxs(Gen,{display:"flex",radius:2,ref:f,shadow:E,sizing:"border",children:[S&&C&&c.jsx(gZt,{nodes:r,onMenuOpenChange:u}),w]})]})}function uh(e,t){if(!(!t||!e))return"desc_".concat(e)}var ioe=Object.freeze,Ken=Object.defineProperty,Zen=(e,t)=>ioe(Ken(e,"raw",{value:ioe(t||e.slice())})),soe;const Xen=[],bv={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},xv={error:c.jsx(da,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:c.jsx(Xr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:c.jsx(lm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Qen=O(ne)(soe||(soe=Zen([`
  max-width: 200px;
`])));function t1(e){const{validation:t=Xen,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),l=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(l)return xv.error;if(u)return xv.warning;if(d)return xv.info},[l,d,u]),p=h.useMemo(()=>{if(l)return bv.error;if(u)return bv.warning;if(d)return bv.info},[l,d,u]);return c.jsx(yt,{content:c.jsxs(Qen,{padding:3,space:3,children:[n&&c.jsx(etn,{validation:t}),!n&&c.jsx(c.Fragment,{children:t.map((m,v)=>c.jsx(Jen,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(B,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function Jen(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return xv.error;if(t.level==="warning")return xv.warning;if(t.level==="info")return xv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return bv.error;if(t.level==="warning")return bv.warning;if(t.level==="info")return bv.info},[t]);return c.jsxs(W,{children:[c.jsx(F,{marginRight:2,children:c.jsx(B,{size:1,style:{color:r},children:n})}),c.jsx(F,{flex:1,children:c.jsx(B,{size:1,children:t.message})})]})}function etn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),l=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return c.jsxs(B,{size:1,children:[l||"",p&&c.jsx(c.Fragment,{children:" and "}),u||""]})}const ttn=[],ZAe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=ttn}=t,s=i.length>0;return c.jsxs(ne,{space:2,children:[c.jsxs(W,{children:[c.jsx(B,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&c.jsx(F,{marginLeft:2,children:c.jsx(t1,{fontSize:1,validation:i})})]}),n&&c.jsx(B,{muted:!0,size:1,id:uh(r,n),children:n})]})}),aoe=[],n1=h.memo(function(t){const{__unstable_headerActions:n=aoe,__unstable_presence:r=aoe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:l,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:x}=LAe();return c.jsxs(ne,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:x,space:1,children:[d&&c.jsx(KAe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:c.jsx(ZAe,{description:a,inputId:l,title:d,validation:f})}),c.jsx("div",{children:s})]})});var loe=Object.freeze,ntn=Object.defineProperty,FB=(e,t)=>loe(ntn(e,"raw",{value:loe(t||e.slice())})),coe,uoe,doe;const foe=O.legend(coe||(coe=FB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),rtn=O(W).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de(uoe||(uoe=FB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ge(r[1]),X7({base:o,focusRing:n}))}),otn=O(F)(doe||(doe=FB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),itn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=c.jsx(B,{weight:"semibold",size:1,children:i||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?c.jsx(foe,{children:c.jsxs(rtn,{type:"button",onClick:o,children:[c.jsx(otn,{children:c.jsx(B,{muted:!0,size:1,children:c.jsx(ij,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):c.jsx(foe,{children:s})});var hoe=Object.freeze,stn=Object.defineProperty,XAe=(e,t)=>hoe(stn(e,"raw",{value:hoe(t||e.slice())})),poe,moe;function atn(e){return typeof e=="function"?e():e}const ltn=O(F).attrs({forwardedAs:"fieldset"})(poe||(poe=XAe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),ctn=O(F)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(moe||(moe=XAe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ge(o[1]),X7({base:i,focusRing:{...r,offset:2}}))}),kO=[],yA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=kO,__unstable_presence:s=kO,children:a,collapsed:l,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:x,title:b,validation:y=kO,inputId:w,..._}=t,{focused:C,hovered:S,onMouseEnter:E,onMouseLeave:j}=LAe(),k=y.length>0,T=lr(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>l?v==null?void 0:v():m==null?void 0:m(),[l,m,v]),I=h.useMemo(()=>l?null:c.jsx(ln,{columns:d,gapX:4,gapY:5,children:atn(a)}),[a,l,d]);return c.jsxs(ltn,{"data-level":p,..._,onMouseEnter:E,onMouseLeave:j,children:[c.jsx(KAe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!C,fieldHovered:S,presence:s,content:c.jsxs(ne,{space:2,children:[c.jsxs(W,{children:[c.jsx(itn,{collapsed:!!l,collapsible:u,onClick:u?D:void 0,title:b}),k&&c.jsx(F,{marginLeft:2,children:c.jsx(t1,{fontSize:1,validation:y})})]}),f&&c.jsx(B,{muted:!0,size:1,id:uh(w,f),children:f})]})}),c.jsx(ctn,{$borderLeft:p>0,hidden:l,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof x=="number"&&x>-1?A:void 0,ref:T,tabIndex:x,children:!l&&I})]})});var goe=Object.freeze,utn=Object.defineProperty,dtn=(e,t)=>goe(utn(e,"raw",{value:goe(t||e.slice())})),voe;const ftn=O.div(voe||(voe=dtn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function htn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return c.jsx(ftn,{"data-max-avatars":n,"data-position":r,children:t})}var yoe=Object.freeze,ptn=Object.defineProperty,mtn=(e,t)=>yoe(ptn(e,"raw",{value:yoe(t||e.slice())})),boe;const gtn=O(ae)(boe||(boe=mtn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),QAe=oe.createContext(null),JAe=function(t){const n=h.useContext(QAe),{listeners:r,attributes:o}=Dke({id:n});return c.jsx(gtn,{icon:_ve,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function vtn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const ytn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:vtn(o,r,n,e)};var xoe=Object.freeze,btn=Object.defineProperty,woe=(e,t)=>xoe(btn(e,"raw",{value:xoe(t||e.slice())})),_oe,Coe;const LB="moving",eDe=O(F)(Coe||(Coe=woe([`
  `,`
`])),e=>e.$moving&&de(_oe||(_oe=woe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),xtn={threshold:{x:0,y:.02}},wtn={coordinateGetter:jLt},_tn={duration:200,easing:"ease"};function Ctn(e){return e==="x"?ALt:DLt}function Stn(e){return e==="x"?pLt:gLt}const Etn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...l}=t,u=t6t(pQ(l7),pQ(s7,wtn)),d=h.useCallback(p=>{var m,v,g,x;const{active:b,over:y}=p;b.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(v=(m=b.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(x=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:x.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[ytn({y:4}),...r?[Ctn(r)]:[]],[r]);return c.jsx(rLt,{sensors:u,autoScroll:xtn,modifiers:f,collisionDetection:r6t,onDragEnd:d,onDragStart:i,children:c.jsx(yLt,{items:n,strategy:r?Stn(r):void 0,children:c.jsx(ln,{...l,children:a})})})}),ktn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:l,active:u}=Dke({id:r,transition:i?null:_tn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:wx.Translate.toString(a),transition:l,pointerEvents:u?"none":void 0}),[a,l,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return c.jsx(eDe,{ref:p,style:f,$moving:d,className:d?LB:"","data-index":t["data-index"],children:o})});function BB(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?c.jsx(Etn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):c.jsx(ln,{...i})}const NB=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return c.jsx(QAe.Provider,{value:t.id,children:r?c.jsx(ktn,{ref:n,...o}):c.jsx(eDe,{ref:n,...o})})});var Soe=Object.freeze,jtn=Object.defineProperty,Ttn=(e,t)=>Soe(jtn(e,"raw",{value:Soe(t||e.slice())})),Eoe;const Atn=O(ee)(Eoe||(Eoe=Ttn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),LB);function bA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:l,footer:u}=e,d=h.useRef(null);return Pi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),c.jsx(Atn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:c.jsxs(ne,{space:1,children:[c.jsxs(W,{align:"center",children:[a&&c.jsx(F,{marginRight:1,paddingY:1,children:c.jsx(JAe,{paddingX:1,paddingY:3})}),c.jsx(F,{flex:1,children:s}),(o||t||l)&&c.jsxs(W,{align:"center",marginLeft:1,children:[o&&c.jsx(F,{marginLeft:1,children:o}),t&&c.jsx(F,{marginLeft:1,children:t}),l]})]}),u]})})}var koe=Object.freeze,Dtn=Object.defineProperty,xA=(e,t)=>koe(Dtn(e,"raw",{value:koe(t||e.slice())})),joe,Toe,Aoe,Doe;const Itn=O.button(joe||(joe=xA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),Ptn=O(ij)(Toe||(Toe=xA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),Otn=O(W)(Aoe||(Aoe=xA([`
  cursor: default;
`]))),$tn=O(F)(Doe||(Doe=xA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function $m(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),l=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),c.jsxs(F,{...i,children:[c.jsx(Itn,{type:"button",onClick:l,children:c.jsx(Otn,{align:"center",children:c.jsxs(Jt,{children:[c.jsx($tn,{"data-open":s?"":void 0,children:c.jsx(B,{size:1,children:c.jsx(Ptn,{open:s})})}),r&&c.jsx(F,{marginLeft:1,children:r}),c.jsx(F,{flex:1,marginLeft:1,children:c.jsx(B,{size:1,weight:"medium",children:o})})]})})}),c.jsx(F,{hidden:!s,marginTop:3,children:t})]})}const Rtn={warning:"caution",error:"critical",info:"positive"},Mtn={warning:c.jsx(Xr,{}),error:c.jsx(da,{}),info:c.jsx(lm,{})};function vf(e){const{children:t,status:n="warning",title:r,...o}=e;return c.jsx(ee,{radius:2,tone:Rtn[n],...o,"data-ui":"Alert",children:c.jsx(W,{padding:1,children:t&&c.jsx(F,{flex:1,children:c.jsx($m,{icon:Mtn[n],title:r,children:c.jsx(F,{marginLeft:3,marginTop:3,children:t})})})})})}function zB(e){if(Ka(e))return e.name==="object"?{}:{_type:e.name};if(Ol(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function r1(e){if(!Ka(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...zB(e),_key:Bw(12)}}const Ftn={portal:!0,tone:"default",placement:"left",constrainSize:!0},wA=h.memo(function(t){const{types:n,onInsert:r}=t;return c.jsxs(c.Fragment,{children:[c.jsx(Ioe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:kve}),c.jsx(Ioe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:jve})]})});function Ioe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?c.jsx(Me,{text:o,icon:i,onClick:()=>n(r,t[0])},r):c.jsx(SL,{text:o,popover:Ftn,children:t==null?void 0:t.map(s=>c.jsx(Me,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const tDe=()=>{},jO={isLoading:!0,result:void 0,error:void 0,retry:tDe},Ltn={isLoading:!1,result:void 0,error:void 0,retry:tDe};function _A(e,t){const n=h.useMemo(()=>new Tr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=Ao(()=>fo(be(null),r).pipe(ce(()=>e),pR(a=>a?t(a).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o})),ki(jO),Xn(l=>(console.error(l),be({isLoading:!1,result:void 0,error:l,retry:o})))):be(Ltn))),[t,e,r,o],jO),s=mB(e,e);return e&&s!==e?jO:i}function nDe(e){var t,n,r,o,i,s;const{id:a,layout:l,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=w0(),v=PN(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,x=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),b=h.useMemo(()=>({layout:l,schemaType:d,value:x}),[l,x,d]),y=Uf(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Uf(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,children:f(b)}),c.jsx(F,{paddingLeft:3,children:c.jsxs(Jt,{space:3,children:[p&&c.jsx(Nt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&c.jsx($B,{presence:v}),c.jsxs(Jt,{space:4,children:[c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:c.jsx(sr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:c.jsx(Jx,{"aria-label":u.published?"Published":"Not published"})})})}),c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:c.jsx(sr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:c.jsx(Du,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function rDe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:l,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return c.jsx(Xw,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const b=u.to.find(w=>{var _;return w.name===((_=d==null?void 0:d._strengthenOnPublish)==null?void 0:_.type)});if(!b)return c.jsx(Ooe,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,children:l({layout:"default",schemaType:b,value:y,skipVisibilityCheck:!0})}),c.jsx(F,{children:c.jsx(Jt,{space:4,children:f&&c.jsx(Nt,{size:1,muted:!0,children:b.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return c.jsxs(Jt,{space:2,children:[c.jsx(F,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document unavailable"})})})}),v||m?c.jsx(F,{children:c.jsx(yt,{portal:!0,content:m?c.jsxs(Poe,{title:"Not found",icon:Dv,children:["The referenced document does not exist",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d._ref}),")"]}):c.jsx(Poe,{title:"Insufficient permissions",icon:Ef,children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(sr,{tone:"default",children:c.jsx(Dv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,x=u.to.find(b=>b.name===g);return x?c.jsx(nDe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:x,renderPreview:l,showTypeLabel:f}):c.jsx(Ooe,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(b=>b.name)})}function Poe(e){const t=e.icon;return c.jsxs(W,{padding:3,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(t,{})})}),c.jsxs(F,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"semibold",children:e.title}),c.jsx(F,{marginTop:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Ooe(e){return c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(F,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document of invalid type"})})})}),c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsxs(ne,{space:3,padding:3,children:[c.jsxs(B,{size:1,children:["Referenced document (",c.jsx("code",{children:e.documentId}),") is of type"," ",c.jsx("code",{children:e.actualType}),"."]}),c.jsxs(B,{size:1,children:["According to the schema, referenced documents can only be of type"," ",Btn(e.declaredTypes.map(t=>c.jsx("code",{children:t},t)),"or"),"."]})]}),children:c.jsx(F,{padding:2,children:c.jsx(sr,{tone:"default",children:c.jsx(Dv,{})})})})})]})}const Btn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],c.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>c.jsxs(h.Fragment,{children:[r,", "]},o)),c.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var $oe=Object.freeze,Ntn=Object.defineProperty,ztn=(e,t)=>$oe(Ntn(e,"raw",{value:$oe(t||e.slice())})),Roe;const Vtn=O(ee)(Roe||(Roe=ztn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),oDe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=i?"a":void 0,l=i?r:"div";return c.jsx(Vtn,{...s,"data-as":a,documentId:o,documentType:i,forwardedAs:l,ref:n})}),iDe=h.createContext(null);function Htn(){const e=h.useContext(iDe);return e||{menuRef:{current:null},containerRef:{current:null}}}function Utn(e){const{menuRef:t,containerRef:n}=e;return c.jsx(iDe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Wtn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Ytn={portal:!0,tone:"default"},qtn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function Gtn(e){var t,n,r,o,i,s,a,l,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:x,value:b,open:y,onInsert:w,presence:_,validation:C,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,M=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,$=m.of,V=h.useRef(null),L=h.useRef(null),H=h.useRef(null),{EditReferenceLink:U,getReferenceInfo:z,selectedState:Y,isCurrentDocumentLiveEdit:te}=oN({path:v,schemaType:p,value:b});gA(V,y),Pi(j,(Tt,St)=>{var Zt;!Tt&&St&&V.current&&((Zt=V.current)==null||Zt.focus())});const N=e.validation.some(Tt=>Tt.level==="error"),G=e.validation.some(Tt=>Tt.level==="warning"),q=b._resolvingInitialValue,K=h.useCallback(()=>{w({items:[{...b,_key:Px()}],position:"after"})},[w,b]),Q=h.useCallback((Tt,St)=>{w({items:[{...r1(St),_key:Px()}],position:Tt})},[w]),X=_A(b==null?void 0:b._ref,z),Z=b._ref,re=((n=X.result)==null?void 0:n.type)||((r=b==null?void 0:b._strengthenOnPublish)==null?void 0:r.type),le=Z&&((s=(i=(o=X.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),he=h.useCallback(()=>{T([p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]),Qe(["_strengthenOnPublish"])])},[T,p.weak]),ie=re?p.to.find(Tt=>Tt.name===re):void 0,ye=Y==="pressed",Ce=Y==="selected",Ae=Wtn({readOnly:g,hasErrors:N,hasWarnings:G}),xe=!Z||A[0]==="_ref",Ze=h.useMemo(()=>h.forwardRef(function(St,Zt){return c.jsx(_m,{...St,intent:"edit",params:{id:b==null?void 0:b._ref,type:ie==null?void 0:ie.name},target:"_blank",rel:"noopener noreferrer",ref:Zt})}),[ie==null?void 0:ie.name,b==null?void 0:b._ref]),rt=h.useCallback(()=>{D(Z&&xe?[]:["_ref"])},[Z,xe,D]),at=h.useMemo(()=>g?null:c.jsx(F,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(ae,{paddingY:3,paddingX:2,mode:"bleed",icon:Vo}),id:"".concat(S,"-menuButton"),menu:c.jsxs(Ht,{ref:L,children:[!g&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:x}),c.jsx(Me,{text:Z&&xe?"Cancel replace":"Replace",icon:Z&&xe?ua:oj,onClick:rt}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:K}),c.jsx(wA,{onInsert:Q,types:$})]}),!g&&!xe&&Z&&c.jsx(Dr,{}),!xe&&Z&&c.jsx(Me,{as:Ze,"data-as":"a",text:"Open in new tab",icon:m0})]}),popover:Ytn})}),[g,S,x,Z,xe,rt,K,Q,$,Ze]),nt=h.useCallback(()=>{T(p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[T,p]),Kt=b!=null&&b._weak?"weak":"strong",Ye=p.weak===!0?"weak":"strong",me=Z&&!X.isLoading&&(b==null?void 0:b._strengthenOnPublish),Ue=!X.isLoading&&((a=X.result)==null?void 0:a.availability.available)&&Z&&Kt!==Ye&&!me,qe=((l=X.result)==null?void 0:l.preview.draft)||((u=X.result)==null?void 0:u.preview.published),Ne=c.jsxs(c.Fragment,{children:[te&&le&&b._strengthenOnPublish&&c.jsx(vf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(f=(d=X.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(ae,{onClick:he,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ue&&c.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:Kt}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Ye,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",qe!=null&&qe.title?c.jsxs(c.Fragment,{children:['"',qe==null?void 0:qe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",qe!=null&&qe.title?c.jsxs(c.Fragment,{children:['"',qe==null?void 0:qe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(ae,{onClick:nt,text:c.jsxs(c.Fragment,{children:["Convert to ",Ye," reference"]}),tone:"caution"})]})}),X.error&&c.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",X.error.message]}),c.jsx(ae,{onClick:X.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),bt=c.jsx(Utn,{menuRef:L,containerRef:H,children:c.jsx(bA,{dragHandle:M,presence:!xe&&_.length>0&&c.jsx(o_,{presence:_,maxAvatars:1}),validation:!xe&&C.length>0&&c.jsx(t1,{validation:C}),menu:at,footer:xe?void 0:Ne,tone:xe?void 0:Ae,focused:j,children:xe?c.jsx(F,{padding:1,ref:H,children:c.jsx(yA,{title:p.title,description:p.description,__unstable_presence:_,validation:C,inputId:S,children:k})}):c.jsxs(oDe,{as:U,tone:"inherit",radius:2,documentId:b==null?void 0:b._ref,documentType:ie==null?void 0:ie.name,disabled:q,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:Ce,pressed:ye,"data-selected":Ce?!0:void 0,"data-pressed":ye?!0:void 0,...P,children:[c.jsx(rDe,{value:b,referenceInfo:X,renderPreview:I,type:p}),q&&c.jsx(ee,{style:qtn,tone:"transparent",radius:2,as:W,justify:"center",children:c.jsxs(W,{align:"center",justify:"center",padding:3,children:[c.jsx(F,{marginX:3,children:c.jsx(Vr,{muted:!0})}),c.jsx(B,{children:"Resolving initial value"})]})})]})})});return c.jsx(ri,{path:v,isChanged:E,hasFocus:!!j,children:c.jsx(F,{paddingX:1,children:bt})})}function Moe(e){return Ka(e.schemaType)}function Foe(e){return Ol(e.schemaType)}function Ktn(e){return e._key!==void 0}function PS(e){return Ktn(e)?e:{...e,_key:Px(12)}}const sDe=4;function Loe(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Ztn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sDe;const n=Xtn(t);return function(){return wr(n(e(...arguments)))}}function Xtn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sDe;const t=[],n=[],r=new Tr;return o;function o(a){return new ut(l=>{if(t.length>=e)return i(a).pipe(vt(o)).subscribe(l);const u=a.subscribe(l);return t.push(u),()=>{Loe(t,u),Loe(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(Mwe(l=>l===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Qtn=4;function Jtn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:l,creditLine:u,source:d}=r;return onn(n).pipe(Xn(()=>be(null)),vt(f=>f?nnn(e,"sanity.".concat(t,"Asset"),f):be(null)),vt(f=>f?be({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:l,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const aDe=Ztn(Jtn,Qtn),enn=(e,t,n)=>aDe(e,"image",t,n),tnn=(e,t,n)=>aDe(e,"file",t,n);function lDe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function cDe(e,t){return lDe(e,t)}function uDe(e,t){return lDe(e,t)}function nnn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function rnn(e){return new ut(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function onn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?be(null):rnn(e).pipe(vt(t=>crypto.subtle.digest("SHA-1",t)),ce(inn))}function inn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function snn(e,t){return new ut(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const ann=/(invalid image format)|(No exif data)/i,lnn=128e3;function cnn(e){return wr(snn(e,lnn)).pipe(ce(t=>c9t(t)),Xn(t=>(ann.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),be({}))))}function Boe(e){return[5,6,7,8].indexOf(e)>-1}function unn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Noe(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const dnn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],fnn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],hnn="top-left",pnn=120;function mnn(e,t){const n=dnn[t-1],r=e.height/e.width;e.width=pnn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(Boe(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Noe(o,!0,!1),n.op==="flip-y"&&Noe(o,!1,!0),n.degrees&&(unn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),Boe(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function gnn(e,t){return new ut(n=>{const r=fnn.indexOf(t)+1,o=mnn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function vnn(e){return new ut(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function ynn(e,t){return vnn(window.URL.createObjectURL(e)).pipe(vt(n=>gnn(n,t)))}const hl="_upload",bnn=Qe([hl]);function Ap(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const dDe=Ap([bnn]);function fDe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Ap([pt(n,[hl])])}function xnn(e,t,n){const r=enn(e,t,n).pipe(ct(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?Ap([pt({_type:"reference",_ref:i.asset._id},["asset"]),pt(100,[hl,"progress"]),pt(new Date().toISOString(),[hl,"updatedAt"])]):Ap([pt(i.percent,[hl,"progress"]),pt(new Date().toISOString(),[hl,"updatedAt"])]))),o=cnn(t).pipe(vt(i=>ynn(t,i.orientation||hnn)),Xn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),be(null))),ct(Boolean),ce(i=>Ap([pt(i,[hl,"previewImage"])])));return fo(be(fDe(t)),xn(r,o),be(dDe))}function hDe(e,t,n){const r=tnn(e,t,n).pipe(ce(o=>o.type==="complete"?Ap([pt({_type:"reference",_ref:o.asset._id},["asset"]),pt(100,[hl,"progress"]),pt(new Date().toISOString(),[hl,"updated"])]):Ap([pt(o.percent,[hl,"progress"]),pt(new Date().toISOString(),[hl,"updated"])])));return fo(be(fDe(t)),r,be(dDe))}const wnn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>xnn(e,t,r)},_nn={type:"file",accepts:"",upload:(e,t,n,r)=>hDe(e,t,r)},Cnn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>hDe(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[pt(o)]})))},Snn=[wnn,Cnn,_nn].map((e,t)=>({...e,priority:t}));function h4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function VB(e,t){return Snn.find(n=>{var r;return gc(n.type,e)&&h4(t,n.accepts)&&h4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Enn=["_key","_type","_weak"];function pDe(e){return Object.keys(e).every(t=>Enn.includes(t))}const knn=(e,t)=>{const n=Ts(t);return e.of.find(r=>r.name===n)};function jnn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return pt(o,[...t,r])})}function mDe(e,t,n){return wr(e).pipe(vt(r=>{const o={_key:r._key};return be(knn(t,r)).pipe(vt(i=>i?be(i):Gn),vt(i=>!pDe(r)||!n?Gn:fo(be({type:"patch",patches:[pt(!0,[o,"_resolvingInitialValue"])]}),jo(()=>n(i,r)).pipe(ct(ho),ce(s=>({type:"patch",patches:jnn(s,[o])})),Xn(s=>be({type:"error",error:s,item:r,schemaType:i}))),be({type:"patch",patches:[Qe([o,"_resolvingInitialValue"])]}))))}))}const zoe="before",Voe="after";function Tnn(e,t,n){if(t!==zoe&&t!==Voe)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(zoe," or ").concat(Voe));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=Hoe(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...Hoe(s)),d}function Hoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Uoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Ann(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Dnn(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function Inn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Uoe(t.value,"from")||!Uoe(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return Ann(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=Dnn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Tnn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=UB(n[i],{...t,path:o}),n}function Pnn(e,t){const n=kEe(e);if(t.path.length===0){if(t.type==="set"){if(!Xx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?ji(n,r):(n[r]=UB(n[r],{...t,path:o}),n)}const gDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Onn=Object.keys(gDe);function $nn(e,t){if(!Onn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return gDe[t.type](e,t.value)}const vDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=XSe(JSe(t),e,{allowExceedingIndices:!0});return n}},Rnn=Object.keys(vDe);function Mnn(e,t){if(!Rnn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return vDe[t.type](e,t.value)}function HB(e,t){return t.reduce(UB,e)}function Fnn(e,t){return Array.isArray(e)?Inn(e,t):hT(e)?Mnn(e,t):Xx(e)?Pnn(e,t):$nn(e,t)}function UB(e,t){return Fnn(e,t)}function Lnn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ga(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:x}}=oi().__internal,b=h.useRef(),y=h.useRef({});Pi(l.field.focused,(re,le)=>{var he;!re&&le&&((he=b.current)==null||he.focus())});const w=h.useCallback(re=>{re.currentTarget===re.target&&re.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),_=h.useCallback(re=>{re.currentTarget===re.target&&re.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),C=h.useRef(l.field.value);h.useEffect(()=>{C.current=l.field.value},[l.field.value]);const S=h.useCallback(re=>{const le=st.from(re).patches;if(le.some(ie=>ie.type==="unset"&&ie.path.length===1)&&(C.current=HB(C.current||[],le),Array.isArray(C.current)&&!C.current.length)){r(st.from(Qe([l.name])));return}r(st.from(re).prepend(Gi([])).prefixAll(l.name))},[r,l.name,C]),E=IN(),j=Ai(),k=h.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),T=h.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),A=h.useCallback(re=>{o(l.field.path.concat({_key:re}),!0)},[o,l.field.path]),D=h.useCallback(re=>{o(l.field.path.concat({_key:re}),!1)},[o,l.field.path]),I=h.useCallback(re=>{s(re),o(re,!1)},[s,o]),P=h.useCallback(()=>{s(l.field.path),o(l.field.path,!0)},[s,l.field.path,o]),M=h.useCallback(re=>{if(re.items.length===0)throw new Error("Insert event should include at least one item");const le=re.items.map(Ce=>PS(Ce));S(st.from([Jd(le,re.position,[re.referenceItem])]));const he=le[0]._key,ie=[...l.field.path,{_key:he}];n(ie);const ye=re.open!==!1;re.skipInitialValue?ye&&I(ie):mDe(le,l.field.schemaType,E).pipe(Wn(Ce=>{Ce.type==="patch"?S(Ce.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(Ce.schemaType.title,": ").concat(Ce.error.message,"."),status:"error"})})).subscribe({complete:()=>{ye&&I(ie)}})},[S,I,l.field.path,l.field.schemaType,n,E,j]),$=h.useCallback(re=>{const le=l.field.value,he=le==null?void 0:le[re.fromIndex],ie=le==null?void 0:le[re.toIndex];if(re.fromIndex!==re.toIndex){if(!(he!=null&&he._key)||!(ie!=null&&ie._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Qe([{_key:he._key}]),Jd([he],re.fromIndex>re.toIndex?"before":"after",[{_key:ie._key}])])}},[S,l.field.value]),V=h.useCallback(re=>{S([Gi([]),Jd([PS(re)],"before",[0])])},[S]),L=h.useCallback(re=>{S([Gi([]),Jd([PS(re)],"after",[-1])])},[S]),H=h.useCallback(re=>{y.current[re]&&(y.current[re].unsubscribe(),delete y.current[re]),S([Qe([{_key:re}])])},[S]),U=h.useCallback(re=>{n(l.field.path.concat(re))},[l.field.path,n]),z=h.useMemo(()=>({onBlur:_,onFocus:w,id:l.field.id,ref:b,"aria-describedby":uh(l.field.id,l.field.schemaType.description)}),[_,w,l.field.id,l.field.schemaType.description]),Y=Cr(gn),te=oi(),N=te.__internal.image.directUploads,G=te.__internal.file.directUploads,q=h.useCallback((re,le)=>gc("image",re)&&!N||gc("file",re)&&!G?null:VB(re,le),[G,N]),K=h.useCallback(re=>{let{file:le,schemaType:he,uploader:ie}=re;const ye=r1(he),Ce=ye._key;M({items:[ye],position:"after",referenceItem:-1,open:!1});const Ae=ie.upload(Y,le,he).pipe(ce(xe=>st.from(xe.patches||[]).prefixAll({_key:Ce})),Wn(xe=>S(xe.patches)));y.current={...y.current,[Ce]:Ae.subscribe()}},[Y,S,M]),Q=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:S,onInsert:M,onItemMove:$,onItemRemove:H,onItemAppend:L,onItemPrepend:V,onPathFocus:U,resolveInitialValue:E,onUpload:K,resolveUploader:q,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:z}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,D,A,P,I,S,M,$,H,L,V,U,E,K,q,u,d,p,m,f,v,g,z]),X=h.useMemo(()=>m(Q),[Q,m]),Z=h.useMemo(()=>({actions:x,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:k,onExpand:T,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:X,inputProps:Q}),[x,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,T,X,Q]);return c.jsx(Qw,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Z),[Z,f])})}function yDe(e,t,n){return Pp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function Bnn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=oi().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:l,onPathFocus:u,onChange:d}=ga();h.useEffect(()=>{var _;t.field.focused&&((_=i.current)==null||_.focus())},[t.field.focused]);const f=h.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(_=>{d(st.from(_).prefixAll(t.name))},[d,t.name]),v=h.useCallback(_=>{let C=_.currentTarget.value;if(Pp(t.field.schemaType)){if(C=_.currentTarget.valueAsNumber,C>Number.MAX_SAFE_INTEGER||C<Number.MIN_SAFE_INTEGER)return}else Kx(t.field.schemaType)&&(C=_.currentTarget.checked);const S=C===""||typeof C=="number"&&isNaN(C);Pp(t.field.schemaType)&&a(S?void 0:_.currentTarget.value),d(st.from(S?Qe():pt(C)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(_=>_.level==="error").map(_=>_.message).join(`
`),[t.field.validation])||void 0,x=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:yDe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":uh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),b=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:x}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,x]),y=h.useMemo(()=>n(b),[b,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:b,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,b]);return c.jsx(c.Fragment,{children:r(w)})}const Nnn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=ga(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:x}=t,{field:{actions:b}}=oi().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Pi(u.field.focused,(te,N)=>{var G;!te&&N&&((G=y.current)==null||G.focus())});const _=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),C=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(te=>{r(u.field.path.concat(te))},[u.field.path,r]),E=h.useCallback(te=>{if(!(u.field.path.length===0)){const G=st.from(te).patches;if(w.current=HB(w.current||{},G),w.current&&MIt(w.current)){o(st.from(Qe([u.name])));return}}o(st.from(te).prepend(Gi(zB(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(te=>{s(u.field.path.concat(te),!0)},[s,u.field.path]),A=h.useCallback(te=>{s(u.field.path.concat(te),!1)},[s,u.field.path]),D=h.useCallback(te=>{i(u.field.path.concat(te))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(te=>{a(u.field.path.concat(te),!1)},[a,u.field.path]),M=h.useCallback(te=>{a(u.field.path.concat(te),!0)},[a,u.field.path]),$=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),L=h.useCallback(te=>{l(u.field.path,te)},[l,u.field.path]),H=h.useMemo(()=>({onBlur:_,onFocus:C,id:u.field.id,ref:y,"aria-describedby":uh(u.field.id,u.field.schemaType.description)}),[_,C,u.field.id,u.field.schemaType.description]),U=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:L,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:M,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:x}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,L,D,I,T,A,P,M,S,E,d,f,p,m,v,g,x]),z=h.useMemo(()=>v(U),[U,v]),Y=h.useMemo(()=>({actions:b,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:$,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:z,inputProps:U}),[b,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,$,V,z,U]);return c.jsx(Qw,{onFieldGroupSelect:l,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(Y),[Y,p])})};function znn(e,t){return new ut(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function Vnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Hnn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Unn(e){return/^\d+$/.test(e)}function Wnn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Kx(i)&&(n=!0),gge(i)&&(o=!0),Pp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Unn(e)?Number(e):o?e:void 0}function Ynn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return znn(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>Wnn(o,e)).filter(o=>o!==void 0)),ct(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[Jd(r,"after",[-1])]})))}}}function qnn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ga(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:x}}=oi().__internal,b=h.useRef(),y=h.useRef(),w=Cr(gn);Pi(l.field.focused,(N,G)=>{var q;!N&&G&&((q=b.current)==null||q.focus())});const _=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),S=h.useCallback(N=>{const G=st.from(N).patches;if(G.some(K=>K.type==="unset"&&K.path.length===1)){const K=HB(l.field.value||[],G);if(Array.isArray(K)&&!K.length){r(st.from(Qe([l.name])));return}}r(st.from(N).prepend(Gi([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=h.useCallback(N=>{i(l.field.path,N)},[i,l.field.path]),j=h.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),k=h.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),T=h.useCallback(N=>{S(N.length===0?Qe():pt(N))},[S]),A=h.useCallback(N=>{const{value:G=[]}=l.field;N.fromIndex!==N.toIndex&&T(Vnn(G,N.fromIndex,N.toIndex))},[l.field,T]),D=h.useCallback(N=>{const{value:G=[]}=l.field;T(G.concat(N))},[l.field,T]),I=h.useCallback(N=>{const{value:G=[]}=l.field;T([N].concat(G||[]))},[l.field,T]),P=h.useCallback(N=>{const{value:G=[]}=l.field,q=N.referenceIndex+(N.position==="before"?-1:0);T(Hnn(q,G,N.items))},[l.field,T]),M=h.useCallback(N=>{S(Qe([N]))},[S]),$=h.useCallback(N=>{n(l.field.path.concat([N]))},[l.field.path,n]),V=h.useMemo(()=>({onBlur:C,onFocus:_,id:l.field.id,ref:b,"aria-describedby":uh(l.field.id,l.field.schemaType.description)}),[C,_,l.field.id,l.field.schemaType.description]),L=h.useMemo(()=>Ynn(l.field.schemaType.of),[l.field.schemaType.of]),H=h.useCallback((N,G)=>h4(G,"text/*")?L:null,[L]),U=h.useCallback(N=>{let{file:G,schemaType:q,uploader:K}=N;const Q=K.upload(w,G,q).pipe(ce(X=>st.from(X.patches||[])),Wn(X=>S(X.patches)));y.current&&y.current.unsubscribe(),y.current=Q.subscribe()},[w,S]),z=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:V,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:M,onItemAppend:D,onItemPrepend:I,validation:l.field.validation,presence:l.field.presence,resolveUploader:H,onUpload:U,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:$,renderPreview:g}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,V,S,P,A,M,D,I,H,U,u,d,p,m,v,$,g]),Y=h.useMemo(()=>m(z),[z,m]),te=h.useMemo(()=>({actions:x,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:k,changed:l.field.changed,onCollapse:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:Y,inputProps:z}),[x,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,j,Y,z]);return c.jsx(Qw,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(te),[te,f])})}function bDe(e){return Ka(e.field.schemaType)}function Gnn(e){return Ol(e.field.schemaType)&&e.field.schemaType.of.every(t=>vge(t))}function WB(e){return Ol(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ka(t))}const s_=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=t;return bDe(n)?c.jsx(Nnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):Gnn(n)?c.jsx(qnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:l,renderPreview:u}):WB(n)?c.jsx(Lnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):c.jsx(Bnn,{member:n,renderField:i,renderInput:a})}),xDe=["yes","true","1"],wDe=["false","no","false","0","null"],Knn=xDe.concat(wDe),t2=()=>!0,Znn=e=>t=>t&&t[e],Xnn=e=>t=>(t&&t._type)===e;function Qnn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function Jnn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const TO={string:{number:{test:Number,convert:Number},boolean:{test:e=>Knn.includes(e.toLowerCase()),convert:e=>xDe.includes(e.toLowerCase())||!wDe.includes(e.toLowerCase())},richDate:{test:e=>Bu(e),convert:e=>({_type:"richDate",local:Qnn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:Jnn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Xnn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:Znn("utc"),convert:e=>e.utc}},number:{string:{test:t2,convert:String},boolean:{test:t2,convert:Number}},boolean:{string:{test:t2,convert:e=>e?"Yes":"No"},number:{test:t2,convert:Number}}};function ern(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(st.from(Gi(n,["_type"])),o),[o,r,n]);return c.jsx(ae,{onClick:i,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:n})]})})}function trn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(st.from(Qe()),o),[o,n]);return c.jsx(ae,{onClick:i,tone:"critical",text:"Unset value"})}function nrn(e){let{validTypes:t,value:n,onChange:r}=e;const o=dr(),i=t.length===1,s=o.has(t[0]);return c.jsx(Hc,{status:"warning",title:c.jsxs(c.Fragment,{children:["Property value missing ",c.jsx("code",{children:"_type"})]}),children:c.jsx($m,{open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",c.jsx("code",{children:"_type"})," property."]}),i&&!s&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["Either remove the ",c.jsx("code",{children:"name"})," property of the object declaration, or set"," ",c.jsx("code",{children:"_type"})," property on items."]}),!i&&c.jsx(B,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&c.jsx(ne,{as:"ul",space:2,children:t.map(a=>c.jsx(B,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:a})},a))}),c.jsxs(ne,{space:2,children:[c.jsxs(B,{as:"h4",weight:"semibold",size:1,children:["Current value (",c.jsx("code",{children:"object"}),"):"]}),c.jsx(ee,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(xr,{language:"json",children:JSON.stringify(n,null,2)})})]}),c.jsxs(ln,{columns:[1,2,2],gap:1,children:[i&&c.jsx(ern,{onChange:r,targetType:t[0],value:n}),c.jsx(trn,{onChange:r,validTypes:t,value:n})]})]})})})}function rrn(e,t,n){return t in TO?Object.keys(TO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...TO[t][r]})).filter(r=>r.test(e)):[]}const _De=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(st.from(Qe()))},[i]),a=h.useCallback(d=>{i(st.from(pt(d)))},[i]),l=h.useMemo(()=>rrn(n,r,o),[n,r,o]);if(_r(n)&&!("_type"in n))return c.jsx(nrn,{value:n,validTypes:o,onChange:i});const u=c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:s,tone:"critical",text:"Reset value"})});return c.jsxs(Hc,{status:"error",suffix:u,title:c.jsx(c.Fragment,{children:"Invalid property value"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),c.jsx($m,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[o.length===1&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",c.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&c.jsx(B,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&c.jsx(B,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&c.jsx(ne,{as:"ul",space:2,children:o.map(d=>c.jsx(B,{as:"li",children:c.jsx("code",{children:d})},d))}),c.jsxs(ne,{marginTop:2,space:2,children:[c.jsxs(B,{size:1,weight:"semibold",children:["The current value (",c.jsx("code",{children:r}),")"]}),c.jsx(ee,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(xr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(ne,{space:1,children:l.map(d=>c.jsx(orn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});_De.displayName="InvalidValueInput";function orn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return c.jsx(ae,{onClick:o,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:t.to})]})})}function irn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(st.from((t.value||[]).map((o,i)=>Gi(Bw(),[i,"_key"]))))},[t.value,n]);return c.jsx(n1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"warning",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Missing keys"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),c.jsx($m,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property has not been included."]}),c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function srn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(st.from((t.duplicates||[]).map(o=>{let[i,s]=o;return pt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return c.jsx(n1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"warning",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Non-unique keys"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),c.jsx($m,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function arn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>_r(s)?[]:[a]).reverse().map(s=>Qe([s]));n(st.from(i))};return c.jsx(n1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"error",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:c.jsx(c.Fragment,{children:"Invalid list values"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),c.jsx($m,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsx(ne,{space:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function CA(e){const{member:t}=e,{onChange:n}=ga(),r=h.useCallback(o=>{n(st.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?c.jsx(_De,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?c.jsx(irn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?c.jsx(srn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?c.jsx(arn,{onChange:r,error:t.error}):c.jsxs(F,{children:["Unexpected error: ",e.member.error.type]})}const YB=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ga(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return c.jsx(yA,{title:r.fieldSet.title||Sm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?c.jsx(CA,{member:v},r.key):c.jsx(s_,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d},v.key))})});function qB(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:x}=ga(),b=IN();Pi(n.item.focused,(q,K)=>{var Q;!q&&K&&((Q=t.current)==null||Q.focus())});const y=h.useCallback(()=>{p(st.from([Qe([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(q=>{m(q),v(q,!1)},[m,v]),_=Ai(),C=h.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const K=q.items.map(le=>PS(le));p(st.from([Jd(K,q.position,[{_key:n.key}])]));const Q=K[0]._key,Z=[...n.item.path.slice(0,-1),{_key:Q}];f(Z);const re=q.open!==!1;q.skipInitialValue?re&&w(Z):mDe(K,n.parentSchemaType,b).pipe(Wn(le=>{le.type==="patch"?p(st.from(le.patches)):_.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(le.schemaType.title,": ").concat(le.error.message,"."),status:"error"})})).subscribe({complete:()=>{re&&w(Z)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,b,_]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(q=>{f(n.item.path.concat(q))},[n.item.path,f]),k=h.useCallback(q=>{p(st.from(q).prepend(Gi(zB(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(q=>{v(n.item.path.concat(q),!0)},[v,n.item.path]),I=h.useCallback(q=>{v(n.item.path.concat(q),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),M=h.useCallback(q=>{m(n.item.path.concat(q))},[m,n.item.path]),$=h.useCallback(q=>{g(n.item.path.concat(q),!1)},[g,n.item.path]),V=h.useCallback(q=>{g(n.item.path.concat(q),!0)},[g,n.item.path]),L=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||pDe(n.item.value),U=h.useCallback(()=>{H&&y();const q=n.item.path.slice(0,-1);m(q),f(q)},[H,m,n.item.path,f,y]),z=h.useCallback(q=>{x(n.item.path,q)},[x,n.item.path]),Y=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),te=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:$,onFieldGroupSelect:z,onPathFocus:j,onFieldOpen:M,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:Y}),[Y,k,P,D,V,I,$,j,M,z,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,l,u]),N=h.useMemo(()=>a(te),[te,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:C,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:L,onClose:U,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:te}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,C,y,L,U,A,T,E,S,N,te]);return c.jsx(Qw,{onFieldGroupSelect:x,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>l(G),[G,l])})}function GB(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function lrn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:l,onChange:u}=ga();Pi(n.item.focused,(_,C)=>{var S;!_&&C&&((S=t.current)==null||S.focus())});const d=h.useCallback(_=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(_=>{l(n.item.path)},[n.item.path,l]),p=h.useCallback(_=>{u(st.from(_).prefixAll(n.index))},[u,n.index]),m=h.useCallback(_=>{let C=_.currentTarget.value;if(Pp(n.item.schemaType)){if(C=_.currentTarget.valueAsNumber,C>Number.MAX_SAFE_INTEGER||C<Number.MIN_SAFE_INTEGER)return}else Kx(n.item.schemaType)&&(C=_.currentTarget.checked);const S=C===""||typeof C=="number"&&isNaN(C);Pp(n.item.schemaType)&&s(S?void 0:_.currentTarget.value),p(pt(S?GB(n.item.schemaType):C))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:crn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),x=h.useMemo(()=>o(g),[g,o]),b=h.useCallback(()=>{u(st.from([Qe([n.index])]))},[n.index,u]),y=h.useCallback(_=>{u(st.from([Jd(_.items,_.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:b,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:x}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,b,f,d,x]);return c.jsx(c.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function crn(e,t,n){return Object.is(t,-0)?"":yDe(e,t,n)}var Woe=Object.freeze,urn=Object.defineProperty,drn=(e,t)=>Woe(urn(e,"raw",{value:Woe(t||e.slice())})),Yoe;const frn=O(ee)(Yoe||(Yoe=drn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function CDe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=oe.useState(!1),[a,l]=oe.useState(null);zr(()=>s(!1),[a]);const u=oe.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ts(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(frn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsxs(B,{weight:"semibold",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]}),c.jsx(B,{size:1,weight:"semibold",children:"Why is this happening?"}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(Qk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{marginRight:3,children:c.jsx(B,{children:c.jsx(xl,{})})}),c.jsx(F,{flex:1,children:c.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function hrn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?c.jsx(CDe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const prn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:l,renderPreview:u}=t;return n.kind==="field"?c.jsx(s_,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):n.kind==="error"?c.jsx(CA,{member:n},n.key):n.kind==="fieldSet"?c.jsx(YB,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function mrn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:l}=e,u=h.useMemo(()=>t.map(d=>c.jsx(prn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:l},d.key)),[t,n,r,s,i,o,a,l]);return c.jsx(c.Fragment,{children:u})}const ey=e=>{let{children:t}=e;return t};function grn(e){return"absolutePath"in e}const SDe=h.memo(function(t){const n=h.useMemo(()=>grn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(vrn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),vrn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:l,destinationRenderPreview:u}=t,d=h.useCallback(x=>{if(_n(x.path,n)||vi(n,x.path))return a(x);if(!Moe(x)&&!Foe(x))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(x.path)));return c.jsx(e,{...x,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:l,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,l,u]),f=h.useCallback(x=>vi(n,x.path)&&(t.includeField||!_n(n,x.path))?i(x):ey(x),[n,i,t.includeField]),p=h.useCallback(x=>vi(n,x.path)&&(t.includeItem||!_n(n,x.path))?l(x):ey(x),[n,l,t.includeItem]),m=h.useCallback(x=>vi(n,x.path)&&(t.includeItem||!_n(n,x.path))?o(x):ey(x),[n,o,t.includeItem]),v=h.useCallback(x=>vi(n,x.path)&&(t.includeItem||!_n(n,x.path))?s(x):ey(x),[n,s,t.includeItem]),g=h.useCallback(x=>vi(n,x.path)&&(t.includeItem||!_n(n,x.path))?r(x):ey(x),[n,r,t.includeItem]);if(Foe(t)){const x=Ly(t.path,n),b=t.members.find(y=>y.kind=="item"&&Pr(x[0])&&y.key===x[0]._key);if(!b){const w=Ly(t.path,n)[0]._key;return c.jsxs("div",{children:["No array item with _key ",c.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return b.kind==="error"?c.jsx(hrn,{member:b}):c.jsx(qB,{member:b,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(Moe(t)){const x=Ly(t.path,n),b=t.members.find(y=>y.kind=="field"&&x[0]===y.name);if(!b){const y=x[0];return c.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members  please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return c.jsx(s_,{member:b,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),EDe=h.createContext(null);function yrn(){const e=h.useContext(EDe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function mk(e){const{scrollElement:t,containerElement:n}=e;return c.jsx(EDe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const brn=[0,0,1,0];function kDe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:l}=e,[u,d]=h.useState(null),f=h.useRef(null),p=c.jsx(vA,{margins:brn,children:c.jsx(F,{ref:f,padding:4,children:t})});return s==="dialog"?c.jsx(mk,{scrollElement:u,containerElement:f,children:c.jsx(pa,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:l,children:p})}):c.jsx(hWt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:c.jsx(mk,{scrollElement:u,containerElement:f,children:p})})}function xrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const wrn={portal:!0,tone:"default"},_rn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Crn={position:"relative"};function Srn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:x,onClose:b,changed:y,focused:w,children:_,inputProps:{renderPreview:C}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);gA(j,m),Pi(w,(Y,te)=>{var N;!Y&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Px()}],position:"after"})},[v,p]),A=h.useCallback((Y,te)=>{v({items:[r1(te)],position:Y})},[v]),D=X0(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(o_,{presence:D,maxAvatars:1}),[D]),P=bB(u,!0),M=h.useMemo(()=>P.length===0?null:c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(t1,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(Y=>Y.level==="error"),V=P.some(Y=>Y.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:f}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:T}),c.jsx(wA,{types:E,onInsert:A})]}),popover:wrn}),[T,A,f,E,e.inputId,d]),H=xrn({readOnly:d,hasErrors:$,hasWarnings:V}),U=c.jsx(bA,{menu:L,presence:I,validation:M,tone:H,focused:w,dragHandle:S,selected:m,children:c.jsxs(ee,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:x,ref:j,onFocus:g,__unstable_focusRing:!0,style:Crn,children:[C({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&c.jsx(ee,{style:_rn,tone:"transparent",radius:2,as:W,justify:"center",children:c.jsxs(W,{align:"center",justify:"center",padding:3,children:[c.jsx(F,{marginX:3,children:c.jsx(Vr,{muted:!0})}),c.jsx(B,{size:1,muted:!0,children:"Resolving initial value"})]})})]})}),z=t0(a);return c.jsxs(c.Fragment,{children:[c.jsx(ri,{path:u,isChanged:y,hasFocus:!!w,children:c.jsx(F,{paddingX:1,children:U})}),m&&c.jsx(kDe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:b,autofocus:w,legacy_referenceElement:j.current,children:_})]})}function Ern(e){var t;return(t=e.components)!=null&&t.item?e.components.item:_f(e)?Gtn:Srn}function SA(e){const t=Go(e),{value:n}=oi();return Cl(n,t)}function EA(){const e=SA(["_id"]);if(typeof e=="string")return Zn(e)}function krn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const jrn={portal:!0,tone:"default"};function Trn(e){var t,n,r,o,i,s,a,l,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:x,inputProps:b}=e,{readOnly:y,focused:w,renderPreview:_,onChange:C}=e.inputProps,[S,E]=h.useState([]),j=EA(),k=h.useCallback(()=>b.onChange(Qe()),[b]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=oN({path:m,schemaType:p,value:T});gA(f,v),Pi(w,(Ae,xe)=>{!Ae&&xe&&f.current&&f.current.focus()});const M=e.validation.some(Ae=>Ae.level==="error"),$=e.validation.some(Ae=>Ae.level==="warning"),V=_A(T==null?void 0:T._ref,D),L=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=L?p.to.find(Ae=>Ae.name===L):void 0,U=I==="pressed",z=I==="selected",Y=T==null?void 0:T._ref,te=Y&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{C([p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]),Qe(["_strengthenOnPublish"])])},[C,p.weak]),G=h.useCallback(()=>{C(p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[C,p]),q=h.useCallback(()=>{b.onPathFocus(["_ref"])},[b]),K=T!=null&&T._weak?"weak":"strong",Q=p.weak===!0?"weak":"strong",X=Y&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),Z=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&Y&&K!==Q&&!X,re=krn({readOnly:y,hasErrors:M,hasWarnings:$}),le=!(T!=null&&T._ref)||b.focusPath[0]==="_ref",he=((a=V.result)==null?void 0:a.preview.draft)||((l=V.result)==null?void 0:l.preview.published),ie=c.jsxs(c.Fragment,{children:[P&&te&&T._strengthenOnPublish&&c.jsx(vf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(ae,{onClick:N,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Z&&c.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:K}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Q,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",he!=null&&he.title?c.jsxs(c.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",he!=null&&he.title?c.jsxs(c.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(ae,{onClick:G,text:c.jsxs(c.Fragment,{children:["Convert to ",Q," reference"]}),tone:"caution"})]})}),V.error&&c.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),c.jsx(ae,{onClick:V.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ye=h.useMemo(()=>h.forwardRef(function(xe,Ze){return c.jsx(_m,{...xe,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Ze})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),Ce=h.useMemo(()=>y?null:c.jsx(F,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(ae,{paddingY:3,paddingX:2,mode:"bleed",icon:Vo}),id:"".concat(g,"-menuButton"),menu:c.jsxs(Ht,{children:[!y&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Clear",tone:"critical",icon:uo,onClick:k}),c.jsx(Me,{text:"Replace",icon:oj,onClick:q})]}),!y&&(T==null?void 0:T._ref)&&c.jsx(Dr,{}),(T==null?void 0:T._ref)&&c.jsx(Me,{as:ye,"data-as":"a",text:"Open in new tab",icon:m0})]}),popover:jrn})}),[k,q,g,ye,y,T==null?void 0:T._ref]);return c.jsxs(c.Fragment,{children:[j&&e.actions&&e.actions.length>0&&c.jsx(Jw,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),c.jsx(r_,{actions:S,focused:!!e.inputProps.focused,path:m,children:c.jsx(n1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:le?c.jsx(F,{children:x}):c.jsx(ee,{shadow:1,radius:1,padding:1,tone:re,children:c.jsxs(ne,{space:1,children:[c.jsxs(W,{gap:1,align:"center",children:[c.jsx(oDe,{__unstable_focusRing:!0,as:A,"data-pressed":U?!0:void 0,"data-selected":z?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:U,radius:2,ref:f,selected:z,tone:"inherit",children:c.jsx(rDe,{value:T,referenceInfo:V,renderPreview:_,type:p})}),c.jsx(F,{children:Ce})]}),ie]})})})})]})}function jDe(e,t){return Nn(e.options,t)}const qoe=["array","file","image","reference","slug"],Arn=["asset","crop","hotspot","_ref","_weak"],Drn=["tags"],Irn=["slug"];function KB(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?KB(e.type,t):[];return[e,...n]}function Prn(e,t){return Ol(e)?$rn(e,t):Orn(e,t)}function Orn(e,t){var n,r,o;const{type:i,options:s}=e,a=TDe(i,qoe),l=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Irn.includes(u))return 0;const d=qoe.includes(u),f=((n=l==null?void 0:l.filter(m=>!Arn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function $rn(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=Drn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function TDe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return TDe(e.type,t)}const gk=[];function Rrn(e){return c.jsx(ri,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function AO(e){const[t,n]=h.useState(gk),r=EA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Jw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(r_,{actions:t,focused:o,path:e.path,children:c.jsx(n1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:c.jsx(ri,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function Mrn(e){const[t,n]=h.useState(gk),r=EA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Jw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(r_,{actions:t,focused:o,path:e.path,children:c.jsx(yA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Frn(e){const[t,n]=h.useState(gk),r=EA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||gk);return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Jw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(r_,{actions:t,focused:o,path:e.path,children:c.jsx(yA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Lrn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Kx(e))return Rrn;const n=KB(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?Frn:n.some(r=>iF(r))||n.some(r=>r.name==="slug")?AO:n.some(r=>_f(r))?Trn:e.jsonType!=="object"&&e.jsonType!=="array"?AO:Mrn}function Brn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>mx(a,{allowedDecorators:t}));const s=[Jd(o,"after",[{_key:n._key}])];return r(st.from(s))}}function Nrn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[pt(mx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(st.from(i))}}function zrn(e){const{block:t,onChange:n}=e;return()=>{const r=[Qe([{_key:t._key}])];return n(st.from(r))}}var Goe=Object.freeze,Vrn=Object.defineProperty,Hrn=(e,t)=>Goe(Vrn(e,"raw",{value:Goe(t||e.slice())})),Koe;const Urn=O.div(Koe||(Koe=Hrn([`
  display: flex;
  pointer-events: all;
`])));function ADe(e){const t=po(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:_e.getValue(t),set:Nrn({allowedDecorators:i,block:n,onChange:r}),unset:zrn({block:n,onChange:r}),insert:Brn({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?c.jsx(Urn,{contentEditable:!1,children:s}):null}var Zoe=Object.freeze,Wrn=Object.defineProperty,Yrn=(e,t)=>Zoe(Wrn(e,"raw",{value:Zoe(t||e.slice())})),Xoe;const DDe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=At(o.spot.yellow,.2);return de(Xoe||(Xoe=Yrn([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var Qoe=Object.freeze,qrn=Object.defineProperty,Grn=(e,t)=>Qoe(qrn(e,"raw",{value:Qoe(t||e.slice())})),Joe;const IDe=O(ri)(()=>de(Joe||(Joe=Grn([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function kA(e){return e.type?kA(e.type):e.name==="block"}function Krn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Zrn=["@@_NONEXISTENT_PATH_@@"];function jA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Vn,r=bB((e==null?void 0:e.path)||Zrn),o=h.useMemo(()=>e!=null&&e.schemaType&&kA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),l=yB(t.current,o);return t.current=l,h.useMemo(()=>({validation:l,hasError:i,hasWarning:s,hasInfo:a}),[l,i,s,a])}const PDe=h.createContext([]);function Xrn(e){return c.jsx(PDe.Provider,{value:e.markers,children:e.children})}function TA(e){const t=h.useContext(PDe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>_n(r.path,e)),[t,e])}const ZB=h.createContext([]);function Qrn(e){return c.jsx(ZB.Provider,{value:e.memberItems,children:e.children})}function AA(e){const t=h.useContext(ZB);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function Jrn(){const e=h.useContext(ZB);if(!e)throw new Error("Form context not provided");return e}var eie=Object.freeze,eon=Object.defineProperty,Yu=(e,t)=>eie(eon(e,"raw",{value:eie(t||e.slice())})),tie,nie,rie,oie,iie,sie,aie,lie,cie;const ton=O(ee)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(tie||(tie=Yu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(nie||(nie=Yu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),non=O(F)(rie||(rie=Yu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),ron=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(iie||(iie=Yu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(oie||(oie=Yu([`
        display: none;
      `]))))}),oon=O(W)(sie||(sie=Yu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),ion=O(F)(aie||(aie=Yu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),son=O(W)(lie||(lie=Yu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),aon=O(F)(cie||(cie=Yu([`
  max-width: 250px;
`]))),lon={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function con(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,l=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>Zu(a)?h.forwardRef(function(v,g){return c.jsx(_m,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Ds(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return c.jsxs(W,{children:[c.jsx(F,{flex:1,children:t}),c.jsx(F,{children:c.jsx(rn,{button:c.jsx(ae,{"aria-label":"Open menu",fontSize:1,iconRight:Vo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:l,menu:c.jsx(Ht,{children:c.jsxs(c.Fragment,{children:["_ref"in a&&a._ref&&c.jsx(Me,{as:f,"data-as":"a",icon:kf,text:"Open reference"}),s&&c.jsx(Me,{icon:EF,onClick:o,text:"View"}),!s&&c.jsx(Me,{icon:Du,onClick:o,text:"Edit"}),!s&&c.jsx(Me,{icon:uo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:lon})})]})}const ODe=e=>Array.isArray(e)?e.flatMap(ODe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],uon=e=>e==="dialog"||e==="popover"?e:void 0;function don(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:uon(n.type),width:ODe(n.width)}:void 0}function fon(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,l]=h.useState(null),u=h.useRef(null);return c.jsx(pa,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:c.jsx(vA,{margins:[0,0,1,0],children:c.jsx(mk,{scrollElement:a,containerElement:u,children:c.jsx(F,{padding:4,ref:u,children:n})})})})}var uie=Object.freeze,hon=Object.defineProperty,XB=(e,t)=>uie(hon(e,"raw",{value:uie(t||e.slice())})),die,fie,hie;const pon=O(hn)(die||(die=XB([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),mon=O(F)(fie||(fie=XB([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),gon=O(F)(hie||(hie=XB([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),von=["top","bottom"];function yon(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),c.jsx(pon,{content:c.jsx(bon,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:von,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function bon(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Ds(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),zr(t,r?[r]:[],n);const[s,a]=h.useState(null),l=h.useRef(null);return c.jsx(mk,{scrollElement:s,containerElement:l,children:c.jsxs(W,{ref:l,direction:"column",height:"fill",children:[c.jsx(gon,{flex:"none",padding:1,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,padding:2,children:c.jsx(B,{weight:"semibold",children:o})}),c.jsx(ae,{autoFocus:!!i,icon:ua,mode:"bleed",onClick:t,padding:2})]})}),c.jsx(mon,{flex:1,children:c.jsx(vA,{margins:[0,0,1,0],children:c.jsx(F,{padding:3,ref:a,children:e.children})})})]})})}function QB(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,l=h.useMemo(()=>don(a),[a]),u=(l==null?void 0:l.type)||n,d=c.jsxs(c.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=l==null?void 0:l.width;return u==="popover"?c.jsx(yon,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):c.jsx(fon,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function xon(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:x,renderInlineBlock:b,renderInput:y,renderItem:w,renderPreview:_,schemaType:C,selected:S,value:E}=e,{onChange:j}=ga(),{Markers:k}=oi().__internal.components,[T,A]=h.useState(!1),D=TA(l),I=po(),P=AA(Cn(l)),M=h.useRef(!1),$=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),L=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{P&&(_e.blur(I),s(P.node.path))},[I,P,s]),U=h.useCallback(()=>{i(),_e.select(I,$),_e.focus(I)},[i,I,$]),z=h.useCallback(()=>{if(!M.current)try{_e.delete(I,$,{mode:"blocks"})}catch(xe){console.error(xe)}finally{M.current=!0}},[I,$]);h.useEffect(()=>()=>{M.current&&_e.focus(I)},[I]);const Y=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:te,hasError:N,hasWarning:G,hasInfo:q}=jA(P==null?void 0:P.node),K=I.schemaTypes.portableText,Q=D.length>0,X=X0(l,!0),Z=h.useMemo(()=>X.filter(xe=>_n(xe.path,l)),[l,X]),re=N||G||q||Q,le=h.useMemo(()=>re&&c.jsx(aon,{padding:2,children:c.jsx(k,{markers:D,validation:te,renderCustomMarkers:g})})||null,[k,D,g,re,te]),he=!!(P!=null&&P.member.open),ie=P==null?void 0:P.input,ye=(P==null?void 0:P.node.path)||Vn,Ce=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,Ae=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:Ce||null,children:ie,focused:r,markers:D,onClose:U,onOpen:H,onPathFocus:a,onRemove:z,open:he,parentSchemaType:K,path:ye,presence:Z,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:$De,renderField:x,renderInlineBlock:b,renderInput:y,renderItem:w,renderPreview:_,schemaType:C,selected:S,validation:te,value:E}),[n,Ce,ie,r,D,U,H,a,z,he,K,ye,Z,u,d,p,m,x,b,y,w,_,C,S,te,E]);return h.useMemo(()=>c.jsx(F,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:c.jsx(W,{paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(oon,{flex:1,children:[c.jsx(yt,{placement:"top",portal:"editor",disabled:!re,content:le,children:c.jsx(non,{...Y,children:m&&m(Ae)})}),c.jsx(ion,{marginRight:1,children:c.jsx(son,{children:v&&E&&r&&!u&&c.jsx(ADe,{block:E,onChange:j,renderBlockActions:v})})}),o&&P&&c.jsx(ron,{$hasChanges:P.member.item.changed,onMouseOut:L,onMouseOver:V,children:c.jsx(IDe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&c.jsx(DDe,{})]})})}),[Ae,r,L,V,Y,o,P,j,u,m,v,T,le,re,E])}const $De=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:x}=e,b=V$e(g),y=x.filter(E=>E.level==="error").length>0,w=x.filter(E=>E.level==="warning").length>0,_=s.length>0,C=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(ton,{"data-focused":i?"":void 0,"data-image-preview":b?"":void 0,"data-invalid":y?"":void 0,"data-markers":_?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:b?0:1,tone:C,children:p({actions:c.jsx(con,{isOpen:d,focused:i,onOpen:l,onRemove:u,readOnly:f,value:g}),layout:b?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&c.jsx(QB,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},ty=[1,2,3,4,5,6,7,8,9],pie=["","",""],mie=["number","lower-alpha","lower-roman"],won={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},_on={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Jh(e){return"list-level-".concat(e)}var gie=Object.freeze,Con=Object.defineProperty,Oc=(e,t)=>gie(Con(e,"raw",{value:gie(t||e.slice())})),vie,yie,bie,xie,wie,_ie,Cie,Sie,Eie,kie;function Son(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,l=mie[(n-1)%mie.length],u=pie[(n-1)%pie.length];return de(vie||(vie=Oc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Jh(n),Jh(n),l,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const Eon=O.div(Son),kon=O(F)(yie||(yie=Oc([`
  position: relative;
  display: flex;
`]))),jon=O.div(bie||(bie=Oc([`
  user-select: none;
  white-space: nowrap;
`]))),Ton=O(F)(xie||(xie=Oc([`
  user-select: none;
`]))),Aon=O(F)(wie||(wie=Oc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Don=O(W)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(_ie||(_ie=Oc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Ion=O(F)(Cie||(Cie=Oc([`
  max-width: 250px;
`]))),Pon=O(W)(Sie||(Sie=Oc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),Oon=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(kie||(kie=Oc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(Eie||(Eie=Oc([`
        display: none;
      `]))))});var jie=Object.freeze,$on=Object.defineProperty,RDe=(e,t)=>jie($on(e,"raw",{value:jie(t||e.slice())})),Tie,Aie;const pd=O.div(Tie||(Tie=RDe([`
  display: block;
`]))),JB=e=>{let{children:t,...n}=e;return c.jsx(B,{"data-testid":"text-style--normal",...n,children:c.jsx(pd,{children:t})})},MDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:c.jsx(pd,{children:t})})},FDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:c.jsx(pd,{children:t})})},LDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:c.jsx(pd,{children:t})})},BDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:c.jsx(pd,{children:t})})},NDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:c.jsx(pd,{children:t})})},zDe=e=>{let{children:t,...n}=e;return c.jsx(ii,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:c.jsx(pd,{children:t})})},Ron=O.blockquote(Aie||(Aie=RDe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),VDe=e=>{let{children:t,...n}=e;return c.jsx(Ron,{"data-testid":"text-style--blockquote",...n,children:c.jsx(B,{as:"p",children:t})})},DO={normal:JB,h1:MDe,h2:FDe,h3:LDe,h4:BDe,h5:NDe,h6:zDe,blockquote:VDe};function Mon(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:x,renderInput:b,renderItem:y,renderPreview:w,schemaType:_,selected:C,spellCheck:S,value:E}=e,{Markers:j}=oi().__internal.components,[k,T]=h.useState(!1),A=TA(l),D=AA(Cn(l)),I=po(),{onChange:P}=ga(),M=X0(l,!0),$=h.useMemo(()=>M.filter(ie=>_n(ie.path,l)||ie.path.slice(-3)[1]==="children"&&ie.path.length-l.length===2),[l,M]),V=h.useCallback(()=>T(!0),[]),L=h.useCallback(()=>T(!1),[]),{validation:H,hasError:U,hasWarning:z,hasInfo:Y}=jA(D==null?void 0:D.node),te=!!v&&A.length>0,N=U||z||te||Y,G=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),q=h.useCallback(()=>{const ie={path:l.slice(-1),offset:0},ye={focus:ie,anchor:ie};_e.delete(I,ye,{mode:"blocks"}),_e.focus(I)},[l,I]),K=h.useMemo(()=>c.jsxs(Pon,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&c.jsx(jon,{contentEditable:!1,children:c.jsx(B,{"data-list-prefix":"",children:c.jsx(pd,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),Q=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),X=h.useMemo(()=>E.listItem?{paddingY:2}:_on[E.style||"normal"]||{paddingY:2},[E]),Z=!!(D!=null&&D.member.open),re=I.schemaTypes.portableText,le=h.useMemo(()=>{var ie;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ie=D==null?void 0:D.elementRef)==null?void 0:ie.current)||null,children:K,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:q,open:Z,parentSchemaType:re,path:(D==null?void 0:D.node.path)||Vn,presence:$,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:HDe,renderField:g,renderInput:b,renderInlineBlock:x,renderItem:y,renderPreview:w,schemaType:_,selected:C,validation:H,value:E}},[n,r,Z,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,G,a,q,re,u,d,p,f,g,x,b,y,w,_,C,K,$,H,E]),he=h.useMemo(()=>N&&c.jsx(Ion,{padding:2,children:c.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,N,H]);return h.useMemo(()=>c.jsx(F,{"data-testid":"text-block",...X,style:void 0,ref:D==null?void 0:D.elementRef,children:c.jsx(kon,{"data-testid":"text-block__wrapper",children:c.jsxs(W,{flex:1,...Q,children:[c.jsx(F,{flex:1,children:c.jsx(yt,{content:he,disabled:!N,placement:"top",portal:"editor",children:c.jsx(Eon,{$level:E.level||1,"data-error":U?"":void 0,"data-list-item":E.listItem,"data-markers":te?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":z?"":void 0,spellCheck:S,children:f&&f(le)})})}),c.jsxs(Ton,{contentEditable:!1,children:[c.jsx(Aon,{marginRight:1,children:c.jsx(Don,{children:m&&r&&!u&&c.jsx(ADe,{onChange:P,block:E,renderBlockActions:m})})}),o&&D&&c.jsx(Oon,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:L,children:c.jsx(IDe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&c.jsx(DDe,{})]})})}),[le,r,V,L,U,te,z,Q,o,D,P,X,u,f,m,k,S,he,N,E])}const HDe=e=>c.jsx(c.Fragment,{children:e.children});var Die=Object.freeze,Fon=Object.defineProperty,Lon=(e,t)=>Die(Fon(e,"raw",{value:Die(t||e.slice())})),Iie;const Bon=O(hn)(Iie||(Iie=Lon([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Non=["top","bottom"];function zon(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:l}=e,{sanity:u}=Is(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Ds(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var x;if(!((x=f.current)!=null&&x.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(b){console.error(b)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>c.jsx(F,{padding:1,children:c.jsxs(Jt,{space:1,children:[c.jsx(F,{padding:2,children:c.jsx(B,{weight:"semibold",size:1,children:a})}),c.jsx(ae,{icon:Du,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),c.jsx(ae,{ref:f,icon:uo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return c.jsx(Bon,{constrainSize:!0,content:v,fallbackPlacements:Non,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Pie=Object.freeze,Von=Object.defineProperty,eN=(e,t)=>Pie(Von(e,"raw",{value:Pie(t||e.slice())})),Oie,$ie,Rie;const Hon=O(ee)(Yon),Uon=O.span(Oie||(Oie=eN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Won=O(F)($ie||($ie=eN([`
  max-width: 250px;
`])));function Yon(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(Rie||(Rie=eN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const qon=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:x,renderInput:b,renderPreview:y,schemaType:w,selected:_,value:C}=e,{Markers:S}=oi().__internal.components,E=po(),j=TA(a),k=AA(Cn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=jA(k==null?void 0:k.node),P=E.schemaTypes.block,M=j.length>0,$=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{_e.delete(E,$,{mode:"children"}),_e.focus(E)},[$,E]),L=h.useCallback(()=>{k&&(_e.blur(E),i(k.node.path))},[E,i,k]),H=h.useCallback(()=>{o(),_e.select(E,$),_e.focus(E)},[o,E,$]),U=!!(k!=null&&k.member.open),z=k==null?void 0:k.input,Y=(k==null?void 0:k.node.path)||Vn,te=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=X0(a,!0),G=h.useMemo(()=>N.filter(X=>_n(X.path,a)),[a,N]),q=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:te,children:z,focused:r,onClose:H,onOpen:L,onPathFocus:s,onRemove:V,open:U,markers:j,member:k==null?void 0:k.member,parentSchemaType:P,path:Y,presence:G,readOnly:!!l,renderAnnotation:f,renderBlock:p,renderDefault:UDe,renderField:v,renderInlineBlock:x,renderInput:b,renderItem:g,renderPreview:y,schemaType:w,selected:_,value:C,validation:T}),[n,r,z,U,j,k==null?void 0:k.member,Y,H,L,s,V,P,l,u,te,f,p,v,x,b,g,y,G,w,_,T,C]),K=A||I||D||M,Q=h.useMemo(()=>K&&c.jsx(Won,{padding:2,children:c.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,K,T]);return h.useMemo(()=>c.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:c.jsx(yt,{placement:"bottom",portal:"editor",disabled:!K,content:Q,children:x&&c.jsx("span",{style:{position:"relative"},children:x(q)})})}),[q,k==null?void 0:k.elementRef,x,Q,K])},UDe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:x}=e,b=s.length>0,[y,w]=h.useState(!1),_=(m==null?void 0:m.title)||m.name,C=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),l()},[l]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(C)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,C,S,v]),k=h.useCallback(()=>{w(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(Hon,{"data-focused":i||void 0,"data-invalid":C||void 0,"data-markers":b||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:c.jsx(Uon,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:x,fallbackTitle:"Click to edit"})})}),r&&c.jsx(zon,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:y,referenceBoundary:n,referenceElement:r,title:_}),d&&c.jsx(QB,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Mie=Object.freeze,Gon=Object.defineProperty,Kon=(e,t)=>Mie(Gon(e,"raw",{value:Mie(t||e.slice())})),Fie;const Zon=O(hn)(Fie||(Fie=Kon([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Xon=["top","bottom"];function Qon(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:l}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Is(),g=h.useRef(null),x=v.color.dark?"light":"dark",b=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Ds(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const _=h.useCallback(()=>{d(!1),o()},[o]),C=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",C),()=>{i==null||i.removeEventListener("scroll",C)}},[u,i,C]),u?c.jsx(Zon,{open:u,floatingBoundary:n,constrainSize:!0,content:c.jsx(F,{padding:1,"data-testid":"annotation-toolbar-popover",children:c.jsxs(Jt,{space:1,children:[c.jsx(F,{padding:2,children:c.jsx(B,{weight:"semibold",size:1,children:l})}),c.jsx(ae,{icon:Du,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),c.jsx(ae,{icon:uo,mode:"bleed",padding:2,onClick:_,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Xon,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:b,scheme:x}):null}var Lie=Object.freeze,Jon=Object.defineProperty,WDe=(e,t)=>Lie(Jon(e,"raw",{value:Lie(t||e.slice())})),Bie,Nie;const ein=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(Bie||(Bie=WDe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),tin=O(F).attrs({forwardedAs:"span"})(Nie||(Nie=WDe([`
  max-width: 250px;
`])));function nin(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:l,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:x,renderInput:b,renderItem:y,renderPreview:w,schemaType:_,selected:C,value:S}=e,{Markers:E=JTe}=oi().__internal.components,j=po(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=AA(Cn(k)),{validation:P}=jA(I==null?void 0:I.node),M=TA(u),$=h.useMemo(()=>c.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(_e.blur(j),l(I.node.focusPath),a(I.node.path))},[j,I,a,l]),L=h.useCallback(()=>{s();const Z=_e.getSelection(j),re=(Z==null?void 0:Z.focus.path)&&_n(Z.focus.path,D)&&Z.focus.offset,le=(Z==null?void 0:Z.anchor.path)&&_n(Z.anchor.path,D)&&Z.anchor.offset;_e.select(j,{anchor:{path:D,offset:le||0},focus:{path:D,offset:re||0}}),_e.focus(j)},[j,D,s]),H=h.useCallback(()=>{_e.removeAnnotation(j,_),_e.focus(j)},[j,_]),U=h.useMemo(()=>P.length>0||M.length>0?c.jsx(yt,{placement:"bottom",portal:"default",content:c.jsx(tin,{padding:2,children:c.jsx(E,{markers:M,renderCustomMarkers:v,validation:P})}),children:$}):void 0,[E,M,v,$,P]),z=X0(u,!0),Y=h.useMemo(()=>z.filter(Z=>_n(Z.path,u)),[u,z]),te=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,G=(I==null?void 0:I.node.path)||Vn,q=T,K=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:N,focused:i,markers:M,onClose:L,onOpen:V,onPathFocus:l,onRemove:H,open:te,parentSchemaType:j.schemaTypes.block,path:G,presence:Y,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:x,renderInput:b,renderPreview:w,renderItem:y,renderDefault:p4,schemaType:_,selected:C,textElement:U||$,validation:P,value:S}),[j.schemaTypes.block,r,o,i,N,te,M,U,G,L,V,l,H,d,f,q,p,m,g,x,b,y,w,Y,_,C,$,P,S]),Q=(t=_.components)==null?void 0:t.annotation,X=h.useCallback(Z=>{I!=null&&I.elementRef&&(I.elementRef.current=Z),A(Z)},[I]);return h.useMemo(()=>c.jsx("span",{ref:X,style:void 0,children:Q?c.jsx(Q,{...K}):c.jsx(p4,{...K})}),[Q,K,X])}const p4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,x=m.name==="link",b=g.filter(C=>C.level==="error").length>0,y=g.filter(C=>C.level==="warning").length>0,w=s.length>0,_=h.useMemo(()=>b?"critical":y?"caution":x?"primary":"default",[x,b,y]);return c.jsxs(ein,{$toneKey:_,"data-link":x?"":void 0,"data-error":b?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?l:void 0,children:[v,c.jsx(Qon,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&c.jsx(QB,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function rin(e){var t;return(t=e.components)!=null&&t.block?e.components.block:kA(e)?HDe:$De}function oin(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:UDe}function iin(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:p4}const sin=/^\d+$/;function ain(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function lin(e){const[t,n]=e.split("==");return{[t]:ain(n)}}function cin(e){return sin.test(e)?Number(e):e}function uin(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?lin(t):cin(t))}function rg(e){return uin(e)}var din=Object.defineProperty,fin=(e,t,n)=>t in e?din(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IO=(e,t,n)=>(fin(e,typeof t!="symbol"?t+"":t,n),n);class fOn extends oe.Component{constructor(){super(...arguments),IO(this,"state",{focusPath:[]}),IO(this,"handleFocus",t=>{this.setState({focusPath:t})}),IO(this,"handleBlur",()=>{})}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function o0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=Ao(()=>r(i),[i,r]);return c.jsx(c.Fragment,{children:i&&s?n(s):o})}function hin(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):YDe(Array.from(e.items||[])).then(En)}function pin(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):YDe(n).then(En)}function zie(e){return e===null?[]:[e]}function YDe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return zie(t.getAsFile())}return n?n.isDirectory?qDe(n):zie(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function qDe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(qDe)).then(En))}return Promise.resolve([])}function min(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(l){o(l)}},i.src=e})}const gin={opacity:0,position:"absolute"};function GDe(e){return oe.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...l}=n,[u,d]=oe.useState(!1),f=oe.useRef(null),p=lr(r),m=oe.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),x=h.useCallback(S=>{hin(S.clipboardData).then(E=>f.current?E.length>0?E:vin(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),b=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&pin(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),_=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),C=oe.useRef(!1);return oe.useEffect(()=>{var S;!C.current&&u&&f.current?(f.current.focus(),yin(f.current)):C.current&&!u&&((S=f.current)==null||S.focus()),C.current=u},[u]),c.jsxs(c.Fragment,{children:[c.jsx(e,{...l,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:_,onDrop:a?void 0:b}),!a&&u&&c.jsx("div",{contentEditable:!0,onPaste:x,ref:f,style:gin})]})})}function vin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>min(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function yin(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function tN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function nN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&tN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Vie=Object.freeze,bin=Object.defineProperty,xin=(e,t)=>Vie(bin(e,"raw",{value:Vie(t||e.slice())})),Hie;function KDe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(Hie||(Hie=xin([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),tN(n),ge(t.theme.sanity.radius[1]),nN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const ZDe=KDe(GDe(ee));var Uie=Object.freeze,win=Object.defineProperty,DA=(e,t)=>Uie(win(e,"raw",{value:Uie(t||e.slice())})),Wie,Yie,qie,Gie;const _in=O(ee)(Wie||(Wie=DA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Cin=O(W)(Yie||(Yie=DA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Sin=O(ne)(qie||(qie=DA([`
  position: relative;
  width: 60%;
`]))),Ein=O(xr)(Gie||(Gie=DA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),kin=1e3*60*2,jin=e=>new Date().getTime()-new Date(e).getTime();function XDe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{jin(t.updatedAt)>kin&&(r==null||r())},[t.updatedAt,r]),c.jsx(_in,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:c.jsxs(Cin,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(Sin,{children:[c.jsx(W,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(B,{size:1,children:c.jsxs(Jt,{space:2,children:["Uploading",c.jsx(Ein,{size:1,children:i||"..."})]})})}),c.jsx(ee,{marginTop:3,radius:5,shadow:1,children:c.jsx(WWt,{value:t.progress})})]}),n?c.jsx(ae,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Tin(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),l=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(QDe(i.result,t||"".concat(sd(),".").concat(l)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Ain(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(QDe(e,t||"".concat(sd(),".").concat(i)))})}function QDe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function JDe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],l=a.assetDocumentProps,u=l==null?void 0:l.originalFilename,d=l==null?void 0:l.label,f=l==null?void 0:l.title,p=l==null?void 0:l.description,m=l==null?void 0:l.creditLine,v=l==null?void 0:l.source,g=s?[Qe(["hotspot"]),Qe(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Gi({_type:r.name}),...g,pt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const x=o(r,a.value);x&&i(x,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Ain(a.value,u).then(x=>{const b=o(r,x);b&&i(b,x,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Tin(a.value,u).then(x=>{const b=o(r,x);b&&i(b,x,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Kie=Object.freeze,Din=Object.defineProperty,Iin=(e,t)=>Kie(Din(e,"raw",{value:Kie(t||e.slice())})),Zie;const Pin=O(Me)(Zie||(Zie=Iin([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),Oin=oe.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,x="".concat(o||"","-").concat(h.useId()),b=oe.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=c.jsxs(W,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(F,{marginRight:m?f:void 0,children:c.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,Or.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(B,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return c.jsxs(Pin,{...g,htmlFor:x,padding:0,fontSize:2,disabled:v,ref:n,children:[y,c.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:x,multiple:l,onChange:b,type:"file",value:"",disabled:v})]})});function eIe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:l}=e,{push:u}=Ai(),d=h.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,l]);return c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:2,children:c.jsx(Nt,{muted:!0,size:1,children:"Replace"})}),c.jsx(Oin,{icon:sj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||l)&&c.jsx(Dr,{}),a&&c.jsx(Me,{as:"a",icon:SF,text:"Download",href:a}),l&&c.jsx(Me,{icon:Au,text:"Copy URL",onClick:d}),c.jsx(Dr,{}),c.jsx(Me,{tone:"critical",icon:Iu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Xie=Object.freeze,$in=Object.defineProperty,Rin=(e,t)=>Xie($in(e,"raw",{value:Xie(t||e.slice())})),Qie;const Min=O(W)(Qie||(Qie=Rin([`
  pointer-events: none;
`])));function tIe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",l=h.useMemo(()=>r?c.jsx(AF,{}):t&&i>0||!s?c.jsx(Ef,{}):a?c.jsx(p0,{}):c.jsx(El,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return c.jsxs(Min,{align:"center",gap:2,justify:"center",children:[c.jsx(B,{muted:!0,children:l}),c.jsx(B,{size:1,muted:!0,children:u})]})}var Jie=Object.freeze,Fin=Object.defineProperty,Lin=(e,t)=>Jie(Fin(e,"raw",{value:Jie(t||e.slice())})),ese;const Bin=O(ae).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(ese||(ese=Lin([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),nN({base:r,border:o,focusRing:n}))}),Nin=oe.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,x="".concat(o||"","-").concat(h.useId()),b=Is(),y=oe.useCallback(_=>{u&&_.target.files&&u(Array.from(_.target.files))},[u]),w=c.jsxs(W,{align:"center",justify:"center",padding:d,children:[r&&c.jsx(F,{marginRight:m?f:void 0,children:c.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,Or.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(B,{align:p,size:a,textOverflow:"ellipsis",weight:b.sanity.button.textWeight,children:m})]});return c.jsxs(Bin,{...g,htmlFor:x,padding:0,fontSize:2,disabled:v,children:[w,c.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:x,multiple:l,onChange:y,ref:n,type:"file",value:"",disabled:v})]})});function zin(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:l,type:u}=e,[d,f]=h.useState(null),p=Fj(d),m=(p==null?void 0:p.border)&&p.border.width<440;return c.jsxs(W,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[c.jsx(W,{flex:1,justify:"center",children:c.jsx(tIe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:l,type:u})}),c.jsxs(W,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[c.jsx(Nin,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:sj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const nIe=oe.memo(zin);var tse=Object.freeze,Vin=Object.defineProperty,Hin=(e,t)=>tse(Vin(e,"raw",{value:tse(t||e.slice())})),nse;const Uin=O(ae)(nse||(nse=Hin([`
  width: 100%;
`])));function rIe(e){let{onClearStale:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Incomplete upload"}),c.jsx(B,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),c.jsx(Uin,{icon:Iu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var rse=Object.freeze,Win=Object.defineProperty,oIe=(e,t)=>rse(Win(e,"raw",{value:rse(t||e.slice())})),ose,ise;const Yin=O(ee)(ose||(ose=oIe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),qin=O(W)(ise||(ise=oIe([`
  height: 100%;
`])));function iIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Gin(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:l,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>l(!0),[l]);Ds(h.useCallback(x=>{a&&(x.key==="Escape"||x.key==="Tab")&&(l(!1),p==null||p.focus())},[a,l,p])),zr(h.useCallback(x=>{p!=null&&p.contains(x.target)||l(!1)},[p,l]),[d]);const g=h.useCallback(x=>{u(x),m(x)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),c.jsxs(W,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(ee,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:c.jsxs(W,{wrap:"nowrap",align:"center",children:[c.jsx(ee,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(B,{muted:o,children:c.jsx(p0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),c.jsx(B,{size:1,muted:!0,"data-testid":"file-size",children:iIe(n)})]})]})}),c.jsx(F,{padding:2,children:c.jsx(W,{justify:"center",children:c.jsx(hn,{content:c.jsx(Ht,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:c.jsx(ae,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Vo,mode:"bleed",onClick:v,ref:g})})})})]})}function sse(){return c.jsxs(W,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(k0,{padding:3,radius:1,animated:!0}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(I5,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(I5,{style:{width:"100%"},radius:1,animated:!0})]})]})}var ase=Object.freeze,Kin=Object.defineProperty,Zin=(e,t)=>ase(Kin(e,"raw",{value:ase(t||e.slice())})),lse;const Xin=O(ae)(lse||(lse=Zin([`
  width: 100%;
`])));function Qin(e){let{onClearValue:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Invalid file value"}),c.jsx(B,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),c.jsx(Xin,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}var Jin=Object.defineProperty,esn=(e,t,n)=>t in e?Jin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wr=(e,t,n)=>(esn(e,typeof t!="symbol"?t+"":t,n),n);function tsn(e){let{children:t}=e;return t}const nsn=["asset"];class rsn extends oe.PureComponent{constructor(t){var n;super(t),n=this,Wr(this,"_assetFieldPath"),Wr(this,"uploadSubscription",null),Wr(this,"browseButtonElement",null),Wr(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),Wr(this,"toast",null),Wr(this,"handleRemoveButtonClick",()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Qe([f]));this.props.onChange(st.from(u&&!s?Qe():d))}),Wr(this,"handleCancelUpload",()=>{this.cancelUpload()}),Wr(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),Wr(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),Wr(this,"handleClearField",()=>{this.props.onChange(Qe(["asset"]))}),Wr(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),Wr(this,"handleSelectFileFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),Wr(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()}),Wr(this,"setBrowseButtonElement",r=>{this.browseButtonElement=r}),Wr(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{source:u}=i,d={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(st.from([Gi({_type:s.name})])),n.uploadSubscription=r.upload(l,o,s,d).subscribe({next:f=>{f.patches&&a(st.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})}),Wr(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;JDe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})}),Wr(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),Wr(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r})}),Wr(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),Wr(this,"handleUpload",r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)}),Wr(this,"setToast",r=>{this.toast=r}),this._assetFieldPath=t.path.concat(nsn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(st.from([Qe(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return c.jsx(XDe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Nn(r,"options.accept",""),s=t.component;return n&&n.asset?c.jsx(o0,{observeAsset:o,reference:n.asset,waitPlaceholder:c.jsx(sse,{}),children:a=>c.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!WK(t)?()=>c.jsx(Qin,{onClearValue:this.handleClearField}):l=>c.jsxs(c.Fragment,{children:[s&&c.jsx(F,{marginBottom:2,children:c.jsx(rIe,{onClearStale:this.handleClearUploadState})}),c.jsx(ri,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsx(ZDe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:c.jsx(Me,{icon:Yi,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>c.jsx(Me,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),c.jsx(o0,{reference:l,observeAsset:s,waitPlaceholder:c.jsx(sse,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const x=p||"download.".concat(m);let b,y;return WK(t)&&(y="".concat(v,"?dl"),b=v),c.jsx(Gin,{size:g,originalFilename:x,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(eIe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:b,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return c.jsx(Yin,{tone:t,children:c.jsx(qin,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx(tIe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:c.jsx(ae,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:Yi}),"data-testid":"input-select-button",menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Me,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):c.jsx(ae,{fontSize:2,text:"Browse",icon:Yi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,l=Nn(n,"options.accept","");return c.jsx("div",{style:{padding:1},children:c.jsx(ee,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(nIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return s.length>0&&(l>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(rB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?c.jsx(s_,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?tsn:a,renderItem:i,renderPreview:l},d.key):d.kind==="fieldSet"?c.jsx(YB,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:l},d.key):d.kind==="error"?c.jsx(CA,{member:d},d.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function osn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Os(),{file:o}=oi().__internal,i=Cr(gn),s=h.useCallback((u,d)=>o.directUploads?VB(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),l=h.useCallback(u=>uDe(r,u),[r]);return c.jsx(rsn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:l,resolveUploader:s})}var cse=Object.freeze,isn=Object.defineProperty,ssn=(e,t)=>cse(isn(e,"raw",{value:cse(t||e.slice())})),use;const dse=O(F)(use||(use=ssn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function asn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,l]=h.useState(null);return h.useEffect(()=>{s(null),l(null),o(!0);const u=new Image;u.onload=()=>{s(u),l(null),o(!1)},u.onerror=()=>{l(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const lsn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let n2=-1;function csn(e){return n2===-1&&(n2=lsn.find(t=>t in e)),n2&&e[n2]}function fse(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function hse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function PO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function pse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}var usn=Object.defineProperty,dsn=(e,t,n)=>t in e?usn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vc=(e,t,n)=>(dsn(e,typeof t!="symbol"?t+"":t,n),n);class m4{constructor(t,n){vc(this,"x"),vc(this,"y"),this.x=t,this.y=n}}class mse{constructor(t,n,r){vc(this,"y"),vc(this,"_left"),vc(this,"_right"),this.y=t,this._left=n,this._right=r}get right(){return new m4(this._right,this.y)}get left(){return new m4(this._left,this.y)}get length(){return this._right-this._left}}class fsn{constructor(t){vc(this,"rect"),this.rect=t}get top(){return new mse(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new mse(this.rect.bottom,this.rect.left,this.rect.right)}}class oo{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;vc(this,"left"),vc(this,"top"),vc(this,"width"),vc(this,"height"),this.left=t,this.top=n,this.width=r,this.height=o}static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new oo(n,o,1-n-r,1-o-i)}setTopLeft(t,n){return new oo(t,n,this.width||0,this.height||0)}setSize(t,n){return new oo(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new oo(t-r/2,n-o/2,r||0,o||0)}get center(){return new m4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new fsn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new oo((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new oo(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new oo(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new oo(Math.max(n,t.left),Math.max(r,t.top),o,i)}}var hsn=Object.defineProperty,psn=(e,t,n)=>t in e?hsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jc=(e,t,n)=>(psn(e,typeof t!="symbol"?t+"":t,n),n);const r2=_s("sanity-imagetool");function msn(e){return class extends oe.PureComponent{constructor(){super(...arguments),Jc(this,"domNode",null),Jc(this,"currentPos",null),Jc(this,"isDragging",!1),Jc(this,"handleTouchMove",n=>{this.isDragging&&n.preventDefault()}),Jc(this,"handleDragStart",n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){r2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=$O(n);r2("Drag started %o",i),r(OO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i}),Jc(this,"handleDrag",n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=$O(n),i=gsn(o,this.currentPos);r(i),r2("moving by %o",i),this.currentPos=o}),Jc(this,"handleDragEnd",n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=$O(n);r(OO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,r2("Done moving %o",i)}),Jc(this,"handleDragCancel",()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(OO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null}),Jc(this,"setDomNode",n=>{this.domNode=n})}componentDidMount(){Qp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Qp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return c.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function OO(e,t,n){return{x:e-n.left,y:t-n.top}}function $O(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function gsn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var gse=Object.freeze,vsn=Object.defineProperty,sIe=(e,t)=>gse(vsn(e,"raw",{value:gse(t||e.slice())})),vse,yse;const ysn=msn("canvas"),bsn=O.div(vse||(vse=sIe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),xsn=O(ysn)(yse||(yse=sIe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),wsn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",_sn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",qu={x:.5,y:.5,height:1,width:1},Gu={top:0,left:0,right:0,bottom:0};var Csn=Object.defineProperty,Ssn=(e,t,n)=>t in e?Csn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bd=(e,t,n)=>(Ssn(e,typeof t!="symbol"?t+"":t,n),n);const ny=8,Esn=12,ksn=10;function jsn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Tsn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function bse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Gu,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Asn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const xse=iT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&csn(t)||1;return e/n}),wse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Dsn extends oe.PureComponent{constructor(){super(...arguments),bd(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null}),bd(this,"canvas"),bd(this,"handleDragStart",t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=fse(o,this.getHotspotRect()),s=hse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),l=PO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})}),bd(this,"handleDrag",t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)}),bd(this,"handleDragEnd",()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=jsn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)}),bd(this,"handleMouseOut",()=>{this.setState({mousePosition:null})}),bd(this,"handleMouseMove",t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})}),bd(this,"setCanvas",t=>{this.canvas=t})}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||qu,o=new oo().setSize(r.width,r.height).setCenter(r.x,r.y);return new oo().setSize(n.width,n.height).shrink(ny*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new oo().setSize(n.width,n.height).shrink(ny*this.getScale()).cropRelative(oo.fromEdges(t.crop||Gu).clamp(new oo(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Esn*this.getScale(),r=n/2,o=new oo(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of wse)if(PO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Isn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,l=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:l,bottom:u};Tsn(o,d)&&r(_se(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,l=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(l=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:l,top:u,bottom:d},p=bse(i,f).value,m=bse(i,f).delta;o(_se(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Psn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=oo.fromEdges(t.crop||Gu).clamp(new oo(0,0,1,1)),r=t.hotspot||qu,o=new oo(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new oo().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),l=this.getScale(),u=ny*l;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),x=g.height/g.width;t.scale(1,x),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/x,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*l,t.stroke(),t.closePath(),t.restore()}function f(g,x,b,y,w,_,C,S){t.save(),t.drawImage(r,g,x,b,y,w,_,C,S),t.restore()}function p(){const g=i.multiply(s),x=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,x.left,x.top,x.width,x.height)}function m(){const g=i.cropRelative(a),x=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,x.left,x.top,x.width,x.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(x.left,x.top,x.width,x.height),t.restore()}function v(g){t.save();const x=ksn*l,b=i.shrink(u).multiply(s),y=pse(g,b);t.beginPath(),t.arc(y.x,y.y,x,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,x,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*l,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=pse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=ny*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){l(u,i,u,n.height-i)}function a(u){l(i,u,n.width-i,u)}function l(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new oo().setSize(n.width,n.height).shrink(ny*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=xse();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();wse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:l}=r[o];t.fillRect(i,s,l,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,l,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Asn(r)||"auto";const o=hse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(_sn,"), move");const i=fse(t,this.getHotspotRect()),s=PO(t,this.getCropRect());return i||s?"url(".concat(wsn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=xse();return c.jsx(bsn,{children:c.jsx(xsn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Isn(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Psn(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function _se(e,t){const n=e&&e.crop||Gu;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function Osn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,l,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,l),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const x=i.getContext("2d");return x&&x.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function $x(e){return c.jsx(asn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?c.jsx("div",{children:"Loading..."}):o?c.jsx("div",{children:o.message}):r?c.jsx(Osn,{image:r,maxHeight:$x.maxHeight,maxWidth:$x.maxWidth,children:i=>c.jsx(Dsn,{image:i,...e})}):null}})}$x.maxHeight=500;$x.maxWidth=1e3;function $sn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Cse(e.image)||1,n=e.hotspot||qu,r=e.crop||Gu,o=Cse(e.container)||t*Msn(r),i=e.align||{x:"center",y:"center"},s=Rsn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=lIe(aIe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:xd(s.crop.height),width:xd(s.crop.width),top:xd(s.crop.top),left:xd(s.crop.left)},image:{position:"absolute",height:xd(s.image.height),width:xd(s.image.width),top:xd(s.image.top),left:xd(s.image.left)}}}function Cse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function aIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function Rsn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,l={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const x=d<=o;x?g=1:g=d/o;let b,y;if(g>v){b="letterbox";let w;const _=g-v;x?w=1-_:w=v,y={width:w,height:w/d*o,left:0,top:0};const C=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=x?0:-C;break;case"right":y.left=x?1-y.width:C;break;case"center":y.left=x?(1-y.width)/2:-C;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=x?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=x?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(x){b="full_width";let w=-f.y/d*o+.5;const _=g/d*o;w>0?w=0:-w>_-1&&(w=-(_-1)),y={width:g,height:_,left:0,top:w}}else{b="full_height";const w=g;let _=.5-f.x*g;_>0?_=0:-_>w-1&&(_=-(w-1)),y={width:w,height:g/d*o,top:0,left:_}}return{method:b,crop:y,image:l}}function Msn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function lIe(e){return e===0?0:"".concat(e,"%")}function xd(e){return lIe(aIe(e*100))}var Sse=Object.freeze,Fsn=Object.defineProperty,Lsn=(e,t)=>Sse(Fsn(e,"raw",{value:Sse(t||e.slice())})),Ese;const Bsn=O.div(Ese||(Ese=Lsn([`
  position: relative;
  width: 100%;
`]))),Nsn=_s("sanity-imagetool");function zsn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const Vsn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Gu,hotspot:l=qu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,x]=h.useState(null),b=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(b.current)if(i==="auto"){const S=b.current.parentNode;h.startTransition(()=>x(S.offsetWidth/S.offsetHeight))}else x(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Nsn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const _=h.useMemo(()=>i==="none"?a?zsn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),C=h.useMemo(()=>$sn({container:{aspectRatio:_||p},image:{aspectRatio:p},hotspot:l,crop:a,align:{x:n,y:r}}),[n,r,a,l,p,_]);return c.jsx(Bsn,{className:"".concat(s),style:v,ref:b,children:c.jsxs("div",{style:C.container,children:[c.jsx("div",{style:C.padding}),c.jsx("div",{style:C.crop,children:c.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:C.image})})]})})}),Hsn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Usn(e){return e.startsWith("blob:")}function Wsn(e){return new ut(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(Usn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Hsn)}})}const kse={isLoading:!0};function Ysn(e){const[t,n]=h.useState(kse);return h.useEffect(()=>{n(kse);const r=Wsn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var jse=Object.freeze,qsn=Object.defineProperty,Gsn=(e,t)=>jse(qsn(e,"raw",{value:jse(t||e.slice())})),Tse;const Ase=["hotspot"],Dse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Ise={crop:Gu,hotspot:qu},Ksn=O.div(Tse||(Tse=Gsn([`
  min-height: 6em;
`])));function Zsn(e){return c.jsx(W,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function Xsn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Vn,presence:a,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Ise),{image:g,isLoading:x,error:b}=Ysn(t),y=h.useCallback(()=>{d(Ase)},[d]);h.useEffect(()=>{v(n||Ise)},[n]);const w=s[0]==="hotspot";Pi(w,C=>{var S;!C&&w&&((S=p.ref.current)==null||S.focus())});const _=h.useCallback(C=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,...C.crop||Gu}:C.crop,k=E?{_type:E.type.name,...C.hotspot||qu}:C.hotspot;l([pt(j,["crop"]),pt(k,["hotspot"])])},[l,f,u.fields]);return c.jsx(n1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:c.jsxs("div",{children:[c.jsx(ee,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:c.jsx(ri,{path:i.concat(Ase),hasFocus:s[0]==="hotspot",isChanged:r,children:c.jsxs(dse,{ratio:3/2,children:[(x||b)&&c.jsx(Zsn,{children:b?c.jsx(ee,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsxs(B,{children:["Error: ",b.message]})}):c.jsx(B,{muted:!0,children:"Loading image "})}),!x&&g&&c.jsx(F,{margin:1,children:c.jsx($x,{value:m,src:g.src,readOnly:!!f,onChangeEnd:_,onChange:v})})]})})}),c.jsx(F,{marginTop:3,children:c.jsx(ln,{columns:Dse.length,gap:1,children:Dse.map(C=>{let[S,E]=C;return c.jsxs("div",{children:[c.jsx(ii,{as:"h4",size:0,children:S}),c.jsx(F,{marginTop:2,children:c.jsx(dse,{ratio:E,children:c.jsx(ee,{__unstable_checkered:!0,children:!x&&g?c.jsx(Vsn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||qu,crop:m.crop||Gu}):c.jsx(Ksn,{})})})})]},E)})})})]})})}var Pse=Object.freeze,Qsn=Object.defineProperty,Jsn=(e,t)=>Pse(Qsn(e,"raw",{value:Pse(t||e.slice())})),Ose;const ean=O(Jt)(Ose||(Ose=Jsn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function tan(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[l,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Ds(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),zr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[l]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(l==null||l.focus())},[a,l]),c.jsxs(ean,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(ae,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:bve,mode:"ghost",onClick:t,ref:o}),c.jsx(hn,{id:"image-actions-menu",content:c.jsx(Ht,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:c.jsx(ae,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Vo,mode:"ghost",onClick:p,ref:m})})]})}var $se=Object.freeze,nan=Object.defineProperty,IA=(e,t)=>$se(nan(e,"raw",{value:$se(t||e.slice())})),Rse,Mse,Fse,Lse;const Bse=30,ran=O(ee)(Rse||(Rse=IA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),oan=O(Vr)(Mse||(Mse=IA([`
  position: absolute;
`]))),ian=O(W)(e=>{let{$drag:t,$tone:n}=e;const r=Rf.color.light[n].card.enabled.fg,o=At(Rf.color.light[n].card.enabled.bg,.8);return de(Fse||(Fse=IA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),san=O(W)(Lse||(Lse=IA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),aan=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function lan(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[l,u]=h.useState(null),d=gw(l),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=Bse*document.documentElement.clientHeight/100,[g,x]=aan(o),b=g/x,w=(g>f?f/b:x)<v?null:"".concat(Bse,"vh");h.useEffect(()=>{a(!1)},[o]);const _=h.useCallback(()=>{a(!0)},[]);return c.jsxs(ran,{...i,ref:u,style:{height:w},tone:"transparent",children:[c.jsxs(ee,{"data-container":!0,tone:"inherit",children:[!s&&c.jsx(Nse,{cardTone:"transparent",drag:!0,content:c.jsx(oan,{})}),c.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:_,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&c.jsx(Nse,{cardTone:m,drag:t,content:c.jsxs(c.Fragment,{children:[c.jsx(F,{marginBottom:3,children:c.jsx(ii,{children:c.jsx(can,{isRejected:r,readOnly:n})})}),c.jsx(uan,{isRejected:r,readOnly:n})]})})]})}function can(e){let{isRejected:t,readOnly:n}=e;return t?c.jsx(Ef,{}):n?c.jsx(AF,{}):c.jsx(El,{})}function uan(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),c.jsx(B,{size:1,children:r})}function Nse(e){let{cardTone:t,drag:n,content:r}=e;return c.jsx(ian,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:c.jsx(san,{direction:"column",align:"center",justify:"center",children:r})})}var zse=Object.freeze,dan=Object.defineProperty,fan=(e,t)=>zse(dan(e,"raw",{value:zse(t||e.slice())})),Vse;const han=O(ae)(Vse||(Vse=fan([`
  width: 100%;
`])));function pan(e){let{onClearValue:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Invalid image value"}),c.jsx(B,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),c.jsx(han,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}var man=Object.defineProperty,gan=(e,t,n)=>t in e?man(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>(gan(e,typeof t!="symbol"?t+"":t,n),n);const van=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function yan(e){let{children:t}=e;return t}const Hse=["asset"],ban={portal:!0};class xan extends oe.PureComponent{constructor(t){var n;super(t),n=this,yn(this,"_previewElement",null),yn(this,"_assetPath"),yn(this,"uploadSubscription",null),yn(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1}),yn(this,"toast",null),yn(this,"setPreviewElement",r=>{this._previewElement=r}),yn(this,"setHotspotButtonElement",r=>{this.setState({hotspotButtonElement:r})}),yn(this,"setMenuButtonElement",r=>{this.setState({menuButtonElement:r})}),yn(this,"getUploadOptions",r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]}),yn(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Gi({_type:s.name})),n.uploadSubscription=r.upload(l,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var x;console.error(g),(x=n.toast)==null||x.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Qe(["hotspot"]),Qe(["crop"])]),n.setState({isUploading:!1})}})}),yn(this,"handleRemoveButtonClick",()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(l=>!["_type","_key","_upload","asset","crop","hotspot"].includes(l)).length===0,a=["asset"].concat(o.filter(l=>["crop","hotspot","_upload"].includes(l))).map(l=>Qe([l]));this.props.onChange(s&&!this.valueIsArrayElement()?Qe():a)}),yn(this,"handleFieldChange",r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Qe());return}o(r.prepend(Gi({_type:i.name})).patches)}),yn(this,"eventIsUnsettingLastFilledField",r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(l=>!["_type","_key","crop","hotspot"].includes(l));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]}),yn(this,"valueIsArrayElement",()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"}),yn(this,"handleOpenDialog",()=>{const{onFieldOpen:r}=this.props;r("hotspot")}),yn(this,"handleCloseDialog",()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()}),yn(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;JDe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})}),yn(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),yn(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})}),yn(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),yn(this,"handleCancelUpload",()=>{this.cancelUpload()}),yn(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),yn(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),yn(this,"handleClearField",()=>{this.props.onChange([Qe(["asset"]),Qe(["crop"]),Qe(["hotspot"])])}),yn(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),yn(this,"handleSelectImageFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),yn(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()}),yn(this,"renderHotspotInput",r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,l=this.isImageToolEnabled()&&o&&o.asset;return c.jsx(pa,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:c.jsx(vA,{children:c.jsx(F,{padding:4,children:c.jsx(ne,{space:5,children:l&&(o==null?void 0:o.asset)&&c.jsx(Xsn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})}),yn(this,"renderPreview",()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:l}=this.props;if(!r||!ub(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>l(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(van()).auto("format").url();return c.jsx(lan,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})}),yn(this,"setToast",r=>{this.toast=r}),this._assetPath=t.path.concat(Hse)}isImageToolEnabled(){return Nn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Qe(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(r,"options.accept","image/*"),d=t&&l&&this.isImageToolEnabled();let f=n&&n.length===0?null:c.jsx(Me,{icon:Yi,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>c.jsx(Me,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||El,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),c.jsx(o0,{observeAsset:a,reference:l,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,x,b;if(ub(t)){const y=v||"download.".concat(g);b=s.image(m).forceDownload(y).url(),x=s.image(m).url()}return c.jsx(tan,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:c.jsx(eIe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:c.jsx(ae,{"data-testid":"file-input-multi-browse-button",icon:Yi,iconRight:Rl,mode:"ghost",text:"Select"}),menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Me,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:ban}):c.jsx(ae,{fontSize:2,text:"Select",icon:Yi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,l=Nn(t,"options.accept","image/*");return c.jsx("div",{style:{padding:1},children:c.jsx(ee,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(nIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:l,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return c.jsx(XDe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Nn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?c.jsx(o0,{observeAsset:o,reference:n.asset,children:a=>c.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),l=s.length-a.length;return s.length>0&&(l>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!ub(t)?()=>c.jsx(pan,{onClearValue:this.handleClearField}):a=>c.jsxs(c.Fragment,{children:[i&&c.jsx(F,{marginBottom:2,children:c.jsx(rIe,{onClearStale:this.handleClearUploadState})}),c.jsx(ri,{path:a.path.concat(Hse),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsxs(ZDe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&c.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return c.jsxs(ne,{space:5,"data-testid":"image-input",children:[c.jsx(rB,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?c.jsx(s_,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?yan:o,renderItem:a,renderPreview:l},f.key):f.kind==="fieldSet"?c.jsx(YB,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l},f.key):f.kind==="error"?c.jsx(CA,{member:f},f.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&c.jsx(SDe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function wan(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=oi().__internal,o=Os(),i=Cr(gn),a=oi().__internal.image.directUploads,l=h.useCallback((p,m)=>a?VB(p,m):null,[a]),u=oe.useMemo(()=>n||r.assetSources,[r,n]),d=oe.useMemo(()=>wT(i),[i]),f=h.useCallback(p=>cDe(o,p),[o]);return c.jsx(xan,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:l})}const cIe=()=>{},RO={isLoading:!0,result:void 0,error:void 0,retry:cIe},_an={isLoading:!1,result:void 0,error:void 0,retry:cIe};function uIe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(l=>l+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=Ao(()=>i._id?t(i).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o,retryAttempt:n})),ki(RO),Xn(l=>(console.error(l),be({isLoading:!1,result:void 0,error:l,retry:o,retryAttempt:n})))):be(_an),[i,t,o,n],RO);return mB(e._id,e._id)!==e._id?RO:s}var Use=Object.freeze,Can=Object.defineProperty,dIe=(e,t)=>Use(Can(e,"raw",{value:Use(t||e.slice())})),Wse,Yse;const San=O(W)(Wse||(Wse=dIe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),fIe=O(W)(Yse||(Yse=dIe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function qse(e){return c.jsx(fIe,{padding:3,children:c.jsx(F,{flex:1,children:c.jsx(F,{children:c.jsx(B,{as:"p",size:1,children:e.children})})})})}function hIe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:l,preview:u,id:d,dataset:f,projectId:p}=e,m=(l==null?void 0:l.reason)==="NOT_FOUND",v=(l==null?void 0:l.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,x=h.useMemo(()=>{if(g){const b=typeof(g==null?void 0:g.asset)<"u"&&ub(g),y=oe.isValidElement(g);return!b&&!y?null:function(_){let{dimensions:C}=_;return y?g:c.jsx("img",{src:wT({dataset:f,projectId:p}).image(g).withOptions(C).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return c.jsxs(San,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?c.jsx(F,{flex:1,children:c.jsx(kTe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:x||!1})}):c.jsx(F,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document unavailable"})})})}),c.jsx(F,{paddingLeft:3,children:c.jsxs(Jt,{space:4,children:[o&&a&&c.jsx(Nt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&c.jsx(F,{children:c.jsx(yt,{portal:!0,content:m?c.jsxs(qse,{children:["The referenced document no longer exist and might have been deleted.",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d}),")"]}):c.jsx(qse,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(sr,{tone:"default",children:v?c.jsx(Ef,{}):c.jsx(Dv,{})})})}),!(m||v)&&i&&c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(fIe,{padding:2,children:s?c.jsx(B,{size:1,children:"This document opens in a new tab"}):c.jsxs(B,{size:1,children:["This document cannot be opened ",c.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:c.jsx(sr,{size:1,tone:"default",muted:!s,children:c.jsx(m0,{})})})})]})})]})}function rN(){return Cr(gn).config().projectId}function Ean(e){var t;const{isLoading:n,result:r,error:o}=uIe(e.document,e.getReferenceInfo),i=rN();if(n)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return c.jsx(ne,{space:2,padding:1,children:c.jsxs(Hc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return c.jsx(ne,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&c.jsx(hIe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):c.jsxs(ne,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function Gse(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,l=rN();if(a.isLoading||a.error)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!a.error}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?c.jsx(ne,{space:2,padding:2,children:c.jsxs(B,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",c.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):c.jsx(hIe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:l,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var Kse=Object.freeze,kan=Object.defineProperty,pIe=(e,t)=>Kse(kan(e,"raw",{value:Kse(t||e.slice())})),Zse,Xse;const jan=O(hn)(Zse||(Zse=pIe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Tan=O(B)(Xse||(Xse=pIe([`
  word-break: break-word;
`]))),Aan=["top-start","bottom-start"],Dan=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return c.jsx(jan,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Aan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(Tan,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",t.searchString,""]})]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(wL,{...t,ref:n,renderPopover:o})});var Qse=Object.freeze,Ian=Object.defineProperty,Pan=(e,t)=>Qse(Ian(e,"raw",{value:Qse(t||e.slice())})),Jse;const Oan=O(ae)(Jse||(Jse=Pan([`
  width: 100%;
`])));function $an(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(W,{gap:4,marginBottom:r?4:void 0,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),c.jsx(B,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&c.jsxs(B,{as:"p",size:1,children:["Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&c.jsx(Oan,{icon:Iu,text:"Reset value",onClick:n,mode:"ghost"})]})}const eae={hits:[],isLoading:!1},Ran=()=>!0,tae=["_ref"],Man="crossDatasetReferences";function Fan(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:l,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:x}=e,b=rN(),[y,w]=h.useState(eae),_=h.useCallback(ie=>{if(!ie){l(Qe()),u([]);return}if(!y.hits.find(Ce=>Ce.id===ie))throw new Error("Selected an item that wasnt part of the result set");l(pt({_type:m.name,_ref:Zn(ie),_projectId:b,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,y.hits,m.name,m.dataset,m.weak,b,l,u]),C=h.useCallback(()=>{l(Qe())},[l]),S=h.useCallback(ie=>{ie.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ie=>a(ie,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=uIe(j,E),T=ZPe(Man),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=x.ref;Pi({hasFocusAt:D,ref:g==null?void 0:g._ref},(ie,ye)=>{var Ce;const Ae=(ie==null?void 0:ie.ref)!==ye.ref;((ie==null?void 0:ie.hasFocusAt)!==ye.hasFocusAt||Ae)&&ye.hasFocusAt&&((Ce=I.current)==null||Ce.focus())});const P=g!=null&&g._weak?"weak":"strong",M=m.weak===!0?"weak":"strong",$=!!(g!=null&&g._ref),V=h.useCallback(()=>{l(m.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[l,m]),{push:L}=Ai(),H=h.useMemo(()=>v.filter(ie=>ie.level==="error"),[v]),U=h.useCallback(ie=>{ie.currentTarget===x.ref.current&&(u==null||u([Dge]))},[x.ref,u]),z=h.useCallback(ie=>{ie.currentTarget===x.ref.current&&(u==null||u(tae))},[x.ref,u]),Y=h.useCallback(()=>{u==null||u(tae)},[u]),te=h.useId(),N=LL(ie=>ie.pipe(ct(ho),Kn(),tt(ye=>fo(be({isLoading:!0}),d(ye).pipe(ce(Ce=>({hits:Ce,searchString:ye,isLoading:!1})),Xn(Ce=>(L({title:"Reference search failed",description:Ce.message,status:"error",id:"reference-search-fail-".concat(te)}),console.error(Ce),be({hits:[]})))))),Wa((ye,Ce)=>({...ye,...Ce}),eae),Wn(w)),[te,d,L]),G=h.useCallback(()=>{N("")},[N]),q=!k.isLoading&&$&&P!==M,K=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,Q=h.useCallback(ie=>c.jsx(yv,{as:"button",type:"button",radius:2,children:c.jsx(F,{paddingX:3,paddingY:1,children:c.jsx(Ean,{referenceType:m,document:ie.hit.published,getReferenceInfo:E})})}),[m,E]),X=(r=k.result)==null?void 0:r.preview.published,Z=D||!(g!=null&&g._ref),re=h.useRef(null),le=h.useRef(null),he=h.useRef(null);return XTe([re,le,he],()=>{D&&u([])}),c.jsxs(c.Fragment,{children:[!T.isLoading&&!T.enabled&&c.jsx($an,{value:g,onClearValue:C}),(T.isLoading||T.enabled)&&c.jsx(ne,{space:1,children:Z?c.jsx(ne,{space:2,ref:re,children:c.jsx(ri,{path:f,isChanged:o,hasFocus:!!i,children:c.jsx("div",{ref:A,children:c.jsx(Dan,{...x,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:le,id:te||"",options:y.hits.map(ie=>({value:ie.id,hit:ie})),onFocus:z,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:y.searchString,onChange:_,filterOption:Ran,renderOption:Q,openButton:{onClick:G}})})})}):c.jsx(ri,{path:f,isChanged:o,hasFocus:!!i,children:c.jsxs(ee,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||H.length>0?"critical":"default",children:[c.jsxs(W,{align:"center",padding:1,children:[K?c.jsx(yv,{as:"a",target:"_blank",rel:"noopener noreferrer",href:K,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,ref:x.ref,children:c.jsx(Gse,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!K,type:m})}):c.jsx(yv,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,ref:x.ref,children:c.jsx(Gse,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),c.jsx(Jt,{paddingX:1,children:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo,"data-testid":"menu-button"}),id:"".concat(te,"-menuButton"),menu:c.jsx(Ht,{children:!p&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Clear",tone:"critical",icon:Iu,"data-testid":"menu-item-clear",onClick:C}),c.jsx(Me,{text:"Replace",icon:oj,"data-testid":"menu-item-replace",onClick:Y})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),q&&c.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:P}),", but according to the current schema it should be ",c.jsxs("em",{children:[M,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:m.weak?c.jsxs(c.Fragment,{children:['It will not be possible to delete the "',X==null?void 0:X.title,'"-document without first removing this reference.']}):c.jsxs(c.Fragment,{children:['This makes it possible to delete the "',X==null?void 0:X.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),c.jsx(ae,{onClick:V,text:c.jsxs(c.Fragment,{children:["Convert to ",M," reference"]}),tone:"caution"})]})}),k.error&&c.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),c.jsx(ae,{onClick:k.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function Lan(e,t,n,r){return pB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(G7),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const Ban="cross-dataset-refs",mIe={available:!0,reason:"READABLE"},Nan={available:!1,reason:"PERMISSION_DENIED"},zan={available:!1,reason:"NOT_FOUND"};function Van(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,l){return(a._type?be(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(tt(u=>{if(!u._type)return Han(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=l.to.find(m=>m.type===u._type),f=[...uB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&dk(m,d)));return zo([p]).pipe(ce(m=>{let[v]=m;return{type:u._type,id:a._id,availability:mIe,preview:{published:_t(v)?v:void 0}}}))}))}}function Han(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(Ban,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=G8(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?zan:i.reason==="permission"?Nan:null:mIe}))}async function Uan(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=d0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Wan(e){const t=h.useRef(e);return t.current=e,t}function Yan(e){const{path:t,schemaType:n}=e,r=ur(),o=r.getClient(gn),i=Os(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),l=SA([]),u=Wan(l),d=h.useCallback(p=>wr(Uan(n.options,u.current,t,s)).pipe(vt(m=>{let{filter:v,params:g}=m;return Lan(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Xn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),j0(m)})),[a,u,t,n,s]),f=h.useMemo(()=>Van({client:a,documentPreviewStore:i}),[a,i]);return c.jsx(Fan,{...e,getReferenceInfo:f,onSearch:d})}function qan(e){const t=h.useRef(e);return t.current=e,t}async function Gan(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=d0(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function oN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=ur(),l=a.getClient(gn),u=dr(),d=Os(),f=h.useMemo(()=>l.withConfig({apiVersion:"2021-03-25"}),[l]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=NAe(),x=SA([]),b=qan(x),y=(t=b.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(y))==null?void 0:I.liveEdit},[y,u]),_=((n=s.options)==null?void 0:n.disableNew)===!0,C=a.getClient,S=h.useCallback(I=>wr(Gan(s.options,b.current,i,C)).pipe(vt(P=>{let{filter:M,params:$}=P;return ZTe(f,I,s,{...s.options,filter:M,params:$,tag:"search.reference"})}),Xn(P=>{var M;const $=P.details&&P.details.type==="queryParseError";return(M=s.options)!=null&&M.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),j0(P)})),[b,i,f,s,C]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,M){return p?c.jsx(p,{...P,ref:M,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=vi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>_?[]:(g||[]).filter(I=>s.to.some(P=>{var M;return P.name===((M=I.template)==null?void 0:M.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(ho),[_,g,s.to]),D=h.useCallback(I=>KTe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function Kan(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=_A(n,t);if(o)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return c.jsx(ne,{space:2,padding:1,children:c.jsx(Hc,{title:"Failed to load referenced document",children:c.jsxs(B,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return c.jsx(ne,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(l=>l.name===i.type);return a?i&&a&&c.jsx(nDe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):c.jsxs(ne,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const Zan={display:"inline-flex"},Xan={width:"100%"},Qan={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function Jan(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?c.jsx(rn,{button:c.jsx(ae,{...o,disabled:e.readOnly,text:"Create new",mode:"ghost",icon:ea}),id:r,menu:c.jsx(Ht,{ref:e.menuRef,children:t.map(s=>c.jsx(yt,{disabled:s.permission.granted,content:c.jsx(F,{padding:2,children:c.jsx(Pc,{operationLabel:"create this type of document"})}),portal:!0,children:c.jsx("div",{children:c.jsx(Me,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:Qan}):c.jsx(ae,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:ea}):c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(Pc,{operationLabel:"create a new reference"})}),children:c.jsx("div",{style:Zan,children:c.jsx(ae,{text:"Create new",mode:"ghost",disabled:!0,icon:ea,style:Xan})})})}var nae=Object.freeze,eln=Object.defineProperty,gIe=(e,t)=>nae(eln(e,"raw",{value:nae(t||e.slice())})),rae,oae;const tln=O(hn)(rae||(rae=gIe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),nln=O(B)(oae||(oae=gIe([`
  word-break: break-word;
`]))),rln=["top-start","bottom-start"],oln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return c.jsx(tln,{placement:"bottom-start",fallbackPlacements:rln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(nln,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",t.searchString,""]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?c.jsx(c.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(wL,{...t,ref:n,renderPopover:o})});var iae=Object.freeze,iln=Object.defineProperty,vIe=(e,t)=>iae(iln(e,"raw",{value:iae(t||e.slice())})),sae,aae;const sln=de(sae||(sae=vIe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),aln=de(aae||(aae=vIe([`
  grid-template-columns: 1fr min-content;
`]))),lln=O(ln)(e=>e.$narrow?sln:aln),cln=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{uln(n,a),o(a)},[n]),s=gw(r);return c.jsx(lln,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function uln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var lae=Object.freeze,dln=Object.defineProperty,fln=(e,t)=>lae(dln(e,"raw",{value:lae(t||e.slice())})),cae;const hln=O(yv)(cae||(cae=fln([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),uae={hits:[],isLoading:!1},pln=()=>!0;function mln(e){return e!==null}function gln(e){var t,n,r,o,i,s;const{createOptions:a,onChange:l,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:x,path:b,elementProps:y,focusPath:w}=e,{getReferenceInfo:_}=oN({path:b,schemaType:f,value:g}),[C,S]=h.useState(uae),E=h.useCallback(Z=>{const re=sd(),le=[Gi({}),pt(f.name,["_type"]),pt(re,["_ref"]),pt(!0,["_weak"]),pt({type:Z.type,weak:f.weak,template:Z.template},["_strengthenOnPublish"])].filter(ho);l(le),u({id:re,type:Z.type,template:Z.template}),v([])},[l,u,v,f]),j=h.useCallback(Z=>{if(!Z){l(Qe()),v([]);return}const re=C.hits.find(he=>he.id===Z);if(!re)throw new Error("Selected an item that wasnt part of the result set");const le=[Gi({}),pt(f.name,["_type"]),pt(Zn(Z),["_ref"]),re.published&&!f.weak?Qe(["_weak"]):pt(!0,["_weak"]),re.published?Qe(["_strengthenOnPublish"]):pt({type:re==null?void 0:re.type,weak:f.weak},["_strengthenOnPublish"])].filter(ho);l(le),v([])},[l,v,f.name,f.weak,C.hits]),k=h.useCallback(()=>{l(Qe())},[l]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),D=_A(g==null?void 0:g._ref,_),I=h.useRef(null),{push:P}=Ai(),M=LL(Z=>Z.pipe(ct(mln),tt(re=>fo(be({isLoading:!0}),d(re).pipe(ce(le=>({hits:le,searchString:re,isLoading:!1})),Xn(le=>(P({title:"Reference search failed",description:le.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(le),be({hits:[]})))))),Wa((re,le)=>({...re,...le}),uae),Wn(S)),[m,d,P]),$=h.useCallback(()=>{M("")},[M]),V=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),L=h.useCallback(Z=>{var re,le;const he=((re=Z.hit.draft)==null?void 0:re._id)||((le=Z.hit.published)==null?void 0:le._id)||Z.value;return c.jsx(hln,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(F,{paddingX:3,paddingY:1,children:c.jsx(Kan,{getReferenceInfo:_,id:he,renderPreview:x,type:f})})})},[f,_,x]),H=h.useCallback(()=>{var Z,re,le,he;return((re=(Z=D.result)==null?void 0:Z.preview.draft)==null?void 0:re.title)||((he=(le=D.result)==null?void 0:le.preview.published)==null?void 0:he.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),U=h.useCallback(()=>v(["_ref"]),[v]),z=h.useCallback(Z=>{var re;(re=I.current)!=null&&re.contains(Z.relatedTarget)||e.elementProps.onBlur(Z)},[e.elementProps]),Y=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Pi((w==null?void 0:w[0])==="_ref",(Z,re)=>{var le;!Z&&re&&((le=y.ref.current)==null||le.focus())});const te=h.useMemo(()=>C.hits.map(Z=>({value:Z.id,hit:Z})),[C.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:q}=Htn(),K=h.useRef(null),Q=h.useRef(null),X=h.useRef(null);return XTe([q,K,Q,X,G],()=>{N&&T()}),c.jsx(ne,{space:1,"data-testid":"reference-input",ref:K,children:c.jsxs(ne,{space:2,children:[Y?c.jsx(Hc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{text:"Clear",onClick:k})}),children:c.jsxs(B,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",c.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,c.jsxs(cln,{ref:I,children:[c.jsx(oln,{...y,onFocus:U,onBlur:z,"data-testid":"autocomplete",loading:C.isLoading,referenceElement:I.current,options:te,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:M,searchString:C.searchString,onChange:j,filterOption:pln,renderOption:L,renderValue:H,openButton:{onClick:$},portalRef:Q,value:g==null?void 0:g._ref}),a.length>0&&c.jsx(Jan,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:X})]})]})})}async function vln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=d0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function yln(e){const t=h.useRef(e);return t.current=e,t}function bln(e){var t,n,r,o;const i=ur(),s=i.getClient(gn),a=dr(),l=Os(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=NAe(),g=SA([]),x=yln(g),b=(t=x.current)==null?void 0:t._type,y=a.get(b),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),_=((n=d.options)==null?void 0:n.disableNew)===!0,C=i.getClient,S=h.useCallback(I=>wr(vln(d.options,x.current,u,C)).pipe(vt(P=>{let{filter:M,params:$}=P;return ZTe(s,I,d,{...d.options,filter:M,params:$,tag:"search.reference"})}),Xn(P=>{var M;const $=P.details&&P.details.type==="queryParseError";return(M=d.options)!=null&&M.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),j0(P)})),[x,u,s,d,C]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,M){return f?c.jsx(f,{...P,ref:M,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=vi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>_?[]:(v||[]).filter(I=>d.to.some(P=>{var M;return P.name===((M=I.template)==null?void 0:M.schemaType)})).map(I=>{var P,M,$;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat((M=I.template)==null?void 0:M.id),type:I.template.schemaType,icon:I.icon,template:{id:($=I.template)==null?void 0:$.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(ho),[_,v,d.to]),D=h.useCallback((I,P)=>KTe(l,I,P),[l]);return c.jsx(gln,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function xln(e){return oF(e.schemaType)}function wln(e){return q$e(e.schemaType)}function vk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>vk(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>vk(e[o],t[o]))}function dae(e,t){return e?e.some(n=>vk(n,t)):!1}function _ln(e,t){return e.of.find(n=>n.name===Ts(t))}const Cln=[];function Sln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:l,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var x;return(((x=o.options)==null?void 0:x.list)||Cln).map((b,y)=>Sl(b)?b:{...b,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((x,b)=>{if(!x&&Sl(b)){i(Qe([{_key:b._key}]));return}const y=p.filter(w=>vk(b,w)?x:dae(a,w));i(y.length>0?pt(y):Qe())},[i,p,a]),v=h.useCallback(x=>{s([x])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return c.jsx(ri,{path:d,isChanged:f,hasFocus:!1,children:c.jsx(ln,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((x,b)=>{const y=_ln(o,x),w=dae(a,x),_=!y;return c.jsxs(W,{align:"center",as:"label",muted:_,children:[c.jsx(Bj,{disabled:_,checked:w,onChange:C=>m(C.currentTarget.checked,x),onFocus:()=>v(b),readOnly:l}),c.jsx(F,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:x}):c.jsx(ee,{tone:"caution",radius:2,children:c.jsx(CDe,{value:x,onFocus:()=>v(b)})})})]},b)})})})}var fae=Object.freeze,Eln=Object.defineProperty,kln=(e,t)=>fae(Eln(e,"raw",{value:fae(t||e.slice())})),hae;const jln=O(ee)(hae||(hae=kln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function yIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=oe.useState(!1),[a,l]=oe.useState(null);zr(()=>s(!1),[a]);const u=oe.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ts(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(jln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsx(F,{children:c.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(Qk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{marginRight:3,children:c.jsx(B,{children:c.jsx(xl,{})})}),c.jsx(F,{flex:1,children:c.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Tln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Aln(e){return e.map(t=>Tln(t)?{title:t.title||an(String(t.value)),value:t.value}:{title:an(String(t)),value:t})}function Dln(e,t){return e.of.find(n=>n.name===Ts(t.value))}function Iln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:l,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Aln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const x=f.map(b=>b.value).filter(b=>b===g?v:i.includes(b));o(x.length>0?pt(x):Qe())},m=((n=r.options)==null?void 0:n.layout)==="grid";return c.jsx(ri,{path:a,isChanged:l,hasFocus:!1,children:c.jsx(ln,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const x=Dln(r,v),b=i.includes(v.value),y=!x;return c.jsxs(W,{align:"center",as:"label",muted:y,children:[c.jsx(Bj,{disabled:y,checked:b,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),c.jsx(F,{padding:2,children:c.jsx(B,{children:v.title})}),!x&&c.jsx(yIe,{value:v,onFocus:()=>u(g)})]},g)})})})}function bIe(e){return xln(e)?c.jsx(Sln,{...e}):c.jsx(Iln,{...e})}var pae=Object.freeze,Pln=Object.defineProperty,PA=(e,t)=>pae(Pln(e,"raw",{value:pae(t||e.slice())})),mae,gae,vae,yae;const Oln=O.div(mae||(mae=PA([`
  position: relative;
`]))),xIe=O.div(gae||(gae=PA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),wIe=O(ee)(vae||(vae=PA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),$ln=O(W)(yae||(yae=PA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),wIe,xIe),Rln=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function Mln(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),l=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=Rln();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return c.jsx(B,{weight:"semibold",children:v})},[i,n]);return c.jsxs(Oln,{onBlur:d,onClick:a,onFocus:u,onKeyDown:l,children:[o&&c.jsxs($ln,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[c.jsx(wIe,{radius:1}),c.jsx(xIe,{children:f})]}),t]})}var bae=Object.freeze,Fln=Object.defineProperty,Lln=(e,t)=>bae(Fln(e,"raw",{value:bae(t||e.slice())})),xae;const Bln=O.span(xae||(xae=Lln([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function Nln(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=won[t],a=i.component,l=h.useCallback(u=>c.jsx(Bln,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:i,selected:r,title:i.title,value:t};return a?c.jsx(a,{...u,children:o}):c.jsx(l,{...u,children:o})},[a,l,o,n,i,r,t])}const zln={portal:!0,constrainSize:!0};function wae(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return c.jsx(rn,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:zln,...r,button:n,menu:c.jsx(Ht,{children:o.map((s,a)=>{const{collapsedProps:l={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:v,text:g,icon:x,selected:b,...y}=s.props;return c.jsxs(oe.Fragment,{children:[p&&a!==0&&c.jsx(Dr,{}),c.jsx(Me,{text:g,icon:x,pressed:b,...y})]},s.key)})})})}function Vln(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),c.jsx(W,{ref:s,...o,children:n})}var _ae=Object.freeze,Hln=Object.defineProperty,Uln=(e,t)=>_ae(Hln(e,"raw",{value:_ae(t||e.slice())})),Cae;const Wln=O.div(Cae||(Cae=Uln([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function Sae(e){const{hidden:t,...n}=e;return c.jsx(Wln,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Eae=Object.freeze,Yln=Object.defineProperty,o1=(e,t)=>Eae(Yln(e,"raw",{value:Eae(t||e.slice())})),kae,jae,Tae,Aae,Dae,Iae;const Pae=3,_Ie=de(kae||(kae=o1([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),qln=O(W)(jae||(jae=o1([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Pae,Pae),Gln=O(W)(Tae||(Tae=o1([`
  border-radius: inherit;
  position: relative;
`]))),Oae=O(W)(Aae||(Aae=o1([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),Kln=O(Vln)(Dae||(Dae=o1([`
  `,`
`])),_Ie),Zln=O(W)(Iae||(Iae=o1([`
  `,`
`])),_Ie);function Xln(e){return!!e}const iN=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:l,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,v]=h.useState(null),g=gw(f),[x,b]=h.useState([]),y=h.useMemo(()=>g&&f&&m?g.width<m.scrollWidth:!1,[m,f,g]),w=h.useMemo(()=>(l==null?void 0:l.button)||c.jsx(ae,{icon:Vo,mode:"bleed"}),[l]),_=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),C=h.useMemo(()=>oe.Children.toArray(r).filter(Xln),[r]),S=h.useMemo(()=>C.filter(A=>{let{key:D}=A;return x.find(I=>I.key===D)}),[C,x]),E=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(D=>D.key===A),[S]),k=h.useCallback((A,D)=>{const I=j(D.key);if(!A.isIntersecting&&!I&&b(P=>[D,...P]),A.isIntersecting&&I){const P=S.filter(M=>{let{key:$}=M;return $!==D.key});b(P)}},[j,S]),T=h.useMemo(()=>C.map(A=>{const{collapsedProps:D,expandedProps:I}=A.props,P=y?D:I,M=y&&i?void 0:A.props.text;return h.cloneElement(A,{...P,text:M})}),[C,i,y]);return o?c.jsx(wae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:C,onMenuClose:u}):c.jsxs(qln,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[c.jsxs(Gln,{direction:"column",flex:1,justify:"center",ref:p,children:[c.jsx(Oae,{gap:a,children:T.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:M={}}=A.props,$=j(A.key);return c.jsxs(oe.Fragment,{children:[I&&D!==0&&c.jsx(Sae,{hidden:$}),c.jsx(Kln,{options:_,callback:V=>k(V[0],A),"aria-hidden":$,"data-hidden":$,children:c.jsx(yt,{portal:!0,disabled:!P,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:P})}),...M,children:c.jsx(W,{children:h.cloneElement(A,{disabled:A.props.disabled||$,"aria-hidden":$})})})})]},A.key)})}),c.jsx(Oae,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:v,children:C.map((A,D)=>{const{dividerBefore:I}=A.props;return c.jsxs(oe.Fragment,{children:[I&&D!==0&&c.jsx(Sae,{}),c.jsx(Zln,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),E&&c.jsx(W,{marginLeft:a,children:c.jsx(wae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:S,onMenuClose:u})})]})}),sN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...l}=t;return c.jsx(ae,{"data-ui":"CollapseMenuButton",...l,ref:n})});var $ae=Object.freeze,Qln=Object.defineProperty,Jln=(e,t)=>$ae(Qln(e,"raw",{value:$ae(t||e.slice())})),Rae;const ecn=O.div(Rae||(Rae=Jln([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function tcn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return c.jsx(ecn,{style:r})}function ncn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var l;return((l=n.marks)==null?void 0:l[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{_e.toggleMark(e,o.value),_e.focus(e)},hotkeys:s,title:o.title}})}function rcn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{_e.toggleList(e,r.value)},title:r.title}))}function ocn(e){return Nn(e,"icon")||Nn(e,"type.icon")||Nn(e,"type.to.icon")||Nn(e,"type.to[0].icon")}function icn(e,t,n){const r=e.schemaTypes,o=_e.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:ocn(s),key:s.name,handle:a=>{a?(_e.removeAnnotation(e,s),_e.focus(e)):n(s)},title:s.title||Sm(s.name)}))}function scn(e,t,n,r){return[{name:"format",actions:ncn(e,t,r)},{name:"list",actions:rcn(e,t)},{name:"annotation",actions:icn(e,t,n)}]}function acn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Mae(e,t){const n=Nn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function lcn(e,t,n,r){const o=e.blockObjects.map((a,l)=>({handle:()=>n(a),icon:Mae(a,fve),inline:!1,key:"block-".concat(l),type:a})),i=e.inlineObjects.map((a,l)=>({handle:()=>r(a),icon:Mae(a,Eve),inline:!0,key:"inline-".concat(l),type:a}));return o.concat(i).filter(a=>{var l;return!((l=a.type)!=null&&l.hidden)})}const ccn={link:kf},ucn={strong:hve,em:Tve,"strike-through":Mve,underline:Fve,code:gve},dcn={number:Ive,bullet:Ny};function fcn(e,t){return e.icon?typeof e.icon=="string"?c.jsx(tcn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?ccn[e.key]||xl:e.type==="listStyle"?dcn[e.key]||xl:ucn[e.key]||xl}function OA(){const e=po(),t=U0();return h.useMemo(()=>_e.focusBlock(e),[e,t])}function hcn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=po(),s=h.useCallback(async a=>{const l=await r(a),u=_e.addAnnotation(i,a,l);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?scn(i,o,s,t):[],[o,i,s,t])}function pcn(e){let{actions:t}=e;const n=po(),r=U0();return Go(h.useMemo(()=>{const o=_e.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?_e.hasListStyle(n,i.key):_e.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function mcn(e){let{items:t}=e;const n=po(),r=OA(),o=U0();return Go(h.useMemo(()=>t.filter(i=>_e.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const gcn=h.memo(iN),vcn={constrainSize:!0,portal:!0},ycn={padding:2,mode:"bleed"},bcn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=OA(),a=po(),l=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!l&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||l,f=h.useMemo(()=>r.reduce((x,b)=>x.concat(b.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=pcn({actions:f}),m=h.useCallback(()=>{_e.focus(a)},[a]),v=h.useMemo(()=>f.map(x=>{const b=x.type==="annotation"&&u,y=p.includes(x.key);return h.createElement(sN,{"data-testid":"action-button-".concat(x.key),disabled:d||b,...ycn,dividerBefore:x.firstInGroup,icon:fcn(x,y),key:x.key,onClick:()=>x.handle(y),selected:y,text:x.title||x.key,tooltipText:x.title||x.key,tooltipProps:{disabled:d||b,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:c.jsx(ae,{icon:Vo,mode:"bleed",padding:2,disabled:d}),popover:vcn}),[d]);return c.jsx(gcn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Fae=Object.freeze,xcn=Object.defineProperty,CIe=(e,t)=>Fae(xcn(e,"raw",{value:Fae(t||e.slice())})),Lae,Bae;const wcn=h.memo(rn),_cn=O(Me)(Lae||(Lae=CIe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Ccn=O(ae)(Bae||(Bae=CIe([`
  width: 100%;
`]))),Scn={constrainSize:!0,placement:"bottom-start",portal:"default"},SIe={h1:e=>c.jsx(MDe,{children:e}),h2:e=>c.jsx(FDe,{children:e}),h3:e=>c.jsx(LDe,{children:e}),h4:e=>c.jsx(BDe,{children:e}),h5:e=>c.jsx(NDe,{children:e}),h6:e=>c.jsx(zDe,{children:e}),normal:e=>c.jsx(JB,{children:e}),blockquote:e=>c.jsx(VDe,{"data-option":"blockquote",children:e})},Ecn=Object.keys(SIe),kcn=e=>e.preventDefault(),MO={key:"style-none",style:"",title:"No style"},jcn=h.memo(function(t){const{disabled:n,items:r}=t,o=po(),i=OA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=mcn({items:r}),{activeItems:l,items:u}=h.useMemo(()=>{const g=r.filter(b=>a.includes(b.style));let x=r;return g.length===0&&x.length>1&&(x=x.concat([MO]),g.push(MO)),{activeItems:g,items:x}},[a,r]),d=h.useMemo(()=>l.length>1?"Multiple":l.length===1?l[0].title:MO.title,[l]),f=h.useCallback(g=>{i&&g.style!==i.style&&setTimeout(()=>{_e.toggleBlockStyle(o,g.style),_e.focus(o)})},[o,i]),p=h.useCallback((g,x)=>{const b=Ecn.includes(g),y=SIe[g];return b?y(x):c.jsx(B,{children:x})},[]),m=h.useMemo(()=>c.jsx(Ccn,{disabled:s,iconRight:Ml,mode:"bleed",onClick:kcn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>c.jsx(Ht,{disabled:s,children:u.map(g=>c.jsx(_cn,{pressed:l.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,l,f,u,p]);return c.jsx(wcn,{popover:Scn,id:"block-style-select",button:m,menu:v})}),Tcn=h.memo(iN),Acn={constrainSize:!0,portal:!0},Dcn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=OA(),a=po(),l=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{_e.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||P2e(p.type.name);return c.jsx(sN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||l&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,l,o]),f=h.useMemo(()=>({button:c.jsx(ae,{icon:ea,mode:"bleed",padding:2,disabled:n}),popover:Acn}),[n]);return c.jsx(Tcn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Nae=Object.freeze,Icn=Object.defineProperty,i0=(e,t)=>Nae(Icn(e,"raw",{value:Nae(t||e.slice())})),zae,Vae,Hae,Uae,Wae,Yae;const Pcn=O(W)(zae||(zae=i0([`
  width: 100%;
`]))),Ocn=O(F)(Vae||(Vae=i0([`
  width: 8em;
`]))),$cn=O(W)(Hae||(Hae=i0([`
  border-right: 1px solid var(--card-border-color);
`]))),Rcn=O(F)(Wae||(Wae=i0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(Uae||(Uae=i0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),Mcn=O(F)(Yae||(Yae=i0([`
  border-left: 1px solid var(--card-border-color);
`]))),Fcn=300,Lcn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Bcn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((b,y)=>b+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=gw(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;TTe({rootElement:f});const x=h.useCallback(b=>{b.preventDefault(),b.stopPropagation()},[]);return c.jsxs(Pcn,{align:"center",ref:p,onMouseDown:x,children:[g&&c.jsx($cn,{flex:v?1:void 0,children:c.jsx(Ocn,{padding:s?2:1,children:c.jsx(jcn,{disabled:o,items:r})})}),c.jsxs(W,{flex:1,children:[u&&c.jsx(Rcn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:c.jsx(bcn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&c.jsx(F,{flex:v?void 0:1,padding:s?2:1,children:c.jsx(Dcn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),c.jsx(Mcn,{padding:s?2:1,children:c.jsx(yt,{content:c.jsxs(W,{align:"center",padding:1,children:[c.jsx(F,{flex:1,paddingX:1,children:c.jsx(B,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),c.jsx(F,{marginLeft:1,children:c.jsx(CL,{keys:["".concat(Lcn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:c.jsx(ae,{padding:2,icon:s?vve:Sve,mode:"bleed",onClick:a})})})]})});function Ncn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=po(),a=U0(),l=IN(),u=r||!a,{push:d}=Ai(),f=h.useCallback(b=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},Fcn);return l(b,{}).then(_=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),_)).catch(_=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(b.name,": ").concat(_.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,l]),p=h.useCallback(async b=>{const y=await f(b),w=_e.insertBlock(s,b,y);w&&o(w)},[s,o,f]),m=h.useCallback(async b=>{const y=await f(b),w=_e.insertChild(s,b,y);w&&o(w)},[s,o,f]),v=hcn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>acn(s.schemaTypes),[s]),x=h.useMemo(()=>lcn(s.schemaTypes,u,p,m),[u,s,p,m]);return c.jsx(Bcn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:x,isFullscreen:n,onToggleFullscreen:i})}var qae=Object.freeze,zcn=Object.defineProperty,yf=(e,t)=>qae(zcn(e,"raw",{value:qae(t||e.slice())})),Gae,Kae,Zae,Xae,Qae,Jae,ele,tle;const Vcn=O(ee)(Gae||(Gae=yf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),Hcn=O(ee)(Kae||(Kae=yf([`
  z-index: 10;
  line-height: 0;
`]))),Ucn=O(ee)(Zae||(Zae=yf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),Wcn=O(Z7)(Xae||(Xae=yf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),Ycn=O(sa)(Qae||(Qae=yf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),qcn=O(ee)(tle||(tle=yf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),ty.map(e=>Jh(e)).join(" "),ty.map(e=>de(Jae||(Jae=yf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Jh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},ty.map(e=>Jh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},ty.map(e=>Jh(e)).join(" "),ty.slice(1).map(e=>de(ele||(ele=yf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Jh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function Gcn(){const e=po();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function Kcn(e){return h.useMemo(()=>(t,n)=>{if(_e.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;yx(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const Zcn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&DO[t.style]?DO[t.style]:DO[0])||JB,[t.style]),a=h.useCallback(l=>c.jsx(s,{children:c.jsx(pd,{"data-testid":"text-style--".concat(t.style),children:l.children})}),[s,t.style]);return h.useMemo(()=>{const l=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},nle=e=>c.jsx(c.Fragment,{children:e.children}),Xcn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:l,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:nle,schemaType:r,selected:o,title:l,value:a};return u?c.jsx(u,{...d,children:n}):c.jsx(nle,{...d,children:n})},[u,t,n,i,s,r,o,l,a])},Qcn={outline:"none"},Jcn=e=>c.jsx(Nln,{...e}),eun=e=>c.jsx(Zcn,{...e}),tun=e=>c.jsx(Xcn,{...e});function nun(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:l,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:x,ariaDescribedBy:b}=e,{isTopLayer:y}=Rc(),w=h.useRef(null),{element:_}=Jf();Ds(h.useCallback(T=>{!y||!o||T.key==="Escape"&&l()},[l,o,y]));const C=h.useCallback(()=>c.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=Gcn(),E=Kcn(v),j=h.useMemo(()=>c.jsx(oke,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:Jcn,renderListItem:tun,renderPlaceholder:C,renderStyle:eun,scrollSelectionIntoView:E,selection:n,style:Qcn,spellCheck:S,"aria-describedby":b}),[t,n,i,a,f,p,m,C,E,S,b]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return c.jsxs(Vcn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&c.jsx(Hcn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(Ncn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:l,readOnly:d})}),c.jsxs(Ucn,{flex:1,tone:d?"transparent":"default",children:[c.jsx(Wcn,{ref:x,children:c.jsx(Ycn,{padding:o?2:0,sizing:"border",width:1,children:c.jsx(qcn,{$isFullscreen:o,tone:d?"transparent":"default",children:c.jsx(gm,{element:o?v:_,children:j})})})}),c.jsx("div",{"data-portal":"",ref:g})]})]})}var rle=Object.freeze,run=Object.defineProperty,EIe=(e,t)=>rle(run(e,"raw",{value:rle(t||e.slice())})),ole,ile;const oun=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(ole||(ole=EIe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),tN(s),r.border.width,nN({base:o,border:s,focusRing:n}))}),iun=O(es)(ile||(ile=EIe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function sun(e){const t=po(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function aun(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=Jrn(),i=po(),s=U0();h.useLayoutEffect(()=>{var a,l,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(yx(n,{scrollMode:"if-needed",block:"start",inline:"start"}),yx(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&_n(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Sl(t[2])?t[2]._key:void 0,x=g&&Array.isArray((l=p.node.value)==null?void 0:l.children)?(u=p.node.value)==null?void 0:u.children.find(_=>_._key===g):void 0,b=x&&x._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||b);let w=[];y?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(_e.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&_e.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function lun(e){const{changed:t,focused:n,focusPath:r=Vn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:l,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:x,readOnly:b,renderAnnotation:y,renderBlock:w,renderBlockActions:_,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=po(),I=Jf().element,[P,M]=h.useState(null),[$,V]=h.useState(null),L=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),U=sun(H),z=A&&_?_:void 0,Y=A&&C?C:void 0,[te,N]=h.useState(null),G=h.useCallback(Ce=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=Ce;return c.jsx(Mon,{floatingBoundary:I,focused:xe,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:x.concat(Ze),readOnly:b,referenceBoundary:$,renderAnnotation:y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:z,renderCustomMarkers:Y,renderPreview:T,renderBlock:w,schemaType:at,selected:rt,value:nt,children:Ae})},[z,Y,$,a,d,f,p,v,I,x,b,y,w,S,E,j,k,T]),q=h.useCallback(Ce=>{const{focused:Ae,path:xe,selected:Ze,schemaType:rt,value:at}=Ce;return c.jsx(xon,{floatingBoundary:I,focused:Ae,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:x.concat(xe),readOnly:b,referenceBoundary:$,relativePath:xe,renderAnnotation:y,renderBlock:w,renderBlockActions:z,renderCustomMarkers:Y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:rt,selected:Ze,value:at})},[I,$,a,d,f,p,v,x,b,y,w,z,Y,S,E,j,k,T]),K=h.useCallback(Ce=>{const{value:Ae}=Ce;return Ae._type===D.schemaTypes.block.name?G(Ce):q(Ce)},[D.schemaTypes.block.name,q,G]),Q=h.useCallback(Ce=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=Ce;return nt._type===D.schemaTypes.span.name?Ae:c.jsx(qon,{floatingBoundary:I,focused:xe,onItemClose:d,onItemOpen:f,onPathFocus:v,path:x.concat(Ze),readOnly:b,referenceBoundary:$,relativePath:Ze,renderAnnotation:y,renderBlock:w,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:rt,value:nt})},[I,$,D.schemaTypes.span.name,d,f,v,x,b,y,w,C,S,E,j,k,T]),X=h.useCallback(Ce=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=Ce;return c.jsx(nin,{editorNodeFocused:xe,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:x.concat(Ze),readOnly:b,referenceBoundary:$,renderAnnotation:y,renderBlock:w,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:rt,value:nt,children:Ae})},[I,$,n,d,f,v,x,b,y,w,C,S,E,j,k,T]),Z=e.elementProps["aria-describedby"],re=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),le=h.useMemo(()=>c.jsx(nun,{ariaDescribedBy:Z,initialSelection:re,hotkeys:U,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:L,path:x,readOnly:b,renderAnnotation:X,renderBlock:K,renderChild:Q,setPortalElement:N,scrollElement:$,setScrollElement:V}),[Z,U,X,K,Q,L,re,s,a,u,f,m,x,b,$]),he=Nj(),ie=h.useMemo(()=>({collapsed:P,default:he.element,editor:te,expanded:he.element}),[he.element,te,P]);aun({focusPath:r,boundaryElement:$,onItemClose:d});const ye=n||o;return c.jsx(C0,{__unstable_elements:ie,children:c.jsx(Mln,{onActivate:l,isOverlayActive:!s,children:c.jsx(ri,{disabled:a,hasFocus:!!n,isChanged:t,path:x,children:c.jsxs(oun,{"data-focused":ye?"":void 0,"data-read-only":b?"":void 0,children:[c.jsx(F,{"data-wrapper":"",ref:M,children:c.jsx(vm,{__unstable_name:a?"expanded":"collapsed",children:a?c.jsx(iun,{children:le}):le})}),c.jsx("div",{"data-border":""})]})})})})}function cun(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?c.jsx(Hc,{suffix:c.jsxs(ne,{padding:2,children:[r.action&&c.jsxs(ln,{columns:[1,2],gap:1,children:[c.jsx(ae,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&c.jsx(ae,{onClick:i,text:r.action,tone:"caution"})]}),c.jsx(F,{padding:3,children:r.action&&c.jsx(B,{as:"p",muted:!0,size:1,children:"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:c.jsx(c.Fragment,{children:"Invalid Portable Text Editor value"}),children:c.jsxs(ne,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:r.description}),c.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(xr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function uun(e){const{path:t}=e,{patchChannel:n}=oi().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const l=a.filter(u=>g4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));l.length&&o({shouldReset:hun(t,a),snapshot:_t(s)?pun(s,t):{},patches:l})}),[t,n])}}function dun(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Bf(e,t):e===t}function g4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!dun(t[n],e[n]))return!1;return!0}function fun(e,t){return e.length===0||g4(t,e)&&!g4(e,t)}function hun(e,t){return t.some(n=>fun(n.path,e)&&(n.type==="set"||n.type==="unset"))}function pun(e,t){return t.reduce((n,r)=>typeof r=="object"?Hke(n,r):Nn(n,r),e)}function mun(e){const{elementProps:t,hotkeys:n,markers:r=Vn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:l,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:x}=e,{onBlur:b}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&_e.focus(w.current)}}));const{subscribe:y}=uun({path:f}),w=h.useRef(null),[_,C]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[P,M]=h.useState(!1),$=Ai(),V=h.useRef([]),L=h.useMemo(()=>new Tr,[]),H=h.useMemo(()=>L.asObservable(),[L]),U=h.useRef(null),z=h.useCallback(()=>{w.current&&k(K=>!K)},[]);h.useEffect(()=>{S&&x!==S.value&&E(null)},[S,x]),h.useEffect(()=>y(K=>{let{patches:Q,snapshot:X}=K;L.next({patches:Q,snapshot:X})}),[L,y]);const Y=h.useMemo(()=>{var K;const Q=[];for(const Z of o)if(Z.kind==="item")if(!kA(Z.item.schemaType))Q.push({kind:"objectBlock",member:Z,node:Z.item});else{(Z.item.validation.length>0||Z.item.changed||(K=Z.item.presence)!=null&&K.length)&&Q.push({kind:"textBlock",member:Z,node:Z.item});const le=Z.item.members.find(ie=>ie.kind==="field"&&ie.name==="children");if(le&&le.kind==="field"&&WB(le))for(const ie of le.field.members)ie.kind==="item"&&ie.item.schemaType.name!=="span"&&Q.push({kind:"inlineObject",member:ie,node:ie.item});const he=Z.item.members.filter(Krn).find(ie=>ie.name==="markDefs");if(he)for(const ie of he.field.members)ie.kind==="item"&&ie.item.schemaType.jsonType==="object"&&Q.push({kind:"annotation",member:ie,node:ie.item})}const X=Q.map(Z=>{const re=Cn(Z.node.path),le=V.current.find(ie=>ie.key===re);let he;return Z.kind!=="textBlock"&&(he=c.jsx(SDe,{absolutePath:Z.node.path,...e})),le?((Z.member.open||le.node.value!==Z.node.value)&&(le.input=he),le.member=Z.member,le.node=Z.node,le):{kind:Z.kind,key:re,member:Z.member,node:Z.node,elementRef:h.createRef(),input:he}});return V.current=X,X},[o,e]);h.useEffect(()=>{P&&A(!0)},[P]);const te=h.useCallback(K=>{switch(K.type){case"mutation":i(sle(K.patches));break;case"connection":K.value==="offline"?I(!0):K.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{K.selection&&d(K.selection.focus.path)});break;case"focus":A(!0),M(!0);break;case"blur":b(K.event),M(!1);break;case"undo":case"redo":i(sle(K.patches));break;case"invalidValue":E(K);break;case"error":$.push({status:K.level,description:K.description});break}},[b,i,d,$]);h.useEffect(()=>{C(!1)},[x]);const N=h.useCallback(()=>{C(!0)},[]),G=h.useMemo(()=>S&&S.resolution?c.jsx(F,{marginBottom:2,children:c.jsx(cun,{onChange:te,onIgnore:N,resolution:S.resolution,readOnly:D||p})}):null,[te,N,S,D,p]),q=h.useCallback(()=>{T||(A(!0),w.current&&_e.focus(w.current))},[T]);return c.jsxs(F,{ref:U,children:[!_&&G,(!S||_)&&c.jsx(Xrn,{markers:r,children:c.jsx(Qrn,{memberItems:Y,children:c.jsx(_e,{ref:w,patches$:H,onChange:te,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:x,children:c.jsx(lun,{...e,hasFocusWithin:P,hotkeys:n,isActive:T,isFullscreen:j,onActivate:q,onItemRemove:a,onCopy:s,onInsert:l,onPaste:u,onToggleFullscreen:z,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function sle(e){return e.map(t=>({...t,patchType:Jp}))}function v4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function gun(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&v4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var ale=Object.freeze,vun=Object.defineProperty,kIe=(e,t)=>ale(vun(e,"raw",{value:ale(t||e.slice())})),lle,cle;const yun=O(ee)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ge(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:v4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:gun({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:v4({color:i.default.disabled.border,width:r.border.width})}}}),bun=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ge(o-i.ascenderHeight),paddingRight:ge(o),paddingBottom:ge(o-i.descenderHeight),paddingLeft:ge(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),xun=O(F)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(lle||(lle=kIe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),wun=O(F)(cle||(cle=kIe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),jIe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...l}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag":"Enter tag and press ENTER"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=lr(t),x=h.useRef(null),b=h.useCallback(E=>{if(Mc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),y=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),_=h.useCallback(E=>{v(!0),o&&o(E)},[o]),C=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),c.jsxs(yun,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:b,overflow:"auto",padding:1,ref:x,children:[p&&c.jsx(xun,{hidden:!!(d||a.length),padding:3,children:c.jsx(B,{textOverflow:"ellipsis",children:u})}),c.jsxs("div",{className:"content",children:[a.map((E,j)=>c.jsx(wun,{children:c.jsx(_un,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),c.jsx("div",{children:c.jsx(bun,{...l,disabled:!p,onBlur:y,onChange:w,onFocus:_,onKeyDown:C,ref:g,type:"text",value:d})},"tag-input")]})]})});jIe.displayName="TagInput";function _un(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return c.jsx(ee,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,padding:1,children:c.jsx(B,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&c.jsx(F,{marginLeft:1,children:c.jsx(ae,{icon:ua,mode:"bleed",onClick:s,padding:1})})]})})}function Cun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=h.useCallback(u=>{t(u.length===0?Qe():pt(u.map(d=>d.value)))},[t]);return c.jsx(ri,{path:i,isChanged:s,hasFocus:!1,children:c.jsx(jIe,{onChange:l,readOnly:n,value:a,...o})})}const Sun={portal:!0,tone:"default"};function TIe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return c.jsx(F,{paddingX:1,children:c.jsx(bA,{dragHandle:n,tone:"caution",menu:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo}),id:"".concat(o,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:r})}),popover:Sun}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(yIe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Eun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(l=>r(l,a))),i=t.length-o.length,s=n.length>1;return c.jsx(c.Fragment,{children:o.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(Jt,{space:2,children:[c.jsx(B,{children:c.jsx(sj,{})}),c.jsxs(B,{children:["Drop to upload"," ",s&&c.jsxs(c.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&c.jsx(F,{marginTop:4,children:c.jsxs(Jt,{space:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(Ef,{})}),c.jsxs(B,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):c.jsxs(Jt,{space:2,children:[c.jsx(B,{children:c.jsx(Ef,{})}),c.jsxs(B,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var ule=Object.freeze,kun=Object.defineProperty,jun=(e,t)=>ule(kun(e,"raw",{value:ule(t||e.slice())})),dle;const Tun=O(es)(dle||(dle=jun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var fle=Object.freeze,Aun=Object.defineProperty,Dun=(e,t)=>fle(Aun(e,"raw",{value:fle(t||e.slice())})),hle;const Iun=O.div(hle||(hle=Dun([`
  position: relative;
`])));function Pun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Oun(e){const t=GDe(e);return oe.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:l,...u}=r,{push:d}=Ai(),f=oe.useCallback((x,b)=>{const{type:y,uploader:w}=b;a==null||a({file:x,schemaType:y,uploader:w})},[a]),p=oe.useCallback(x=>{if(!s)return;const b=x.map(_=>({file:_,uploaderCandidates:Pun(l,s,_)})),y=b.filter(_=>_.uploaderCandidates.length>0),w=b.filter(_=>_.uploaderCandidates.length===0);if(w.length>0){const _=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(_?"s":""," can't be uploaded because there's no known conversion from content type").concat(_?"s":""," to array item:"),description:w.map((C,S)=>c.jsxs(W,{padding:2,children:[c.jsx(F,{marginLeft:1,children:c.jsx(B,{weight:"semibold",children:C.file.name})}),c.jsx(F,{paddingLeft:2,children:c.jsxs(B,{size:1,children:["(",C.file.type,")"]})})]},S))})}y.forEach(_=>{f(_.file,wm(_.uploaderCandidates,C=>C.uploader.priority)[0])})},[d,s,l,f]),[m,v]=oe.useState([]),g=oe.useCallback(()=>v([]),[]);return c.jsx(Iun,{children:c.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&c.jsx(Tun,{zOffset:10,children:c.jsx(Eun,{hoveringFiles:m,types:l,resolveUploader:s})}),i]})})})}const aN=KDe(Oun(ee));function $un(e,t,n){return Run(e,t,r=>r===n)}function Run(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const Mun={portal:!0,tone:"default"},Fun=oe.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:l,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(_=>_.level==="error").length>0,g=d.filter(_=>_.level==="warning").length>0,x=h.useCallback((_,C)=>{s({position:_,items:[GB(C)]})},[s]),b=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo}),id:"".concat(u,"-menuButton"),popover:Mun,menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:a}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:b}),c.jsx(wA,{types:i,onInsert:x})]})});return c.jsx(bA,{tone:y,menu:!l&&w,dragHandle:!l&&r,presence:p.length===0?null:c.jsx(o_,{presence:p,maxAvatars:1}),validation:d.length>0?c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(t1,{validation:d})}):null,children:c.jsx(W,{align:m?"flex-end":"center",ref:n,children:c.jsx(W,{align:"flex-end",flex:1,children:c.jsx(F,{flex:1,marginRight:2,children:f})})})})});function Lun(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=oe.useCallback(d=>{i(o(d))},[o,i]),l=oe.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:"This field is read-only"})}),children:c.jsx(ln,{children:c.jsx(ae,{icon:ea,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ae,{icon:ea,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(ae,{icon:ea,mode:"ghost",text:"Add item"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((d,f)=>{var p,m;const v=_f(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return c.jsx(Me,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}var Bun=Object.defineProperty,Nun=(e,t,n)=>t in e?Bun(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jh=(e,t,n)=>(Nun(e,typeof t!="symbol"?t+"":t,n),n);class AIe extends oe.PureComponent{constructor(t){super(t),jh(this,"_element",null),jh(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)}),jh(this,"handlePrepend",n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)}),jh(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)}),jh(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),jh(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),jh(this,"renderArrayItem",n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return c.jsx(Fun,{...n,sortable:i,insertableTypes:o.of})}),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const u=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:l.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=$un(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const l=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:l,arrayFunctions:u=Lun,path:d,changed:f}=this.props,p=!r&&Nn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return c.jsxs(ne,{space:3,"data-testid":"array-primitives-input",children:[c.jsx(aN,{types:t.of,resolveUploader:a,onUpload:i,...l,tabIndex:0,children:c.jsx(ne,{space:1,children:m.length===0?c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:t.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ee,{padding:1,border:!0,children:c.jsx(BB,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:x,id:b}=v;return c.jsxs(NB,{id:b,sortable:p,disableTransition:this.state.disableTransition,children:[x.kind==="item"&&c.jsx(ri,{path:x.item.path,isChanged:f,hasFocus:!1,children:c.jsx(lrn,{member:x,renderItem:this.renderArrayItem,renderInput:o})}),x.kind==="error"&&c.jsx(TIe,{sortable:p,member:x,onRemove:()=>s(g)})]},x.key)})})})})}),c.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:GB,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var ple=Object.freeze,zun=Object.defineProperty,$A=(e,t)=>ple(zun(e,"raw",{value:ple(t||e.slice())})),mle,gle,vle,yle;const Vun=O(W)(mle||(mle=$A([`
  min-height: 35px;
`]))),Hun=O(W)(gle||(gle=$A([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),y4=O(ee)(vle||(vle=$A([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Uun=O(ee)(yle||(yle=$A([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),y4,y4,LB);function DIe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:l,...u}=e;return c.jsxs(Uun,{forwardedAs:W,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&c.jsx(y4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(JAe,{grid:!0,padding:2,mode:"ghost"})}),o&&c.jsx(Hun,{align:"center",marginX:1,children:o}),c.jsxs(Vun,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(W,{children:t}),c.jsx(F,{children:l}),a]})]})}var ble=Object.freeze,Wun=Object.defineProperty,Yun=(e,t)=>ble(Wun(e,"raw",{value:ble(t||e.slice())})),xle;const qun=O(ee)(xle||(xle=Yun([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function Gun(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Kun={portal:!0,tone:"default"},Zun={position:"absolute",top:0,left:0,bottom:0,right:0};function Xun(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:x,onClose:b,changed:y,focused:w,children:_,inputProps:{renderPreview:C}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);gA(j,m),Pi(w,(Y,te)=>{var N;!Y&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Px()}],position:"after"})},[v,p]),A=h.useCallback((Y,te)=>{v({items:[r1(te)],position:Y})},[v]),D=X0(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(o_,{presence:D,maxAvatars:1}),[D]),P=bB(u,!0),M=h.useMemo(()=>P.length===0?null:c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(t1,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(Y=>Y.level==="error"),V=P.some(Y=>Y.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:f}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:T}),c.jsx(wA,{types:E,onInsert:A})]}),popover:Kun}),[T,A,f,E,e.inputId,d]),H=Gun({readOnly:d,hasErrors:$,hasWarnings:V}),U=c.jsx(DIe,{menu:L,presence:I,validation:M,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:c.jsxs(qun,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:x,ref:j,onFocus:g,__unstable_focusRing:!0,children:[C({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&c.jsx(ee,{as:W,style:Zun,children:c.jsxs(W,{align:"center",justify:"center",gap:1,padding:1,children:[c.jsx(F,{padding:3,children:c.jsx(Vr,{muted:!0})}),c.jsx(B,{muted:!0,size:1,children:"Resolving initial value"})]})})]})}),z=t0(a);return c.jsxs(c.Fragment,{children:[c.jsx(ri,{path:u,isChanged:y,hasFocus:!!w,children:U}),m&&c.jsx(kDe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:b,autofocus:w,legacy_referenceElement:j.current,children:_})]})}var wle=Object.freeze,Qun=Object.defineProperty,Jun=(e,t)=>wle(Qun(e,"raw",{value:wle(t||e.slice())})),_le;const edn=O(ee)(_le||(_le=Jun([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function tdn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=oe.useState(!1),[a,l]=oe.useState(null);zr(()=>s(!1),[a]);const u=oe.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ts(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(edn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsx(F,{children:c.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(Qk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(ne,{space:4,marginTop:2,children:[c.jsx(F,{margin:1,children:c.jsx(B,{align:"center",size:4,children:c.jsx(xl,{})})}),c.jsxs(B,{align:"center",size:1,children:["Items of type ",c.jsx("code",{children:f})," is not valid for this list"]})]})})})}const ndn={portal:!0,tone:"default"};function rdn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ga(),i=h.useCallback(()=>{o(st.from([Qe([{_key:t.key}])]))},[o,t.key]);return c.jsx(DIe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Vo}),id:"".concat(r,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Me,{text:"Remove",tone:"critical",icon:uo,onClick:i})}),popover:ndn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(tdn,{value:t.error.value,vertical:!0}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const odn=[];function idn(e){var t;const{arrayFunctions:n=gB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:x,schemaType:b,value:y=odn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),_=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),C=((t=b.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>c.jsx(Xun,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return c.jsxs(ne,{space:3,children:[c.jsx(aN,{types:b.of,resolveUploader:x,onUpload:l,...r,tabIndex:0,children:c.jsxs(ne,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:b.placeholder||c.jsx(c.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&c.jsx(ee,{border:!0,radius:1,children:c.jsx(BB,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:C,children:o.map(j=>c.jsxs(NB,{sortable:C,id:j.key,flex:1,children:[j.kind==="item"&&c.jsx(qB,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&c.jsx(rdn,{sortable:C,member:j})]},j.key))})})]})}),c.jsx(n,{onChange:i,onItemAppend:_,onItemPrepend:w,onValueCreate:r1,readOnly:u,schemaType:b,value:y})]})}function sdn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const adn=[];function ldn(e){var t;const{arrayFunctions:n=gB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:x,renderPreview:b,resolveUploader:y,schemaType:w,value:_=adn}=e,[C,S]=h.useState(null),{space:E}=Is().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),k=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=sdn(h.useMemo(()=>o.map(G=>G.key),[o]),Bf),{scrollElement:A,containerElement:D}=yrn(),I=h.useRef(null),P=h.useMemo(()=>Pr(u[0])?u[0]._key:u[0],[u]),M=h.useCallback(G=>{const q={...G};if(C!==null&&(q.startIndex=Math.min(G.startIndex,C),q.endIndex=Math.max(G.endIndex,C)),P){const K=T.findIndex(Q=>Q===P);K!==-1&&(q.startIndex=Math.min(q.startIndex,K),q.endIndex=Math.max(q.endIndex,K))}return A_e(q)},[C,P,T]),$=h.useCallback((G,q)=>{if(!G.scrollElement)return;const K=G.scrollElement,Q=()=>{var X,Z,re,le;const he=(Z=(X=D.current)==null?void 0:X.getBoundingClientRect().top)!=null?Z:0,ie=(le=(re=I.current)==null?void 0:re.getBoundingClientRect().top)!=null?le:0,ye=Math.floor(ie-he);q(K.scrollTop-ye)};return Q(),G.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{K.removeEventListener("scroll",Q)}},[D]),V=h.useCallback(()=>53,[]),L=P_e({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:$,rangeExtractor:M,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,q,K)=>{G!==K.scrollOffset&&D_e(G,q,K)}}),H=L.getVirtualItems(),U=h.useCallback(G=>{var q,K;const{active:Q}=G;S((K=(q=Q.data.current)==null?void 0:q.sortable)==null?void 0:K.index)},[]),z=h.useCallback(()=>{S(null)},[]),Y=((t=w.options)==null?void 0:t.sortable)!==!1,te=1,N=1;return c.jsxs(ne,{space:3,ref:I,children:[c.jsx(aN,{types:w.of,resolveUploader:y,onUpload:l,...r,tabIndex:0,children:c.jsx(ne,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:w.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ee,{border:!0,radius:1,style:{height:"".concat(L.getTotalSize()+H.length*E[te]+E[N],"px"),width:"100%",position:"relative"},children:c.jsx(BB,{axis:"y",gap:te,paddingY:N,items:T,onItemMove:a,onItemMoveStart:U,onItemMoveEnd:z,sortable:Y,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(G=>{const q=o[G.index];return c.jsxs(NB,{ref:L.measureElement,sortable:Y,"data-index":G.index,id:q.key,children:[q.kind==="item"&&c.jsx(qB,{member:q,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:x,renderPreview:b}),q.kind==="error"&&c.jsx(TIe,{sortable:Y,member:q,onRemove:()=>e.onItemRemove(q.key)})]},G.key)})})})})}),c.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:r1,readOnly:d,schemaType:w,value:_})]})}function IIe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?c.jsx(idn,{...e}):c.jsx(ldn,{...e})}const cdn=["string","number","boolean"];function udn(e){return e.of.every(t=>cdn.includes(t.jsonType))}function ddn(e){return e.of.length===1&&gc("string",e.of[0])}function fdn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function hdn(e){return e.of.some(t=>gc("block",t))}function pdn(e){var t;return!!((t=e.options)!=null&&t.list)}function mdn(e){return ddn(e)&&fdn(e)?Cun:pdn(e)?bIe:udn(e)?AIe:hdn(e)?mun:IIe}function gdn(e){return sF(e)?e:{title:Sm("".concat(e)),value:e}}const Cle={title:"",value:void 0};function PIe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:l,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var C;return(((C=s.options)==null?void 0:C.list)||[]).map(gdn)},[(t=s.options)==null?void 0:t.list]),m=p.find(C=>C.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(C=>{const S=Number(C);return p[S]},[p]),x=h.useCallback(C=>String(p.indexOf(C)),[p]),b=h.useId(),y=oe.useCallback(C=>{a(st.from(typeof(C==null?void 0:C.value)>"u"?Qe():pt(C.value)))},[a]),w=h.useCallback(C=>{const S=g(C.currentTarget.value);if(!S){y(Cle);return}y(S)},[y,g]),_=v?c.jsx(vdn,{...f,value:m,inputId:b,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):c.jsx(Ff,{...f,customValidity:i,value:x(m),readOnly:o,onChange:w,children:[Cle,...p].map((C,S)=>c.jsx("option",{value:S-1,children:C.title},"".concat(S-1)))});return c.jsx(ri,{path:l,isChanged:u,hasFocus:!!d,children:_})}const vdn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:l,direction:u,inputId:d}=t,f=u==="horizontal"?Jt:ne;return c.jsx(ee,{border:!0,padding:3,radius:1,children:c.jsx(f,{space:3,role:"group",children:r.map((p,m)=>c.jsx(ydn,{customValidity:l,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),ydn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:l,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return c.jsxs(W,{as:"label",align:"center",children:[c.jsx(oXe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:l,customValidity:r,name:o}),c.jsx(F,{marginLeft:2,children:c.jsx(B,{size:1,weight:"semibold",children:i.title})})]})});function OIe(e){const{validationError:t,elementProps:n}=e;return c.jsx(Zr,{...n,customValidity:t,"data-testid":"string-input"})}function bdn(e){return jDe(e,"list")?PIe:OIe}const xdn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function OS(e,t){for(const n of xdn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function $Ie(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=OS(t,"min"),i=OS(t,"integer"),s=OS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,l=i||(s==null?void 0:s.constraint)===0,u=a?l?"numeric":"decimal":"text";return c.jsx(Zr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function wdn(e){return jDe(e,"list")?PIe:$Ie}var Sle=Object.freeze,_dn=Object.defineProperty,RIe=(e,t)=>Sle(_dn(e,"raw",{value:Sle(t||e.slice())})),Ele,kle;const Cdn=O(F)(Ele||(Ele=RIe([`
  align-self: center;
`]))),Sdn=O(F)(kle||(kle=RIe([`
  line-height: 0;
`])));function Edn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,l=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?Bj:Rxe,p=i?"transparent":void 0;return c.jsx(ee,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:c.jsxs(W,{children:[c.jsx(Sdn,{padding:3,children:c.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),c.jsx(F,{flex:1,paddingY:3,children:c.jsx(ZAe,{description:o.description,inputId:n,validation:a,title:o.title})}),c.jsx(Cdn,{paddingX:3,paddingY:1,children:c.jsx(htn,{maxAvatars:1,position:"top"})})]})})}function kdn(e){const{validationError:t,elementProps:n}=e;return c.jsx(Zr,{...n,type:"email",inputMode:"email",customValidity:t})}function jdn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Qe([a]))},[n]);return c.jsxs(Hc,{status:"warning",title:c.jsxs(c.Fragment,{children:[i===1&&c.jsx(c.Fragment,{children:"Unknown field found"}),i>1&&c.jsx(c.Fragment,{children:"Unknown fields found"})]}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"Encountered a field that is not defined in the schema."}):c.jsxs(c.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),c.jsxs($m,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:[c.jsx(F,{marginBottom:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):c.jsx(c.Fragment,{children:"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),c.jsx(ne,{as:"ul",space:3,children:t.map(a=>c.jsx(Tdn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Tdn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return c.jsx(ee,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:c.jsxs(ne,{space:2,children:[c.jsxs(ee,{border:!0,radius:1,children:[c.jsx(ee,{borderBottom:!0,padding:3,children:c.jsx(xr,{weight:"medium",children:t})}),c.jsx(F,{overflow:"auto",padding:3,children:c.jsx(xr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["This field is ",c.jsx("strong",{children:"read only"})," according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",c.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&c.jsx(ae,{icon:uo,onClick:i,tone:"critical",text:c.jsx(c.Fragment,{children:"Remove field"})})]})})}var jle=Object.freeze,Adn=Object.defineProperty,Ddn=(e,t)=>jle(Adn(e,"raw",{value:jle(t||e.slice())})),Tle;const Idn=O(ee)(Tle||(Tle=Ddn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Pdn=h.forwardRef(function(t,n){const{onClick:r}=t,o=oe.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return c.jsx(Yxe,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Odn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return c.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Ale=Object.freeze,$dn=Object.defineProperty,Rdn=(e,t)=>Ale($dn(e,"raw",{value:Ale(t||e.slice())})),Dle;const Mdn=O(bZe)(Dle||(Dle=Rdn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Fdn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return c.jsx(qxe,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>c.jsx(Pdn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},Ldn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(l=>{o(l.currentTarget.value)},[o]);return c.jsx(Ff,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(l=>l.selected))==null?void 0:s.name,children:n.map(l=>c.jsx(Odn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:l.disabled,name:l.name,selected:!!l.selected,title:l.title||l.name},"".concat(r,"-").concat(l.name,"-tab")))})},Bdn=oe.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return c.jsxs(Mdn,{"data-testid":"field-group-root",children:[c.jsx(Fdn,{...o,disabled:n,onClick:i}),c.jsx(Ldn,{...o,disabled:n,onSelect:i})]})}),Ile=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:l,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:x}=t,{columns:b}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const _=n.fields.map(S=>S.name),C=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!_.includes(S));return C.length===0?null:c.jsx(jdn,{fieldNames:C,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>c.jsx(mrn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:l,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,l,u,f,p]);return o.length===0?null:c.jsxs(ne,{space:5,children:[r.length>0?c.jsx(Idn,{$level:m,"data-testid":"field-groups",children:c.jsx(Bdn,{groups:r,inputId:g,onClick:x,shouldAutoFocus:!1})}):null,b?c.jsx(ln,{columns:b,gap:4,marginTop:1,children:w()}):w(),y]})});function Ndn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return c.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:c.jsx(ee,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:c.jsx(B,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const zdn=["January","February","March","April","May","June","July","August","September","October","November","December"],Vdn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hdn=c7(0,24),Udn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wdn=[1,2,3,4,5,6],Ydn=e=>{const t=CSe(e);return _Se({start:t,end:ESe(t)})},qdn=e=>e.map(t=>[t,...Wdn.map(n=>zi(t,n))]),Gdn=e=>qdn(Ydn(e)).map(t=>({number:SSe(t[0]),days:t}));function Kdn(e){return c.jsx(F,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Vdn.map(t=>c.jsx(F,{paddingY:2,children:c.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),Gdn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Ld(r,e.focused),s=e.selected&&Ld(r,e.selected),a=Ld(r,new Date),l=e.focused&&ISe(r,e.focused);return c.jsx(Ndn,{date:r,focused:i,isCurrentMonth:l,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Ple={dayPresets:!1,timePresets:!1},MIe=oe.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[l,u]=oe.useState(),d=oe.useCallback(v=>{u(v.currentTarget.value)},[]),f=oe.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=oe.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=oe.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return c.jsx(Zr,{...a,"data-testid":"date-input",ref:n,value:l===void 0?s:l,onChange:d,onBlur:p,onKeyPress:m})}),Zdn=e=>{let{onChange:t,...n}=e;const r=oe.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return c.jsx(MIe,{...n,onChange:r,inputMode:"numeric"})},Xdn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Qdn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:l,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(tEt(OSe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(z8(s,S)),[s,d]),v=h.useCallback(S=>d(nEt(s,S)),[s,d]),g=h.useCallback(S=>{l(rS(sP(S,i.getHours()),i.getMinutes()))},[l,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(rS(i,E))},[l,i]),b=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(sP(i,E))},[l,i]);h.useCallback((S,E)=>{l(sP(rS(i,E),S))},[l,i]);const y=lr(n),w=h.useCallback(()=>{var S,E;(E=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[y]),_=h.useCallback(S=>{var E,j;if(Udn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(zi(s,-7)),S.key==="ArrowDown"&&o(zi(s,7)),S.key==="ArrowLeft"&&o(zi(s,-1)),S.key==="ArrowRight"&&o(zi(s,1)),(j=(E=y.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>g(zi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(zi(new Date,1)),[g]);const C=h.useCallback(()=>l(new Date),[l]);return c.jsxs(F,{"data-ui":"Calendar",...u,ref:y,children:[c.jsxs(F,{padding:2,children:[Ple.dayPresets,c.jsxs(W,{children:[c.jsx(F,{flex:1,children:c.jsx(Jdn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),c.jsx(F,{marginLeft:2,children:c.jsx(efn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),c.jsxs(F,{"data-calendar-grid":!0,onKeyDown:_,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(Kdn,{date:s,focused:s,onSelect:g,selected:i}),Xdn]})]}),r&&c.jsxs(F,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(W,{align:"center",children:[c.jsxs(W,{align:"center",flex:1,children:[c.jsx(F,{children:c.jsx(Ff,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:b,children:Hdn.map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),c.jsx(F,{paddingX:1,children:c.jsx(B,{children:":"})}),c.jsx(F,{children:c.jsx(Ff,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:x,children:c7(0,60,a).map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),c.jsx(F,{marginLeft:2,children:c.jsx(ae,{text:"Set to current time",mode:"bleed",onClick:C})})]}),Ple.timePresets]})]})});function Jdn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return c.jsxs(W,{flex:1,children:[c.jsx(ae,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:ej,paddingX:2,radius:0}),c.jsx(F,{flex:1,children:c.jsx(Ff,{radius:0,value:r,onChange:n,children:zdn.map((s,a)=>c.jsx("option",{value:a,children:s},a))})}),c.jsx(ae,{"aria-label":"Go to next month",mode:"bleed",icon:Qu,onClick:i,paddingX:2,radius:0})]})}function efn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return c.jsxs(W,{children:[c.jsx(ae,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:ej,paddingX:2,radius:0}),c.jsx(Zdn,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(ae,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Qu,paddingX:2,radius:0})]})}const tfn=oe.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=oe.useState(),l=oe.useCallback(u=>{o(u),a(void 0)},[o]);return c.jsx(Qdn,{...i,ref:n,selectedDate:r,onSelect:l,focusedDate:s||r,onFocusedDateChange:a})}),nfn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:l,...u}=t,[d,f]=h.useState(null),p=lr(n),m=h.useRef(null),[v,g]=h.useState(!1);zr(()=>g(!1),[d]);const x=h.useCallback(()=>{var _,C;(_=p.current)==null||_.focus(),(C=p.current)==null||C.select()},[p]),b=h.useCallback(_=>{_.key==="Escape"&&g(!1)},[]),y=h.useCallback(()=>g(!0),[]),w=c.jsx(F,{padding:1,children:c.jsx(ae,{ref:m,icon:_g,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(MIe,{ref:p,...u,value:o,onChange:i,suffix:v?c.jsx(Mf,{zOffset:1e3,children:c.jsx(hn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(F,{overflow:"auto",children:c.jsx(od,{onDeactivation:x,children:c.jsx(tfn,{selectTime:a,timeStep:l,onKeyUp:b,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),rfn=new Date,FIe=oe.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:l,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,x]=oe.useState(null);h.useEffect(()=>{x(null)},[m]);const b=oe.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&x(null)):j.isValid?s(f(j.date)):x(E)},[a,s,m,g,f]),y=oe.useCallback(S=>{s(S?f(S):null)},[f,s]),w=lr(n),_=g?a(g):m?o(m):null,C=g||(_!=null&&_.isValid?i(_.date):m);return u?c.jsx(Zr,{value:C,readOnly:!0}):c.jsx(nfn,{...v,id:r,selectTime:d,timeStep:p,placeholder:l||"e.g. ".concat(i(rfn)),ref:w,value:_==null?void 0:_.date,inputValue:C||"",readOnly:!!u,onInputChange:b,onChange:y,customValidity:_==null?void 0:_.error})});function ofn(e){return e instanceof Date&&!isNaN(e.valueOf())}const ifn="YYYY-MM-DD",sfn="HH:mm";function afn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||ifn,timeFormat:e.timeFormat||sfn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function b4(e){return e.toISOString()}function lfn(e){const t=new Date(e);return ofn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function cfn(e,t){if(!t||t===1)return e;const n=L5t(e),r=MSt(n),o=r%t;return b4(o!==0?rS(n,r-o):n)}function ufn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=afn(n.options),l=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=cfn(p,a)),t(p===null?Qe():pt(p))},[t,a]),u=oe.useCallback(f=>FT(f,"".concat(i," ").concat(s)),[i,s]),d=oe.useCallback(f=>C9(f,"".concat(i," ").concat(s)),[i,s]);return c.jsx(FIe,{...o,onChange:l,deserialize:lfn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:b4,timeStep:a,value:r})}const lN="YYYY-MM-DD",dfn=lN;function ffn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||dfn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const hfn=e=>C9(e,lN),pfn=e=>FT(e,lN);function mfn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=ffn(r.options),a=h.useCallback(d=>{n(d===null?Qe():pt(d))},[n]),l=h.useCallback(d=>FT(d,s),[s]),u=h.useCallback(d=>C9(d,s),[s]);return c.jsx(FIe,{...o,deserialize:hfn,formatInputValue:l,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:pfn,value:i})}var Ole=Object.freeze,gfn=Object.defineProperty,vfn=(e,t)=>Ole(gfn(e,"raw",{value:Ole(t||e.slice())})),$le;const yfn=O(Mxe)($le||($le=vfn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function bfn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return c.jsx(yfn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function xfn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=OS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return c.jsx(Zr,{type:a,inputMode:"url",customValidity:o,...i})}const wfn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?Wke(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function _fn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||wfn)(e,t,n)}function Cfn(e,t){const[n,r]=oe.useState(null),o=oe.useRef(0),i=oe.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(l=>{a===o.current&&r({status:"complete",result:l})},l=>{a===o.current&&r({status:"error",error:l})})},[e,...t]);return[n,i]}function Sfn(){const{getClient:e}=ur(),t=dr(),n=si(),r=KPe(),o=GPe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function Efn(e,t,n){const r=e.slice(0,-1),o=d0(t,r);return{parentPath:r,parent:o,...n}}async function kfn(e,t,n){return typeof e=="function"?e(t,n):d0(t,e)}function jfn(e){var t;const{getDocument:n}=oi().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:l,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=Sfn(),m=h.useCallback(y=>{if(!y){a(st.from(Qe([])));return}a(st.from([Gi({_type:i.name}),pt(y,["current"])]))},[a,i.name]),[v,g]=Cfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=Efn(r,y,p);return kfn(d,y,w).then(_=>_fn(_||"",i,w)).then(_=>m(_))},[d,n,i,r,p,m]),x=(v==null?void 0:v.status)==="pending",b=oe.useCallback(y=>m(y.currentTarget.value),[m]);return c.jsx(ne,{space:3,children:c.jsxs(W,{children:[c.jsxs(F,{flex:1,children:[c.jsx(Zr,{customValidity:f.length>0?f[0].message:"",disabled:x,onChange:b,value:(o==null?void 0:o.current)||"",readOnly:l,...u}),(v==null?void 0:v.status)==="error"&&c.jsx(ee,{padding:2,tone:"critical",children:v.error.message})]}),d&&c.jsx(F,{marginLeft:1,children:c.jsx(ae,{mode:"ghost",type:"button",disabled:l||x,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating":"Generate"})})]})})}function Tfn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?c.jsx(bIe,{...e}):wln(e)?c.jsx(AIe,{...e}):c.jsx(IIe,{...e})}const Rle={document:Ile,object:Ile,array:Tfn,boolean:Edn,number:$Ie,text:bfn,email:kdn,datetime:ufn,date:mfn,url:xfn,image:wan,file:osn,string:OIe,slug:jfn,crossDatasetReference:Yan};function Afn(e){if(gc("array",e))return mdn(e);if(gc("reference",e))return bln;if(gc("string",e))return bdn(e);if(gc("number",e))return wdn(e)}function Dfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Afn(e);if(n)return n;const o=KB(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Rle[s.name]);if(i)return Rle[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Ifn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:Xw}function Rm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...l}=i.schemaType,u=t(l);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Pfn(e){return Rm({componentProps:e,componentResolver:Dfn})}function Ofn(e){return Rm({componentProps:e,componentResolver:Lrn})}function $fn(e){return Rm({componentProps:e,componentResolver:Ern})}function Rfn(e){return Rm({componentProps:e,componentResolver:Ifn})}function Mfn(e){return Rm({componentProps:e,componentResolver:rin})}function Ffn(e){return Rm({componentProps:e,componentResolver:oin})}function Lfn(e){return Rm({componentProps:e,componentResolver:iin})}function Bfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Nfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function zfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Vfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Hfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function Ufn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Wfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function Yfn(){return Bl({defaultComponent:Pfn,pick:Bfn})}function qfn(){return Bl({defaultComponent:Ofn,pick:Nfn})}function LIe(){return Bl({defaultComponent:Rfn,pick:zfn})}function Gfn(){return Bl({defaultComponent:$fn,pick:Vfn})}function Kfn(){return Bl({defaultComponent:Mfn,pick:Hfn})}function Zfn(){return Bl({defaultComponent:Ffn,pick:Ufn})}function Xfn(){return Bl({defaultComponent:Lfn,pick:Wfn})}function a_(e){const t=LIe();return c.jsx(UTe,{...e,component:t})}const Qfn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?c.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?c.jsxs(c.Fragment,{children:[c.jsx(ee,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsxs(B,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>c.jsx(Jfn,{document:a},a._id))]}):c.jsxs(B,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},Jfn=e=>{let{document:t}=e;const n=dr(),r=h.useCallback(o=>c.jsx(_m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return c.jsx(ee,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(W,{align:"center",gap:2,children:c.jsx(a_,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Mle={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Fle={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Lle={height:"100%"},ehn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?c.jsxs(c.Fragment,{children:["The ",n," ",c.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?c.jsx(ee,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(ln,{columns:3,gap:[2,3,4],children:[c.jsxs(W,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[c.jsx(B,{children:c.jsx(Xr,{})}),c.jsxs(B,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&c.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Fle,children:c.jsx(W,{align:"center",justify:"center",style:Lle,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Mle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(ee,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(ln,{columns:3,gap:3,children:[c.jsx(W,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:c.jsxs(B,{children:["You are about to delete the ",n,t.originalFilename&&c.jsxs(c.Fragment,{children:[" ",c.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",c.jsx("br",{}),c.jsx("br",{}),"Are you sure?"]})}),o&&c.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Fle,children:c.jsx(W,{align:"center",justify:"center",style:Lle,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Mle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},FO="confirmDelete",LO="listUsage";function x4(e){let{asset:t,assetType:n="image",mode:r=LO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:l}=mGt(t._id),d=r===LO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,x]=h.useState([]),b=r===FO,y=g.length>0,w=r===LO||y,_=r===FO&&!y,C=b?c.jsxs(ln,{padding:2,gap:2,columns:2,children:[c.jsx(ae,{mode:"bleed",text:"Cancel",onClick:i}),c.jsx(ae,{text:"Delete",tone:"critical",icon:uo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=l.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=l.filter(j=>!S.includes(j._id));x(E),p(E.length===0&&!a),v(a)},[a,l]),c.jsxs(pa,{__unstable_autoFocus:!m,footer:C,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&c.jsx(F,{padding:4,children:c.jsx(pGt,{text:"Loading..."})}),!m&&c.jsxs(ne,{paddingX:_?0:[2,3,4],paddingY:_?0:[3,3,3,4],space:1,children:[r===FO&&c.jsx(ehn,{asset:t,assetType:n,hasResults:y}),w&&c.jsx(Qfn,{asset:t,referringDocuments:g,assetType:n})]})]})}function BIe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:n?"ghost":o,icon:Vo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Show uses",icon:kf,onClick:()=>{r({type:"showUsage"})}}),c.jsx(Me,{text:"Delete",icon:uo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var Ble=Object.freeze,thn=Object.defineProperty,RA=(e,t)=>Ble(thn(e,"raw",{value:Ble(t||e.slice())})),Nle,zle,Vle,Hle;const nhn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),rhn=O.img(Nle||(Nle=RA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),ohn=O(ee)(zle||(zle=RA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),w4=O.div(Vle||(Vle=RA([`
  position: relative;
  display: inherit;
`]))),ihn=O.div(Hle||(Hle=RA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),w4,w4),shn=oe.memo(function(t){const n=Cr(gn),r=Ai(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:l,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const x=h.useCallback(()=>{m(!0)},[m]),b=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),_=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),C=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),l(i._id),m(!1),_()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,_,l,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&x(),D.type==="showUsage"&&y()},[x,y]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,nhn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return c.jsxs(w4,{children:[c.jsx(ae,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(ohn,{__unstable_checkered:!0,children:[c.jsx(rhn,{alt:E,src:A,onClick:s,"data-id":j}),v&&c.jsx(hGt,{})]})}),c.jsx(ihn,{children:c.jsx(BIe,{isSelected:u,onAction:S})}),(d||p)&&c.jsx(x4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:b,onDelete:C,isDeleting:v})]})}),ahn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],lhn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],chn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],uhn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Ule=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function dhn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const l=t?n?uhn:chn:n?lhn:ahn;if(r&&a===0)return" 0 ".concat(l[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=Ule(a,s,f);return"".concat(d+g," ").concat(l[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),l.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Ule(Number(a),s,f),v=l[p];return"".concat(d+m," ").concat(v)}const BO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function fhn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function hhn(e){return BO!=null&&BO[e]?BO[e].title:fhn(e)}var Wle=Object.freeze,phn=Object.defineProperty,Tu=(e,t)=>Wle(phn(e,"raw",{value:Wle(t||e.slice())})),Yle,qle,Gle,Kle,Zle,Xle,Qle,Jle,ece;const _4=O.span(Yle||(Yle=Tu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),xg=O(W)(qle||(qle=Tu([""]))),mhn=O(B)(Gle||(Gle=Tu([""]))),ghn=O(ee)(Zle||(Zle=Tu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),mhn,e=>e.isSelected&&de(Kle||(Kle=Tu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),tce=O(ae)(Jle||(Jle=Tu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(Xle||(Xle=Tu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),_4,xg),e=>!e.isSelected&&de(Qle||(Qle=Tu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),vhn=O(B)(ece||(ece=Tu([`
  overflow-wrap: anywhere;
`]))),nce={position:"relative"},rce={flexShrink:0},NO={minWidth:0},oce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},yhn="Cannot delete current file",bhn=e=>{const t=Cr(gn),n=Ai(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:x,isMobile:b}=e,{originalFilename:y,_id:w,mimeType:_,size:C,_createdAt:S}=p,E=Uf(S,{agoSuffix:!0}),j=hhn(_),k=dhn(C),T=(y||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},M=()=>{i(!1),a(!1)},$=()=>{i(!0)},V=()=>{f(!d)},L=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&$()};return b?c.jsxs(ee,{paddingBottom:2,style:nce,children:[c.jsxs(ln,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(tce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:c.jsxs(W,{gap:2,flex:2,align:"center",children:[c.jsx(ee,{as:_4,padding:2,tone:"transparent",radius:2,children:c.jsx(B,{muted:!0,size:2,style:rce,children:c.jsx(Rp,{})})}),c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:NO,children:y})]})}),c.jsx(W,{justify:"flex-end",align:"center",paddingRight:1,style:oce,children:c.jsx(ae,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?pve:Rl})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(ln,{marginTop:3,columns:3,gap:1,children:[c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Size"}),c.jsx(B,{size:1,muted:!0,children:k})]}),c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Type"}),c.jsx(B,{size:1,muted:!0,children:j})]}),c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Date added"}),c.jsx(B,{size:1,muted:!0,children:E})]})]}),c.jsxs(ne,{space:2,marginTop:3,children:[c.jsx(ae,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:$,icon:kf}),c.jsx(ae,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:uo,disabled:x,title:x?yhn:"Delete file",onClick:A})]})]}),(o||s)&&c.jsx(x4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:M,onDelete:P,isDeleting:l})]}):c.jsxs(ghn,{asset:p,paddingBottom:1,style:nce,radius:0,overflow:"hidden",isSelected:x,"aria-selected":"true",children:[c.jsxs(ln,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(tce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(y),isSelected:x,children:c.jsxs(xg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(y),children:[c.jsx(ee,{as:_4,padding:2,tone:"transparent",radius:2,style:rce,children:c.jsx(B,{muted:!0,size:2,children:c.jsx(Rp,{})})}),T&&c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:NO,children:y})}),!T&&c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:NO,children:y})]})}),c.jsx(xg,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:k})}),c.jsx(xg,{align:"center",children:c.jsx(F,{children:c.jsx(vhn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),c.jsx(xg,{align:"center",children:c.jsx(B,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),c.jsx(xg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:oce,children:c.jsx(BIe,{border:!1,isSelected:!1,onAction:L})})]}),(o||s)&&c.jsx(x4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:M,onDelete:P,isDeleting:l})]})},xhn={paddingLeft:"2.2rem"},ice={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function whn(e){const n=mm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:l}=e;return c.jsxs(F,{padding:4,children:[c.jsx(ee,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?c.jsx(ln,{style:ice,children:c.jsx(F,{flex:2,paddingLeft:5,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})})}):c.jsxs(ln,{gap:1,style:ice,children:[c.jsx(F,{flex:2,style:xhn,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Size"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Type"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Date added"})})]})}),c.jsxs(ne,{children:[l&&r.length===0&&c.jsx(F,{paddingTop:4,paddingBottom:2,children:c.jsx(W,{justify:"center",children:c.jsx(Vr,{muted:!0})})}),r.map(u=>c.jsx(bhn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var sce=Object.freeze,_hn=Object.defineProperty,NIe=(e,t)=>sce(_hn(e,"raw",{value:sce(t||e.slice())})),ace,lce;const $S=200,zIe="sanity.imageAsset",Chn="sanity.fileAsset",Shn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Ehn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$S,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zIe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?Shn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},khn=O(ln)(ace||(ace=NIe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),jhn=O(ee)(lce||(lce=NIe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Thn=function(t,n){const r=Cr(gn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(xSe())),s=h.useRef(0),a=h.useRef(),[l,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:x,assetType:b="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:_,accept:C}=t,S=C?C.split(",").map(L=>L.trim()).join(", "):"",E=!v&&C&&C.length>0,j=C&&C==="image/*"&&b==="image",k=h.useCallback(L=>{const H=L*$S,U=H+$S,z=b==="image",Y=z?"asset.image-list":"asset.file-list",te=z?zIe:Chn;g(!0),typeof C<"u"&&(a.current=o.observable.fetch(Ehn(H,U,te,C),{},{tag:Y}).subscribe(N=>{f(N.length<$S),u(G=>G.concat(N)),g(!1)}))},[b,C,o]),T=h.useCallback(L=>{u(H=>H.filter(U=>U._id!==L))},[u]),A=h.useCallback(L=>{l.find(U=>U._id===L)&&_([{kind:"assetDocumentId",value:L}])},[l,_]),D=h.useCallback(L=>{L.preventDefault(),A(L.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(L=>{L.key==="Enter"&&(L.preventDefault(),A(L.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),M=h.useCallback(L=>{L.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const $=h.useMemo(()=>c.jsxs(F,{padding:4,children:[c.jsx(khn,{gap:2,children:l.map(L=>c.jsx(shn,{asset:L,isSelected:x.some(H=>H._id===L._id),onClick:D,onKeyPress:I,onDeleteFinished:T},L._id))}),v&&l.length===0&&c.jsx(W,{justify:"center",children:c.jsx(Vr,{muted:!0})}),!v&&l.length===0&&c.jsx(B,{align:"center",muted:!0,children:"No images"})]}),[l,T,D,I,v,x]),V=h.useMemo(()=>c.jsx(whn,{isLoading:v,assets:l,selectedAssets:x,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,l,x,D,I,T]);return c.jsxs(pa,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[E&&!j&&c.jsx(ee,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:c.jsxs(W,{gap:[3,4],align:"center",children:[c.jsx(B,{children:c.jsx(lm,{})}),c.jsxs(B,{size:1,children:["Only showing assets of accepted types: ",c.jsx("b",{children:S})]})]})}),b==="image"&&$,b==="file"&&V,l.length>0&&!d&&c.jsx(jhn,{tone:"default",padding:4,children:c.jsx(W,{direction:"column",children:c.jsx(ae,{type:"button",icon:SF,loading:v,onClick:M,text:"Load more",tone:"primary"})})})]})},VIe=oe.memo(oe.forwardRef(Thn)),HIe={name:"sanity-default",title:"Uploaded files",component:VIe,icon:CF},UIe={name:"sanity-default",title:"Uploaded images",component:VIe,icon:El};function Ahn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function dh(e,t){return e[t]}function Dhn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Ihn=[{fieldPath:"_updatedAt",icon:_g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:_g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:kf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Ny,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ny,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ny,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:Jk,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:_g,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:_g,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:lg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Rp,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:El,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:Dve,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:dve,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:kf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:lg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:lg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Ml,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:lg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:lg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Phn(e){let{documentId:t,schemaType:n}=e;const r=Os(),{draft:o,published:i,isLoading:s}=Ao(()=>uA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),l=dB({draft:o,published:i,value:a});return s?c.jsx(k0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||t.slice(0,8)})}const yk="yyyy-MM-dd";function Ohn(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t?"True":"False"})}function cce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:c.jsx(c.Fragment,{children:Zo(n,yk)})}function uce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:c.jsx(c.Fragment,{children:Zo(n,yk)})}function $hn(e){let{value:t}=e;var n;return c.jsxs(c.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function dce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Bu(r)||!Bu(n)?null:c.jsxs(c.Fragment,{children:[Zo(n,yk),"  ",Zo(r,yk)]})}function og(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}function ig(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t," ",Br("item",t)]})}function Rhn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min,"  ",t.max]})}function Mhn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min,"  ",t.max," items"]})}function pl(e){let{value:t}=e;const n=dr(),r=t._ref,o=n.get(t._type);return o?c.jsx(Phn,{documentId:r,schemaType:o}):null}function xi(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}const WIe=h.createContext(void 0);function Ot(){const e=h.useContext(WIe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Aa(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Ot(),s=h.useCallback(a=>{o(a.currentTarget.value);const l=parseFloat(a.currentTarget.value);n(Number.isFinite(l)?l:null)},[n]);return c.jsx(Zr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function YIe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,l]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Ot(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;l(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return c.jsxs(W,{gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(Zr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),c.jsx(F,{flex:1,children:c.jsx(Zr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function MA(e,t){const n=t.split("."),r=n[0];if(r&&Ka(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?MA(o.type,i):o}}}var fce=Object.freeze,Fhn=Object.defineProperty,qIe=(e,t)=>fce(Fhn(e,"raw",{value:fce(t||e.slice())})),hce,pce;const Lhn=O(F)(hce||(hce=qIe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),Bhn=O(Nt)(pce||(pce=qIe([`
  max-width: 150px;
`])));function Nhn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Os(),{draft:i,published:s,isLoading:a}=Ao(()=>uA(o,r,t,""),[t,o,r]),l=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:c.jsxs(Jt,{space:3,children:[n&&n.length>0&&c.jsx($B,{presence:n}),c.jsx(Bhn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return c.jsx(Lhn,{children:c.jsx(Xw,{...dB({draft:i,published:s,value:l}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function cN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const l=dr().get(o),u=PN(r),d=h.useMemo(()=>({id:r,type:l==null?void 0:l.name}),[r,l==null?void 0:l.name]),{onClick:f,href:p}=Cw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return l?c.jsx(F,{...s,children:c.jsx(yv,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:c.jsx(Nhn,{documentId:r,presence:u,schemaType:l})})}):null}const zhn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Vhn="_debug_search_score",GIe=!1,mce=1e3,KIe="k",Hhn=zhn?"Cmd":"Ctrl",Rx=Rf.space[1],Uhn=735,ZIe=800,l_=5,i1=2;function FA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function Whn(e,t){return LA(e).filter(n=>Yhn(n,t)).sort(C4)}function LA(e){return CKt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function C4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function Yhn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const qhn=300,zO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function Ghn(e){return e!==null}function Khn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function XIe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,l]=h.useState(n),u=Cr(gn),d=h.useMemo(()=>pB(LA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=LL(m=>m.pipe(ct(Ghn),ce(Khn),Kn(Yt),Awe(v=>Ei((v==null?void 0:v.debounceTime)||qhn)),Wn(i),tt(v=>fo(be({...zO,loading:!0,options:v.options,terms:v.terms}),jet(()=>FA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ce(g=>({hits:g})),Wn(g=>{let{hits:x}=g;return r==null?void 0:r(x)}),Xn(g=>(o==null||o(g),be({...zO,error:g,loading:!1,options:v.options,terms:v.terms})))),be(Gn).pipe(Wn(()=>r==null?void 0:r([])))),be({loading:!1}))),Wa((v,g)=>({...v,...g}),zO),Wn(l)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const Zhn=40;function uN(e){let{availableCharacters:t=Zhn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,l){const u=gce(a);return i-=u.length,(l===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(gce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function gce(e){var t;return(t=e.title)!=null?t:e.name}var vce=Object.freeze,Xhn=Object.defineProperty,Qhn=(e,t)=>vce(Xhn(e,"raw",{value:vce(t||e.slice())})),yce;const Jhn=()=>!0,epn=O(B)(yce||(yce=Qhn([`
  word-break: break-word;
`]))),tpn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=dr(),{state:{fullscreen:l}}=Ot(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=XIe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:_=>{f(_.map(C=>({hit:C,value:C.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(_=>{p(_?{options:{limit:100},terms:{query:_||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),x=h.useCallback(_=>{var C;const S=(C=d.find(E=>E.value===_))==null?void 0:C.hit.hit;S&&(r==null||r({_ref:Zn(S._id),_type:S._type}))},[d,r]),b=h.useMemo(()=>{const _=uN({types:o});return o.length>0?"Search for ".concat(_):"Search all documents"},[o]),y=h.useCallback(_=>{const C=_.hit.hit._type;return c.jsx(cN,{compact:!0,disableIntentLink:!0,documentId:_.value,documentType:C})},[]),w=h.useCallback((_,C)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=_,T=d&&d.length>0;return c.jsx(hn,{arrow:!1,constrainSize:!0,content:c.jsx("div",{ref:C,children:T?S:m.terms.query&&c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(epn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",m.terms.query,""]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:i1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return c.jsx("div",{ref:s,children:c.jsx(wL,{"aria-label":b,filterOption:Jhn,fontSize:l?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:x,placeholder:b,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function Cb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Ot(),a=dr(),l=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=MA(m,t.fieldPath);if(Ol(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(_f).flatMap(g=>g.to);if(_f(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>l(null),[l]),f=h.useCallback(()=>{o==null||o()},[o]);return c.jsx(F,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?c.jsxs(ne,{space:3,children:[c.jsx(ee,{padding:1,radius:1,shadow:1,children:c.jsx(cN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),c.jsx(ae,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):c.jsx(tpn,{onSelect:l,types:u,value:r})})}function npn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return c.jsx(Me,{onClick:i,padding:3,pressed:n,tone:"default",children:c.jsx(W,{align:"center",justify:"space-between",gap:3,children:c.jsxs(ne,{paddingRight:2,space:2,children:[c.jsx(B,{size:1,weight:"regular",children:r}),o&&c.jsx(xr,{muted:!0,size:0,children:o})]})})})}function bk(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=MA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(ho).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>rpn(p))).filter(ho).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:co([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),l=h.useCallback(u=>{n(u)},[n]);return c.jsx(rn,{button:c.jsx(ae,{mode:"ghost",padding:3,children:c.jsxs(W,{align:"center",gap:2,justify:"space-between",children:[c.jsx(B,{size:1,weight:"regular",children:r||"Select..."}),c.jsx(F,{marginLeft:1,children:c.jsx(B,{size:1,children:c.jsx(Ml,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>c.jsx(npn,{onClick:l,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function rpn(e){return sF(e)?e:{title:Sm("".concat(e)),value:e}}const QIe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),JIe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),ePe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),tPe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Ke(e){return JSON.stringify(e)}const opn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Ke(n)):null},icon:JIe,initialValue:null,inputComponent:Aa,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Ke(n)):null},icon:QIe,initialValue:null,inputComponent:Aa,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Ke(n)):null},icon:tPe,initialValue:null,inputComponent:Aa,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Ke(n)):null},icon:ePe,initialValue:null,inputComponent:Aa,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:Mhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Ke(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:YIe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Ke(n)," in ").concat(t):null},initialValue:null,inputComponent:bk,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Ke(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:bk,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Ke(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:Cb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Ke(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:Cb,label:"does not include",type:"arrayReferenceNotIncludes"}},nPe=h.createContext(null);function ipn(e){let{children:t,workspace:n}=e;return c.jsx(nPe.Provider,{value:n,children:t})}function Nl(){const e=h.useContext(nPe);if(!e)throw new Error("Workspace: missing context value");return e}const RS=h.createContext(null);function spn(e){let{children:t,...n}=e;const r=h.useContext(RS),{unstable_sources:o}=Nl();if("source"in n){const{source:i}=n;return c.jsx(RS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?c.jsx(c.Fragment,{children:t}):c.jsx(RS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function ur(){const e=h.useContext(RS);if(!e)throw new Error("Could not find `source` context");return e}function apn(e){return c.jsx(F,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(sr,{tone:"caution",children:c.jsx(Xr,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),c.jsx(sr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),c.jsx(sr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function lpn(e){let{reference:t}=e;const n=Os(),r=h.useCallback(o=>uDe(n,o),[n]);return c.jsx(o0,{observeAsset:r,reference:t,waitPlaceholder:c.jsx(upn,{}),children:o=>c.jsx(cpn,{asset:o})})}function cpn(e){let{asset:t}=e;return c.jsx(ee,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(p0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),c.jsx(B,{size:1,muted:!0,children:iIe(t.size)})]})]})})}function upn(){return c.jsx(ee,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(p0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(I5,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(I5,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var bce=Object.freeze,dpn=Object.defineProperty,dN=(e,t)=>bce(dpn(e,"raw",{value:bce(t||e.slice())})),xce,wce,_ce;const fpn=O(ee)(xce||(xce=dN([`
  position: relative;
  padding-bottom: 100%;
`]))),hpn=O.img(wce||(wce=dN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),ppn=O(W)(_ce||(_ce=dN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function mpn(e){let{reference:t}=e;const n=Os(),r=h.useCallback(o=>cDe(n,o),[n]);return c.jsx(o0,{observeAsset:r,reference:t,children:o=>c.jsx(gpn,{asset:o})})}function gpn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return c.jsxs(fpn,{__unstable_checkered:!0,border:!0,children:[!n&&c.jsx(ppn,{align:"center",justify:"center",children:c.jsx(Vr,{})}),c.jsx(hpn,{onLoad:i,src:o})]})}function vpn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?c.jsx(lpn,{reference:t}):t._type.startsWith("sanity.imageAsset")?c.jsx(mpn,{reference:t}):null:null}var Cce=Object.freeze,ypn=Object.defineProperty,bpn=(e,t)=>Cce(ypn(e,"raw",{value:Cce(t||e.slice())})),Sce;const xpn={file:"sanity.fileAsset",image:"sanity.imageAsset"},wpn=O(F)(Sce||(Sce=bpn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Yg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,l]=h.useState(null),{state:{fullscreen:u}}=Ot(),{file:d,image:f}=ur().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===HIe.name);case"image":return f.assetSources.filter(E=>E.name===UIe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=Cr(gn),g=h.useCallback(()=>{l(null),r(null)},[r]),x=h.useCallback(()=>{s(null)},[]),b=h.useCallback(E=>{const j=E[0];l(j),x()},[x]),y=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:xpn[e]})},[v,r,a]);const w=i==null?void 0:i.component,_=u?2:1,C=o?"Change ".concat(e):"Select ".concat(e),S=Nn(e,"options.accept",e==="image"?"image/*":"");return c.jsx(wpn,{children:c.jsxs(ne,{space:3,children:[i&&w&&c.jsx(vm,{children:c.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:x,onSelect:b,selectedAssets:[],selectionType:"single",accept:S})}),o&&c.jsx(vpn,{reference:o}),c.jsxs(W,{gap:2,children:[p.length===0&&c.jsx(apn,{padding:2}),p.length>0&&c.jsx(c.Fragment,{children:p.length>1?c.jsx(rn,{button:c.jsx(ae,{fontSize:_,icon:o?WS:Yi,iconRight:Rl,mode:"ghost",style:{flex:o?1:0},text:C}),id:m,menu:c.jsx(Ht,{children:p.map(E=>c.jsx(Me,{fontSize:_,icon:E.icon||El,onClick:()=>y(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(ae,{fontSize:_,icon:o?WS:Yi,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:C})}),o&&c.jsx(ae,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const _pn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Yg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Yg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Yg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Yg("image"),label:"is not",type:"assetImageNotEqual"}};function Cpn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return c.jsxs(Ff,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[c.jsx("option",{value:"true",children:"True"}),c.jsx("option",{value:"false",children:"False"})]})}const Spn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Ohn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:!0,inputComponent:Cpn,label:"is",type:"booleanEqual"}},Epn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Ece=Object.freeze,kpn=Object.defineProperty,jpn=(e,t)=>Ece(kpn(e,"raw",{value:Ece(t||e.slice())})),kce;const jce="Include time",Tpn=O(B)(kce||(kce=jpn([`
  cursor: default;
`])));function fN(e){let{onChange:t,value:n}=e;return c.jsxs(W,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(ne,{children:c.jsx(Tpn,{muted:!0,onClick:t,size:1,weight:"medium",children:jce})}),c.jsx(Rxe,{checked:n,label:jce,onChange:t})]})}const rPe=h.createContext(void 0);function hN(){const e=h.useContext(rPe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Apn=["January","February","March","April","May","June","July","August","September","October","November","December"],Dpn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];c7(0,24);const Ipn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ppn=[1,2,3,4,5,6];function Opn(e){const{focusedDate:t}=hN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return c.jsxs(W,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(Jt,{paddingLeft:2,space:1,children:[c.jsx(B,{weight:"medium",children:Apn[t.getMonth()]}),c.jsx(B,{weight:"medium",children:t.getFullYear()})]}),c.jsxs(F,{children:[c.jsx(ae,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),c.jsx(ae,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:ej}),c.jsx(ae,{"aria-label":"Go to next month",mode:"bleed",icon:Qu,onClick:s})]})]})}var Tce=Object.freeze,$pn=Object.defineProperty,oPe=(e,t)=>Tce($pn(e,"raw",{value:Tce(t||e.slice())})),Ace,Dce;const Rpn=O.svg(e=>{let{theme:t}=e;return de(Ace||(Ace=oPe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),Mpn=O(ee)(Dce||(Dce=oPe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Fpn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:l}=hN(),u=o&&Ld(t,o),d=l&&o&&Ld(t,o),f=l&&i&&Ld(t,i),p=ISe(t,s),m=s&&Ld(t,s),v=Ld(t,new Date),g=o&&i&&!d&&!f&&NR(t,o)&&kSe(t,i);return c.jsxs(Mpn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&c.jsx(Rpn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(B,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const Lpn=e=>{const t=CSe(e);return _Se({start:t,end:ESe(t)})},Bpn=e=>e.map(t=>[t,...Ppn.map(n=>zi(t,n))]),Npn=e=>Bpn(Lpn(e)).map(t=>({number:SSe(t[0]),days:t}));var Ice=Object.freeze,zpn=Object.defineProperty,Vpn=(e,t)=>Ice(zpn(e,"raw",{value:Ice(t||e.slice())})),Pce;const Hpn=O(ln)(Pce||(Pce=Vpn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function Upn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=hN();return c.jsx(F,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:c.jsxs(Hpn,{children:[Dpn.map(i=>c.jsx(F,{paddingBottom:3,paddingTop:2,children:c.jsx(B,{align:"center",size:o,weight:"medium",children:i})},i)),Npn(r).map((i,s)=>i.days.map((a,l)=>c.jsx(Fpn,{date:a,onSelect:n},"".concat(s,"-").concat(l))))]})})}const Wpn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Ypn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,l]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var _;(_=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||_.focus()},[a]),x=h.useCallback(_=>{const C=eEt(_,{hours:_.getHours(),minutes:_.getMinutes(),seconds:0,milliseconds:0}),S=t&&kSe(C,t),E=n&&NR(C,n);if(i){if(S||E){o({date:C,endDate:null});return}o(u?{date:t||null,endDate:C}:{date:C,endDate:t?null:n||null})}else o({date:C})},[t,n,o,u,i]),b=h.useCallback(()=>{const _=new Date;i?p(_):o({date:_})},[o,i,p]),y=h.useCallback(_=>{var C;if(Ipn.includes(_.key)){if(_.preventDefault(),_.target.hasAttribute("data-calendar-grid")){g();return}_.key==="ArrowUp"&&p(zi(f,-7)),_.key==="ArrowDown"&&p(zi(f,7)),_.key==="ArrowLeft"&&p(zi(f,-1)),_.key==="ArrowRight"&&p(zi(f,1)),(C=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||C.focus()}},[a,g,f,p]),w=h.useCallback(_=>p(z8(f,_)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var _;((_=document.activeElement)==null?void 0:_.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var _,C;const S=(t==null?void 0:t.getTime())!==((_=m.current)==null?void 0:_.getTime()),E=(n==null?void 0:n.getTime())!==((C=v.current)==null?void 0:C.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&NR(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),c.jsx(rPe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:c.jsxs(F,{"data-ui":"Calendar",ref:l,children:[c.jsx(W,{children:c.jsx(F,{flex:1,children:c.jsx(Opn,{fontSize:r,moveFocusedDate:w,onNowClick:b})})}),c.jsxs(F,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(Upn,{onSelect:x}),Wpn]})]})})}function pN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Ot(),a=h.useCallback(l=>{r(l)},[r]);return c.jsx(Ypn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var Oce=Object.freeze,qpn=Object.defineProperty,Gpn=(e,t)=>Oce(qpn(e,"raw",{value:Oce(t||e.slice())})),$ce;const Kpn=O(F)(e=>{let{background:t,smallClearButton:n}=e;return de($ce||($ce=Gpn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),mN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return c.jsx(Kpn,{background:r,smallClearButton:o,children:c.jsx(Zr,{...i,ref:n})})});function wu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=pE(t);break;case"start":o=zf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Rce=Object.freeze,Zpn=Object.defineProperty,iPe=(e,t)=>Rce(Zpn(e,"raw",{value:Rce(t||e.slice())})),Mce,Fce;const o2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},Xpn=O.span(e=>{let{theme:t}=e;return de(Mce||(Mce=iPe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),Qpn=O(B)(Fce||(Fce=iPe([`
  color: `,`;
`])),fe.red[500].hex);function xk(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?o2.datetime.pattern:o2.date.pattern,[o]),[l,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return Zo(y,a)}),p=h.useMemo(()=>Zo(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:_}=y;if(!w)return;const C=R5t(w,a,new Date),S=Bu(C);S&&(_&&n(wu({date:C,dateOnly:!t})),f(Zo(C,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(y=>{f(y.currentTarget.value)},[]),x=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),b=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:Zo(y,a),triggerOnChange:!1})},[a,m,o,i]),c.jsx(yt,{content:c.jsxs(W,{gap:2,children:[c.jsx(Qpn,{size:1,children:c.jsx(da,{})}),c.jsxs(B,{muted:!0,size:1,children:["Must be in the format"," ",c.jsx(Xpn,{children:o?o2.datetime.exampleDate:o2.date.exampleDate})]})]}),disabled:!l,padding:3,placement:"top",portal:!0,children:c.jsx("div",{children:c.jsx(mN,{...s,clearButton:!!d,customValidity:l,onBlur:v,onChange:g,onClear:x,onKeyDown:b,placeholder:p,value:d})})})}function sPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useCallback(l=>{let{date:u}=l;if(u){const d=wu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const l=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=wu({date:u,dateOnly:!t})),n({includeTime:l,date:d})},[t,n,r]),a=h.useCallback(l=>{n({includeTime:r==null?void 0:r.includeTime,date:l||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(ne,{space:3,children:[c.jsx(xk,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),c.jsx(pN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&c.jsx(fN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Lce(e){return c.jsx(sPe,{...e,isDateTime:!1})}function BA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Ot(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=wu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),l=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=wu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return c.jsxs(ne,{space:3,children:[c.jsx(xk,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),c.jsx(pN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&c.jsx(fN,{onChange:l,value:!!(o!=null&&o.includeTime)})]})}function Jpn(e){return c.jsx(BA,{...e,direction:"after",isDateTime:!1})}function emn(e){return c.jsx(BA,{...e,direction:"before",isDateTime:!1})}function Bce(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Ot(),l=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,l()},[l]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,l()},[l]);return c.jsxs(W,{gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(Zr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),c.jsx(F,{flex:1,children:c.jsxs(Ff,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[c.jsx("option",{value:"days",children:"Days"}),c.jsx("option",{value:"months",children:"Months"}),c.jsx("option",{value:"years",children:"Years"})]})})]})}const tmn=-7;function aPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useMemo(()=>zi(new Date,tmn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Nce({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),l=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Nce({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return c.jsx("div",{children:c.jsxs(ne,{space:3,children:[c.jsxs(W,{direction:"column",gap:3,children:[c.jsx(xk,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),c.jsx(xk,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),c.jsx(pN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&c.jsx(fN,{onChange:l,value:!!(r!=null&&r.includeTime)})]})})}function Nce(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?wu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?wu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?wu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?wu({date:t,dateOnly:!o,roundDay:"start"}):null}}function nmn(e){return c.jsx(aPe,{...e,isDateTime:!1})}function zce(e){return c.jsx(sPe,{...e,isDateTime:!0})}function rmn(e){return c.jsx(BA,{...e,direction:"after",isDateTime:!0})}function omn(e){return c.jsx(BA,{...e,direction:"before",isDateTime:!0})}function imn(e){return c.jsx(aPe,{...e,isDateTime:!0})}const xa={dateAfter:{buttonLabel:"after",buttonValueComponent:uce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:uce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:cce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:$hn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:cce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},smn={dateAfter:{...xa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:Jpn,type:"dateAfter"},dateBefore:{...xa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:emn,type:"dateBefore"},dateEqual:{...xa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Ke(n.date)):null},inputComponent:Lce,type:"dateEqual"},dateLast:{...xa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?UK(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Ke(o)):null},inputComponent:Bce,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...xa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Ke(n.date)):null},inputComponent:Lce,type:"dateNotEqual"},dateRange:{...xa.dateRange,buttonValueComponent:dce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Ke(n.dateMin)," && ").concat(t," <= ").concat(Ke(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:HK().toISOString(),dateMin:null},inputComponent:nmn,type:"dateRange"},dateTimeAfter:{...xa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(n.date),")"):null},inputComponent:rmn,type:"dateTimeAfter"},dateTimeBefore:{...xa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Ke(n.date),")"):null},inputComponent:omn,type:"dateTimeBefore"},dateTimeEqual:{...xa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?LK(r):zf(r)).toISOString(),i=(n!=null&&n.includeTime?BK(r):pE(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Ke(o),") && dateTime(").concat(t,") < dateTime(").concat(Ke(i),")")},inputComponent:zce,type:"dateTimeEqual"},dateTimeLast:{...xa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?UK(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:Bce,type:"dateTimeLast"},dateTimeNotEqual:{...xa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?LK(r):zf(r)).toISOString(),i=(n!=null&&n.includeTime?BK(r):pE(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Ke(o),") || dateTime(").concat(t,") > dateTime(").concat(Ke(i),")")},inputComponent:zce,type:"dateTimeNotEqual"},dateTimeRange:{...xa.dateRange,buttonValueComponent:dce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Ke(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Ke(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:HK().toISOString(),dateMin:null},inputComponent:imn,type:"dateTimeRange"}},amn={numberEqual:{buttonLabel:"is",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Ke(n)):null},icon:JIe,initialValue:null,inputComponent:Aa,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Ke(n)):null},icon:QIe,initialValue:null,inputComponent:Aa,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Ke(n)):null},icon:tPe,initialValue:null,inputComponent:Aa,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Ke(n)):null},icon:ePe,initialValue:null,inputComponent:Aa,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:og,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:Rhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.min)," && ").concat(t," < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:YIe,label:"is between",type:"numberRange"}};function $a(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return c.jsx(Zr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const lmn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"portableTextNotMatches"}},cmn={referenceEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Cb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Cb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Yg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Yg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Cb,label:"document",type:"referencesDocument"}},umn={slugEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"slugNotMatches"}},dmn={stringEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:bk,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:bk,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"stringNotMatches"}},fmn={...opn,..._pn,...Spn,...smn,...Epn,...amn,...lmn,...cmn,...umn,...dmn},hmn=Object.values(fmn);function zl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const NA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>NA(a,[...t,r.name])),o]},pmn=[],mmn=[],gmn=[],vmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(zl(o)))},ymn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},bmn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(zl(r)))},xmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(zl(o)))},wmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(zl(o)))},_mn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(zl(o)))},Cmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(zl(o)));return o(e,n)},Smn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(zl(i)))},Emn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(zl(i)))},kmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(zl(o)))},jmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(zl(o)))},Tmn=e=>{const{config:t,context:n,initialValue:r}=e;return NA(t,[]).reduce((s,a)=>{let{config:l}=a;var u,d;const f=(d=(u=l.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(zl(f)))},r)};var Amn=Object.defineProperty,Dmn=(e,t,n)=>t in e?Amn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VO=(e,t,n)=>(Dmn(e,typeof t!="symbol"?t+"":t,n),n);class Vce extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=_t(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),VO(this,"propertyName"),VO(this,"path"),VO(this,"cause"),this.propertyName=n,this.cause=o,this.path=r}}function wa(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=NA(t,[]);if("reducer"in i)return s.reduce((l,u)=>{let{config:d,path:f}=u;try{return i.reducer(l,d,n)}catch(p){throw new Vce({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let l=r;for(const{config:u,path:d}of s)try{l=await a(l,u,n)}catch(f){throw new Vce({propertyName:o,path:d,cause:f})}return l})()}var Imn=Object.defineProperty,Pmn=(e,t,n)=>t in e?Imn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HO=(e,t,n)=>(Pmn(e,typeof t!="symbol"?t+"":t,n),n);class Ra extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>_t(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),HO(this,"name"),HO(this,"type"),HO(this,"causes"),this.name=r,this.causes=n,this.type=o}}class gN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var Hce=Object.freeze,Omn=Object.defineProperty,$mn=(e,t)=>Hce(Omn(e,"raw",{value:Hce(t||e.slice())})),Uce;function Wce(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Rmn=O.text(Uce||(Uce=$mn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Mmn(e,t){const n=Wce("".concat(e," ").concat(t)),r=lve.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Wce(n.toString()),a=i[Math.floor(s*i.length)],l=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=pje(l,.4),f=NNt(l,.4),p=ZQ(l,"readable",d)?ZQ(l,"readable",f)?VNt(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(Rmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Fmn=e=>e.severity==="error";function Lmn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Or.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Mmn(t,n)}const UO=new WeakMap;function Bmn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Ra({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=Hmn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{egn({workspaces:r})}catch(i){throw new Ra({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(UO.has(i))return UO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=wa({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:vmn})}catch(C){throw new Ra({name:p.name,type:"source",causes:[C]})}const x=cGt({name:p.name,types:g}),b=x._validation,y=b==null?void 0:b.filter(C=>C.problems.some(Fmn));if(b&&(y!=null&&y.length))throw new gN(x);const w=Nmn(p),_=w.state.pipe(ce(C=>{let{client:S,authenticated:E,currentUser:j}=C;return Vmn({config:p,client:S,currentUser:j,schema:x,authenticated:E,auth:w})}),To(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||an(p.name),auth:w,schema:x,source:_}}),d=a.title||an(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:Umn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Lmn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Rf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return UO.set(i,f),f})}}function Nmn(e){if(XYt(e.auth))return e.auth;const t=e.unstable_clientFactory||s2e,{projectId:n,dataset:r,apiHost:o}=e;return ZYt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function zmn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),l=t.token?{token$:t.token}:{};return Nvt(a,l)}function Vmn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,l,u,d;const{dataset:f,projectId:p}=t,m=zmn(n,s),v=[],g={},x=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},b={client:n,getClient:x,currentUser:r,dataset:f,projectId:p,schema:o},y=n;b.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=wa({config:t,context:b,propertyName:"schema.templates",reducer:xmn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(ho).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Ra({name:t.name,type:"source",causes:[T]})}let _;try{_=wa({config:t,context:b,initialValue:[],propertyName:"tools",reducer:bmn})}catch(T){throw new Ra({name:t.name,type:"source",causes:[T]})}if(_.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const C=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=wa({config:t,context:{...b,creationContext:T},initialValue:C,propertyName:"document.resolveNewDocumentOptions",reducer:Cmn}),I=[];if(I.length)throw new Ra({name:t.name,type:"source",causes:I});return D.map((P,M)=>{const $=S.get(P.templateId);if(!$)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const V=o.get($.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat($.schemaType,"` for template `").concat($.id,"`"));const L=P.title||$.title,H=(V==null?void 0:V.title)===L||V==null?void 0:V.title;return{id:"".concat(P.templateId,"-").concat(M),templateId:P.templateId,type:"initialValueTemplateItem",title:L,subtitle:P.subtitle||H,description:P.description||$.description,icon:P.icon||$.icon||(V==null?void 0:V.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:$.schemaType}}).filter(P=>{var M;return!A||T.type==="document"?!0:A===((M=S.get(P.templateId))==null?void 0:M.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Ra({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||an(t.name),schema:o,getClient:x,dataset:f,projectId:p,tools:_,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>wa({config:t,context:{...b,...T},initialValue:mmn,propertyName:"document.actions",reducer:_mn}),badges:T=>wa({config:t,context:{...b,...T},initialValue:pmn,propertyName:"document.badges",reducer:wmn}),unstable_fieldActions:T=>wa({config:t,context:{...b,...T},initialValue:aqt,propertyName:"document.unstable_fieldActions",reducer:sqt}),inspectors:T=>wa({config:t,context:{...b,...T},initialValue:Vn,propertyName:"document.inspectors",reducer:jmn}),resolveProductionUrl:T=>wa({config:t,context:{...b,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:ymn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>wa({config:t,context:{...b,...T},initialValue:gmn,propertyName:"document.unstable_languageFilter",reducer:kmn}),unstable_comments:{enabled:T=>Tmn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:wa({config:t,context:b,initialValue:[HIe],propertyName:"formBuilder.file.assetSources",reducer:Smn}),directUploads:((l=(a=t.form)==null?void 0:a.file)==null?void 0:l.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:wa({config:t,context:b,initialValue:[UIe],propertyName:"formBuilder.image.assetSources",reducer:Emn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Ihn,operators:hmn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function Hmn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Ra({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function Umn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Wmn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function Ymn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function qmn(e){const{title:t}=e;return c.jsx(F,{padding:3,children:c.jsx(B,{weight:"bold",children:t})})}const zA=h.createContext(null),VA=h.createContext(null);function lPe(){return Vqe()?"dark":"light"}function cPe(e){let{children:t,scheme:n}=e;const r=lPe(),o=n==="system"?r:n;return c.jsx(A5,{scheme:o,theme:Rf,children:t})}const Yce="sanityStudio:ui:colorScheme";function Gmn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?c.jsx(Zmn,{scheme:r,onSchemeChange:n,children:t}):c.jsx(Kmn,{onSchemeChange:n,children:t})}function Kmn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=qce(localStorage.getItem(Yce))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=qce(a);for(const l of s)l()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Yce,o)},[n,o]),c.jsx(VA.Provider,{value:r.setSnapshot,children:c.jsx(zA.Provider,{value:o,children:c.jsx(cPe,{scheme:o,children:t})})})}function qce(e){switch(e){case"dark":case"light":return e;default:return"system"}}function Zmn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return c.jsx(VA.Provider,{value:typeof n=="function"?n:!1,children:c.jsx(zA.Provider,{value:r,children:c.jsx(cPe,{scheme:r,children:t})})})}function vN(){const e=h.useContext(VA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function uPe(){const e=h.useContext(zA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function dPe(){const e=uPe(),t=lPe();return e==="system"?t:e}function Uc(){const e=dPe(),t=vN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function fPe(e){const t=uPe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:xve},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:TF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:OF}],[t,e])}const hPe=h.createContext(null);function Xmn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Bmn(t,{basePath:r}),[t,r]);return c.jsx(hPe.Provider,{value:o,children:n})}function $y(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:S4(r,t)}function S4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function c_(){const e=h.useContext(hPe);if(!e)throw new Error("Could not find `workspaces` context");return e}var Qmn=Object.defineProperty,Jmn=(e,t,n)=>t in e?Qmn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gce=(e,t,n)=>(Jmn(e,typeof t!="symbol"?t+"":t,n),n);class yc extends Error{constructor(t,n){super(t),Gce(this,"index"),Gce(this,"identifier"),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&$y(n.workspace,n.index)}}function egn(e){let{workspaces:t}=e;if(t.length===0)throw new yc("At least one workspace is required.");tgn(t),ngn(t)}function tgn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=S4(s,o);if(!i&&!t)throw new yc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const l=t&&typeof i>"u"?"default":i;if(typeof l!="string")throw new yc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=l.toLowerCase(),d=n.get(u);if(d){const f=S4(d.workspace.title,d.index);throw new yc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(l,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new yc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(l,"`"),{workspace:r,index:o})})}function ngn(e){e.length>1&&e.every(rgn),e.every(ogn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new yc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat($y(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat($y(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),l=o.get(a);if(l)throw new yc("`basePath`s must be unique. Workspaces `".concat(l,"` and ")+"`".concat($y(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,$y(i,s))})}function rgn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new yc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new yc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function ogn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new yc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function ign(){return c.jsx(ee,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(sa,{width:0,children:c.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsxs(ne,{flex:1,marginLeft:3,space:3,children:[c.jsx(B,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),c.jsx(B,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function sgn(e){const{toolName:t}=e;return c.jsx(ee,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(sa,{width:0,children:c.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Xr,{})})}),c.jsx(ne,{flex:1,marginLeft:3,space:3,children:c.jsxs(B,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",c.jsx("code",{children:t})]})})]})})})})})}function Sb(){return c.jsxs(W,{as:ee,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(B,{muted:!0,children:"Loading"}),c.jsx(Vr,{muted:!0})]})}var Kce=Object.freeze,agn=Object.defineProperty,pPe=(e,t)=>Kce(agn(e,"raw",{value:Kce(t||e.slice())})),Zce,Xce;const lgn={error:"critical",warning:"caution"},Qce=O.code(Zce||(Zce=pPe([`
  && {
    background: none;
    color: inherit;
  }
`]))),cgn=O(B)(Xce||(Xce=pPe([`
  white-space: pre-line;
`])));function mPe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return c.jsx(ne,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",l=s.severity==="warning",u=ugn(i);return c.jsxs(ee,{border:!0,padding:4,radius:2,tone:lgn[s.severity],children:[c.jsxs(W,{children:[c.jsx(F,{marginRight:3,children:c.jsxs(B,{muted:!0,size:1,children:[a&&c.jsx(da,{}),l&&c.jsx(Xr,{})]})}),c.jsx(F,{flex:1,children:c.jsx(B,{size:1,weight:"semibold",children:u?c.jsxs(c.Fragment,{children:[Sm(u.type),' type "',u.name,'"']}):null})})]}),c.jsx(F,{marginTop:4,children:c.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(_L,{separator:c.jsx(B,{muted:!0,size:1,children:""}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(dgn(d.name),":").concat(d.type);return c.jsx(B,{title:p,size:1,textOverflow:"ellipsis",children:c.jsx(Qce,{children:p})},f)}return d.kind==="property"?c.jsx(B,{title:d.name,size:1,textOverflow:"ellipsis",children:c.jsx(Qce,{children:d.name})},f):null})})})}),c.jsx(F,{as:"ul",marginTop:4,children:c.jsx(F,{as:"li",children:c.jsxs(ne,{space:3,children:[c.jsx(cgn,{muted:!0,size:1,children:s.message}),s.helpId&&c.jsx(B,{muted:!0,size:1,children:c.jsx("a",{href:rSe(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},o)})})}function ugn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function dgn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function fgn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function hgn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(" Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=fgn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function pgn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>hgn(t),[t]),c.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(sa,{width:1,children:c.jsxs(ne,{space:5,children:[c.jsx(ii,{as:"h1",children:"Schema errors"}),c.jsx(mPe,{problemGroups:r})]})})})}function mgn(e){return c.jsx(ee,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(W,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(ne,{space:4,children:[c.jsx(ii,{as:"h1",children:"Workspace not found"}),c.jsx(Jt,{children:c.jsx(ae,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const gPe=h.createContext(null);function ggn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function vgn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],l=i[s].toLowerCase();if(a!==l)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(E7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function ygn(e){return h.useMemo(()=>bgn(e),[e])}function bgn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(E7(n),"(\\/|$)"),"i")}})}function xgn(e,t){const n=ygn(t),r=h.useMemo(()=>vgn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>ggn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return x7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const vPe=h.createContext(null);function wgn(e){let{children:t,history:n}=e;return c.jsx(vPe.Provider,{value:n,children:t})}function _gn(){const e=h.useContext(vPe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Cgn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return c.jsx(gPe.Provider,{value:s,children:c.jsx(wgn,{history:r,children:n})})}),Sgn=()=>typeof document>"u"?bzt():yzt();function Egn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=c_(),s=h.useMemo(()=>o||Sgn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),l=h.useCallback(()=>{a(i[0].name)},[a,i]),u=xgn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return c.jsx(Cgn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return c.jsx(n,{});case"not-found":return c.jsx(r,{onNavigateToDefaultWorkspace:l});default:throw new Error("Unknown type: ".concat(u.type))}}function s1(){const e=h.useContext(gPe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var Jce=Object.freeze,kgn=Object.defineProperty,jgn=(e,t)=>Jce(kgn(e,"raw",{value:Jce(t||e.slice())})),eue;const tue={"logged-in":"","logged-out":"Signed out","no-access":""},Tgn=O(ee)(eue||(eue=jgn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),nue=e=>{if(Or.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function E4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>nue(i),[i]),l=h.useMemo(()=>nue(s),[s]);return c.jsxs(W,{align:"center",flex:"none",gap:3,children:[c.jsx(Tgn,{radius:2,tone:"transparent",children:a}),c.jsxs(ne,{flex:1,space:2,children:[c.jsx(B,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&tue[t]&&c.jsx(F,{paddingLeft:1,children:c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:tue[t]})}),(r||l)&&c.jsxs(W,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(B,{children:c.jsx(za,{})}),l&&c.jsx(B,{muted:!0,children:l})]})]})}const yPe=lh(e=>zo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),Agn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var rue=Object.freeze,Dgn=Object.defineProperty,Ign=(e,t)=>rue(Dgn(e,"raw",{value:rue(t||e.slice())})),oue;const iue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],Pgn=O(B)(oue||(oue=Ign([`
  a {
    color: inherit;
  }
`])));function sue(e){const{children:t,footer:n,header:r}=e;return c.jsxs(ne,{space:6,children:[c.jsx(ee,{border:!0,radius:3,overflow:"auto",children:c.jsxs(ne,{children:[typeof r=="object"&&c.jsx(F,{children:r}),typeof r=="string"&&c.jsx(F,{paddingY:4,children:c.jsx(ii,{align:"center",size:1,children:r})}),c.jsx(F,{paddingX:1,children:c.jsx(ee,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&c.jsx(F,{children:n})]})}),c.jsxs(W,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(B,{size:3,children:c.jsx(Ezt,{})}),c.jsx(W,{align:"center",gap:2,children:iue.map((o,i)=>c.jsxs(oe.Fragment,{children:[c.jsx(Pgn,{muted:!0,size:1,children:c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<iue.length-1&&c.jsx(B,{size:1,muted:!0,children:""})]},o.title))})]})]})}function Ogn(){var e;const t=c_(),{activeWorkspace:n,setActiveWorkspace:r}=s1(),[o]=yPe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),l=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?l&&a?c.jsxs(ne,{space:2,children:[t.length>1&&c.jsx(W,{children:c.jsx(ae,{fontSize:1,icon:_F,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),c.jsx(sue,{header:c.jsx(F,{padding:3,children:c.jsx(E4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(ne,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(l,{...ji(a,["type","__internal"]),key:i})})})]}):c.jsx(sue,{header:"Choose your workspace",footer:c.jsx(ne,{padding:1,children:c.jsx(ae,{as:"a",href:Agn,icon:ea,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:c.jsx(ne,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return c.jsx(ee,{as:"button",radius:2,padding:2,onClick:m,children:c.jsx(E4,{icon:d==null?void 0:d.icon,iconRight:Qu,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):c.jsx(Sb,{})}var aue=Object.freeze,$gn=Object.defineProperty,Rgn=(e,t)=>aue($gn(e,"raw",{value:aue(t||e.slice())})),lue;const Mgn=O(Ht)(lue||(lue=Rgn([`
  max-width: 350px;
  min-width: 250px;
`]))),cue="Select workspace";function bPe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Uc(),i=c_(),{activeWorkspace:s,setActiveWorkspace:a}=s1(),[l]=yPe(i),{navigateUrl:u}=rd(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?cue:void 0,g=t?void 0:cue;return c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:c.jsx(ne,{children:c.jsx(rn,{button:c.jsx(ae,{icon:Ml,mode:"bleed",text:g,disabled:!l,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:c.jsxs(Mgn,{children:[c.jsx(F,{paddingX:3,paddingY:3,children:c.jsx(Nt,{size:1,muted:!0,children:"Workspaces"})}),l&&i.map(x=>{const y=l[x.name].authenticated?"logged-in":x.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&x.name!==s.name&&a(x.name),y==="logged-out"&&u({path:x.basePath})};return c.jsx(Me,{onClick:w,padding:2,pressed:x.name===s.name,children:c.jsx(E4,{icon:x==null?void 0:x.icon,selected:x.name===s.name,state:y,subtitle:x==null?void 0:x.subtitle,title:(x==null?void 0:x.title)||x.name})},x.name)})]}),onClose:f,onOpen:d,popover:p})})})}function xPe(){return c.jsx(ee,{height:"fill",overflow:"auto",children:c.jsx(W,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(sa,{width:0,children:c.jsx(Ogn,{})})})})}function Fgn(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}function wPe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=s1(),i=h.useCallback(()=>{var l,u;(u=(l=o.auth).logout)==null||u.call(l)},[o]);h.useEffect(()=>{const l=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{l.unsubscribe()}},[o]);const s=RTe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return c.jsx(ee,{height:"fill",children:c.jsx(pa,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:c.jsx(ne,{paddingX:3,paddingY:2,children:c.jsx(ae,{text:"Sign out",onClick:i})}),children:c.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[c.jsx(B,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),c.jsxs(B,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var uue=Object.freeze,Lgn=Object.defineProperty,Bgn=(e,t)=>uue(Lgn(e,"raw",{value:uue(t||e.slice())})),due;const Ngn=O.label(due||(due=Bgn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function zgn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),c.jsx(ee,{height:"fill",children:c.jsx(pa,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:c.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[c.jsxs(B,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx(Ngn,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(Zr,{value:n,readOnly:!0}),c.jsx(ae,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:c.jsxs(W,{align:"center",justify:"center",gap:3,children:[c.jsx(B,{weight:"medium",children:"Continue"}),c.jsx(B,{weight:"medium",children:c.jsx(m0,{})})]})})]})})})}function _Pe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=_t(r)&&typeof r.message=="string"&&r.message,s=_t(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return szt(a),r instanceof oB?c.jsx(zgn,{projectId:r==null?void 0:r.projectId}):r instanceof gN?c.jsx(pgn,{schema:r.schema}):r?c.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(sa,{width:3,children:c.jsxs(ne,{space:4,children:[c.jsx(ii,{children:n}),c.jsx("div",{children:c.jsx(ae,{onClick:a,text:"Retry",tone:"default"})}),c.jsx(ee,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(ne,{space:4,children:[i&&c.jsx(xr,{size:1,children:c.jsxs("strong",{children:["Error: ",i]})}),s&&c.jsx(xr,{size:1,children:s})]})})]})})}):c.jsx(_0,{onCatch:o,children:t})}var fue=Object.freeze,Vgn=Object.defineProperty,Hgn=(e,t)=>fue(Vgn(e,"raw",{value:fue(t||e.slice())})),hue;const Ugn=O(ee)(hue||(hue=Hgn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),CPe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Wgn(){const{name:e,title:t,tools:n}=Nl(),r=cT(h.useCallback(v=>typeof v.tool=="string"?v.tool:void 0,[])),o=h.useMemo(()=>n.find(v=>v.name===r),[r,n]),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useMemo(()=>{const v=t||an(e);return r?"".concat(an(r)," | ").concat(v):v},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(v=>{s(v)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=Ryn();return c.jsxs(W,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(CPe.Provider,{value:p,children:c.jsx(m,{})}),n.length===0&&c.jsx(ign,{}),n.length>0&&!o&&r&&c.jsx(sgn,{toolName:r}),i&&c.jsx(Ugn,{ref:l,overflow:"auto"}),c.jsx(_Pe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:c.jsx(ee,{flex:1,hidden:i,children:o&&r&&c.jsx(_ft,{scope:r,children:c.jsx(h.Suspense,{fallback:c.jsx(Ygn,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function Ygn(){return c.jsxs(W,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(B,{muted:!0,children:"Loading"}),c.jsx(Vr,{muted:!0})]})}var pue=Object.freeze,qgn=Object.defineProperty,Ggn=(e,t)=>pue(qgn(e,"raw",{value:pue(t||e.slice())})),mue;const Kgn=O.div(mue||(mue=Ggn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),Zgn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Xgn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Qgn=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),Jgn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return c.jsxs(Kgn,{"data-logo":r,children:[t==="google"&&Zgn,t==="github"&&Xgn,t==="sanity"&&c.jsx(jzt,{}),n&&Qgn]})};var gue=Object.freeze,evn=Object.defineProperty,SPe=(e,t)=>gue(evn(e,"raw",{value:gue(t||e.slice())})),vue,yue;const wk=1,tvn=O(Ht)(vue||(vue=SPe([`
  min-width: 200px;
  max-width: 300px;
`]))),nvn=O(F)(yue||(yue=SPe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[wk].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[wk].size});function rvn(e){let{setScheme:t}=e;const n=fPe(t);return c.jsxs(c.Fragment,{children:[c.jsx(Dr,{}),c.jsx(F,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(Me,{"aria-label":i,icon:o,onClick:a,pressed:l,text:u,iconRight:l&&c.jsx(za,{})},s)})]})}function ovn(){const{currentUser:e,projectId:t,auth:n}=Nl(),r=dPe(),o=vN(),i=!!(e&&bTe(e,"administrator")),s=RTe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return c.jsx(rn,{button:c.jsx(ae,{mode:"bleed",padding:0,paddingX:1,children:c.jsxs(W,{align:"center",gap:1,children:[c.jsx(qa,{user:"me",size:1}),c.jsx(B,{size:wk,muted:!0,children:c.jsx(Rl,{})})]})}),id:"user-menu",menu:c.jsxs(tvn,{children:[c.jsx(ee,{padding:2,children:c.jsxs(W,{align:"center",children:[c.jsx(yt,{disabled:!s,portal:!0,content:s&&c.jsx(F,{padding:2,children:c.jsxs(B,{size:1,children:["Signed in with ",s]})}),children:c.jsxs(nvn,{marginRight:3,children:[c.jsx(qa,{size:wk,user:"me"}),(e==null?void 0:e.provider)&&c.jsx(Jgn,{provider:e.provider})]})}),c.jsxs(ne,{space:2,flex:1,children:[c.jsx(B,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&c.jsx(rvn,{setScheme:o}),c.jsx(Dr,{}),c.jsx(Me,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:tj}),i&&c.jsx(Me,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:aj}),n.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Dr,{}),c.jsx(Me,{iconRight:kF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var bue=Object.freeze,ivn=Object.defineProperty,svn=(e,t)=>bue(ivn(e,"raw",{value:bue(t||e.slice())})),xue;const avn=O(F)(xue||(xue=svn([`
  max-width: 300px;
`]))),EPe=33;function lvn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Cw({intent:"create",params:i}),l=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return c.jsx(yt,{disabled:t.hasPermission,portal:!0,content:c.jsx(avn,{padding:2,children:c.jsx(Pc,{currentUser:n,operationLabel:"create this document"})}),children:c.jsx("div",{children:c.jsx(ee,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:l,padding:o==="inline"?3:4,radius:2,children:c.jsx(B,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var wue=Object.freeze,cvn=Object.defineProperty,kPe=(e,t)=>wue(cvn(e,"raw",{value:wue(t||e.slice())})),_ue,Cue;const WO=O(W)(_ue||(_ue=kPe([`
  min-height: 100px;
`]))),uvn=O.strong(Cue||(Cue=kPe([`
  word-break: break-all;
`])));function Sue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,l=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>c.jsx(lvn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?c.jsx(WO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(Jt,{space:2,children:[c.jsx(Vr,{muted:!0,size:1}),c.jsx(B,{muted:!0,size:1,children:"Loading"})]})}):!l&&s?c.jsx(WO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(B,{align:"center",muted:!0,size:1,children:["No results found for ",c.jsxs(uvn,{children:["",s,""]})]})}):l?c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Qp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:EPe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):c.jsx(WO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(B,{align:"center",muted:!0,size:1,children:"No documents found"})})}function dvn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function fvn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function hvn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>dvn(t,o)).sort((o,i)=>fvn(t,o,i))}var Eue=Object.freeze,pvn=Object.defineProperty,Mm=(e,t)=>Eue(pvn(e,"raw",{value:Eue(t||e.slice())})),kue,jue,Tue,Aue,Due,Iue,Pue;const mvn=O(hn)(()=>de(kue||(kue=Mm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),gvn=O(pa)(()=>de(jue||(jue=Mm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),vvn=O(F)(Tue||(Tue=Mm([`
  max-width: 300px;
`]))),Oue=O(W)(Aue||(Aue=Mm([""]))),yvn=O(ee)(Due||(Due=Mm([`
  min-height: max-content;
`]))),bvn=O(ee)(Iue||(Iue=Mm([`
  min-height: max-content;
`]))),xvn=O(W)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(Pue||(Pue=Mm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),wvn=10;function _vn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,l]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,x]=h.useState(null),{scheme:b}=Uc(),y=si(),w=o.length>0,_=!t||!w,C="Search",S="Create new document",E=h.useMemo(()=>hvn(o,a),[o,a]),j=h.useCallback(L=>{l(L.currentTarget.value)},[]),k=h.useCallback(()=>s(L=>!L),[]),T=h.useCallback(()=>{s(!1),l(""),m==null||m.focus()},[m]),A=h.useCallback(L=>{L.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(L=>{(L.key==="Escape"||L.key==="Tab")&&i&&T()},[T,i]);zr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[y,E,k,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:Yi,onChange:j,placeholder:C,ref:x}),[j,r,C,a]),M=h.useMemo(()=>({"aria-label":S,disabled:_||r,icon:bp,mode:"bleed",onClick:k,ref:v,selected:i}),[_,k,r,i,S]),$=h.useMemo(()=>w?t?c.jsx(B,{size:1,children:"New document..."}):c.jsx(Pc,{currentUser:y,operationLabel:"create any document"}):c.jsx(B,{size:1,children:"No document types"}),[t,y,w]),V=h.useMemo(()=>({content:c.jsx(vvn,{padding:2,children:$}),disabled:r||i,placement:"bottom",portal:!0,scheme:b}),[r,i,b,$]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(yt,{...V,children:c.jsx("div",{children:c.jsx(ae,{...M})})}),i&&c.jsx(gvn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:b,width:1,children:c.jsxs(Oue,{direction:"column",flex:1,height:"fill",children:[c.jsx(bvn,{padding:2,borderBottom:!0,children:c.jsx(Zr,{...P})}),c.jsx(W,{direction:"column",overflow:"hidden",children:c.jsx(Sue,{...I})})]})})]}):c.jsx(mvn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:b,content:c.jsxs(Oue,{direction:"column",flex:1,forwardedAs:od,height:"fill",returnFocus:!0,children:[c.jsx(yvn,{sizing:"border",children:c.jsxs(ne,{children:[c.jsx(F,{paddingX:3,paddingY:3,children:c.jsx(F,{paddingY:1,children:c.jsx(Nt,{size:1,muted:!0,children:S})})}),c.jsx(ee,{borderTop:!0,borderBottom:!0,padding:1,children:c.jsx(Zr,{...P,fontSize:1,radius:1})})]})}),c.jsx(xvn,{$itemHeight:EPe,$maxDisplayedItems:wvn,direction:"column",overflow:"hidden",children:c.jsx(Sue,{...I})})]}),children:c.jsx("div",{children:c.jsx(yt,{...V,children:c.jsx("div",{children:c.jsx(ae,{...M,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function Cvn(){const{__internal:{staticInitialValueTemplateItems:e}}=ur(),[t,n]=hOe({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var $ue=Object.freeze,Svn=Object.defineProperty,Evn=(e,t)=>$ue(Svn(e,"raw",{value:$ue(t||e.slice())})),Rue;const kvn=O(ee)(Rue||(Rue=Evn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),jvn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=B0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?c.jsx(_m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:vr(a==null?void 0:a.path)},ref:m}):null}),[a]);return c.jsx(Me,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:l?4:3,paddingLeft:4,paddingRight:3,ref:s,children:c.jsxs(W,{align:"center",children:[c.jsx(kvn,{children:c.jsx(qa,{size:1,user:n.user,status:l?"editing":"inactive"},n.user.id)}),c.jsxs(ne,{space:2,marginLeft:4,children:[c.jsx(B,{textOverflow:"ellipsis",children:n.user.displayName}),!l&&c.jsx(B,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Mue=Object.freeze,Tvn=Object.defineProperty,yN=(e,t)=>Mue(Tvn(e,"raw",{value:Mue(t||e.slice())})),Fue,Lue,Bue;const Avn=4,Dvn=O(ee)(Fue||(Fue=yN([`
  background: transparent;
`]))),Ivn=O(Ht)(Lue||(Lue=yN([`
  max-width: 350px;
  min-width: 250px;
`]))),Pvn=O(ne)(Bue||(Bue=yN([`
  position: sticky;
  bottom: 0;
`])));function Ovn(e){const{collapse:t}=e,n=vwn(),{projectId:r}=Nl(),{scheme:o}=Uc(),i=n.length>0,[s,a]=h.useState(),l=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?c.jsx(ch,{icon:aj,mode:"bleed",tone:i?"positive":void 0}):c.jsx(ae,{mode:"bleed",padding:1,children:c.jsx(Dvn,{children:c.jsx(Lj,{maxLength:Avn,"aria-label":"Who is here",children:n.map(p=>c.jsx(qa,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return c.jsx(rn,{button:d,id:"global-presence-menu",onClose:u,menu:c.jsxs(Ivn,{padding:1,children:[i&&c.jsx(ne,{children:n.map(p=>c.jsx(jvn,{focused:s===p.user.id,onFocus:l,presence:p},p.user.id))}),!i&&c.jsx(F,{paddingX:3,paddingY:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",size:2,children:"No one else is here"}),c.jsx(B,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),c.jsxs(Pvn,{space:1,children:[c.jsx(Dr,{}),c.jsx(Me,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:tj,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var Nue=Object.freeze,$vn=Object.defineProperty,bN=(e,t)=>Nue($vn(e,"raw",{value:Nue(t||e.slice())})),zue,Vue,Hue;const Uue={duration:.2},Rvn={open:{opacity:1},closed:{opacity:0}},Mvn={open:{x:"0%"},closed:{x:"-100%"}},Fvn=O(es)(zue||(zue=bN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Lvn=O(Mj(ee))(Vue||(Vue=bN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),Bvn=O(Mj(ee))(Hue||(Hue=bN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function Nvn(e){let{setScheme:t}=e;const n=fPe(t);return c.jsx(c.Fragment,{children:c.jsxs(ee,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[c.jsx(F,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),c.jsx(ne,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":i,icon:o,iconRight:l&&c.jsx(za,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:l,text:u})},s)})})]})})}const zvn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=vN(),{auth:a,currentUser:l,projectId:u}=Nl(),d=c_(),f=YPe(),p=!!(l&&bTe(l,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return c.jsx(dL,{children:r&&c.jsx(od,{autoFocus:!0,returnFocus:!0,children:c.jsxs(Fvn,{onKeyDown:m,children:[c.jsx(Lvn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:Uue,variants:Rvn}),c.jsxs(Bvn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Uue,variants:Mvn,children:[c.jsx(ee,{borderBottom:!0,children:c.jsxs(ne,{space:3,padding:3,children:[c.jsxs(W,{align:"center",children:[c.jsx(W,{flex:1,align:"center",paddingRight:2,children:c.jsxs(W,{flex:1,align:"center",children:[c.jsx(F,{children:c.jsx(qa,{size:1,user:"me"})}),c.jsx(F,{flex:1,marginLeft:2,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(B,{textOverflow:"ellipsis",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(F,{children:c.jsx(ae,{icon:ua,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&c.jsx(bPe,{})]})}),c.jsxs(W,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(ee,{flex:"none",padding:3,children:c.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),c.jsxs(W,{direction:"column",children:[s&&c.jsx(Nvn,{setScheme:s}),c.jsx(ee,{borderTop:!0,flex:"none",padding:3,children:c.jsxs(ne,{as:"ul",space:1,children:[c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:tj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:aj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&c.jsx(ee,{flex:"none",padding:3,borderTop:!0,children:c.jsx(ne,{children:c.jsx(ae,{iconRight:kF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function Vvn(){var e;const n=((e=dr()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Uc(),o=h.useId(),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(ch,{icon:Xr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:l,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&c.jsx(pa,{header:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",children:"Configuration issues"}),c.jsx(B,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:c.jsxs(ne,{space:4,padding:4,children:[c.jsxs(ii,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),c.jsx(mPe,{problemGroups:n})]})})]})}function Wue(e){const{title:t,children:n,href:r,onClick:o}=e;return c.jsx(ae,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const Hvn=Fi("mod+".concat(KIe)),Uvn=Fi("escape");function Wvn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Rc(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{Hvn(a)&&(a.preventDefault(),t?i():r==null||r()),Uvn(a)&&t&&o&&i()},[i,o,t,r]);Ds(s)}function jPe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:l,setOnClose:u,state:{result:d}}=Ot(),f=h.useCallback(()=>{var p;a({index:(p=l==null?void 0:l.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,l]);return Wvn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?c.jsx("div",{children:t}):null}function Yvn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Hf(e,t){return t?e[t]:void 0}function qvn(e,t){var n;return(n=Hf(e,t))==null?void 0:n.initialValue}function k4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Th(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>u_({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Hf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:Gvn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!rzt(i)).filter(ho).join(" && ")}function Ku(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Ui(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Ah(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(l=>l.name),i=Object.values(t).filter(l=>n.map(u=>u==null?void 0:u.fieldId).includes(l.id)).filter(l=>l.documentTypes.length>0).map(l=>l.documentTypes),s=V5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),V5(...a).sort()}function Gvn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Ku(n,t),i=dh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function u_(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=dh(n,t.filterName),s=Hf(o,t.operatorType),a=Ku(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Yue=Object.freeze,Kvn=Object.defineProperty,Zvn=(e,t)=>Yue(Kvn(e,"raw",{value:Yue(t||e.slice())})),que;const Xvn=Fi("escape"),Qvn=500,Jvn=O.div(que||(que=Zvn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function xN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Rc(),i=h.useCallback(a=>{Xvn(a)&&o&&r()},[o,r]);Ds(i);const s=e0n(t||null);return c.jsxs(c.Fragment,{children:[c.jsx(Jvn,{onClick:r}),c.jsx(od,{autoFocus:!1,returnFocus:!0,children:c.jsx(ee,{display:"flex",overflow:"hidden",radius:i1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(l_,"px - ").concat(Rx,"px), ").concat(Qvn,"px"),zIndex:1},children:c.jsx(W,{children:n})})})]})}function YO(e){const t=e.getBoundingClientRect();return t.y+t.height+l_}function e0n(e){const[t,n]=h.useState(e&&YO(e)),r=h.useCallback(()=>{e&&n(YO(e))},[e]);return h.useEffect(()=>{e&&n(YO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Gue=Object.freeze,t0n=Object.defineProperty,TPe=(e,t)=>Gue(t0n(e,"raw",{value:Gue(t||e.slice())})),Kue,Zue;const n0n=O(F)(Kue||(Kue=TPe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),r0n=O(W)(Zue||(Zue=TPe([`
  box-sizing: border-box;
`]))),APe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Ot();return c.jsx(n0n,{children:c.jsx(r0n,{align:"center",flex:1,padding:1,children:c.jsx(mN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:Yi,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function o0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>l0n(u,i)).map(u=>{const d=dh(r,u.filterName);return d?k4(d,u.id):null}).filter(ho),l=s0n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...l,...Mx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...l,...i0n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Mx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},l=r.map(u=>({fieldDefinition:Ku(t,u),filterDefinition:dh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return l.length>0?[...i?[a]:[],...l]:[]}function i0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Ku(n,d);return d0n(t,f)}),l=t.length>1&&s.length>1?Mx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||an(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Ku(n,v);return a0n([f],g)});return Mx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...l,...u]}function s0n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(u0n).filter(s=>Xue(s,r)).map(s=>k4(s)),i=Object.values(n).filter(c0n).filter(s=>Xue(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(k4(a)),s),{});return[...Mx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,l]=s;return Mx({fieldDefinitions:t,filterDefinitions:n,filters:l,headerTitle:a,id:a,tone:"primary"})})]}function a0n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function l0n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function Xue(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function c0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function u0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function d0n(e,t){return ox(e,(t==null?void 0:t.documentTypes)||[]).length===0}function DPe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Ot(),o=h.useMemo(()=>{const i=dh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Ku(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?c.jsxs("span",{children:[o.slice(0,n),""]}):c.jsx("span",{children:o}):null}function f0n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Ot(),o=(n=dh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):c.jsx(xl,{})}function IPe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Ot(),i=Ku(o.fields,t);return c.jsxs(ne,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&c.jsx(F,{marginLeft:4,children:c.jsx(B,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>c.jsxs(oe.Fragment,{children:[c.jsx("span",{children:s}),a!==i.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(Qu,{})})]},a))})}),c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(F,{style:{flexShrink:0},children:c.jsx(B,{size:n?1:2,children:c.jsx(f0n,{filter:t})})}),c.jsx(B,{size:n?1:2,weight:"medium",children:c.jsx(DPe,{filter:t})})]})]})}function PPe(e){return h.isValidElement(e)?h0n(MHt(e)):typeof e=="string"?e:""}function h0n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const qO=10;function p0n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||an(d==null?void 0:d.name)}).filter(ho).sort():[],[n==null?void 0:n.documentTypes,s]),l=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=MA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&PPe(m==null?void 0:m.type.description)}return null}).filter(ho).sort(),d=co(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return c.jsx(yt,{content:c.jsx(ee,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(ne,{padding:3,space:4,children:[n&&c.jsxs(ne,{space:2,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field name"}),c.jsx(Jt,{children:c.jsx(ee,{tone:"caution",padding:1,radius:2,children:c.jsx(xr,{size:0,children:n==null?void 0:n.name})})})]}),l&&c.jsxs(ne,{space:3,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field description"}),c.jsx(B,{muted:!0,size:0,children:Que(l)})]}),(r==null?void 0:r.description)&&c.jsx(B,{muted:!0,size:0,children:Que(r.description)}),!i.length&&a.length>0&&c.jsxs(ne,{space:2,children:[c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Nt,{muted:!0,size:0,children:"Used in document types"}),c.jsx(ee,{padding:1,radius:2,tone:"transparent",children:c.jsx(B,{size:0,muted:!0,children:a.length})})]}),c.jsxs(B,{size:0,weight:"regular",muted:!0,children:[a.slice(0,qO).join(", "),(a==null?void 0:a.length)>qO?" +".concat(a.length-qO," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function Que(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),""):e}const m0n=oe.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:l}}=Ot(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!l.find(g=>Ui(g)===Ui(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return c.jsx(F,{...o,children:c.jsx(ae,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:c.jsx(p0n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:c.jsx(F,{padding:3,children:c.jsx(IPe,{filter:n.filter})})})})})}),g0n=oe.memo(function(t){let{item:n}=t;return c.jsx(F,{paddingTop:1,children:c.jsx(ee,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:c.jsx(Nt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function v0n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(b=>i(b.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),l=dr(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Ot(),m=h.useMemo(()=>o0n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:o,types:p}),[u,d.fields,d.filters,l,o,p]),v=h.useCallback(b=>b.type==="filter"?c.jsx(m0n,{item:b,onClose:t,paddingBottom:1}):b.type==="header"?c.jsx(g0n,{item:b}):null,[t]),g=h.useCallback(b=>{const y=m[b];return y.type!=="filter"||!!f.find(w=>Ui(w)===Ui(y.filter))},[m,f]),x=h.useCallback(b=>{const y=m[b];switch(y.type){case"filter":return[...y.group?[y.group]:[],Ui(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return b}},[m]);return c.jsxs(W,{direction:"column",style:{width:"300px"},children:[c.jsx(APe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),c.jsxs(W,{children:[m.length>0&&c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:x,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&c.jsx(F,{padding:3,children:c.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function Jue(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Ot(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return c.jsx(hn,{__unstable_margins:[l_,0,0,0],content:c.jsx(xN,{anchorElement:n,onClose:i,children:c.jsx(v0n,{onClose:i})}),open:e,placement:"bottom-start",radius:i1,portal:!0,children:c.jsx(ae,{fontSize:1,icon:ea,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const y0n=oe.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Ot(),l=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():l()},[l,u,n]);return c.jsx(F,{...o,children:c.jsx(ae,{fontSize:1,iconRight:n&&za,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var ede=Object.freeze,b0n=Object.defineProperty,x0n=(e,t)=>ede(b0n(e,"raw",{value:ede(t||e.slice())})),tde;const w0n=O(F)(tde||(tde=x0n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function _0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=dr(),{dispatch:s,state:{terms:{types:a}}}=Ot(),[l,u]=h.useState(a),d=S0n(i,a,l,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),g=h.useCallback(y=>y.type==="divider"?c.jsx(F,{paddingY:1,children:c.jsx(Dr,{})}):y.type==="header"?c.jsx(F,{margin:1,paddingBottom:2,paddingTop:3,children:c.jsx(Nt,{muted:!0,size:0,children:y.title})}):y.type==="item"?c.jsx(y0n,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),x=h.useCallback(y=>d[y].type!=="item",[d]),b=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return c.jsxs(W,{direction:"column",style:{width:"250px"},children:[c.jsx(APe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),c.jsxs(W,{children:[d.length>0&&c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:x,getItemSelected:b,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&c.jsx(F,{padding:3,children:c.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&c.jsx(C0n,{onClick:m,selectedTypes:a})]})}function C0n(e){let{onClick:t,selectedTypes:n}=e;return c.jsx(w0n,{padding:1,children:c.jsx(ne,{children:c.jsx(ae,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function S0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=M8(Whn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,l=[];return s&&l.push({title:"Selected",type:"header"}),o.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&l.push({type:"divider"}),i.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),l},[e,t,n,r])}var nde=Object.freeze,E0n=Object.defineProperty,k0n=(e,t)=>nde(E0n(e,"raw",{value:nde(t||e.slice())})),rde;const j0n=O(ae)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(rde||(rde=k0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),T0n=["top-start","bottom-start"];function A0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Ot(),l=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);zr(l,[n,o]);const d=h.useMemo(()=>uN({types:a}),[a]);return c.jsx(hn,{__unstable_margins:[l_,0,0,0],content:c.jsx(xN,{anchorElement:n,onClose:l,children:c.jsx(_0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:T0n,portal:!0,radius:i1,ref:i,children:c.jsx(j0n,{fontSize:1,iconRight:Ml,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var ode=Object.freeze,D0n=Object.defineProperty,I0n=(e,t)=>ode(D0n(e,"raw",{value:ode(t||e.slice())})),ide;const GO=O(F)(ide||(ide=I0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function OPe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Ot(),s=Hf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return c.jsxs(W,{align:"center",gap:1,children:[c.jsx(GO,{$flexShrink:i?1:0,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(DPe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&c.jsx(GO,{$flexShrink:0,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&c.jsx(GO,{$flexShrink:1,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(a,{value:t==null?void 0:t.value})})})]})}function P0n(e){return c.jsx(F,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(sr,{tone:"critical",children:c.jsx(da,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),c.jsx(sr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function O0n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return c.jsx(Me,{onClick:o,padding:3,pressed:r,tone:"default",children:c.jsxs(W,{align:"center",justify:"space-between",gap:3,children:[c.jsx(F,{paddingRight:2,children:c.jsx(B,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&c.jsx(B,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function $0n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Ot(),a=(r=dh(s.definitions.filters,t.filterName))==null?void 0:r.operators,l=h.useCallback(u=>{i({filterKey:Ui(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:c.jsx(Jt,{children:c.jsx(rn,{button:c.jsx(ae,{mode:"ghost",padding:3,children:c.jsxs(W,{align:"center",gap:2,justify:"space-between",children:[c.jsx(B,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),c.jsx(F,{marginLeft:1,children:c.jsx(B,{size:1,children:c.jsx(Ml,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>{if(u.type==="item"){const f=Hf(s.definitions.operators,u.name);return f?c.jsx(O0n,{onClick:l,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?c.jsx(Dr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function R0n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Ot(),a=dh(i.filters,t.filterName),l=Hf(i.operators,t.operatorType),u=Ku(i.fields,t),d=Ui(t),f=h.useCallback(()=>{o({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=l==null?void 0:l.inputComponent;return n?c.jsx(P0n,{padding:4}):c.jsx(_0,{onCatch:m,children:c.jsx(od,{autoFocus:!Qp,returnFocus:!0,children:c.jsxs(W,{direction:"column-reverse",children:[v&&c.jsx(ee,{borderTop:!0,padding:3,children:c.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),c.jsx(ee,{padding:3,children:c.jsxs(ne,{space:3,children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(F,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:c.jsx(IPe,{filter:t,small:!s})}),s&&c.jsx(ae,{fontSize:2,icon:uo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&c.jsx(ee,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,children:a.description})}),c.jsx($0n,{filter:t,operator:l})]})})]})})})}var sde=Object.freeze,M0n=Object.defineProperty,F0n=(e,t)=>sde(M0n(e,"raw",{value:sde(t||e.slice())})),ade;const L0n=O(W)(ade||(ade=F0n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function B0n(e){let{filter:t}=e;return c.jsxs(L0n,{direction:"column",children:[c.jsx(R0n,{filter:t}),GIe]})}var lde=Object.freeze,N0n=Object.defineProperty,HA=(e,t)=>lde(N0n(e,"raw",{value:lde(t||e.slice())})),cde,ude,dde,fde;const z0n=O(ae)(cde||(cde=HA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ge(t.sanity.radius[2])," ").concat(ge(t.sanity.radius[2])," 0")}),V0n=O(ee)(ude||(ude=HA([`
  position: absolute;
  right: 0;
`]))),H0n=O.div(dde||(dde=HA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),U0n=O(ae)(fde||(fde=HA([`
  border: none;
  width: 100%;
`])));function W0n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Ot(),l=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=u_({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return c.jsx(hn,{__unstable_margins:[l_,0,0,0],content:c.jsx(xN,{onClose:l,children:c.jsx(B0n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:i1,children:c.jsxs(H0n,{children:[c.jsx(ee,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(U0n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:c.jsx(OPe,{filter:t,showContent:p})})}),!a&&c.jsx(V0n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(z0n,{"aria-label":"Delete filter",fontSize:1,icon:ua,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function $Pe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Ot(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const l=r&&Ui(r),u=()=>c.jsx(ae,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(W,{flex:1,gap:2,wrap:"wrap",children:[c.jsx(A0n,{}),t==null?void 0:t.map(d=>{const f=Ui(d);return c.jsx(W0n,{filter:d,initialOpen:i.current&&l===f},f)}),!n&&c.jsx(Jue,{})]}),a&&!n&&c.jsx(u,{})]}),n&&c.jsxs(W,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(Jue,{}),a&&c.jsx(u,{})]}),GIe]})}function Y0n(){return c.jsx(W,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsxs(Jt,{space:3,children:[c.jsx(B,{muted:!0,children:"Use"}),c.jsx(B,{muted:!0,children:c.jsx(nj,{})}),c.jsx(B,{muted:!0,children:"to refine your search"})]})})}function q0n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>uN({availableCharacters:t,types:n}),[t,n]);return c.jsx(ee,{border:!0,padding:2,radius:2,children:c.jsx(B,{muted:!0,size:1,children:r})})}var hde=Object.freeze,G0n=Object.defineProperty,K0n=(e,t)=>hde(G0n(e,"raw",{value:hde(t||e.slice())})),pde;const Z0n=O(ee)(pde||(pde=K0n([`
  cursor: default;
`])));function X0n(e){let{filter:t}=e;return c.jsx(Z0n,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(OPe,{filter:t})})}var mde=Object.freeze,Q0n=Object.defineProperty,UA=(e,t)=>mde(Q0n(e,"raw",{value:mde(t||e.slice())})),gde,vde,yde,bde;const J0n=40,RPe=O(ae)(gde||(gde=UA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])}),e1n=O(F)(vde||(vde=UA([`
  flex-shrink: 3;
`]))),t1n=O(F)(yde||(yde=UA([`
  flex-shrink: 2;
`]))),n1n=O.div(bde||(bde=UA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),RPe);function r1n(e){let{index:t,maxVisibleTypePillChars:n=J0n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Ot(),l=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return c.jsx(F,{...o,children:c.jsx(RPe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(W,{align:"stretch",children:[c.jsxs(Jt,{paddingY:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(mve,{})}),c.jsx(B,{children:""})]}),c.jsxs(W,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&c.jsx(t1n,{paddingY:2,children:c.jsx(B,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&c.jsx(e1n,{children:c.jsx(q0n,{availableCharacters:l,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>c.jsx(X0n,{filter:f},p))]}),c.jsx(W,{align:"center",children:c.jsx(n1n,{onClick:d,children:c.jsx(W,{padding:2,children:c.jsx(B,{size:1,children:c.jsx(ua,{})})})})})]})})})}var xde=Object.freeze,o1n=Object.defineProperty,i1n=(e,t)=>xde(o1n(e,"raw",{value:xde(t||e.slice())})),wde;const s1n=36,a1n=20,l1n=40,c1n=O(ee)(wde||(wde=i1n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function MPe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Ot(),a=h.useRef(null),l=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=mm(),d=h.useMemo(()=>u<2?a1n:l1n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return c.jsx(r1n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return c.jsx(c1n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?c.jsxs(c.Fragment,{children:[c.jsx(F,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(Nt,{muted:!0,size:1,children:"Recent searches"})}),c.jsx(F,{children:c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:s1n,items:s,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(F,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(ae,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:l,padding:2,tone:"default",children:c.jsx(B,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&c.jsx(Y0n,{})})}var _de=Object.freeze,u1n=Object.defineProperty,WA=(e,t)=>_de(u1n(e,"raw",{value:_de(t||e.slice())})),Cde,Sde,Ede,kde;const d1n=Xk(Cde||(Cde=WA([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),f1n=O(rj)(Sde||(Sde=WA([`
  animation: `,` 500ms linear infinite;
`])),d1n),h1n=O(F)(Ede||(Ede=WA([`
  position: relative;
`]))),p1n=O.div(kde||(kde=WA([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),FPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:l,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Ot(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!l}),[s,l]),v=h.useCallback(b=>s({type:"TERMS_QUERY_SET",query:b.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const x=a.length>0||f.length>0;return c.jsx(ee,{flex:"none",children:c.jsxs(W,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&c.jsx(ee,{children:c.jsx(ae,{"aria-label":"Close search",icon:_F,mode:"bleed",onClick:o})}),c.jsx(F,{flex:1,children:c.jsx(mN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?f1n:Yi,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&c.jsxs(h1n,{children:[c.jsx(ae,{"aria-expanded":l,"aria-label":"Toggle filters",height:"fill",icon:nj,mode:"bleed",onClick:m,padding:3,selected:l,tone:"default"}),x&&c.jsx(p1n,{})]})]})})});function m1n(){return c.jsx(sa,{width:0,children:c.jsxs(ne,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(B,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),c.jsx(B,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function g1n(){return c.jsxs(W,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(F,{marginBottom:1,children:c.jsx(sr,{tone:"critical",children:c.jsx(Xr,{})})}),c.jsx(sr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),c.jsx(sr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const ep={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var jde=Object.freeze,v1n=Object.defineProperty,y1n=(e,t)=>jde(v1n(e,"raw",{value:jde(t||e.slice())})),Tde;const Ade=[ep.relevance,{type:"divider"},ep.createdAsc,ep.createdDesc,{type:"divider"},ep.updatedAsc,ep.updatedDesc],b1n=O(W)(Tde||(Tde=y1n([`
  box-sizing: border-box;
`])));function Dde(e){return e.type==="divider"}function x1n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Ot(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Yt(r,t),[r,t]);return c.jsx(Me,{onClick:o,padding:3,pressed:i,tone:"default",children:c.jsx(W,{align:"center",justify:"space-between",paddingRight:2,children:c.jsx(B,{size:1,weight:"medium",children:t.title})})})}function w1n(){const{state:{ordering:e}}=Ot(),t=h.useId(),n=Ade.find(r=>Yt(e,r)&&!Dde(r));return n?c.jsx(ee,{borderBottom:!0,children:c.jsx(b1n,{align:"center",flex:1,padding:2,children:c.jsx(rn,{button:c.jsx(ae,{mode:"bleed",padding:2,children:c.jsxs(W,{align:"center",gap:1,justify:"space-between",children:[c.jsx(F,{marginRight:1,children:c.jsx(B,{size:1,children:c.jsx(PF,{})})}),c.jsx(Jt,{space:2,children:c.jsx(B,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:c.jsx(Ht,{children:Ade.map((r,o)=>Dde(r)?c.jsx(Dr,{},o):c.jsx(x1n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Ide=Object.freeze,_1n=Object.defineProperty,C1n=(e,t)=>Ide(_1n(e,"raw",{value:Ide(t||e.slice())})),Pde;const S1n=O(ee)(Pde||(Pde=C1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function E1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return c.jsx(c.Fragment,{children:c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(ne,{space:2,children:o.length?c.jsx(c.Fragment,{children:o.map(i=>c.jsxs(Jt,{space:3,children:[c.jsx(xr,{size:0,weight:"semibold",children:i.path}),c.jsx(xr,{size:0,children:i.why})]},i.path))}):c.jsx(xr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:c.jsx(S1n,{padding:1,shadow:1,tone:r,children:c.jsxs(xr,{size:0,children:["score: ",n]})})})})}var Ode=Object.freeze,k1n=Object.defineProperty,j1n=(e,t)=>Ode(k1n(e,"raw",{value:Ode(t||e.slice())})),$de;const T1n=59,A1n=4,D1n=O(W)($de||($de=j1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function LPe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=Ot(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const b=o.addSearch(f,a);n({recentSearches:b,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),x=h.useCallback(b=>c.jsxs(c.Fragment,{children:[c.jsx(cN,{documentId:Zn(b.hit._id)||"",documentType:b.hit._type,onClick:g,paddingBottom:2}),s&&c.jsx(E1n,{data:b})]}),[s,g]);return c.jsx(W,{children:c.jsx(ee,{borderTop:l||!!(v||p||m),flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[p&&c.jsx(w1n,{}),c.jsx(D1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?c.jsx(g1n,{}):c.jsxs(c.Fragment,{children:[p&&c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:T1n,items:d.hits,overscan:A1n,padding:2,paddingBottom:0,ref:i,renderItem:x}),m&&c.jsx(m1n,{})]})})]})})})}var Rde=Object.freeze,I1n=Object.defineProperty,BPe=(e,t)=>Rde(I1n(e,"raw",{value:Rde(t||e.slice())})),Mde,Fde;const P1n=O(ee)(Mde||(Mde=BPe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),O1n=O(F)(Fde||(Fde=BPe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function $1n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Uc(),{state:{filtersVisible:a,terms:l}}=Ot(),u=FA({terms:l});return c.jsx(jPe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:c.jsx(vm,{children:c.jsx(od,{autoFocus:!Qp,returnFocus:!0,children:c.jsx(O1n,{children:c.jsxs(P1n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[c.jsx(FPe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&c.jsx(ee,{borderTop:!0,flex:"none",children:c.jsx($Pe,{})}),u?c.jsx(LPe,{inputElement:o}):c.jsx(MPe,{inputElement:o})]})})})})})}var Lde=Object.freeze,R1n=Object.defineProperty,wN=(e,t)=>Lde(R1n(e,"raw",{value:Lde(t||e.slice())})),Bde,Nde,zde;const M1n=O(W)(Bde||(Bde=wN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),F1n=O(W)(Nde||(Nde=wN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),L1n=O(Zr)(zde||(zde=wN([`
  padding-right: 60px;
`]))),B1n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Ot(),s=h.useCallback(l=>{o({type:"TERMS_QUERY_SET",query:l.currentTarget.value}),r()},[o,r]),a=h.useCallback(l=>{l.key==="Enter"&&r()},[r]);return c.jsxs(F1n,{align:"center",children:[c.jsx(L1n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:Yi,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),c.jsxs(M1n,{align:"center",height:"fill",marginRight:2,children:[c.jsx(Q$,{children:Hhn}),c.jsx(Q$,{children:KIe.toUpperCase()})]})]})});var Vde=Object.freeze,N1n=Object.defineProperty,MS=(e,t)=>Vde(N1n(e,"raw",{value:Vde(t||e.slice())})),Hde,Ude,Wde,Yde;const z1n=O.div(Hde||(Hde=MS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),V1n=O(ee)(Yde||(Yde=MS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(Ude||(Ude=MS([`
          left: `,`px;
        `])),t.x):de(Wde||(Wde=MS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Rx,"px), ").concat(Uhn,"px)")},e=>{let{$position:t}=e;return t.y},Rx*2,ZIe);function H1n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[l,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Rc(),{scheme:p}=Uc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Ot(),x=FA({terms:g}),b=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return zr(b,[s]),c.jsx(jPe,{hasValidTerms:x,onClose:n,onOpen:r,open:o,children:c.jsx(vm,{children:c.jsxs(od,{autoFocus:!Qp,disabled:t,returnFocus:!0,children:[c.jsx(z1n,{style:{zIndex:f}}),c.jsxs(V1n,{$position:i,overflow:"hidden",radius:i1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[c.jsx(FPe,{ariaInputLabel:x?"Search results":"Recent searches",onClose:n,ref:u}),v&&c.jsx(ee,{borderTop:!0,flex:"none",children:c.jsx($Pe,{})}),x?c.jsx(LPe,{inputElement:l}):c.jsx(MPe,{inputElement:l})]})]})})})}function U1n(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=W1n(e);return c.jsxs(c.Fragment,{children:[c.jsx(B1n,{onOpen:i,ref:t}),s&&c.jsx(H1n,{onClose:o,onOpen:i,open:n,position:s})]})}function qde(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>ZIe?t.x-Rx:null,y:t.y-Rx}}function W1n(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(qde(e))},[e]);return h.useEffect(()=>{e&&n(qde(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const Y1n="search::recent",q1n=5,Fx=2;function G1n(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:l=Fx}=e;if(!t||!i||!NPe||!a)return;const u="".concat(Y1n,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(b=>({fieldId:b.fieldId,filterName:b.filterName,operatorType:b.operatorType,value:b.value})).filter(b=>u_({fieldDefinitions:n,filter:b,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(b=>b.name)}},g=JSON.stringify(ji(v,"created")),x={version:l,recentSearches:[v,...Eb(u,l).recentSearches.filter(b=>JSON.stringify(ji(b,"created"))!==g)].slice(0,q1n)};return window.localStorage.setItem(u,JSON.stringify(x)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},getRecentSearches:()=>ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l}),removeSearch:()=>{const f={...Eb(u,l),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},removeSearchAtIndex:d=>{const f=Eb(u,l);if(d<0||d>f.recentSearches.length)return ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})}}}function Eb(e,t){const n=NPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function ry(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=K1n({lsKey:t,storedSearch:Eb(t,s)});return Z1n({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(l=>!!l.terms).map((l,u)=>({__recent:{index:u,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function K1n(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Fx){const r={version:Fx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function Z1n(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const l=LA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>l.includes(p))&&f.filters.every(p=>u_({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Fx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Eb(r,a)}const NPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),X1n=3;function Q1n(e,t){var n;const r=LA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>Gde(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,l)=>(Gde(l)&&(a.documentTypes[l.name]=l),VPe(l)&&(a.objectTypes[l.name]=l),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Dhn(t);return tyn(s,o,i)}function J1n(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function eyn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function tyn(e,t,n){function r(i){let{acc:s,defType:a,depth:l=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=l<=X1n,v=a.name.startsWith("_"),g=a!=null&&a.title?PPe(a.title):an(a.name),x=d?"".concat(d,".").concat(a.name):a.name,b=f?[...f,g]:[g];if(!m)return;const y=n[a.type],w=t[a.type],_=VPe(a)?a:null,C=w||y||_;if(C){(p=C==null?void 0:C.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:l+1,documentType:u,prevFieldPath:x,prevTitlePath:b}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:x,filterName:syn(a),id:"",name:a.name,titlePath:b,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((l,u)=>(r({acc:l,defType:u,documentType:s.name}),l),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(l=>l.fieldPath===s.fieldPath&&l.title===s.title&&l.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(nyn).sort(ayn)}function nyn(e){return{...e,id:eyn(e)}}function ryn(e){var t;return zPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function zPe(e){return e.type==="array"}function Gde(e){return e.type==="document"}function VPe(e){return e.type==="object"}function oyn(e){return e.type==="string"}function iyn(e){var t;return oyn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function syn(e){if(iyn(e))return"stringList";if(zPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(ryn(e))return"arrayList"}return e.type}function ayn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function HPe(e){return typeof e.__recent<"u"}const j4="core:studio:navbar:search:";_s(j4);function lyn(e){const t="".concat(j4).concat(e);return _s&&_s.enabled(t)?_s(t):_s(j4)}function cyn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(Vhn)}function uyn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:cyn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:ep.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const dyn=lyn("reducer");function fyn(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),dyn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:ep.relevance,terms:Dh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Dh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Dh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:qvn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Ui(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Ui(u)===t.filterKey),o=Hf(e.definitions.operators,r==null?void 0:r.operatorType),i=Hf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),l=e.filters.map(u=>Ui(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:l,terms:{...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Ui(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Dh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(C4);return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(C4),o=Ah({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Ku(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(l=>a.documentTypes.findIndex(u=>u===l)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Dh({...e.terms,filter:Th({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Dh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ah({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Dh({...e.terms,types:[]})}}default:return e}}function Dh(e){if(HPe(e)){const{__recent:t,...n}=e;return n}return e}function hyn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=Cr(gn),a=dr(),l=si(),{search:{operators:u,filters:d}}=ur(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:J1n(Q1n(a,d)),filterDefinitions:Ahn(d),operatorDefinitions:Yvn(u)}),[d,u,a]),x=h.useMemo(()=>G1n({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:l,version:Fx}),[l,f,m,v,g,p,a]),b=h.useMemo(()=>x==null?void 0:x.getRecentSearches(),[x]),y=h.useMemo(()=>uyn({currentUser:l,fullscreen:n,recentSearches:b,definitions:{fields:m,operators:g,filters:v}}),[l,m,v,n,g,b]),[w,_]=h.useReducer(fyn,y),{documentTypesNarrowed:C,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(y.ordering),I=h.useRef(y.pageIndex),P=h.useRef(y.terms),{handleSearch:M,searchState:$}=XIe({initialState:{...k,terms:T},onComplete:z=>_({hits:z,type:"SEARCH_REQUEST_COMPLETE"}),onError:z=>_({error:z,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>_({type:"SEARCH_REQUEST_START"}),schema:a}),V=FA({terms:T}),L=C.map(z=>a.get(z)),H=S.filter(z=>u_({fieldDefinitions:m,filter:z,filterDefinitions:v,operatorDefinitions:g})),U=h.useCallback(z=>{r.current=z},[]);return h.useEffect(()=>{const z=!Yt(E,D.current),Y=j!==I.current,te=!Yt(T,P.current);if(z||Y||te){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);M({options:{comments:[...HPe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:mce,offset:j*mce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...L?{types:L}:{}}}),I.current=j}D.current=E,P.current=T},[H.length,S,L,M,V,E,j,$.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&_({type:"SEARCH_CLEAR"}),A.current=!0},[_,V,k.hits,T.query,T.types]),c.jsx(WIe.Provider,{value:{dispatch:_,onClose:r==null?void 0:r.current,recentSearchesStore:x,searchCommandList:o,setSearchCommandList:i,setOnClose:U,state:{...w,fullscreen:n}},children:t})}const UPe="3.19.1";function pyn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(UPe)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function myn(){const e=Cr({apiVersion:"1"}),t=h.useMemo(()=>pyn(e),[e]);return yTe(t)}function gyn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?c.jsx(W,{align:"center",justify:"center",padding:3,children:c.jsx(Vr,{})}):c.jsxs(c.Fragment,{children:[(r===void 0||t)&&c.jsx("div",{children:vyn}),!t&&(i==null?void 0:i.map(a=>a?c.jsx(yyn,{subSection:a},a._key):null)),c.jsxs(F,{padding:3,children:[c.jsxs(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",UPe]}),!t&&s&&c.jsx(F,{paddingTop:2,children:c.jsxs(B,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const vyn=c.jsxs(c.Fragment,{children:[c.jsx(Me,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),c.jsx(Me,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),c.jsx(Me,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),c.jsx(Dr,{})]});function yyn(e){let{subSection:t}=e;var n;return c.jsxs(c.Fragment,{children:[t.sectionTitle&&c.jsx(ee,{padding:2,paddingTop:3,marginLeft:1,children:c.jsx(Nt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?c.jsx(Me,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&c.jsx(Me,{text:r.title,size:0},r._key):null;default:return null}}),c.jsx(Dr,{})]})}var Kde=Object.freeze,byn=Object.defineProperty,xyn=(e,t)=>Kde(byn(e,"raw",{value:Kde(t||e.slice())})),Zde;const wyn=O(Ht)(Zde||(Zde=xyn([`
  max-width: 300px;
  min-width: 200px;
`])));function _yn(){const{scheme:e}=Uc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=myn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return c.jsx(W,{children:c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:c.jsx("div",{children:c.jsx(rn,{button:c.jsx(ae,{"aria-label":"Help and resources",icon:Dv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:c.jsx(wyn,{children:c.jsx(gyn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var Xde=Object.freeze,Cyn=Object.defineProperty,_N=(e,t)=>Xde(Cyn(e,"raw",{value:Xde(t||e.slice())})),Qde,Jde,efe;const Syn=O(es)(Qde||(Qde=_N([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),Eyn=O(ee)(Jde||(Jde=_N([`
  line-height: 0;
`]))),kyn=O(W)(efe||(efe=_N([`
  width: max-content;
`])));function jyn(){const{name:e,tools:t,...n}=Nl(),r=w0().theme,o=c_(),i=cT(),{scheme:s}=Uc(),{href:a,onClick:l}=B_e({state:{}}),u=mm(),d=typeof i.tool=="string"?i.tool:void 0,f=Cvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(CPe),g=Myn(),x=YPe(),[b,y]=h.useState(!1),w=h.useRef(i),_=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==_.current)&&y(!1),w.current=i,_.current=e},[e,i]);const[C,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&hd,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?an(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),P=h.useCallback(()=>{y(!1),C==null||C.focus()},[C]),M=h.useCallback(()=>{y(!0)},[]);return c.jsxs(Syn,{zOffset:100,"data-search-open":m,children:[c.jsx(Eyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:c.jsxs(W,{align:"center",justify:"space-between",children:[c.jsxs(kyn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&c.jsx(F,{marginRight:1,children:c.jsx(ae,{mode:"bleed",icon:jF,onClick:M,ref:S})}),!k.brandingCenter&&c.jsx(F,{marginRight:1,children:c.jsx(Wue,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),k.workspaces&&c.jsx(F,{marginRight:2,children:c.jsx(bPe,{collapsed:!0})}),c.jsx(F,{marginRight:k.brandingCenter?void 0:2,children:c.jsx(_vn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),c.jsx(Mf,{children:c.jsx(hyn,{fullscreen:k.searchFullscreen,children:c.jsxs(gm,{element:document.body,children:[c.jsx(C0,{element:v,children:k.searchFullscreen&&c.jsx($1n,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&c.jsx(U1n,{})]})})}),k.tools&&c.jsx(ee,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:c.jsx(x,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&c.jsx(F,{marginX:1,children:c.jsx(Wue,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),c.jsxs(W,{gap:2,children:[(k.configIssues||k.resources)&&c.jsx(ee,{borderRight:!0,children:c.jsxs(W,{gap:1,paddingX:2,children:[k.configIssues&&c.jsx(Vvn,{}),k.resources&&c.jsx(_yn,{})]})}),c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Ovn,{collapse:k.collapsedPresenceMenu}),k.tools&&c.jsx(ovn,{}),k.searchFullscreen&&c.jsx(ae,{"aria-label":"Open search",icon:Yi,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&c.jsx(zvn,{activeToolName:d,isOpen:b,onClose:P,tools:t})]})}const WPe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=cT(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return c.jsx(lT,{state:i,...o,ref:n})});function Tyn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Uc(),[o,i]=h.useState(null);TTe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||an(l.name)||void 0,f=h.forwardRef(function(m,v){return c.jsx(WPe,{...m,ref:v,name:l.name})});return c.jsx(sN,{as:f,"data-as":"a",collapsedProps:{tooltipText:l.title},icon:l.icon||xl,mode:"bleed",selected:t===l.name,text:d,tooltipProps:{scheme:r}},"".concat(l.name,"-").concat(u))}),[t,r,n]);return c.jsx(iN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Ayn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>c.jsx(ne,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||an(o.name)||void 0,s=h.forwardRef(function(l,u){return c.jsx(WPe,{...l,ref:u,name:o.name})});return c.jsx(ne,{as:"li",children:c.jsx(ae,{as:s,icon:o.icon||Pve,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function Dyn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?c.jsx(Ayn,{isVisible:n,...r}):c.jsx(Tyn,{...r})}function Iyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Pyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Oyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function $yn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function YPe(){return Bl({defaultComponent:Dyn,pick:Iyn})}function Ryn(){return Bl({defaultComponent:jyn,pick:Pyn})}function Myn(){return Bl({defaultComponent:qmn,pick:$yn})}function Fyn(){return Bl({defaultComponent:Wgn,pick:Oyn})}const tfe=nUt.__sanityErrorChannel;function Lyn(){const{push:e}=Ai();return h.useEffect(()=>{if(tfe)return tfe.subscribe(t=>{t.error&&(Byn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Byn(e){return e instanceof gN||e instanceof oB||e instanceof Ra}function Nyn(e){let{children:t,AuthenticateComponent:n=xPe,LoadingComponent:r=Sb,NotAuthenticatedComponent:o=wPe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,l]=h.useState("loading"),{activeWorkspace:u}=s1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){l("unauthorized");return}l(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?c.jsx(r,{}):a==="unauthorized"?c.jsx(o,{}):a==="logged-out"?c.jsx(n,{}):c.jsx(c.Fragment,{children:t})}function zyn(e){let{children:t}=e;const n=s1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return c.jsx(VA.Provider,{value:!1,children:c.jsx(zA.Provider,{value:r,children:c.jsx(A5,{scheme:r,theme:n,tone:"transparent",children:c.jsx(Mf,{children:t})})})})}return c.jsx(A5,{theme:n,tone:"transparent",children:c.jsx(Mf,{children:t})})}const Vyn={toast:[100,11e3]};var nfe=Object.freeze,Hyn=Object.defineProperty,qPe=(e,t)=>nfe(Hyn(e,"raw",{value:nfe(t||e.slice())})),rfe,ofe;O(W)(rfe||(rfe=qPe([""])));O(F).attrs({padding:4})(ofe||(ofe=qPe([""])));function Uyn(e){const{basePath:t="/",tools:n}=e,r=gi.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?gi.scope(i.name,"/",i.router):gi.create("/")});return gi.create(t,[gi.intents("/intent"),r])}function CN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((l,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),l;if(l[u.name]){const p=l[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),l}const f=r.indexOf(u.name);return l[u.name]={tool:u,index:f===-1?1/0:f},l},{}),s=l=>o.indexOf(l.name)===-1,a=e.filter(s);return a.sort((l,u)=>{const d=i[l.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function Wyn(e,t){const r=CN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Yyn(e,t){return t&&(CN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function qyn(e,t){return Wyn(e,Yyn(e,t))}function Gyn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!_t(o))throw new Error("intent params must be a string");const s=CN(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,l=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(l!=null&&l.getIntentState){const u=l.getIntentState(r,o,t&&t[l.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:l.name,[l.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function Kyn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function Zyn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=_gn(),a=h.useMemo(()=>Uyn({basePath:o,tools:i}),[o,i]),[l,u]=Xyn(s,a,i);return l?c.jsx(Cft,{onNavigate:u,router:a,state:l,children:t}):c.jsx(n,{})}function Xyn(e,t,n){var r;const o=h.useMemo(()=>{const l=t.getBasePath(),u=new RegExp("^".concat(E7(l),"(\\/|$)"),"i"),d=f=>l==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Kyn(t,f):null}},[e,t]),i=x7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Yt),s=h.useRef(i);h.useEffect(()=>{var l;if((i==null?void 0:i.type)==="state"&&!((l=i.state)!=null&&l.intent)){const u=qyn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const l=ife(i,t,n,s);l?e.replace(l):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>l=>{let{path:u,replace:d}=l;const f=o.selector(u),p=ife(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function ife(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=Gyn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function Qyn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=s1(),[s,a]=h.useState(null);return h.useEffect(()=>{const l=zo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Xn(f=>{if(f instanceof Ra)return be(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof Ra);if(d.length)throw new Ra({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>l.unsubscribe()},[i]),s?c.jsx(ipn,{workspace:s,children:c.jsx(spn,{source:s.unstable_sources[0],children:c.jsx(Zyn,{LoadingComponent:n,workspace:s,children:t})})}):c.jsx(n,{})}function Jyn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return c.jsx(_0,{onCatch:o,children:c.jsx(Qyn,{...n})})}Mp.registerLanguage(uzt);Mp.registerLanguage(q7e);Mp.registerLanguage(fzt);Mp.registerLanguage(pzt);Mp.registerLanguage(gzt);function ebn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const l=c.jsx(Jyn,{LoadingComponent:Sb,ConfigErrorsComponent:Fgn,children:c.jsx(IYt,{children:t})});return c.jsx(Gmn,{onSchemeChange:o,scheme:i,children:c.jsxs(EL,{paddingY:7,zOffset:Vyn.toast,children:[c.jsx(Lyn,{}),c.jsx(_Pe,{children:c.jsx(Xmn,{config:n,basePath:r,children:c.jsx(Egn,{unstable_history:s,NotFoundComponent:mgn,LoadingComponent:Sb,children:c.jsx(zyn,{children:c.jsx(TZt,{children:a?l:c.jsx(Nyn,{LoadingComponent:Sb,AuthenticateComponent:xPe,NotAuthenticatedComponent:wPe,children:l})})})})})})]})})}function tbn(){const e=Fyn();return c.jsx(e,{})}function sfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return c.jsxs(ebn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&c.jsx(iqt,{}),c.jsx(tbn,{})]})}function nbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=vje(e);return s.render(o?c.jsx(h.StrictMode,{children:c.jsx(sfe,{config:t,basePath:i,unstable_globalStyles:!0})}):c.jsx(sfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function Cr(e){const t=ur();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const afe="connecting";function rbn(e,t){const n=Vl();return Ao(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),tt(r=>r?be("connected"):Ei(200).pipe(ML("reconnecting"))),ki(afe),Kn()),[n.pair,e,t],afe)}function GPe(){return ur().dataset}function Wc(e,t){const n=Vl();return Ao(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function obn(e,t){const n=Vl();return Ao(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function SN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Vl();return Ao(()=>{const o=r.pair.editState(e,t).pipe(Ya());return n==="low"?xn(o.pipe(ys(1)),o.pipe(Lwe(1),Awe(()=>Ei(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function KPe(){return ur().projectId}function dr(){return ur().schema}const ibn={isSyncing:!0},lfe={isSyncing:!1};function sbn(e,t){const n=Vl();return Ao(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?lfe:ibn)),[n.pair,t,e],lfe)}function d_(){return ur().templates}const KO=1e3*5,cfe=1e3*20,T4=1e3*60,i2=T4*60;function Uf(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=abn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function abn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=DSt(r,n),i=OSt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Zo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Zo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Zo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=PSt(r,n),a=Br("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:i2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:i2};const l=wSe(r,n),u=Br("days",l);if(l){if(t.minimal){const b=t.agoSuffix?"".concat(l,"d ago"):"".concat(l,"d");return{timestamp:l===1?"yesterday":b,refreshInterval:i2}}const x=t.agoSuffix?"".concat(l," ").concat(u," ago"):"".concat(l," ").concat(u);return{timestamp:l===1?"yesterday":x,refreshInterval:i2}}const d=kSt(r,n),f=Br("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:T4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:T4};const p=jSt(r,n),m=Br("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:cfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:cfe};const v=ISt(r,n),g=Br("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:KO}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:KO}:{timestamp:"just now",refreshInterval:KO}}const lbn={validation:[],isValidating:!1};function EN(e,t){const n=Vl();return Ao(()=>n.pair.validation(e,t),[n.pair,e,t],lbn)}const ufe={isLoading:!0,enabled:!0,features:[]};function cbn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let ZO;function ZPe(e){const t=Cr(gn);return ZO||(ZO=cbn({versionedClient:t}).pipe(To())),Ao(()=>ZO.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ki(ufe),Xn(r=>(console.error(r),be({isLoading:!1,enabled:!0,features:[]})))),[e],ufe)}const ubn=lh(e=>{let[t,n]=e;return wr(t.getUser(n).catch(r=>(console.error(r),null)))});function a1(e){const t=ON();return ubn(h.useMemo(()=>[t,e],[e,t]))}function si(){const{currentUser:e}=ur();return e}const dfe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},ffe=e=>({type:"snapshot",document:e}),hfe=e=>e.document,dbn=e=>{const t=new Tr,n=new Uj(!0),r=new Tr,o=new Tr,i=new Tr,s=new Tr,a=b=>{const y=new i9t(b);return y.onMutation=w=>{let{mutation:_,remote:C}=w;r.next({type:"mutation",document:dfe(y),mutations:_.mutations,origin:C?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,_,C)=>{o.next({type:"rebase",document:w,remoteMutations:_,localMutations:C})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},l=e.pipe(Wa((b,y)=>y.type==="snapshot"?(b&&b.commit(),a(y.document||null)):b===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):b,null),ct(b=>b!==null),Kn(),gl(1),ml()),u=e.pipe(ct(b=>b.type==="mutation"),tb(l),ce(b=>{let[y,w]=b;return w.arrive(new Ec(y)),dfe(w)})),d=t.pipe(tb(l),Wn(b=>{let[y,w]=b;y.type==="mutation"&&w.add(new Ec({mutations:y.mutations})),y.type==="commit"&&w.commit()}),Up(Gn),Ya()),f=b=>t.next(b),p=b=>f({type:"mutation",mutations:b}),m=b=>p([b]),v=()=>{l.pipe(ys(1),Wn(b=>b.commit())).subscribe()},g=xn(l.pipe(ce(b=>b.LOCAL)),r.pipe(ce(hfe)),o.pipe(ce(hfe)),u).pipe(ce(ffe),gl(1),ml()),x=xn(l.pipe(ce(b=>b.document.HEAD),ce(ffe)),i).pipe(gl(1),ml());return{updates$:xn(g,d,r,o),consistency$:n.pipe(Kn(),gl(1),ml()),remoteSnapshot$:x,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},fbn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},pfe=(e,t)=>{const n=dbn(t),r=fbn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},hbn={type:"pending",phase:"begin"},pbn={type:"pending",phase:"end"};function mbn(e){return e.type==="mutation"}function gbn(e){return e.transactionTotalEvents>1}function vbn(e){const t=e7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function ybn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return jo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(pR(s=>s.type==="welcome"?i().pipe(pR(a=>[mfe(o,a.draft),mfe(r,a.published)])):be(s)),Wa((s,a)=>{if(!mbn(a))return{next:[a],buffer:[]};const l=s.buffer.length>0,u=gbn(a);if(!u&&!l)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return vbn(d)?{next:d.concat(pbn),buffer:[]}:{next:d.length===1?[hbn]:[],buffer:d}},{next:[],buffer:[]}),vt(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,l]=s;return{draft:a,published:l}}))}}function mfe(e,t){return{type:"snapshot",documentId:e,document:t}}const gfe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function s2(e){return t=>({...t,version:e})}function bbn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function xbn(e,t){return wr(bbn(e,t.mutation.params)).pipe(Wn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function XPe(e,t){const{publishedId:n,draftId:r}=t,o=ybn(e,t).pipe(Ya()),i=o.pipe(ct(d=>d.type==="reconnect")),s=pfe(r,o.pipe(ct(gfe(r)))),a=pfe(n,o.pipe(ct(gfe(n)))),l=o.pipe(ct(d=>d.type==="pending")),u=xn(s.commitRequest$,a.commitRequest$).pipe(vt(d=>xbn(e,d)),Up(Gn),Ya());return{transactionsPendingEvents$:l,draft:{...s,events:xn(u,i,s.events).pipe(ce(s2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(s2("draft")))},published:{...a,events:xn(u,i,a.events).pipe(ce(s2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(s2("published")))}}}function Yc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Fm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function f_(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const YA=Yc((e,t,n)=>new ut(r=>{r.next(XPe(e,t))}).pipe(gl(1),ml()),f_);function wbn(e){return e.type==="snapshot"}function vfe(e){return{snapshots$:e.events.pipe(ct(wbn),ce(t=>t.document),gl(1),ml()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const kN=Yc((e,t,n)=>YA(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:vfe(o),draft:vfe(i)}}),gl(1),ml()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),_bn={enabled:!0},yfe={enabled:!1},QPe=Yc((e,t,n)=>{const r=Fm(e.schema,n);return kN(e.client,t,n).pipe(tt(o=>zo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?_bn:yfe),ki(yfe))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ki({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),gl(1),ml())},(e,t,n)=>f_(e.client,t,n)),JPe=Yc((e,t,n)=>kN(e.client,t,n).pipe(tt(r=>zo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),gl(1),ml()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),_k={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Fm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function A4(e){return Zu(e)?e._strengthenOnPublish?ji(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(A4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,A4(r)]}))}const eOe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Fm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=A4(ji(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},tOe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;Fm(t,s)?i.mutate([i.createIfNotExists({_type:s,...l}),...i.patch(a)]):o.mutate([o.createIfNotExists({...l,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},nOe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Gn}},rOe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},oOe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Fm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...ji(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Cbn=["_createdAt","_updatedAt"],iOe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...ji(s,Cbn),_id:Fm(n,i)?t:ni(t),_type:s._type},{tag:"document.duplicate"})}},sOe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Fm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},aOe=Yc((e,t,n)=>YA(e,t,n).pipe(tt(r=>{let{draft:o,published:i}=r;return zo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Kn(),gl(1),ml()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function Sbn(e){return typeof e>"u"?be(null):e}const Ebn={del:_k,delete:_k,publish:eOe,patch:tOe,commit:nOe,discardChanges:rOe,unpublish:oOe,duplicate:iOe,restore:sOe},kbn=(e,t,n)=>{const r=Ebn[e];return jo(()=>xn(be(null),Sbn(r.execute(t,...n)))).pipe(Yet())},lOe=new Tr;function cOe(e,t,n,r){lOe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const jbn=["publish","unpublish","discardChanges","delete"],uOe=Yc(e=>{const t=lOe.pipe(Fwe(o=>o.idPair.publishedId),vt(o=>o.pipe(tt(i=>JPe(e,i.idPair,i.typeName).pipe(ys(1),tt(s=>{const a=jbn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const l=aOe(e.client,i.idPair,i.typeName).pipe(ct(Boolean));return(a?l.pipe(ys(1)):be(!0)).pipe(tt(()=>kbn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),Xn(s=>be({type:"error",args:i,error:s})))))),Ya()),n=1e3,r=t.pipe(ct(o=>o.type==="success"&&o.args.operationName==="patch"),M5(n,Dc,{leading:!0,trailing:!0}),Wn(o=>{cOe("commit",o.args.idPair,o.args.typeName,[])}));return xn(t,r.pipe(Up(Gn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),Tbn=Yc((e,t,n)=>YA(e,t,n).pipe(tt(r=>{let{published:o,draft:i}=r;return xn(o.remoteSnapshot$,i.remoteSnapshot$)})),f_),Abn={isValidating:!0,validation:[]};function Dbn(e){return qke(e,(t,n)=>(Zu(n)&&t.add(n._ref),t),new Set)}const Ibn=[],Pbn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),Obn=200,$bn=1e3;function XO(){return To({bufferSize:1,refCount:!0})}const Rbn=Yc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=QPe(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),M5(Obn,Dc,{trailing:!0}),Kn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Bf(ji(d,"_rev","_updatedAt"),ji(f,"_rev","_updatedAt"))),XO()),a=i.pipe(ce(d=>Dbn(d)),vt(d=>wr(d))).pipe(Fwe(d=>d,{duration:()=>Ei(1e3*60*30)}),vt(d=>d.pipe(Vet(),vt(f=>Pbn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),Wa((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Kn(Bf),XO()),l=d=>{let{id:f}=d;return yo(a.pipe(Mwe(p=>f in p),ce(p=>p[f])))},u=a.pipe(Lwe(1),M5($bn,Dc,{leading:!0,trailing:!0}));return zo([i,fo(be(null),u)]).pipe(ce(d=>{let[f]=d;return f}),Zke(d=>jo(()=>d!=null&&d._type?fo(be({isValidating:!0,revision:d._rev}),Yqt(e.getClient,d,e.schema,{getDocumentExists:l}).pipe(ce(f=>({validation:f,isValidating:!1})))):be({validation:Ibn,isValidating:!1}))),Wa((d,f)=>({...d,...f}),Abn),XO())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Mbn=Yc((e,t,n)=>YA(e,t,n).pipe(tt(r=>{let{draft:o,published:i}=r;return xn(o.events,i.events)})),f_);function eu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Fbn={commit:eu("commit"),delete:eu("delete"),del:eu("del"),publish:eu("publish"),patch:eu("patch"),discardChanges:eu("discardChanges"),unpublish:eu("unpublish"),duplicate:eu("duplicate"),restore:eu("restore")},Lbn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return cOe(e,t,n,o)};function tu(e,t,n){return{disabled:t.disabled(n),execute:Lbn(e,n.idPair,n.typeName)}}function Bbn(e){return{commit:tu("commit",nOe,e),delete:tu("delete",_k,e),del:tu("delete",_k,e),publish:tu("publish",eOe,e),patch:tu("patch",tOe,e),discardChanges:tu("discardChanges",rOe,e),unpublish:tu("unpublish",oOe,e),duplicate:tu("duplicate",iOe,e),restore:tu("restore",sOe,e)}}const Nbn=Yc((e,t,n)=>{const r=uOe(e),i=JPe(e,t,n).pipe(ce(Bbn));return fo(be(Fbn),xn(r.pipe(vt(()=>Gn)),i)).pipe(To({refCount:!0,bufferSize:1}))},(e,t,n)=>f_(e.client,t,n)),zbn=(e,t,n,r)=>jo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),Vbn=(e,t,n,r)=>jo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function bfe(e){return e.type==="welcome"}function Hbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=Vbn(e,i,n,r).pipe(vt((f,p)=>p===0&&!bfe(f)?j0(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):be(f)),Ya()),[a,l]=Ewe(s,bfe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>zbn(e,o,n,r);return xn(a.pipe(ys(1)),l.pipe(ct(u),M5(r.throttleTime||1e3,Dc,{leading:!0,trailing:!0}))).pipe(Zke(f=>f.type==="mutation"&&f.visibility!=="query"?Ei(1200).pipe(vt(d)):d()))}function Ubn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return be(n);const r="*[_id in [$documentId, $draftId]]._type",o=Zn(t),i=ni(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function tm(e){return _r(e)}const Wbn=["_key","_ref","_weak","_type"];function Ybn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function xfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!tm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return D4(e)}catch(r){throw r.message=n(r.message),r}}function D4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(vr(t),'")'));return D4(o,t.concat(i),!0)});if(!tm(e))return e;const r=n&&!e._key?{_key:Bw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&qbn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=D4(e[i],t.concat([i])),o),r)}function qbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(vr(t),'"'));const n=Object.keys(e).filter(r=>!Wbn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Ybn).join(", "),' at path "').concat(vr(t),'"'))}}function jN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];tm(o)&&tm(i)&&(n[r]=jN(i,o))}),n}function Gbn(e){return tm(e)&&typeof e.serialize=="function"}async function qA(e,t,n){return typeof e=="function"?e(t,n):e}async function TN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Gbn(t))return TN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await qA(s,n,r);if(!tm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));tm(a)&&!Object.keys(a).length&&(a={_type:i}),a=xfe(a,t);const l=e.get(i);if(!l)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=jN(await GA(l,n,AN,r)||{},a);return xfe(u,t)}function Kbn(e,t){const n=Ts(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const AN=10;function GA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ka(e)?Xbn(e,t,n,r):Ol(e)?Zbn(e,t,n,r):qA(e.initialValue,t,r)}async function Zbn(e,t,n,r){const o=await qA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=Kbn(e,i);return Ka(s)?{...i,...await GA(s,t,n-1,r),_key:Bw()}:i}))}async function Xbn(e,t,n,r){const o={...await qA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const l=await GA(a.type,t,n-1,r);l!=null&&(i[a.name]=l)}));const s=jN(i,o);if(!E9(s))return e.name!=="object"&&(s._type=e.name),s}const wfe={type:"loading"};function Qbn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:ni(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Zn(r.documentId)},["_type"]);return xn(i.pipe(ce(l=>({draft:l}))),s.pipe(ce(l=>({published:l})))).pipe(Wa((l,u)=>({...l,...u}),{}),ct(l=>"draft"in l&&"published"in l),ce(l=>l.draft||l.published),Kn((l,u)=>!!l!=!!u),Dwe(25)).pipe(tt(l=>{if(l)return be({type:"success",value:null});if(!r.templateName)return be({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),be({isResolving:!1,initialValue:void 0});const d=wr(TN(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(Xn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),be({type:"error",error:f}))));return xn(be({isResolving:!0}),d).pipe(tt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return be(v?{type:"error",message:"Failed to resolve initial value"}:p?wfe:{type:"success",value:m})}))}),ki(wfe),Kn())}function oy(e){if(q7(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ni(e)}}function Jbn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(gn),l={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return XPe(a,u)},initialValue(u,d){return Qbn(i,o,n,u,d)},listenQuery(u,d,f){return Hbn(a,u,d,f)},resolveTypeForDocument(u,d){return Ubn(a,u,d)},pair:{consistencyStatus(u,d){return aOe(l.client,oy(u),d)},documentEvents(u,d){return Mbn(l.client,oy(u),d)},editOperations(u,d){return Nbn(l,oy(u),d)},editState(u,d){return QPe(l,oy(u),d)},operationEvents(u,d){return uOe({client:a,historyStore:r,schema:i}).pipe(ct(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Rbn(l,oy(u),d)}}}}const _fe={isLoaded:!1,documentType:void 0};function pOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Vl(),r=Zn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:_fe);return h.useEffect(()=>a(_fe),[r,t]),h.useEffect(()=>{if(o)return;const l=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,o]),o?i:s}function exn(e,t){const n=Os(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):be(void 0),[e,n,t]);return yTe(r)}function txn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Go(o),s=Vl(),a=DN(),l=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:l});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:l});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:l}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...l,...v.value}:l}),v.type==="error"&&d({loading:!1,error:v.error,value:l})});return d({loading:!0,error:null,value:l}),()=>m.unsubscribe()},[l,t,s,n,r,i,a]),u}function DN(){const e=ur(),t=dr(),n=si(),r=KPe(),o=GPe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function IN(){const e=DN();return h.useCallback((t,n)=>GA(t,n,AN,e),[e])}function nxn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function rxn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:l}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",l("update",o)]]:[["delete draft document",l("update",r)],["delete published document",l("update",o)]];case"discardDraft":return i?[]:[["delete draft document",l("update",r)]];case"publish":return i?[]:[["update published document at its current state",l("update",o)],["delete draft document",l("update",r)],["create published document from draft",l("create",r&&{...r,_id:Zn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",l("create",r)],["delete published document",l("update",o)],["create draft document from published version",l("create",o&&{...o,_id:ni(o._id)})]];case"update":return i?[["update published document (live-edit)",l("update",o)]]:[["update ".concat(a," document"),l("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",l("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),l("create",{...s,_id:ni("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function oxn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return be({granted:!1,reason:"Type specified was `*`"});const a=!!nxn(r,s).liveEdit;return kN(t,{draftId:ni(o),publishedId:Zn(o)},s).pipe(tt(l=>zo([l.draft.snapshots$,l.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),tt(l=>{let{draft:u,published:d}=l;const f=rxn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ce(g=>{let{granted:x,reason:b}=g;return{granted:x,reason:x?"":"not allowed to ".concat(m,": ").concat(b),label:m,permission:i}}))});return f.length?zo(f).pipe(ce(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):be({granted:!0,reason:""})}))}const ixn=lh(oxn);function fh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=Cr(gn),l=dr(),u=$N(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||l,[l,i]),p=h.useMemo(()=>s||u,[u,s]);return ixn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function dOe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const sxn=lh(dOe);function axn(e){let{document:t,permission:n,...r}=e;const o=$N();return sxn({grantsStore:r.grantsStore||o,document:t,permission:n})}function fOe(e){return typeof e=="object"&&e!==null&&"serialize"in e?fOe(e.serialize()):e}function lxn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?zo(n.map(fOe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const l=await TN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:l}}).map(s=>wr(s).pipe(tt(a=>{let{item:l,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=l;return dOe({grantsStore:t,permission:"create",document:{_id:p?Zn(m):ni(m),...u}}).pipe(ce(v=>{let{granted:g,reason:x}=v;const b=l.title||d.title;return{...l,granted:g,reason:x,resolvedInitialValue:u,template:d,title:b,subtitle:f.title===b?void 0:f.title,description:l.description||d.description,icon:l.icon||d.icon}}))})))):be([])}const cxn=lh(lxn);function hOe(e){let{templateItems:t,...n}=e;const r=dr(),o=d_(),i=$N(),s=DN();return cxn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Cfe="_debug_",uxn=typeof window>"u"?be({}):Zi(window,"hashchange"),pOe=fo(be(0),uxn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Kn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Cfe)).map(t=>t.substring(Cfe.length)))),dxn=pOe.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),fxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Sfe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],hxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],pxn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Efe=[{filter:'_id in path("**")',permissions:["read","history"]}],mxn=[{filter:"!locked",permissions:["read","create","update"]}],gxn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],kfe={administrator:fxn,editor:Sfe,developer:hxn,contributor:pxn,viewer:Efe,restricted:gxn,requiresApproval:mxn,read:Efe,write:Sfe},vxn=dxn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in kfe).flatMap(t=>kfe[t]||[]):null));async function yxn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function bxn(e){const t={};return e!==null&&(t.identity=e.id),t}const QO=new Map;async function xxn(e,t,n){QO.has(t)||QO.set(t,aje("*[".concat(t,"]")));const r=QO.get(t),o=bxn(e),{identity:i}=o,s={...o},a=await(await tje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function wxn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=jo(()=>be(r.config())).pipe(tt(s=>{let{projectId:a,dataset:l}=s;if(!a||!l)throw new Error("Missing projectId or dataset");return yxn(r,a,l)})),i=vxn.pipe(tt(s=>s?be(s):o),gl(1),X7t(1e3));return{checkDocumentPermission(s,a){return i.pipe(tt(l=>_xn(n,l,s,a)),Kn(Bf))}}}async function _xn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await xxn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function Cxn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Sxn(r)}function Sxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(l){if(l.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(l.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}var Exn=Object.defineProperty,kxn=(e,t,n)=>t in e?Exn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JO=(e,t,n)=>(kxn(e,typeof t!="symbol"?t+"":t,n),n);function jfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function jxn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Tfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Txn{constructor(t){JO(this,"timeline"),JO(this,"earliestTransactionId",null),JO(this,"_states"),this.timeline=t,this._states={draft:jfe(t.draftId),published:jfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Tfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Tfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=jxn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=PM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}var Axn=Object.defineProperty,Dxn=(e,t,n)=>t in e?Axn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ih=(e,t,n)=>(Dxn(e,typeof t!="symbol"?t+"":t,n),n);class Ixn{constructor(t,n,r,o){Ih(this,"timeline"),Ih(this,"start"),Ih(this,"end"),Ih(this,"doc"),Ih(this,"_startDocument"),Ih(this,"_endDocument"),Ih(this,"_diff"),this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Afe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Afe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Afe(e){return e.draft||e.published}var Pxn=Object.defineProperty,Oxn=(e,t,n)=>t in e?Pxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hi=(e,t,n)=>(Oxn(e,typeof t!="symbol"?t+"":t,n),n);const $xn=50;class Rxn{constructor(t){hi(this,"timeline"),hi(this,"client"),hi(this,"handler"),hi(this,"version",0),hi(this,"selectionState","inactive"),hi(this,"_aligner"),hi(this,"_fetchMore",!1),hi(this,"_fetchAtLeast",0),hi(this,"_isRunning",!1),hi(this,"_isSuspended",!1),hi(this,"_didErr",!1),hi(this,"_since",null),hi(this,"_sinceTime",null),hi(this,"_rev",null),hi(this,"_revTime",null),hi(this,"_reconstruction"),this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Txn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new Ixn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=$xn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await Cxn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Mxn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Dfe(e){return e.draft||e.published}var Fxn=Object.defineProperty,Lxn=(e,t,n)=>t in e?Fxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wo=(e,t,n)=>(Lxn(e,typeof t!="symbol"?t+"":t,n),n);class Bxn{constructor(t,n,r,o){wo(this,"type","array"),wo(this,"value"),wo(this,"length"),wo(this,"annotation"),wo(this,"extractor"),wo(this,"content"),wo(this,"elements",[]),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=Ck(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class Nxn{constructor(t,n,r,o){wo(this,"type","object"),wo(this,"value"),wo(this,"keys"),wo(this,"annotation"),wo(this,"extractor"),wo(this,"content"),wo(this,"fields",{}),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=Ck(r,this.value[t],this.extractor)}}class zxn{constructor(t,n,r,o){wo(this,"type","string"),wo(this,"value"),wo(this,"annotation"),wo(this,"extractor"),wo(this,"content"),this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const l=r[r.length-1];if(Mxn(l.annotation,a)){l.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,l=Math.max(0,t-o);if(l<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(l,u),this.extractor.fromValue(s))}o+=a}return r}}function Ck(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Bxn(e.content,t,r,n);case"object":return new Nxn(e.content,t,r,n);case"string":return new zxn(e.content,t,r,n)}return b7(t,r)}function Ife(e,t,n){return n?I4(e,n.transactionIndex+1,n.chunk.index):t?I4(e,t.start,t.index):null}function Pfe(e,t){return t?I4(e,t.transactionIndex,t.chunk.index):null}function I4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Vxn(e,t,n,r,o,i){const s=Ck(n,r,{fromValue(l){return Ife(e,t,l.endMeta)},fromMeta(l){return Ife(e,t,l)}}),a=Ck(o,i,{fromValue(l){return Pfe(e,l.startMeta)},fromMeta(l){return Pfe(e,l)}});return JT(s,a)}var Hxn=Object.defineProperty,Uxn=(e,t,n)=>t in e?Hxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ofe=(e,t,n)=>(Uxn(e,typeof t!="symbol"?t+"":t,n),n);class a2{constructor(){Ofe(this,"_postive",[]),Ofe(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Wxn(e){return e==="create"||e==="editDraft"}const Yxn=5*60*1e3;function qxn(e,t){return Date.parse(t)-Date.parse(e)<Yxn}function $fe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Mfe(e.draftState,t.draftState),r=Mfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Wxn(e.type)&&t.type==="editDraft"&&qxn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Rfe(e){const t=!!e;return e&&P4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Gxn(e){const t=Rfe(e.draftEffect),n=Rfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function e3(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&P4(e.draftEffect.apply),o=e.publishedEffect&&P4(e.publishedEffect.apply),i=Gxn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Mfe(e,t){return t==="unknown"?e:t}function P4(e){return e[0]===0&&e[1]===null}var Kxn=Object.defineProperty,Zxn=(e,t,n)=>t in e?Kxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wd=(e,t,n)=>(Zxn(e,typeof t!="symbol"?t+"":t,n),n);let Xxn=class{constructor(t){wd(this,"reachedEarliestEntry",!1),wd(this,"publishedId"),wd(this,"draftId"),wd(this,"_transactions",new a2),wd(this,"_chunks",new a2),wd(this,"_possiblePendingTransactions",new Map),wd(this,"_recreateTransactionsFrom"),wd(this,"_trace"),this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new a2,this._chunks=new a2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(e3(s),$fe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(e3(s),$fe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=e3(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=PM(o,a.draftEffect.revert)),a.publishedEffect&&(i=PM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=sl.wrap(t.draft,null),s=sl.wrap(t.published,null);const a=Qxn(i,s),l=Dfe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),x={chunk:m,transactionIndex:v},b=i,y=s;g.draftEffect&&(i=sl.applyPatch(i,g.draftEffect.apply,x)),g.publishedEffect&&(s=sl.applyPatch(s,g.publishedEffect.apply,x));const w=sl.getType(b)!=="null",_=sl.getType(i)!=="null";sl.getType(s)!=="null"&&!_&&(s=sl.rebaseValue(b,s)),_&&!w&&(i=sl.rebaseValue(y,i))}}const d=sl.getType(i)==="null"?s:i,f=Dfe(n);return Vxn(this,u,a,l,d,f)}};function Qxn(e,t){return sl.getType(e)==="null"?t:e}const Ffe=Object.create(null),Jxn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const l=o||new Date().toISOString();a="".concat(a,"?time=").concat(l)}return e.request({url:a})},mOe=(e,t,n)=>{const r=Zn(t),o=ni(t),i="".concat(r,"@").concat(n),s=Ffe[i];if(s)return s;const a=e.config().dataset,l="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:l}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Ffe[i]=u,u},ewn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Xxn({enableTrace:hd,publishedId:n});return new Rxn({client:t,documentId:n,documentType:r,timeline:o})},twn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(l=>JSON.parse(l))},nwn=e=>qke(e,(t,n)=>Zu(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function O4(e,t){return Array.isArray(e)?t(e.map(n=>O4(n,t)).filter(n=>typeof n<"u")):_t(e)?t(Object.keys(e).reduce((n,r)=>{const o=O4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const rwn=(e,t)=>O4(e,n=>Zu(n)?t(n):n),own=(e,t)=>rwn(e,n=>t[n._ref]?n:void 0);function iwn(e,t,n,r){return wr(mOe(e,t,r)).pipe(vt(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=nwn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>own(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),vt(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function swn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>mOe(t,n,r),getHistory:(n,r)=>Jxn(t,n,r),getTransactions:n=>twn(t,n),restore:(n,r,o)=>iwn(t,n,r,o),getTimelineController:ewn}}const Lfe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function awn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=vOe(),a=h.useRef(null),l=h.useRef(Lfe),u=Cr(gn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Uj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=Tbn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:m=>{const v=f.pipe(Wn(g=>g.setLoadMore(!1)),ce(g=>{var x;const b=g.timeline.mapChunks(C=>C),y=b.filter(C=>!["delete","initial"].includes(C.type)),w=!g.timeline.reachedEarliestEntry,_=!["invalid","loading"].includes(g.selectionState);return{chunks:b,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:_?b.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(x=y==null?void 0:y[0])==null?void 0:x.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:_}}),Kn(fF),Xn(g=>(r==null||r(g),be(Lfe))),Wn(g=>{l.current=g}),Wn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function Vi(e,t){return x7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const lwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],cwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],uwn=jo(()=>Ei(0,1e4)).pipe(Up(lwn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:cNt(cwn)}]})),To()),dwn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},fwn=(e,t)=>{const n=e.request("presence").pipe(ce(dwn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Gn;return[n.pipe(Ya()),r]},gOe="presence_session_id",hwn=()=>Tvt(16);function pwn(){try{return window.sessionStorage.getItem(gOe)}catch{}return null}function mwn(e){try{window.sessionStorage.setItem(gOe,e)}catch{}return e}const l2=pwn()||mwn(hwn());function gwn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=fwn(t,l2),s=new Uj([]),a=s.pipe(Kn()),l=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(ct(A=>A.type==="rollCall"),ct(A=>A.sessionId!==l2)),m=Ei(0,3e4),v=jo(()=>xn(a,f)).pipe(tt(()=>m),tb(s),ce(A=>{let[,D]=A;return D}),Ret(200),tt(A=>u(A)),Up(Gn),Ya()),g=jo(()=>d()).pipe(Up(Gn)),x=n.connectionStatus$.pipe(ce(A=>A.type),ct(A=>A==="connected"||A==="error"),Kn()),b=pOe.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),y=b.pipe(ct(A=>A.includes("fake_others")),Wn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),Ket(uwn)),w=b.pipe(ce(A=>A.includes("show_own"))),_=xn(g,o).pipe(ct(A=>A.type==="state"||A.type==="disconnect")),C=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=xn(_,y).pipe(Wa((A,D)=>D.type==="disconnect"?ji(A,D.sessionId):{...A,[D.sessionId]:C(D)},{})),E=x.pipe(tt(A=>A==="connected"?xn(S,v):RL),ce(A=>Object.values(A)),tt(A=>{const D=co(A.map(I=>I.userId));return wr(r.getUsers(D)).pipe(ce(I=>A.map(P=>({user:I.find(M=>M.id===P.userId),session:P})).filter(j)))}),FL(Zi(window,"beforeunload").pipe(tt(()=>i({type:"disconnect"})))),To({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ce(A=>{const D=e7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find(M=>M.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),tb(w),ce(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some($=>$.sessionId===l2))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:En((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,M)=>P.concat(M),[])}})));return{setLocation:l,reportLocations:u,debugPresenceParam$:b,globalPresence$:k,documentPresence:A=>E.pipe(tb(w),tt(D=>{let[I,P]=D;return wr(I).pipe(ct(M=>P||M.session.sessionId!==l2),qet(M=>(M.session.locations||[]).filter($=>$.documentId===A).map($=>({user:M.user,lastActiveAt:M.session.lastActiveAt,path:$.path||[],sessionId:M.session.sessionId}))),Twe())}))}}function vwn(){const[e,t]=h.useState([]),n=RN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function PN(e){const t=RN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function ywn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const bwn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},xwn=(e,t)=>{const n=localStorage.getItem(e);return be(n===null?t:bwn(n,t))},wwn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),be(t)),_wn={get:xwn,set:wwn},Sk=Object.create(null),Cwn=(e,t)=>be(e in Sk?Sk[e]:t),Swn=(e,t)=>(typeof t>"u"||t===null?delete Sk[e]:Sk[e]=t,be(t)),Ewn={get:Cwn,set:Swn};let iy=null;function kwn(){if(iy!==null)return iy;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),iy=!0}catch{iy=!1}return iy}function jwn(){return kwn()?_wn:Ewn}function Twn(){const e=jwn(),t=new Tr,n=(a,l)=>"".concat(a,"::").concat(l),r=t.pipe(tt(a=>e.set(a.key,a.value).pipe(ce(l=>({key:a.key,value:l}))))),o=(a,l)=>xn(e.get(a,l),r.pipe(ct(u=>u.key===a),ce(u=>u.value))),i=(a,l)=>{t.next({key:a,value:l})},s=a=>({forKey:l=>{const u=n(a,l);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(l,u)=>o(n(a,l),u),set:(l,u)=>i(n(a,l),u),del:l=>i(n(a,l),void 0),forNamespace:l=>s(n(a,l))});return{forNamespace:s}}const Awn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Dwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new xNt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>ENt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),Awn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(l=>_t(l)&&typeof l.id=="string")}}function ON(){const{getClient:e,currentUser:t}=ur(),n=fd(),r=e(gn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||Dwn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function $N(){const{getClient:e}=ur(),t=e(gn),n=si(),r=fd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||wxn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function vOe(){const e=Cr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||swn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Os(){const e=Cr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||xKt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Vl(){const e=ur().getClient,t=dr(),n=d_(),r=fd(),o=vOe(),i=Os();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||Jbn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function Iwn(){const{bifur:e}=ur().__internal,t=fd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||oqt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function RN(){const{__internal:{bifur:e}}=ur(),t=fd(),n=ON(),r=Iwn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||gwn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function Pwn(){const e=Cr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||ywn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function gOn(){const e=fd(),t=Nl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||Twn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const Own=/[^\p{Alpha}\p{White_Space}]/gu,$wn=/\p{White_Space}+/u,Rwn={small:0,medium:1,large:2};function Mwn(e){const t=e.replace(Own,"").split($wn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function qa(e){const{user:t,...n}=e;return _t(t)?n.withTooltip?c.jsx(Fwn,{...n,user:t}):c.jsx(yOe,{...n,user:t}):c.jsx(Lwn,{...e,user:t})}function Fwn(e){const{user:{displayName:t}}=e;return c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t})}),placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(yOe,{...e})})})}const yOe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:l,...u}=t,[d,f]=h.useState(null),p=wZt(r.id),m=d||r==null?void 0:r.imageUrl;return c.jsx(wxe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":l,initials:(r==null?void 0:r.displayName)&&Mwn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?Rwn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function Lwn(e){let{user:t,...n}=e;const[r]=a1(t);return r?c.jsx(qa,{...n,user:r}):null}function Kh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Pr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Kh(a[s]||{},i,n)}}}const MN=20,Bwn=3,ef={name:"all-fields",title:"All fields",hidden:!1};function Nwn(e){return Ka(e.schemaType)}function zwn(e){return oF(e.schemaType)}function Vwn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...bOe(e,t)]}function bOe(e,t){return t.length===0?[]:Nwn(e)?xOe(e,t):zwn(e)?wOe(e,t):[]}function xOe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),l=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===ef.name||u&&jw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||ef.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),l&&(WB(l)?m.push(...wOe(l.field,i)):bDe(l)&&m.push(...xOe(l.field,i))),m}function wOe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Pr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?bOe(o.item,r):[]}function _o(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function Hwn(e,t){const n=Ts(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function Uwn(e,t){const n=Ts(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function FN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=Bwn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function _Oe(e,t,n){return n.name===ef.name?!0:t===void 0?!1:e.length===0&&n.name===ef.name?!0:jw(t).includes(n.name)}function Bfe(e){return typeof e>"u"||_t(e)}function Wwn(e){return typeof e>"u"||Array.isArray(e)}function Ywn(e){return typeof e>"u"||Array.isArray(e)}function qwn(e){return e.length===0||e.every(t=>_t(t))}function Gwn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function Kwn(e){return"_key"in e}function Zwn(e){return e==null?void 0:e.every(t=>_t(t)&&Kwn(t))}function wv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Yt(e,t)}function Nfe(e){var t,n,r,o,i,s,a,l,u,d,f,p,m,v,g,x,b,y;const{parent:w,field:_,index:C}=e,S=sm([...w.path,_.name]),E=Prn(_.type,w.level+1),j=w.value,k=w.comparisonValue;if(!Bfe(j))throw new Error("Unexpected non-object value");const T=_.group?jw(_.group):[],A=_Oe(w.groups,_.group,w.selectedGroup);if(Ka(_.type)){const D=j==null?void 0:j[_.name],I=_t(k)?k==null?void 0:k[_.name]:void 0;if(!Bfe(D))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:Ts(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(_o(_.type.hidden,P))return{kind:"hidden",key:"field-".concat(_.name),name:_.name,index:C};const $=w.readOnly||_o(_.type.readOnly,P),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[_.name],L=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[_.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[_.name],U=LN({schemaType:_.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:wv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:L,collapsedFieldSets:H,readOnly:$,changesOpen:w.changesOpen});if(U===null)return null;const z=FN(_.type.options,E),Y=L?L.value:z.collapsed;return{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,inSelectedGroup:A,groups:T,open:vi(S,w.openPath),field:U,collapsed:Y,collapsible:z.collapsible}}else if(Ol(_.type)){const D=j==null?void 0:j[_.name],I=_t(k)?k==null?void 0:k[_.name]:void 0;if(oF(_.type)){const P=typeof D<"u";if(P&&!Wwn(D)){const z=Ts(D);return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:z,value:D}}}if(P&&!qwn(D))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"MIXED_ARRAY",schemaType:_.type,value:D}};if(P&&!Zwn(D))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"MISSING_KEYS",value:D,schemaType:_.type}};const M=P?Gwn(D):[];if(M.length>0)return{kind:"error",key:_.name,fieldName:_.name,error:{type:"DUPLICATE_KEYS",duplicates:M,schemaType:_.type}};const $=(l=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:l[_.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[_.name],L=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[_.name],H=w.readOnly||_o(_.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),U=Qwn({schemaType:_.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:wv(D,I),comparisonValue:I,fieldGroupState:$,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:L,level:E,path:S,readOnly:H});return U===null?null:{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,open:vi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:U}}else{if(!Ywn(D)){const H=Ts(D);return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:H,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[_.name],M=(x=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:x[_.name],$=(y=(b=w.collapsedFieldSets)==null?void 0:b.children)==null?void 0:y[_.name],V=w.readOnly||_o(_.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),L=Xwn({changed:wv(D,I),comparisonValue:I,schemaType:_.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:M,collapsedFieldSets:$,level:E,path:S,readOnly:V});return L===null?null:{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,inSelectedGroup:A,groups:T,open:vi(S,w.openPath),collapsible:!1,collapsed:!1,field:L}}}else{const D=j==null?void 0:j[_.name],I=_t(k)?k==null?void 0:k[_.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(_o(_.type.hidden,P))return null;const $=w.readOnly||_o(_.type.readOnly,P),V=COe({...w,comparisonValue:I,value:D,schemaType:_.type,path:S,readOnly:$});return{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,open:vi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function LN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===MN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||_o(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||ef)==null?void 0:n.name,a=[ef,...i].flatMap(y=>{var w;const _=_o(y.hidden,r),C=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===ef.name:C,E=e.changesOpen?!S:!1;return _?[]:[{disabled:E,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),l=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var _,C,S,E;if(y.single){const P=y.field,M=Nfe({field:P,parent:{...e,readOnly:o,groups:a,selectedGroup:l},index:w});return M?[M]:[]}const j=y.fields.map(P=>P.name),k=_o(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Ct(e.value,j)}),T=_o(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Ct(e.value,j)}),A=y.fields.flatMap(P=>{if(k)return[{kind:"hidden",key:"field-".concat(P.name),name:P.name,index:w}];const M=Nfe({field:P,parent:{...e,readOnly:o||T,groups:a,selectedGroup:l},index:w});return M?[M]:[]}),D=FN(y.options,e.level),I=(S=(C=(((_=e.collapsedFieldSets)==null?void 0:_.children)||{})[y.name])==null?void 0:C.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:_Oe(a,y.group,l),groups:y.group?jw(y.group):[],fieldSet:{path:sm(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(P=>P.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=y==null?void 0:y.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(y=>_n(y.path,e.path)),m=p.length?p:Vn,v=e.validation.filter(y=>_n(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),g=d.filter(y=>y.kind!=="hidden");if(g.length===0&&t)return null;const x=f?a.flatMap(y=>y.name===ef.name||g.some(_=>_.kind==="error"?!1:_.kind==="field"?_.groups.includes(y.name):_.groups.includes(y.name)||_.fieldSet.members.some(C=>C.kind!=="error"&&C.groups.includes(y.name)))?y:[]):[],b=g.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(_=>_.kind!=="field"||_.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:wv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:vr(e.path),level:e.level,focused:_n(e.path,e.focusPath),focusPath:dF(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:b,groups:x}}function Xwn(e){if(e.level===MN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(_o(e.schemaType.hidden,t))return null;const r=e.readOnly||_o(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>_n(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>_n(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>e_n({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:_n(e.path,e.focusPath),focusPath:dF(e.path,e.focusPath),path:e.path,id:vr(e.path),level:e.level,validation:a,presence:s,members:l}}function Qwn(e){if(e.level===MN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(_o(e.schemaType.hidden,t))return null;const r=e.readOnly||_o(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>_n(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>_n(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>Jwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:_n(e.path,e.focusPath),focusPath:dF(e.path,e.focusPath),path:e.path,id:vr(e.path),level:e.level,validation:a,presence:s,members:l}}function Jwn(e){var t,n,r,o,i,s,a;const{arrayItem:l,parent:u,index:d}=e,f=Hwn(u.schemaType,l),p=l._key;if(!f){const j=Ts(l);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:l,validTypes:u.schemaType.of}}}const m=sm([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},x=u.readOnly||_o(u.schemaType.readOnly,g),b=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],_=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===l._key)||void 0,C=LN({schemaType:f,level:v,document:u.document,value:l,comparisonValue:_,changed:wv(l,_),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:b,readOnly:x},!1),S=FN(f.options,v),E=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:vi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:C}}function e_n(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=Uwn(o.schemaType,r),a=sm([...o.path,i]),l=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Ts(s),value:l}};const p=o.readOnly||_o(s.readOnly,{value:l,parent:o.value,document:o.document,currentUser:o.currentUser}),m=COe({...o,path:a,schemaType:s,level:d,value:l,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:_n(a,o.openPath),item:m}}function COe(e){const t=e.presence.filter(o=>_n(o.path,e.path)),n=t.length?t:Vn,r=e.validation.filter(o=>_n(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:wv(e.value,e.comparisonValue),value:e.value,level:e.level,id:vr(e.path),readOnly:e.readOnly,focused:_n(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function t_n(e){return LN(e)}function n_n(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:l,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=si(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=t_n({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:l,readOnly:f,path:sm([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),x=yB(v.current,g);return v.current=x,x},[e,r,o,i,s,n,a,l,f,m,u,d,p])}function r_n(e){return e.map(s_n)}function vOn(e,t){return En(t.map(n=>i_n(e,n)))}const o_n=e=>t=>!e.includes(t);function i_n(e,t){return En(Object.keys(t).filter(o_n(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:rg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:rg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:rg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:rg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:rg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:rg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function s_n(e){if(e.patchType!==Jp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Jp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Lke(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ga(),o=h.useCallback(s=>{const a=s.patches,l=n(a);r.onChange(st.from(l))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return c.jsx(vB.Provider,{value:i,children:t.children})});Rf.fonts.code.family,Rf.fonts.text.family,oc.hex,Ca.hex,dy[500].hex,Ca.hex,oc.hex,k2[500].hex,k2[500].hex,k2[500].hex,O3[500].hex,dy[500].hex,R3[500].hex,$3[500].hex,dy[500].hex,dy[500].hex,R3[500].hex,$3[500].hex,O3[500].hex,oc.hex,Ca.hex;({...Rf});var KA={},a_n=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},l_n=a_n,zfe={"text/plain":"Text","text/html":"Url",default:"Text"},c_n="Copy to clipboard: #{key}, Enter";function u_n(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function d_n(e,t){var n,r,o,i,s,a,l=!1;t||(t={}),n=t.debug||!1;try{o=l_n(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=zfe[t.format]||zfe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=u_n("message"in t?t.message:c_n),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var f_n=d_n;function $4(e){"@babel/helpers - typeof";return $4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$4(e)}Object.defineProperty(KA,"__esModule",{value:!0});KA.CopyToClipboard=void 0;var c2=SOe(h),h_n=SOe(f_n),p_n=["text","onCopy","options","children"];function SOe(e){return e&&e.__esModule?e:{default:e}}function Vfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Hfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vfe(Object(n),!0).forEach(function(r){BN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m_n(e,t){if(e==null)return{};var n=g_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function v_n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ufe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y_n(e,t,n){return t&&Ufe(e.prototype,t),n&&Ufe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b_n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R4(e,t)}function R4(e,t){return R4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},R4(e,t)}function x_n(e){var t=__n();return function(){var r=Ek(e),o;if(t){var i=Ek(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return w_n(this,o)}}function w_n(e,t){if(t&&($4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(e)}function EOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ek(e){return Ek=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ek(e)}function BN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kOe=function(e){b_n(n,e);var t=x_n(n);function n(){var r;v_n(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),BN(EOe(r),"onClick",function(a){var l=r.props,u=l.text,d=l.onCopy,f=l.children,p=l.options,m=c2.default.Children.only(f),v=(0,h_n.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return y_n(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=m_n(o,p_n),a=c2.default.Children.only(i);return c2.default.cloneElement(a,Hfe(Hfe({},s),{},{onClick:this.onClick}))}}]),n}(c2.default.PureComponent);KA.CopyToClipboard=kOe;BN(kOe,"defaultProps",{onCopy:void 0,options:void 0});var C_n=KA,M4=C_n.CopyToClipboard;M4.CopyToClipboard=M4;var S_n=M4;const E_n=Ie(S_n);var k_n=qf,j_n=Xa,T_n="[object Number]";function A_n(e){return typeof e=="number"||j_n(e)&&k_n(e)==T_n}var D_n=A_n;const I_n=Ie(D_n);function Wfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Yfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wfe(Object(n),!0).forEach(function(r){P_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P_n(e,t,n){return t=O_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_n(e){var t=$_n(e,"string");return typeof t=="symbol"?t:String(t)}function $_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kk(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function jOe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function TOe(e){return jOe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function AOe(e){return e._type==="@list"}function DOe(e){return e._type==="@span"}function IOe(e){return e._type==="@text"}const qfe=["strong","em","code","underline","strike-through"];function R_n(e,t,n){if(!kk(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&kk(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>M_n(o,i,s))}function M_n(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=qfe.indexOf(t),s=qfe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function F_n(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(R_n),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const l=n[a];if(!l)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(x=>x._key===p),v=m?m._type:p,g={_type:"@span",_key:l._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(kk(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(l)}}return i.children}function L_n(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!TOe(i)){n.push(i),r=void 0;continue}if(!r){r=u2(i,o,t),n.push(r);continue}if(B_n(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=u2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],l=Yfe(Yfe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=l}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&F4(s,i);if(a){r=a,r.children.push(i);continue}r=u2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&F4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=u2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function B_n(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function u2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function F4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(AOe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!kk(i)?F4(i,t):void 0}function POe(e){let t="";return e.children.forEach(n=>{IOe(n)?t+=n.text:DOe(n)&&(t+=POe(n))}),t}const N_n="html",z_n=["block","list","listItem","marks","types"],V_n=["listItem"],H_n=["_key"];function Gfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gfe(Object(n),!0).forEach(function(r){U_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U_n(e,t,n){return t=W_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_n(e){var t=Y_n(e,"string");return typeof t=="symbol"?t:String(t)}function Y_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e,t){if(e==null)return{};var n=q_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function G_n(e,t){const n=L4(t,z_n);return lc(lc({},e),{},{block:sy(e,t,"block"),list:sy(e,t,"list"),listItem:sy(e,t,"listItem"),marks:sy(e,t,"marks"),types:sy(e,t,"types")},n)}function sy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?lc(lc({},o),r):o}const K_n=e=>{let{children:t,value:n}=e;return c.jsx("a",{href:n==null?void 0:n.href,children:t})},Z_n={textDecoration:"underline"},X_n={em:e=>{let{children:t}=e;return c.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return c.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return c.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return c.jsx("span",{style:Z_n,children:t})},"strike-through":e=>{let{children:t}=e;return c.jsx("del",{children:t})},link:K_n},Q_n={number:e=>{let{children:t}=e;return c.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return c.jsx("ul",{children:t})}},J_n=e=>{let{children:t}=e;return c.jsx("li",{children:t})},h_=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),OOe=e=>h_('block type "'.concat(e,'"'),"types"),eCn=e=>h_('mark type "'.concat(e,'"'),"marks"),tCn=e=>h_('block style "'.concat(e,'"'),"block"),nCn=e=>h_('list style "'.concat(e,'"'),"list"),rCn=e=>h_('list item style "'.concat(e,'"'),"listItem");function oCn(e){console.warn(e)}const Kfe={display:"none"},iCn=e=>{let{value:t,isInline:n}=e;const r=OOe(t._type);return n?c.jsx("span",{style:Kfe,children:r}):c.jsx("div",{style:Kfe,children:r})},sCn=e=>{let{markType:t,children:n}=e;return c.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},aCn=e=>{let{children:t}=e;return c.jsx("p",{children:t})},lCn=e=>{let{children:t}=e;return c.jsx("ul",{children:t})},cCn=e=>{let{children:t}=e;return c.jsx("li",{children:t})},uCn=()=>c.jsx("br",{}),dCn={normal:e=>{let{children:t}=e;return c.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return c.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return c.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return c.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return c.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return c.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return c.jsx("h6",{children:t})}},Zfe={types:{},block:dCn,marks:X_n,list:Q_n,listItem:J_n,hardBreak:uCn,unknownType:iCn,unknownMark:sCn,unknownList:lCn,unknownListItem:cCn,unknownBlockStyle:aCn};function fCn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=oCn}=e;const i=o||pCn,s=Array.isArray(t)?t:[t],a=L_n(s,r||N_n),l=h.useMemo(()=>n?G_n(Zfe,n):Zfe,[n]),u=h.useMemo(()=>hCn(l,i),[l,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return c.jsx(c.Fragment,{children:d})}const hCn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return AOe(p)?i(p,m,g):TOe(p)?o(p,m,g):DOe(p)?s(p,m,g):r(p)?d(p,m,g,v):jOe(p)?a(p,m,g,v):IOe(p)?l(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=Xfe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,b=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(b===e.unknownListItem){const w=f.listItem||"bullet";t(rCn(w),{type:w,nodeType:"listItemStyle"})}let y=v.children;if(f.style&&f.style!=="normal"){const w=L4(f,V_n);y=n({node:w,index:p,isInline:!1,renderNode:n})}return c.jsx(b,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const v=f.children.map((y,w)=>n({node:y._key?y:lc(lc({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,b=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(b===e.unknownList){const y=f.listItem||"bullet";t(nCn(y),{nodeType:"listStyle",type:y})}return c.jsx(b,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:x}=f,b=e.marks[g]||e.unknownMark,y=f.children.map((w,_)=>n({node:w,index:_,isInline:!0,renderNode:n}));return b===e.unknownMark&&t(eCn(g),{nodeType:"mark",type:g}),c.jsx(b,{text:POe(f),value:v,markType:g,markKey:x,renderNode:n,children:y},m)}function a(f,p,m,v){const g=Xfe({node:f,index:p,isInline:v,renderNode:n}),x=L4(g,H_n),b=x.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[b])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(tCn(b),{nodeType:"blockStyle",type:b}),c.jsx(w,lc(lc({},x),{},{value:x.node,renderNode:n}),m)}function l(f,p){if(f.text===`
`){const m=e.hardBreak;return m?c.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(OOe(f._type),{nodeType:"block",type:f._type});const x=e.unknownType;return c.jsx(x,lc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},x=e.types[f._type];return x?c.jsx(x,lc({},g),m):null}return n};function Xfe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=F_n(t).map((a,l)=>o({node:a,isInline:!0,index:l,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function pCn(){}var mCn=z2e,gCn=w8,vCn=gCn(function(e,t,n){return t=t.toLowerCase(),e+(n?mCn(t):t)}),yCn=vCn;const Qfe=Ie(yCn);var bCn=w8,xCn=bCn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),wCn=xCn;const _Cn=Ie(wCn);function CCn(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?c.jsx(c.Fragment,{}):typeof t=="function"?t():t}function SCn(e){const{document:t}=e,r=dr().get(t._type),{error:o,value:i}=HTe({schemaType:r,value:t});return r?o?c.jsxs(c.Fragment,{children:["Error: ",o.message]}):c.jsx(c.Fragment,{children:(i==null?void 0:i.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs("code",{children:["Unknown schema type: ",t._type]})}function ECn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const kCn=5e3;let t3;const $Oe=()=>(t3||(t3=Zi(document,"visibilitychange").pipe(ki(null),ce(()=>document.visibilityState==="visible"),Kn(),tt(e=>e?Ei(0,kCn):Gn),To({refCount:!0,bufferSize:1}))),t3);function jCn(e,t){let{versionedClient:n}=t;const r=ni(e),o=Zn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const l=a.filter(u=>u.reason==="existence");if(l.length!==2)return l.length===0||l.some(u=>u.id===r)?o:r}))}function TCn(e,t){const{versionedClient:n}=t;return $Oe().pipe(tt(()=>jCn(e,t)),tt(r=>{if(!r)return be({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Xn(i=>{if(ECn(i)&&i.statusCode===404)return be({totalCount:0,references:[]});throw i}))}))}const ACn=lh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),DCn=lh(e=>{let[t,n]=e;return $Oe().pipe(tt(()=>TCn(t,{versionedClient:n})))});function ICn(e){const t=Cr(gn),n=Vl(),r=Zn(e),[o,i]=ACn(h.useMemo(()=>[r,n],[n,r])),[s,a]=DCn(h.useMemo(()=>[r,t],[r,t])),l=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function PCn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Uf(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:c.jsx(sr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:c.jsx(Jx,{"aria-label":r})})})}function OCn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Uf(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:c.jsx(sr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:c.jsx(Du,{})})})}function $Cn(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=_t(i.title)&&h.isValidElement(i.title)||hT(i.title)||I_n(i.title)?i.title:null,{draft:a,published:l,isLoading:u}=Ao(()=>uA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:c.jsxs(Jt,{space:4,children:[r&&r.length>0&&c.jsx($B,{presence:r}),c.jsx(PCn,{document:l}),c.jsx(OCn,{document:a})]});return c.jsx(Xw,{...dB({value:i,draft:a,published:l}),isPlaceholder:u,icon:t,layout:n,status:d})}function cs(){throw new Error("Pane is missing router context")}const ZA=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>cs(),ChildLink:()=>cs(),ReferenceChildLink:()=>cs(),handleEditReference:()=>cs(),ParameterizedLink:()=>cs(),replaceCurrent:()=>cs(),closeCurrentAndAfter:()=>cs(),closeCurrent:()=>cs(),duplicateCurrent:()=>cs(),setView:()=>cs(),setParams:()=>cs(),setPayload:()=>cs(),navigateIntent:()=>cs(),createPathWithParams:()=>cs()}),yOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(ZA),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return c.jsx(lT,{...t,ref:n,state:s})}),RCn=h.createContext(null);function NN(){const e=h.useContext(RCn);if(!e)throw new Error("PaneLayout: missing context value");return e}const MCn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:l}=h.useContext(ZA);return c.jsx(lT,{...s,ref:n,state:{panes:[...a.slice(0,l+1),[{id:r,params:i,payload:o}]]}})}),bOn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...l}=t;return c.jsx(MCn,{...l,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:vr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),xOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(ZA),{params:s,payload:a,...l}=t,u=Go(s),d=Go(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return c.jsx(lT,{ref:n,...l,state:f})});function XA(){return h.useContext(ZA)}const Jfe=[];function FCn(e){const{onClick:t,type:n,value:r}=e,o=Zn(r==null?void 0:r._id),i=PN(o),s=Os(),{ReferenceChildLink:a}=XA(),l=h.useCallback(function(d){return c.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:Jfe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(yv,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,padding:2,radius:2,children:c.jsx($Cn,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:Jfe,schemaType:n,value:r})})}var ehe=Object.freeze,LCn=Object.defineProperty,p_=(e,t)=>ehe(LCn(e,"raw",{value:ehe(t||e.slice())})),the,nhe,rhe,ohe,ihe;const ROe=O(F)(the||(the=p_([`
  margin-left: auto;
`]))),BCn=O.details(nhe||(nhe=p_([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),ROe),NCn=O.summary(rhe||(rhe=p_([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),zCn=O.table(ohe||(ohe=p_([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.space[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),VCn=O(W)(ihe||(ihe=p_([`
  min-height: 35px;
`]))),she=e=>{const t=e.totalCount-e.references.length;return t?c.jsxs(Jt,{space:2,children:[c.jsxs(B,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),c.jsx(yt,{portal:!0,placement:"top",content:c.jsx(sa,{width:0,children:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:c.jsx(B,{size:1,muted:!0,children:c.jsx(lm,{})})})]}):null};function HCn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:l}=e;const u=dr(),d=Ai(),f=h.useCallback(x=>{const b=u.get(x._type);return b?c.jsx(FCn,{type:b,value:x,onClick:l}):c.jsx(F,{padding:2,children:c.jsx(Xw,{icon:xl,title:"Preview Unavailable",subtitle:"ID: ".concat(x._id),layout:"default"})})},[u,l]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return c.jsxs(B,{as:"p",children:["Are you sure you want to ",i," ",c.jsxs("strong",{children:["",r,""]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),c.jsxs(ee,{children:[c.jsx(ee,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:c.jsxs(W,{children:[c.jsx(B,{"aria-hidden":"true",size:1,children:c.jsx(Xr,{})}),c.jsx(F,{flex:1,marginLeft:3,children:c.jsx(B,{size:1,children:o===1?c.jsxs(c.Fragment,{children:["1 document refers to ",r,""]}):c.jsxs(c.Fragment,{children:[o.toLocaleString()," documents refer to ",r,""]})})})]})}),c.jsx(F,{flex:"none",marginBottom:4,children:c.jsxs(B,{children:["You may not be able to ",i," ",r," because the following documents refer to it:"]})}),c.jsx(ee,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:c.jsxs(W,{direction:"column",children:[n.totalCount>0&&c.jsxs(ne,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(x=>c.jsx(F,{as:"li",children:f(x)},x._id)),n.totalCount>n.references.length&&c.jsx(F,{as:"li",padding:3,children:c.jsx(she,{...n})})]}),t.totalCount>0&&c.jsxs(BCn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(NCn,{children:c.jsx(ee,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:c.jsxs(W,{align:"center",margin:2,children:[c.jsx(F,{marginLeft:3,marginRight:4,children:c.jsx(B,{size:3,children:c.jsx(CF,{})})}),c.jsxs(W,{marginRight:4,direction:"column",children:[c.jsx(F,{marginBottom:2,children:c.jsxs(B,{children:[p," in ",v]})}),c.jsx(F,{children:c.jsx(B,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),c.jsx(ROe,{children:c.jsx(B,{muted:!0,children:c.jsx(Rl,{})})})]})})}),c.jsxs(F,{overflow:"auto",paddingBottom:2,paddingX:2,children:[c.jsxs(zCn,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Dataset"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Document ID"})})]})}),c.jsx("tbody",{children:t.references.filter(x=>"projectId"in x).map((x,b)=>{let{projectId:y,datasetName:w,documentId:_}=x;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(B,{size:1,children:y})}),c.jsx("td",{children:c.jsx(B,{size:1,children:w||"unavailable"})}),c.jsx("td",{children:c.jsxs(VCn,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(B,{textOverflow:"ellipsis",size:1,children:_||"unavailable"}),_&&c.jsx(E_n,{text:_,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:c.jsx(ae,{title:"Copy ID to clipboard",mode:"bleed",icon:Au,fontSize:0})})]})})]},"".concat(_,"-").concat(b))})})]}),c.jsx(F,{padding:2,children:c.jsx(she,{...t})})]})]})]})}),c.jsx(F,{flex:"none",children:c.jsxs(B,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var ahe=Object.freeze,UCn=Object.defineProperty,MOe=(e,t)=>ahe(UCn(e,"raw",{value:ahe(t||e.slice())})),lhe,che;const WCn=O(F).attrs({padding:4})(lhe||(lhe=MOe([`
  box-sizing: border-box;
`]))),YCn=O(W).attrs({align:"center",direction:"column",justify:"center"})(che||(che=MOe([`
  height: 300px;
`])));function qCn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=ICn(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=c.jsx(SCn,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),x=!u;return c.jsx(pa,{width:1,id:s,header:"".concat(v," document?"),footer:c.jsxs(ln,{columns:x?2:1,gap:2,paddingX:4,paddingY:3,children:[c.jsx(ae,{mode:"ghost",onClick:o,text:"Cancel"}),x&&c.jsx(ae,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:c.jsx(WCn,{children:l&&a&&!u?c.jsx(HCn,{crossDatasetReferences:l,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):c.jsxs(YCn,{"data-testid":"loading-container",children:[c.jsx(Vr,{muted:!0}),c.jsx(F,{marginTop:3,children:c.jsx(B,{align:"center",muted:!0,size:1,children:"Looking for referring documents"})})]})})})}function FOe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?c.jsx(pa,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:c.jsx(W,{paddingX:4,paddingY:3,direction:"column",children:c.jsx(ae,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:c.jsx(F,{padding:4,children:c.jsx(B,{children:"An error occurred while loading referencing documents."})})}):c.jsx(_0,{onCatch:r,children:c.jsx(qCn,{...e})})}const GCn={constrainSize:!0,placement:"left-start",portal:!0};function jk(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?c.jsx(Dr,{}):r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),r.title&&c.jsx(F,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return c.jsx(jk,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),c.jsx(SL,{disabled:t,icon:r.icon,popover:GCn,text:r.title,children:r.children.map((o,i)=>{var s;return c.jsx(jk,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),c.jsx(KCn,{disabled:t,node:r})]})}function KCn(e){const{node:t}=e;return t.intent?c.jsx(XCn,{...e,intent:t.intent}):c.jsx(ZCn,{...e})}function ZCn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&c.jsx(B,{size:1,children:r.disabled.reason});return c.jsx(Zw,{content:o,placement:"left",children:c.jsx(Me,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&za,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function XCn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&c.jsx(B,{size:1,children:o.disabled.reason}),s=Cw({intent:r.type,params:r.params}),a=h.useCallback(l=>{s.onClick(l),o.onAction()},[s,o]);return c.jsx(Zw,{content:i,placement:"left",children:c.jsx(Me,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?za:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const QCn={constrainSize:!0,placement:"bottom",portal:!0};function B4(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&B4(n.children,t))}function JCn(e){const{nodes:t}=e,n=h.useId(),r=B4(t,"critical"),o=B4(t,"caution");return c.jsx(rn,{button:c.jsx(ch,{icon:Vo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:c.jsx(Ht,{children:t.map((i,s)=>{var a;const l=((a=t[s-1])==null?void 0:a.type)==="group";return c.jsx(jk,{isAfterGroup:l,node:i},i.key)})}),popover:QCn})}const e2n=!1,N4=51,n3=N4*4,LOe=h.createContext(null);var uhe=Object.freeze,t2n=Object.defineProperty,n2n=(e,t)=>uhe(t2n(e,"raw",{value:uhe(t||e.slice())})),dhe;const r2n=O(es)(dhe||(dhe=n2n([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function o2n(e){let{disabled:t,element:n}=e;const{resize:r}=NN(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const l=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-l;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return c.jsx(r2n,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var fhe=Object.freeze,i2n=Object.defineProperty,s2n=(e,t)=>fhe(i2n(e,"raw",{value:fhe(t||e.slice())})),hhe;const a2n=O(ee)(hhe||(hhe=s2n([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),wOn=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:l,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,x]=h.useState(null),{collapse:b,collapsed:y,expand:w,expandedElement:_,mount:C,panes:S}=NN(),E=S.find(q=>q.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=lr(n),P=(r=E==null?void 0:E.flex)!=null?r:u,M=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,$=(i=E==null?void 0:E.currentMaxWidth)!=null?i:l,V=h.useCallback(q=>{x(q),I.current=q},[I]);h.useEffect(()=>{if(g)return C(g,{currentMinWidth:a,currentMaxWidth:l,flex:u,id:d,minWidth:f,maxWidth:p})},[a,l,u,d,f,p,C,g]);const L=h.useCallback(()=>{g&&b(g)},[b,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),U=h.useMemo(()=>({collapse:L,collapsed:y?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,L,H,T,y,j,g]),z=h.useMemo(()=>{if(!y)return A?N4:M===0||T?f||n3:M||f||n3},[A,M,T,y,f]),Y=h.useMemo(()=>{if(A)return N4;if(!(y&&T))return T?p?$??p:void 0:$??p},[A,$,T,y,p]),te=y&&!T,N=h.useMemo(()=>!T&&!y&&c.jsx(e0,{zOffset:"paneResizer",children:c.jsx(o2n,{disabled:A||D,element:g})}),[A,T,y,D,g]),G=h.useMemo(()=>({flex:P,minWidth:z,maxWidth:Y===1/0?void 0:Y}),[P,z,Y]);return c.jsxs(c.Fragment,{children:[c.jsx(e0,{zOffset:"pane",children:c.jsx(LOe.Provider,{value:U,children:c.jsxs(a2n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:te,id:d,overflow:y?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:G,children:[e2n,c.jsx(gm,{element:g,children:!te&&c.jsx(W,{direction:"column",height:"fill",children:s})})]})})}),N]})});function zN(){const e=h.useContext(LOe);if(!e)throw new Error("Pane: missing context value");return e}var phe=Object.freeze,l2n=Object.defineProperty,c2n=(e,t)=>phe(l2n(e,"raw",{value:phe(t||e.slice())})),mhe;const BOe=O(ee)(mhe||(mhe=c2n([`
  position: relative;
  outline: none;
`])));BOe.displayName="PaneContent__root";const _On=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:l}=zN(),{collapsed:u}=NN();return c.jsx(BOe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:l,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var ghe=Object.freeze,u2n=Object.defineProperty,NOe=(e,t)=>ghe(u2n(e,"raw",{value:ghe(t||e.slice())})),vhe,yhe;const d2n=O(es)(vhe||(vhe=NOe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),f2n=O(ee)(yhe||(yhe=NOe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),COn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=zN();return c.jsx(e0,{zOffset:"paneFooter",children:c.jsx(d2n,{"data-testid":"pane-footer",hidden:i,ref:n,children:c.jsx(f2n,{tone:"inherit",children:c.jsx(F,{padding:o,children:r})})})})});var bhe=Object.freeze,h2n=Object.defineProperty,l1=(e,t)=>bhe(h2n(e,"raw",{value:bhe(t||e.slice())})),xhe,whe,_he,Che,She,Ehe;const p2n=O(es)(xhe||(xhe=l1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),m2n=O(W)(whe||(whe=l1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),g2n=O(ee)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(_he||(_he=l1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),v2n=O(Si)(Che||(Che=l1([`
  width: 66%;
  max-width: 175px;
`]))),y2n=O(B)(She||(She=l1([`
  cursor: default;
  outline: none;
`]))),b2n=O(F)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(Ehe||(Ehe=l1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],At(n.base.bg,0),r[3])}),SOn=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:l,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=zN(),g=gw(v||null),x=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),b=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(l||a));return c.jsx(Mf,{zOffset:100,children:c.jsx(p2n,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:c.jsx(e0,{zOffset:"paneHeader",children:c.jsxs(ee,{"data-collapsed":p?"":void 0,tone:"inherit",children:[c.jsxs(m2n,{onClick:y,padding:2,sizing:"border",style:x,children:[o&&c.jsx(F,{flex:"none",padding:1,children:o}),c.jsxs(g2n,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:b,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&c.jsx(v2n,{animated:!0,radius:1}),!s&&c.jsx(y2n,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&c.jsx(W,{align:"center",hidden:p,children:c.jsx(e0,{zOffset:"paneHeader",children:r})})]}),w&&c.jsxs(W,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[c.jsx(b2n,{flex:1,marginRight:a?3:0,children:l}),a&&a]}),!p&&i&&i]})})})})});function x2n(e){const{node:t,padding:n}=e;return t.type==="item"?c.jsx(w2n,{node:t,padding:n}):t.type==="group"?c.jsx(C2n,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function w2n(e){var t;const{node:n,padding:r}=e;if(n.intent)return c.jsx(_2n,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&c.jsx(B,{size:1,children:n.disabled.reason});return c.jsx(Zw,{content:o,placement:"bottom",children:c.jsx(ch,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function _2n(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&c.jsx(B,{size:1,children:r.disabled.reason}),s=Cw({intent:n.type,params:n.params}),a=h.useCallback(l=>{s.onClick(l),r.onAction()},[s,r]);return c.jsx(Zw,{content:i,placement:"bottom",children:c.jsx(ch,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function C2n(e){var t;const{node:n,padding:r}=e;return c.jsx(rn,{button:c.jsx(ch,{disabled:n.disabled,icon:(t=n.icon)!=null?t:xl,label:n.title,padding:r}),id:h.useId(),menu:c.jsx(Ht,{children:n.children.map((o,i)=>{var s;return c.jsx(jk,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var khe=Object.freeze,S2n=Object.defineProperty,E2n=(e,t)=>khe(S2n(e,"raw",{value:khe(t||e.slice())})),jhe;const EOn=O(ee)(jhe||(jhe=E2n([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function zOe(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const k2n=Ibt(zOe);function j2n(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(VOe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const l=[];for(const d of i)l.find(p=>p.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&l.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},l.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...l,...s]}function VOe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>VOe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const T2n=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,l){return c.jsx(_m,{...a,intent:r.type,params:r.params,ref:l})}),[r]);return t.disabled?c.jsx(ae,{...t,as:"a",role:"link","aria-disabled":"true"}):c.jsx(ae,{...o,as:i,"data-as":"a",ref:n})});function r3(e){let{reveal:t,loading:n,children:r}=e;const o=si();return t?c.jsx(yt,{content:n?c.jsx(F,{padding:2,children:c.jsx(B,{children:"Loading"})}):c.jsx(Pc,{currentUser:o}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const A2n={constrainSize:!0,placement:"bottom",portal:!0},The=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function D2n(e){let{templateItems:t}=e;const n=dr(),r=d_(),[o,i]=hOe({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(l=>!l.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((l,u)=>(l[u.id]=u,l),{}):{},[o]);if(s)return c.jsx(r3,{reveal:!0,loading:i,children:c.jsx(ae,{"aria-label":"Insufficient permissions",icon:bp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const l=t[0],u=a[l.id],d=!(u!=null&&u.granted),f=The(n,r,l);return f?c.jsx(r3,{reveal:d,loading:i,children:c.jsx(T2n,{"aria-label":l.title,icon:l.icon||bp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return c.jsx(rn,{button:c.jsx(ae,{icon:bp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:c.jsxs(Ht,{children:[c.jsx(F,{paddingX:3,paddingTop:3,paddingBottom:2,children:c.jsx(Nt,{muted:!0,children:"Create"})}),t.map((l,u)=>{const d=a[l.id],f=!(d!=null&&d.granted),p=The(n,r,l),m=r.find(g=>g.id===l.templateId);if(!m||!p)return null;const v=h.forwardRef((g,x)=>f?c.jsx("button",{type:"button",disabled:!0,...g,ref:x}):c.jsx(_m,{...g,intent:p.type,params:p.params,ref:x}));return v.displayName="Link",c.jsx(r3,{reveal:f,loading:i,children:c.jsx(Me,{as:v,"data-as":f?"button":"a",text:l.title||m.title,"aria-label":f?"Insufficient permissions":l.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},l.id)})]}),popover:A2n})}function I2n(e){return e!=null}const P2n=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},kOn=h.memo(function(t){const{initialValueTemplateItems:n=Vn,menuItems:r=Vn,menuItemGroups:o=Vn,actionHandlers:i=eUt}=t,s=d_(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),l=h.useMemo(()=>j2n({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>l.filter(zOe),[l]),d=h.useMemo(()=>l.filter(k2n),[l]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:x}=m.intent;if(!x)return null;const b=Array.isArray(x)?x[0]:x,y=Array.isArray(x)?x[1]:void 0,w=b.template||b.type;if(!w)return null;const _=s.find(S=>S.id===w);if(!_)return null;const C=b.id;return{item:m,template:_,templateParams:y,menuItemIndex:v,initialDocumentId:C}}).filter(I2n).map(m=>{let{initialDocumentId:v,item:g,template:x,menuItemIndex:b,templateParams:y}=m;return{id:"menuItem".concat(b),initialDocumentId:v,templateId:x.id,type:"initialValueTemplateItem",title:g.title||x.title,icon:g.icon,description:x.description,parameters:y,schemaType:x.schemaType}}),[r,s]),p=h.useMemo(()=>Nf([...f,...n],m=>P2n([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return c.jsxs(W,{gap:1,children:[p.length>0&&c.jsx(D2n,{templateItems:p}),u.map(m=>c.jsx(x2n,{node:m},m.key)),d.length>0&&c.jsx(JCn,{nodes:d})]})}),HOe=h.createContext(null);function hh(){const e=h.useContext(HOe);if(!e)throw new Error("DocumentPane: missing context value");return e}const O2n={NOTHING_TO_DELETE:"This document doesnt yet exist or is already deleted"},UOe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=hh(),{delete:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{l(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=fh({id:t,type:n,permission:"delete"}),x=si();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:uo,disabled:!0,label:"Delete",title:c.jsx(Pc,{operationLabel:"delete this document",currentUser:x})}:{tone:"critical",icon:uo,disabled:a||!!s.disabled||g,title:s.disabled&&O2n[s.disabled]||"",label:a?"Deleting":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:c.jsx(FOe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};UOe.action="delete";const $2n={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},WOe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"discardDraft"}),f=si(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{l(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:c.jsx(c.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Iu,disabled:!0,label:"Discard changes",title:c.jsx(Pc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Iu,disabled:!!s.disabled||d,title:s.disabled&&$2n[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};WOe.action="discardChanges";const R2n={NOTHING_TO_DUPLICATE:"This document doesnt yet exist so theres nothing to duplicate"},YOe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Wc(t,n),{navigateIntent:i}=rd(),[s,a]=h.useState(!1),[l,u]=fh({id:t,type:n,permission:"duplicate"}),d=si(),f=h.useCallback(()=>{const p=sd();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(l!=null&&l.granted)?{icon:Au,disabled:!0,label:"Duplicate",title:c.jsx(Pc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Au,disabled:s||!!o.disabled||u,label:s?"Duplicating":"Duplicate",title:o.disabled&&R2n[o.disabled]||"",onHandle:f}};YOe.action="duplicate";const qOe=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Wc(t,n),s=obn(t,n),{navigateIntent:a}=rd(),l=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===l.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),l.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:c.jsx(c.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:DF,dialog:m,disabled:v}};qOe.action="restore";const M2n={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function F2n(e,t){return e==="ALREADY_PUBLISHED"&&t?c.jsx(c.Fragment,{children:c.jsxs("span",{children:["Published ",t]})}):M2n[e]}const GOe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,l]=h.useState(null),{publish:u}=Wc(n,r),d=EN(n,r),f=sbn(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=hh(),x=SN(v,g),b=((x==null?void 0:x.draft)||(x==null?void 0:x.published)||{})._rev,y=d.validation.some(H$e),[w,_]=h.useState(!1),C=f.isSyncing,S=d.isValidating,[E,j]=fh({id:n,type:r,permission:"publish"}),k=si(),T=Uf((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?F2n(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),l("publishing")},[u]);h.useEffect(()=>{const $=d.isValidating===!1&&d.revision!==b;!w||C||!$||(y||I(),_(!1))},[C,I,y,w,d.revision,b,S,d.isValidating]),h.useEffect(()=>{const $=a==="publishing"&&!D;$&&p&&m();const V=$?"published":null,H=setTimeout(()=>{l(V)},$?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==b?_(!0):I()},[f.isSyncing,d.isValidating,d.revision,b,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:c.jsx(Pc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const M=!!(w||(t=x==null?void 0:x.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:M||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing":"Publish",icon:a==="published"?za:Jx,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:M||w?null:"Ctrl+Alt+P",onHandle:P}};GOe.action="publish";const L2n={NOT_PUBLISHED:"This document is not published"},KOe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"unpublish"}),f=si(),p=h.useCallback(()=>{l(!1),o()},[o]),m=h.useCallback(()=>{l(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:c.jsx(FOe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:YS,label:"Unpublish",title:c.jsx(Pc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:YS,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?L2n[s.disabled]:"",onHandle:()=>l(!0),dialog:v}};KOe.action="unpublish";const B2n=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},jOn=!1,ZOe={},TOn=Symbol("LOADING_PANE"),AOn="documentPanelPortalElement",XOe={activePanes:[]};function DOn(e){XOe.activePanes=e}function N2n(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=XOe.activePanes||[],a=t.id||sd(),l=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=l?{template:t.template}:ZOe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const z2n={};function V2n(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function H2n(e){return(e||[]).map(t=>t.map(J2n).join("|")).map(encodeURIComponent).join(";")}function U2n(e){return JSON.stringify(e)}function W2n(e){return eSn(decodeURIComponent(e))}function Y2n(e){return H2n(e)}const q2n=gi.create("/",[gi.intents("/intent"),gi.create("/edit/:type/:editDocumentId",[gi.create({path:"/:params",transform:{params:{toState:V2n,toPath:U2n}}})]),gi.create({path:"/:panes",children:[gi.create("/:action",gi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:W2n,toPath:Y2n}}})]),G2n=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,K2n=e=>/^[a-z0-9]+=[^=]+/i.test(e),Z2n=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),QOe=["view","since","rev","inspect","comment"],X2n=Boolean;function Q2n(e,t){return e.reduce((n,r)=>{if(K2n(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else Z2n(r)?n.payload=nSn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:z2n,payload:void 0})}function J2n(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,l=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!QOe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[l?"":i].concat([d.length>0&&d,u].filter(X2n).flat()).join(",")||","}function eSn(e){return e.indexOf(",{")!==-1?tSn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return Q2n(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...ji(n.params,QOe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function tSn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(G2n)||[];if(!r){n=n.slice(1);continue}const s=i&&JOe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function JOe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function nSn(e){return e?JOe(atob(e)):void 0}const IOn=320,POn=600,OOn=320,$On=540,rSn={},z4="inspect:",oSn=[{id:"inspectors"},{id:"links"}],V4="sanity/desk/history",iSn="sanity/desk/validation",kb="sanity/desk/comments";var Ahe=Object.freeze,sSn=Object.defineProperty,aSn=(e,t)=>Ahe(sSn(e,"raw",{value:Ahe(t||e.slice())})),Dhe;const Ihe=O(wxe)(Dhe||(Dhe=aSn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),lSn=/[^\p{Alpha}\p{White_Space}]/gu,cSn=/\p{White_Space}+/u;function uSn(e){const t=e.replace(lSn,"").split(cSn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function QA(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>uSn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?c.jsx(Ihe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):c.jsx(Ihe,{...n})}const e3e=25,dSn={minWidth:e3e};function FS(){return c.jsx("div",{style:dSn})}var Phe=Object.freeze,fSn=Object.defineProperty,hSn=(e,t)=>Phe(fSn(e,"raw",{value:Phe(t||e.slice())})),Ohe;const pSn={open:500,close:0},$he=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(Ohe||(Ohe=hSn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function t3e(e){const{selected:t,userId:n}=e,[r,o]=a1(n),i=si();return!r||o?c.jsx($he,{children:"@Loading"}):c.jsx(yt,{portal:!0,open:t,delay:pSn,content:c.jsxs(W,{align:"center",padding:2,gap:1,children:[c.jsx(W,{children:c.jsx(QA,{user:r})}),c.jsx(B,{size:1,children:r.displayName})]}),children:c.jsxs($he,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Rhe=Object.freeze,mSn=Object.defineProperty,gSn=(e,t)=>Rhe(mSn(e,"raw",{value:Rhe(t||e.slice())})),Mhe;const vSn=O(B)(Mhe||(Mhe=gSn([`
  word-break: break-word;
`])));function Ns(e){const{children:t}=e;return c.jsx(vSn,{size:1,children:t})}var Fhe=Object.freeze,ySn=Object.defineProperty,bSn=(e,t)=>Fhe(ySn(e,"raw",{value:Fhe(t||e.slice())})),Lhe;const xSn=O(ne)(()=>de(Lhe||(Lhe=bSn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),wSn=[],_Sn={block:{normal:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h1:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h2:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h3:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h4:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h5:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},h6:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},code:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},number:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(Ns,{children:t})}},marks:{strong:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},em:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},code:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},underline:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},link:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},types:{mention:e=>{var t;return c.jsx(t3e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function CSn(e){const{blocks:t}=e;return c.jsx(xSn,{children:c.jsx(fCn,{value:t||wSn,components:_Sn})})}const SSn=yge({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),ESn=yge({type:"block",name:"block",of:[SSn],styles:[{title:"Normal",value:"normal"}],lists:[]}),kSn=G$e({type:"array",name:"body",of:[ESn]}),jSn=I8.compile({name:"comments",types:[kSn]}),TSn=jSn.get("body"),ASn=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DSn=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),ISn=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PSn=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function n3e(e){const t=h.useRef(e);return h.useMemo(()=>!Yt(t.current,e),[e])}function m_(e){return e?e==null?void 0:e.some(t=>{var n;return Xu(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Js(r)?r.text:r.userId))}):!1}const r3e=oe.createContext(null);function OSn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:l}=e,u=po(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),x=h.useMemo(()=>m_(a),[a]),b=n3e(a),y=h.useCallback(()=>{l||_e.focus(u)},[u,l]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),_=h.useCallback(()=>{f(!0),m(""),f(!0),g(_e.getSelection(u))},[u]),C=h.useCallback(k=>{const T=_e.getSelection(u),A=T?T.focus.offset:0,D=_e.focusChild(u),I=Js(D)&&D||void 0,P=k.inputType==="insertText",M=k.inputType==="deleteContentBackward",$=P&&k.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,L=(I==null?void 0:I.text.substring(A-1,A))===" ",H=P&&k.data===" "&&!p;if($&&(A<1||L)){_();return}if(H||M&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Js(D)){let U=D.text.substring(V+1,A);P&&(U+=k.data),M&&(U=U.substring(0,U.length-1)),m(U)}},[w,u,p,_]),S=h.useCallback(()=>{f(!0),_e.insertChild(u,u.schemaTypes.span,{text:"@"}),g(_e.getSelection(u))},[u]);Pi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T,A;const D=u.schemaTypes.inlineObjects.find($=>$.name==="mention");let I;const[P,M]=v&&_e.findByPath(u,v.focus.path)||[];if(P&&Js(P)&&M&&D){_e.focus(u);const $=(T=_e.getSelection(u))==null?void 0:T.focus.offset;typeof $<"u"&&(_e.delete(u,{anchor:{path:M,offset:P.text.lastIndexOf("@")},focus:{path:M,offset:$}},{mode:"selected"}),I=_e.insertChild(u,D,{_type:"mention",userId:k}));const V=_e.focusBlock(u);if(V&&Xu(V)&&I){const L=I==null?void 0:I.slice(-1)[0],H=(A=V.children[V.children.findIndex(U=>Pr(L)&&U._key===L._key)+1])==null?void 0:A._key;if(H){const U=[{_key:V._key},"children",{_key:H}],z={anchor:{path:U,offset:0},focus:{path:U,offset:0}};_e.select(u,z),_e.focus(u)}}}},[u,v]),j=h.useMemo(()=>({canSubmit:x,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:b,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:C,openMentions:_,readOnly:!!l,value:a}),[x,w,u,n,r,y,o,b,S,E,i,d,p,C,_,l,a]);return c.jsx(r3e.Provider,{value:j,children:t})}function o3e(){const e=h.useContext(r3e);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var Bhe=Object.freeze,$Sn=Object.defineProperty,RSn=(e,t)=>Bhe($Sn(e,"raw",{value:Bhe(t||e.slice())})),Nhe;const MSn=O(W)(Nhe||(Nhe=RSn([""]))),FSn={width:"50%"};function LSn(e){const{user:t,onSelect:n}=e,[r]=a1(t.id),o=c.jsx(QA,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?c.jsx(B,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):c.jsx(Si,{size:1,style:FSn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return c.jsx(ee,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(MSn,{align:"center",gap:2,flex:1,children:[o,c.jsx(F,{children:i})]}),!t.canBeMentioned&&c.jsx(Cxe,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const zhe=[],BSn=O(ne)({maxWidth:"220px"}),Vhe=41,NSn=4,zSn=7,VSn=O(W)({maxHeight:Vhe*zSn+NSn*2+Vhe/2}),HSn=oe.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,l]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){l(v)}}),[]);const d=h.useCallback(v=>c.jsx(LSn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>a?(i==null?void 0:i.filter(g=>{var x;return(x=g==null?void 0:g.displayName)==null?void 0:x.toLowerCase().includes(a.toLowerCase())}))||zhe:i||zhe,[i,a]);if(r)return c.jsx(BSn,{children:c.jsx(W,{align:"center",justify:"center",padding:4,children:c.jsx(Vr,{muted:!0,size:1})})});const m=s||void 0;return c.jsxs(W,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&c.jsx(F,{padding:5,children:c.jsx(B,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&c.jsx(VSn,{direction:"column",flex:1,overflow:"hidden",children:c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),USn=e=>{const{children:t}=e;return c.jsx(Ns,{children:t})},WSn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?c.jsx(t3e,{selected:r,userId:n==null?void 0:n.userId}):t},YSn={passive:!0};function qSn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const l=a.getRangeAt(0);if(!(n==null?void 0:n.contains(l.commonAncestorContainer))){o(null);return}const d=l==null?void 0:l.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,YSn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var Hhe=Object.freeze,GSn=Object.defineProperty,i3e=(e,t)=>Hhe(GSn(e,"raw",{value:Hhe(t||e.slice())})),Uhe,Whe;const KSn={outline:"none"},ZSn=O(ne)(()=>de(Uhe||(Uhe=i3e([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),XSn=O(hn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(Whe||(Whe=i3e([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function QSn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,l]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=U0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:x,mentionsMenuOpen:b,mentionsSearchTerm:y,onBeforeInput:w,value:_}=o3e(),C=h.useCallback(()=>c.jsx("span",{children:n}),[n]);zr(h.useCallback(()=>{b&&v()},[v,b]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(y)},[y]),h.useEffect(()=>{b&&p&&!Yt(p.anchor,p.focus)&&v()},[b,v,p]),Ds(k=>{k.code==="Escape"&&b&&v()});const S=qSn({disabled:!b,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),b){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":b&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,b,i,s]),j=h.useMemo(()=>{if(p)return;const k=(_||[]).slice(-1)[0],T=Xu(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Js(T)?T.text.length:0};return{focus:A,anchor:A}},[_,p]);return c.jsxs(c.Fragment,{children:[c.jsx(C0,{element:u.current,children:c.jsx(XSn,{arrow:!1,constrainSize:!0,content:c.jsx(HSn,{ref:f,loading:x.loading,onSelect:g,options:x.data||[],inputElement:d.current}),disabled:!b,fallbackPlacements:["bottom","top"],open:b,placement:"bottom",portal:!0,ref:l,referenceElement:S})}),c.jsx(ZSn,{ref:u,"data-ui":"EditableWrapStack",children:c.jsx(oke,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:USn,renderChild:WSn,renderPlaceholder:C,selection:j,style:KSn,tabIndex:t?0:void 0})})]})}var Yhe=Object.freeze,JSn=Object.defineProperty,VN=(e,t)=>Yhe(JSn(e,"raw",{value:Yhe(t||e.slice())})),qhe,Ghe,Khe;const LS=O(F)(qhe||(qhe=VN([`
  max-height: 20vh;
  overflow-y: auto;
`]))),e5n=O(Dr)({height:20,width:1}),Zhe=O(ae).attrs({fontSize:1,padding:2})(Ghe||(Ghe=VN([`
  /* border-radius: 50%; */
`]))),t5n=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(Khe||(Khe=VN([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,LS,LS,LS)});function n5n(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:l}=e,[u]=a1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:x}=o3e(),b=l?c.jsx(QA,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return c.jsxs(W,{align:"flex-start",gap:2,children:[b,c.jsx(t5n,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:x?"transparent":"default",children:c.jsxs(ne,{children:[c.jsx(LS,{paddingX:1,paddingY:2,sizing:"border",children:c.jsx(QSn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),c.jsxs(W,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[c.jsx(Zhe,{"aria-label":"Mention user",disabled:x,icon:DSn,mode:"bleed",onClick:y}),c.jsx(e5n,{}),c.jsx(Zhe,{"aria-label":"Send comment",disabled:!d||!m||x,icon:ASn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const r5n=9999999;function o5n(e){const{onClose:t,onConfirm:n}=e,r=Jf(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return c.jsx(hxe,{tone:"default",children:c.jsx(C0,{__unstable_elements:{boundary:r.element},children:c.jsx(OQe,{zOffset:r5n,children:c.jsx(pa,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:c.jsxs(ln,{columns:2,padding:2,gap:2,children:[c.jsx(ae,{text:"Cancel",mode:"ghost",onClick:o}),c.jsx(ae,{onClick:i,text:"Discard",tone:"critical"})]}),children:c.jsx(ne,{padding:4,children:c.jsx(B,{children:"Do you want to discard the comment?"})})})})})})}const o3=[],i5n={behavior:"smooth",block:"center",inline:"center"},JA=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:l,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:x,readOnly:b,value:y=o3,withAvatar:w=!0}=t,[_,C]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),[T,A]=h.useState(FE()),D=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&_e.focus(S.current)})},[]),I=h.useCallback(()=>{A(FE())},[]),P=h.useCallback(H=>{if(H.type==="ready"&&s&&D(),H.type==="focus"&&C(!0),H.type==="blur"&&C(!1),H.type==="patch"&&S.current){const U=_e.getValue(S.current);u(U||o3)}},[s,u,D]),M=h.useCallback(()=>{var H;(H=E.current)==null||H.scrollIntoView(i5n)},[]),$=h.useCallback(()=>{g(),I(),D(),M()},[g,D,I,M]),V=h.useCallback(()=>{f(),I()},[f,I]),L=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),D()}}),[D]);return h.useImperativeHandle(n,()=>({focus:D,blur(){S.current&&_e.blur(S.current)},scrollTo:M,reset:I,discardDialogController:L}),[L,D,I,M]),c.jsxs(c.Fragment,{children:[j&&c.jsx(o5n,{onClose:d,onConfirm:V}),c.jsx(ne,{ref:E,"data-testid":"comment-input",children:c.jsx(_e,{onChange:P,readOnly:b,ref:S,schemaType:TSn,value:y||o3,children:c.jsx(OSn,{expandOnFocus:o,focused:_,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:b,value:y,children:c.jsx(od,{as:ne,disabled:!i||j,children:c.jsx(n5n,{currentUser:r,focusLock:i,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:$,placeholder:x,withAvatar:w})})})},T)})]})}),i3=3;var Xhe=Object.freeze,s5n=Object.defineProperty,a5n=(e,t)=>Xhe(s5n(e,"raw",{value:Xhe(t||e.slice())})),Qhe;const l5n={open:500},c5n=O(B)(Qhe||(Qhe=a5n([`
  min-width: max-content;
`])));function u5n(e){const{children:t,text:n}=e;return c.jsx(yt,{delay:l5n,portal:!0,placement:"top",content:c.jsx(c5n,{size:1,children:n}),padding:2,children:c.jsx(W,{children:t})})}var Jhe=Object.freeze,d5n=Object.defineProperty,s3e=(e,t)=>Jhe(d5n(e,"raw",{value:Jhe(t||e.slice())})),epe,tpe;const f5n={open:500},h5n={placement:"bottom-end"},p5n=O(es)(epe||(epe=s3e([`
  display: flex;
`]))),m5n=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(tpe||(tpe=s3e([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function g5n(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:l,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return c.jsx(tQe,{delay:f5n,children:c.jsx(p5n,{"data-root-menu":r?"true":"false",...p,children:c.jsxs(m5n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&c.jsx(u5n,{text:f==="open"?"Mark as resolved":"Re-open",children:c.jsx(ae,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?Jk:WS,mode:"bleed",onClick:u,padding:2})}),c.jsx(rn,{id:"comment-actions-menu",button:c.jsx(ae,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Vo,mode:"bleed",padding:2}),onOpen:l,onClose:a,menu:c.jsxs(Ht,{children:[c.jsx(Me,{fontSize:1,hidden:!n,icon:Du,onClick:s,text:"Edit comment"}),c.jsx(Me,{fontSize:1,hidden:!t,icon:uo,onClick:i,text:"Delete comment",tone:"critical"}),c.jsx(Dr,{hidden:!t&&!n}),c.jsx(Me,{fontSize:1,hidden:!o,icon:kf,onClick:o,text:"Copy link to comment"})]}),popover:h5n})]})})})}var npe=Object.freeze,v5n=Object.defineProperty,c1=(e,t)=>npe(v5n(e,"raw",{value:npe(t||e.slice())})),rpe,ope,ipe,spe,ape,lpe;function y5n(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return c.jsx(ne,{onClick:n,children:t})}const b5n={width:"50%"},cpe=O(B)(rpe||(rpe=c1([`
  min-width: max-content;
`]))),x5n=O(ne)(ope||(ope=c1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),w5n=O(W)(ipe||(ipe=c1([`
  min-height: `,`px;
`])),e3e),_5n=O(ee)(spe||(spe=c1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),Ry=O(g5n)(ape||(ape=c1([""]))),C5n=O(ne)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(lpe||(lpe=c1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Ry,n[1],n[1],Ry,Ry,Ry)}),S5n={agoSuffix:!0};function upe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:x,authorId:b,message:y,_id:w,lastEditedAt:_}=r,[C]=a1(b),[S,E]=h.useState(y),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(y),[I,P]=h.useState(!1),M=n3e(S),$=h.useMemo(()=>m_(S),[S]),V=h.useRef(null),L=x?new Date(x):new Date,H=Uf(L,S5n),U=Zo(L,"PPPPp"),z=_?Zo(new Date(_),"PPPPp"):null,Y=i||a,te=h.useCallback(()=>P(!0),[]),N=h.useCallback(()=>P(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),q=h.useCallback(xe=>{xe.stopPropagation(),d==null||d(w)},[w,d]),K=h.useCallback(()=>f(w),[w,f]),Q=h.useCallback(()=>{k(!1),E(D.current)},[]),X=h.useCallback(()=>{var xe;if(!$||!M){Q();return}(xe=V.current)==null||xe.discardDialogController.open()},[Q,M,$]),Z=h.useCallback(xe=>{xe.isDefaultPrevented()||(xe.key==="Escape"&&(xe.preventDefault(),xe.stopPropagation(),X()),m&&m(xe))},[m,X]),re=h.useCallback(()=>{var xe;(xe=V.current)==null||xe.discardDialogController.close()},[]),le=h.useCallback(()=>{var xe;(xe=V.current)==null||xe.discardDialogController.close(),Q()},[Q]),he=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ie=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ye=h.useCallback(()=>{k(xe=>!xe)},[]);Pi(j,()=>{P(!1)}),Ds(xe=>{xe.key==="Escape"&&!M&&Q()}),zr(()=>{M||Q()},[T]);const Ce=c.jsx(QA,{user:C}),Ae=C!=null&&C.displayName?c.jsx(B,{size:1,weight:"semibold",textOverflow:"ellipsis",title:C.displayName,children:C.displayName}):c.jsx(Si,{size:1,style:b5n});return c.jsxs(C5n,{"data-menu-open":I?"true":"false",ref:A,space:4,children:[c.jsxs(x5n,{space:1,"data-muted":Y,children:[c.jsxs(W,{align:"center",gap:i3,flex:1,children:[Ce,c.jsx(W,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:c.jsxs(W,{align:"flex-end",gap:2,children:[c.jsx(F,{flex:1,children:Ae}),!Y&&c.jsxs(W,{align:"center",gap:1,children:[c.jsx(cpe,{size:0,muted:!0,title:U,children:H}),z&&c.jsx(cpe,{size:0,muted:!0,title:z,children:"(edited)"})]})]})}),!j&&!Y&&c.jsx(y5n,{children:c.jsx(Ry,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:K,onEditStart:ye,onMenuClose:N,onMenuOpen:te,onStatusChange:ie,readOnly:g,status:r.status})})]}),j&&c.jsxs(W,{align:"flex-start",gap:2,children:[c.jsx(FS,{}),c.jsx(ne,{flex:1,children:c.jsx(JA,{currentUser:o,focusOnMount:!0,mentionOptions:l,onChange:E,onDiscardCancel:re,onDiscardConfirm:le,onKeyDown:Z,onSubmit:he,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&c.jsxs(W,{gap:i3,children:[c.jsx(FS,{}),c.jsx(CSn,{blocks:y})]})]}),Y&&c.jsxs(w5n,{gap:i3,children:[c.jsx(FS,{}),c.jsxs(W,{align:"center",gap:1,flex:1,children:[c.jsxs(B,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),c.jsx(W,{hidden:a,children:c.jsx(_5n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:q,padding:1,radius:2,tone:"primary",children:c.jsx(B,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var dpe=Object.freeze,E5n=Object.defineProperty,k5n=(e,t)=>dpe(E5n(e,"raw",{value:dpe(t||e.slice())})),fpe;const a3e=O(ee).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(fpe||(fpe=k5n([`
  // ...
`])));var hpe=Object.freeze,j5n=Object.defineProperty,HN=(e,t)=>hpe(j5n(e,"raw",{value:hpe(t||e.slice())})),ppe,mpe,gpe;const ay=[],ly=5,T5n=O(a3e)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(ppe||(ppe=HN([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),A5n=O(ae)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de(mpe||(mpe=HN([`
    font-weight: `,`;
  `])),n)}),D5n=O(ae)(gpe||(gpe=HN([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),I5n=oe.memo(function(t){var n,r;const{canReply:o,currentUser:i,mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onKeyDown:f,onPathSelect:p,onReply:m,onStatusChange:v,parentComment:g,readOnly:x,replies:b=ay,selected:y}=t,[w,_]=h.useState(ay),[C,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useRef(null),T=h.useMemo(()=>m_(w),[w]),A=h.useCallback(()=>{const Y={fieldPath:g.target.path.field,message:w,parentCommentId:g._id,status:(g==null?void 0:g.status)||"open",threadId:g.threadId};m==null||m(Y),_(ay)},[m,g._id,g==null?void 0:g.status,g.target.path.field,g.threadId,w]),D=h.useCallback(()=>{var Y;if(!T){_(ay);return}(Y=k.current)==null||Y.discardDialogController.open()},[T]),I=h.useCallback(Y=>{Y.isDefaultPrevented()||Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),D())},[D]),P=h.useCallback(()=>{var Y;(Y=k.current)==null||Y.discardDialogController.close()},[]),M=h.useCallback(()=>{var Y,te;_(ay),(Y=k.current)==null||Y.discardDialogController.close(),(te=k.current)==null||te.focus()},[]),$=h.useCallback(()=>{const Y=Cf(g.target.path.field);p==null||p(Y)},[p,g.target.path.field]),V=h.useCallback(Y=>{Y.stopPropagation(),S(!1),E.current=!0},[]),L=h.useMemo(()=>C?b==null?void 0:b.slice(-ly):b,[b,C]),H=h.useMemo(()=>b?b.length>ly:!1,[b]),U=h.useMemo(()=>"".concat((b==null?void 0:b.length)-ly," more ").concat((b==null?void 0:b.length)-ly===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>ly&&!E.current&&S(!0)},[b]);const z=h.useMemo(()=>L.map(Y=>{var te,N;return c.jsx(ne,{as:"li","data-comment-id":Y._id,children:c.jsx(upe,{canDelete:Y.authorId===i.id,canEdit:Y.authorId===i.id,comment:Y,currentUser:i,hasError:((te=Y._state)==null?void 0:te.type)==="createError",isRetrying:((N=Y._state)==null?void 0:N.type)==="createRetrying",mentionOptions:s,onInputKeyDown:I,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,readOnly:x})},Y._id)}),[i,I,s,a,l,u,d,x,L]);return c.jsx(ne,{space:2,ref:j,children:c.jsxs(T5n,{"data-active":y?"true":"fase",onClick:$,tone:y?"primary":void 0,children:[c.jsx(D5n,{"data-ui":"GhostButton","aria-label":"Go to field"}),c.jsxs(ne,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[c.jsx(ne,{as:"li","data-comment-id":g._id,children:c.jsx(upe,{canDelete:g.authorId===i.id,canEdit:g.authorId===i.id,comment:g,currentUser:i,hasError:((n=g._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=g._state)==null?void 0:r.type)==="createRetrying",mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onInputKeyDown:f,onStatusChange:v,readOnly:x})}),H&&!E.current&&c.jsxs(W,{gap:1,paddingY:1,sizing:"border",children:[c.jsx(FS,{}),c.jsx(A5n,{fontSize:1,iconRight:Rl,mode:"bleed",onClick:V,padding:2,space:2,text:U})]}),z,o&&c.jsx(JA,{currentUser:i,expandOnFocus:!0,mentionOptions:s,onChange:_,onDiscardCancel:P,onDiscardConfirm:M,onKeyDown:I,onSubmit:A,placeholder:"Reply",readOnly:x,ref:k,value:w})]})]})})}),P5n={close:0,open:500},vpe=c.jsx(B,{muted:!0,children:c.jsx(Qu,{})}),s3=(e,t)=>c.jsx(F,{as:"li",children:c.jsx(B,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function O5n(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),l=s<r.length-1;return Array.isArray(i)?c.jsxs(h.Fragment,{children:[c.jsx(yt,{delay:P5n,content:c.jsx(ne,{space:2,padding:2,children:i.map(s3)}),children:c.jsx(F,{children:s3("...",s)})}),l&&vpe]},a):c.jsxs(h.Fragment,{children:[s3(i,s),l&&vpe]},a)}),[r]);return c.jsx(W,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const $5n=4,ype=0,bpe=1,R5n=2;function u1(e){let t=e.length;for(;--t>=0;)e[t]=0}const M5n=0,l3e=1,F5n=2,L5n=3,B5n=258,UN=29,g_=256,Lx=g_+1+UN,_v=30,WN=19,c3e=2*Lx+1,mp=15,a3=16,N5n=7,YN=256,u3e=16,d3e=17,f3e=18,H4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),BS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),z5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h3e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V5n=512,du=new Array((Lx+2)*2);u1(du);const jb=new Array(_v*2);u1(jb);const Bx=new Array(V5n);u1(Bx);const Nx=new Array(B5n-L5n+1);u1(Nx);const qN=new Array(UN);u1(qN);const Tk=new Array(_v);u1(Tk);function l3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let p3e,m3e,g3e;function c3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const v3e=e=>e<256?Bx[e]:Bx[256+(e>>>7)],zx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ss=(e,t,n)=>{e.bi_valid>a3-n?(e.bi_buf|=t<<e.bi_valid&65535,zx(e,e.bi_buf),e.bi_buf=t>>a3-e.bi_valid,e.bi_valid+=n-a3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},pc=(e,t,n)=>{Ss(e,n[t*2],n[t*2+1])},y3e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},H5n=e=>{e.bi_valid===16?(zx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},U5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=mp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<c3e;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(p=l;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},b3e=(e,t,n)=>{const r=new Array(mp+1);let o=0,i,s;for(i=1;i<=mp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=y3e(r[a]++,a))}},W5n=()=>{let e,t,n,r,o;const i=new Array(mp+1);for(n=0,r=0;r<UN-1;r++)for(qN[r]=n,e=0;e<1<<H4[r];e++)Nx[n++]=r;for(Nx[n-1]=r,o=0,r=0;r<16;r++)for(Tk[r]=o,e=0;e<1<<BS[r];e++)Bx[o++]=r;for(o>>=7;r<_v;r++)for(Tk[r]=o<<7,e=0;e<1<<BS[r]-7;e++)Bx[256+o++]=r;for(t=0;t<=mp;t++)i[t]=0;for(e=0;e<=143;)du[e*2+1]=8,e++,i[8]++;for(;e<=255;)du[e*2+1]=9,e++,i[9]++;for(;e<=279;)du[e*2+1]=7,e++,i[7]++;for(;e<=287;)du[e*2+1]=8,e++,i[8]++;for(b3e(du,Lx+1,i),e=0;e<_v;e++)jb[e*2+1]=5,jb[e*2]=y3e(e,5);p3e=new l3(du,H4,g_+1,Lx,mp),m3e=new l3(jb,BS,0,_v,mp),g3e=new l3(new Array(0),z5n,0,WN,N5n)},x3e=e=>{let t;for(t=0;t<Lx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_v;t++)e.dyn_dtree[t*2]=0;for(t=0;t<WN;t++)e.bl_tree[t*2]=0;e.dyn_ltree[YN*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},w3e=e=>{e.bi_valid>8?zx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},xpe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},u3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&xpe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!xpe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},wpe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?pc(e,o,t):(s=Nx[o],pc(e,s+g_+1,t),a=H4[s],a!==0&&(o-=qN[s],Ss(e,o,a)),r--,s=v3e(r),pc(e,s,n),a=BS[s],a!==0&&(r-=Tk[s],Ss(e,r,a)));while(i<e.sym_next);pc(e,YN,t)},U4=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,l=-1,u;for(e.heap_len=0,e.heap_max=c3e,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)u3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],u3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,u3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],U5n(e,t),b3e(n,l,e.bl_count)},_pe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[u3e*2]++):a<=10?e.bl_tree[d3e*2]++:e.bl_tree[f3e*2]++,a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},Cpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)){if(a<u)do pc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(pc(e,i,e.bl_tree),a--),pc(e,u3e,e.bl_tree),Ss(e,a-3,2)):a<=10?(pc(e,d3e,e.bl_tree),Ss(e,a-3,3)):(pc(e,f3e,e.bl_tree),Ss(e,a-11,7));a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},Y5n=e=>{let t;for(_pe(e,e.dyn_ltree,e.l_desc.max_code),_pe(e,e.dyn_dtree,e.d_desc.max_code),U4(e,e.bl_desc),t=WN-1;t>=3&&e.bl_tree[h3e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},q5n=(e,t,n,r)=>{let o;for(Ss(e,t-257,5),Ss(e,n-1,5),Ss(e,r-4,4),o=0;o<r;o++)Ss(e,e.bl_tree[h3e[o]*2+1],3);Cpe(e,e.dyn_ltree,t-1),Cpe(e,e.dyn_dtree,n-1)},G5n=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return ype;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return bpe;for(n=32;n<g_;n++)if(e.dyn_ltree[n*2]!==0)return bpe;return ype};let Spe=!1;const K5n=e=>{Spe||(W5n(),Spe=!0),e.l_desc=new c3(e.dyn_ltree,p3e),e.d_desc=new c3(e.dyn_dtree,m3e),e.bl_desc=new c3(e.bl_tree,g3e),e.bi_buf=0,e.bi_valid=0,x3e(e)},_3e=(e,t,n,r)=>{Ss(e,(M5n<<1)+(r?1:0),3),w3e(e),zx(e,n),zx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Z5n=e=>{Ss(e,l3e<<1,3),pc(e,YN,du),H5n(e)},X5n=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===R5n&&(e.strm.data_type=G5n(e)),U4(e,e.l_desc),U4(e,e.d_desc),s=Y5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?_3e(e,t,n,r):e.strategy===$5n||i===o?(Ss(e,(l3e<<1)+(r?1:0),3),wpe(e,du,jb)):(Ss(e,(F5n<<1)+(r?1:0),3),q5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),wpe(e,e.dyn_ltree,e.dyn_dtree)),x3e(e),r&&w3e(e)},Q5n=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Nx[n]+g_+1)*2]++,e.dyn_dtree[v3e(t)*2]++),e.sym_next===e.sym_end);var J5n=K5n,eEn=_3e,tEn=X5n,nEn=Q5n,rEn=Z5n,oEn={_tr_init:J5n,_tr_stored_block:eEn,_tr_flush_block:tEn,_tr_tally:nEn,_tr_align:rEn};const iEn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Vx=iEn;const sEn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},aEn=new Uint32Array(sEn()),lEn=(e,t,n,r)=>{const o=aEn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Oo=lEn,nm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:cEn,_tr_stored_block:W4,_tr_flush_block:uEn,_tr_tally:bf,_tr_align:dEn}=oEn,{Z_NO_FLUSH:xf,Z_PARTIAL_FLUSH:fEn,Z_FULL_FLUSH:hEn,Z_FINISH:Ia,Z_BLOCK:Epe,Z_OK:Wo,Z_STREAM_END:kpe,Z_STREAM_ERROR:kc,Z_DATA_ERROR:pEn,Z_BUF_ERROR:d3,Z_DEFAULT_COMPRESSION:mEn,Z_FILTERED:gEn,Z_HUFFMAN_ONLY:d2,Z_RLE:vEn,Z_FIXED:yEn,Z_DEFAULT_STRATEGY:bEn,Z_UNKNOWN:xEn,Z_DEFLATED:eD}=Lm,wEn=9,_En=15,CEn=8,SEn=29,EEn=256,Y4=EEn+1+SEn,kEn=30,jEn=19,TEn=2*Y4+1,AEn=15,Wt=3,tf=258,jc=tf+Wt+1,DEn=32,s0=42,GN=57,q4=69,G4=73,K4=91,Z4=103,gp=113,My=666,Wi=1,d1=2,rm=3,f1=4,IEn=3,vp=(e,t)=>(e.msg=nm[t],t),jpe=e=>e*2-(e>4?9:0),Nd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},PEn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let OEn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,wf=OEn;const zs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Qs=(e,t)=>{uEn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,zs(e.strm)},dn=(e,t)=>{e.pending_buf[e.pending++]=t},cy=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},X4=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Vx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Oo(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},C3e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-jc?e.strstart-(e.w_size-jc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+tf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=tf-(p-r),r=p-tf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead},a0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-jc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),PEn(e),r+=t),e.strm.avail_in===0)break;if(n=X4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Wt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=wf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=wf(e,e.ins_h,e.window[o+Wt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Wt)););}while(e.lookahead<jc&&e.strm.avail_in!==0)},S3e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ia||t===xf||r!==o+e.strm.avail_in)))break;s=t===Ia&&r===o+e.strm.avail_in?1:0,W4(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,zs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(X4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?f1:t!==xf&&t!==Ia&&e.strm.avail_in===0&&e.strstart===e.block_start?d1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(X4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ia)&&t!==xf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ia&&e.strm.avail_in===0&&r===o?1:0,W4(e,e.block_start,r,s),e.block_start+=r,zs(e.strm)),s?rm:Wi)},f3=(e,t)=>{let n,r;for(;;){if(e.lookahead<jc){if(a0(e),e.lookahead<jc&&t===xf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-jc&&(e.match_length=C3e(e,n)),e.match_length>=Wt)if(r=bf(e,e.strstart-e.match_start,e.match_length-Wt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Wt){e.match_length--;do e.strstart++,e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wf(e,e.ins_h,e.window[e.strstart+1]);else r=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===Ia?(Qs(e,!0),e.strm.avail_out===0?rm:f1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Wi:d1},sg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<jc){if(a0(e),e.lookahead<jc&&t===xf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Wt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-jc&&(e.match_length=C3e(e,n),e.match_length<=5&&(e.strategy===gEn||e.match_length===Wt&&e.strstart-e.match_start>4096)&&(e.match_length=Wt-1)),e.prev_length>=Wt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Wt,r=bf(e,e.strstart-1-e.prev_match,e.prev_length-Wt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Wt-1,e.strstart++,r&&(Qs(e,!1),e.strm.avail_out===0))return Wi}else if(e.match_available){if(r=bf(e,0,e.window[e.strstart-1]),r&&Qs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Wi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=bf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===Ia?(Qs(e,!0),e.strm.avail_out===0?rm:f1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Wi:d1},$En=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=tf){if(a0(e),e.lookahead<=tf&&t===xf)return Wi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Wt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+tf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=tf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Wt?(n=bf(e,1,e.match_length-Wt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===Ia?(Qs(e,!0),e.strm.avail_out===0?rm:f1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Wi:d1},REn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(a0(e),e.lookahead===0)){if(t===xf)return Wi;break}if(e.match_length=0,n=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===Ia?(Qs(e,!0),e.strm.avail_out===0?rm:f1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Wi:d1};function Zl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Fy=[new Zl(0,0,0,0,S3e),new Zl(4,4,8,4,f3),new Zl(4,5,16,8,f3),new Zl(4,6,32,32,f3),new Zl(4,4,16,16,sg),new Zl(8,16,32,32,sg),new Zl(8,16,128,128,sg),new Zl(8,32,128,256,sg),new Zl(32,128,258,1024,sg),new Zl(32,258,258,4096,sg)],MEn=e=>{e.window_size=2*e.w_size,Nd(e.head),e.max_lazy_match=Fy[e.level].max_lazy,e.good_match=Fy[e.level].good_length,e.nice_match=Fy[e.level].nice_length,e.max_chain_length=Fy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Wt-1,e.match_available=0,e.ins_h=0};function FEn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=eD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(TEn*2),this.dyn_dtree=new Uint16Array((2*kEn+1)*2),this.bl_tree=new Uint16Array((2*jEn+1)*2),Nd(this.dyn_ltree),Nd(this.dyn_dtree),Nd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(AEn+1),this.heap=new Uint16Array(2*Y4+1),Nd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Y4+1),Nd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const v_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==s0&&t.status!==GN&&t.status!==q4&&t.status!==G4&&t.status!==K4&&t.status!==Z4&&t.status!==gp&&t.status!==My?1:0},E3e=e=>{if(v_(e))return vp(e,kc);e.total_in=e.total_out=0,e.data_type=xEn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?GN:t.wrap?s0:gp,e.adler=t.wrap===2?0:1,t.last_flush=-2,cEn(t),Wo},k3e=e=>{const t=E3e(e);return t===Wo&&MEn(e.state),t},LEn=(e,t)=>v_(e)||e.state.wrap!==2?kc:(e.state.gzhead=t,Wo),j3e=(e,t,n,r,o,i)=>{if(!e)return kc;let s=1;if(t===mEn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>wEn||n!==eD||r<8||r>15||t<0||t>9||i<0||i>yEn||r===8&&s!==1)return vp(e,kc);r===8&&(r=9);const a=new FEn;return e.state=a,a.strm=e,a.status=s0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Wt-1)/Wt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,k3e(e)},BEn=(e,t)=>j3e(e,t,eD,_En,CEn,bEn),NEn=(e,t)=>{if(v_(e)||t>Epe||t<0)return e?vp(e,kc):kc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===My&&t!==Ia)return vp(e,e.avail_out===0?d3:kc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(zs(e),e.avail_out===0)return n.last_flush=-1,Wo}else if(e.avail_in===0&&jpe(t)<=jpe(r)&&t!==Ia)return vp(e,d3);if(n.status===My&&e.avail_in!==0)return vp(e,d3);if(n.status===s0&&n.wrap===0&&(n.status=gp),n.status===s0){let o=eD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=d2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=DEn),o+=31-o%31,cy(n,o),n.strstart!==0&&(cy(n,e.adler>>>16),cy(n,e.adler&65535)),e.adler=1,n.status=gp,zs(e),n.pending!==0)return n.last_flush=-1,Wo}if(n.status===GN){if(e.adler=0,dn(n,31),dn(n,139),dn(n,8),n.gzhead)dn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dn(n,n.gzhead.time&255),dn(n,n.gzhead.time>>8&255),dn(n,n.gzhead.time>>16&255),dn(n,n.gzhead.time>>24&255),dn(n,n.level===9?2:n.strategy>=d2||n.level<2?4:0),dn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(dn(n,n.gzhead.extra.length&255),dn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Oo(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=q4;else if(dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,n.level===9?2:n.strategy>=d2||n.level<2?4:0),dn(n,IEn),n.status=gp,zs(e),n.pending!==0)return n.last_flush=-1,Wo}if(n.status===q4){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,zs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=G4}if(n.status===G4){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),zs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,dn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=K4}if(n.status===K4){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),zs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,dn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o))}n.status=Z4}if(n.status===Z4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(zs(e),n.pending!==0))return n.last_flush=-1,Wo;dn(n,e.adler&255),dn(n,e.adler>>8&255),e.adler=0}if(n.status=gp,zs(e),n.pending!==0)return n.last_flush=-1,Wo}if(e.avail_in!==0||n.lookahead!==0||t!==xf&&n.status!==My){let o=n.level===0?S3e(n,t):n.strategy===d2?REn(n,t):n.strategy===vEn?$En(n,t):Fy[n.level].func(n,t);if((o===rm||o===f1)&&(n.status=My),o===Wi||o===rm)return e.avail_out===0&&(n.last_flush=-1),Wo;if(o===d1&&(t===fEn?dEn(n):t!==Epe&&(W4(n,0,0,!1),t===hEn&&(Nd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),zs(e),e.avail_out===0))return n.last_flush=-1,Wo}return t!==Ia?Wo:n.wrap<=0?kpe:(n.wrap===2?(dn(n,e.adler&255),dn(n,e.adler>>8&255),dn(n,e.adler>>16&255),dn(n,e.adler>>24&255),dn(n,e.total_in&255),dn(n,e.total_in>>8&255),dn(n,e.total_in>>16&255),dn(n,e.total_in>>24&255)):(cy(n,e.adler>>>16),cy(n,e.adler&65535)),zs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Wo:kpe)},zEn=e=>{if(v_(e))return kc;const t=e.state.status;return e.state=null,t===gp?vp(e,pEn):Wo},VEn=(e,t)=>{let n=t.length;if(v_(e))return kc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==s0||r.lookahead)return kc;if(o===1&&(e.adler=Vx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Nd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,a0(r);r.lookahead>=Wt;){let l=r.strstart,u=r.lookahead-(Wt-1);do r.ins_h=wf(r,r.ins_h,r.window[l+Wt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Wt-1,a0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Wt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Wo};var HEn=BEn,UEn=j3e,WEn=k3e,YEn=E3e,qEn=LEn,GEn=NEn,KEn=zEn,ZEn=VEn,XEn="pako deflate (from Nodeca project)",Tb={deflateInit:HEn,deflateInit2:UEn,deflateReset:WEn,deflateResetKeep:YEn,deflateSetHeader:qEn,deflate:GEn,deflateEnd:KEn,deflateSetDictionary:ZEn,deflateInfo:XEn};const QEn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var JEn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)QEn(n,r)&&(e[r]=n[r])}}return e},ekn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},tD={assign:JEn,flattenChunks:ekn};let T3e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{T3e=!1}const Hx=new Uint8Array(256);for(let e=0;e<256;e++)Hx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Hx[254]=Hx[254]=1;var tkn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const nkn=(e,t)=>{if(t<65534&&e.subarray&&T3e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var rkn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Hx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return nkn(i,o)},okn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Hx[e[n]]>t?n:t},Ux={string2buf:tkn,buf2string:rkn,utf8border:okn};function ikn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var A3e=ikn;const D3e=Object.prototype.toString,{Z_NO_FLUSH:skn,Z_SYNC_FLUSH:akn,Z_FULL_FLUSH:lkn,Z_FINISH:ckn,Z_OK:Ak,Z_STREAM_END:ukn,Z_DEFAULT_COMPRESSION:dkn,Z_DEFAULT_STRATEGY:fkn,Z_DEFLATED:hkn}=Lm;function y_(e){this.options=tD.assign({level:dkn,method:hkn,chunkSize:16384,windowBits:15,memLevel:8,strategy:fkn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A3e,this.strm.avail_out=0;let n=Tb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ak)throw new Error(nm[n]);if(t.header&&Tb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Ux.string2buf(t.dictionary):D3e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Tb.deflateSetDictionary(this.strm,r),n!==Ak)throw new Error(nm[n]);this._dict_set=!0}}y_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?ckn:skn,typeof e=="string"?n.input=Ux.string2buf(e):D3e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===akn||i===lkn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Tb.deflate(n,i),o===ukn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Tb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Ak;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};y_.prototype.onData=function(e){this.chunks.push(e)};y_.prototype.onEnd=function(e){e===Ak&&(this.result=tD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function KN(e,t){const n=new y_(t);if(n.push(e,!0),n.err)throw n.msg||nm[n.err];return n.result}function pkn(e,t){return t=t||{},t.raw=!0,KN(e,t)}function mkn(e,t){return t=t||{},t.gzip=!0,KN(e,t)}var gkn=y_,vkn=KN,ykn=pkn,bkn=mkn,xkn=Lm,wkn={Deflate:gkn,deflate:vkn,deflateRaw:ykn,gzip:bkn,constants:xkn};const f2=16209,_kn=16191;var Ckn=function(t,n){let r,o,i,s,a,l,u,d,f,p,m,v,g,x,b,y,w,_,C,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),l=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,x=A.distcode,b=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&b];t:for(;;){if(_=w>>>24,m>>>=_,v-=_,_=w>>>16&255,_===0)T[i++]=w&65535;else if(_&16){C=w&65535,_&=15,_&&(v<_&&(m+=k[r++]<<v,v+=8),C+=m&(1<<_)-1,m>>>=_,v-=_),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=x[m&y];n:for(;;){if(_=w>>>24,m>>>=_,v-=_,_=w>>>16&255,_&16){if(S=w&65535,_&=15,v<_&&(m+=k[r++]<<v,v+=8,v<_&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<_)-1,S>l){t.msg="invalid distance too far back",A.mode=f2;break e}if(m>>>=_,v-=_,_=i-s,S>_){if(_=S-_,_>d&&A.sane){t.msg="invalid distance too far back",A.mode=f2;break e}if(E=0,j=p,f===0){if(E+=u-_,_<C){C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}}else if(f<_){if(E+=u+f-_,_-=f,_<C){C-=_;do T[i++]=p[E++];while(--_);if(E=0,f<C){_=f,C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}}}else if(E+=f-_,_<C){C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}for(;C>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],C-=3;C&&(T[i++]=j[E++],C>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],C-=3;while(C>2);C&&(T[i++]=T[E++],C>1&&(T[i++]=T[E++]))}}else if(_&64){t.msg="invalid distance code",A.mode=f2;break e}else{w=x[(w&65535)+(m&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){A.mode=_kn;break e}else{t.msg="invalid literal/length code",A.mode=f2;break e}else{w=g[(w&65535)+(m&(1<<_)-1)];continue t}break}}while(r<o&&i<a);C=v>>3,r-=C,v-=C<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const ag=15,Tpe=852,Ape=592,Dpe=0,h3=1,Ipe=2,Skn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ekn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kkn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jkn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Tkn=(e,t,n,r,o,i,s,a)=>{const l=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,x=0,b=0,y=0,w,_,C,S,E,j=null,k;const T=new Uint16Array(ag+1),A=new Uint16Array(ag+1);let D=null,I,P,M;for(u=0;u<=ag;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=l,p=ag;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),x=1,u=1;u<=ag;u++)if(x<<=1,x-=T[u],x<0)return-1;if(x>0&&(e===Dpe||p!==1))return-1;for(A[1]=0,u=1;u<ag;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===Dpe?(j=D=s,k=20):e===h3?(j=Skn,D=Ekn,k=257):(j=kkn,D=jkn,k=0),y=0,d=0,u=f,E=i,v=m,g=0,C=-1,b=1<<m,S=b-1,e===h3&&b>Tpe||e===Ipe&&b>Ape)return 1;for(;;){I=u-g,s[d]+1<k?(P=0,M=s[d]):s[d]>=k?(P=D[s[d]-k],M=j[s[d]-k]):(P=32+64,M=0),w=1<<u-g,_=1<<v,f=_;do _-=w,o[E+(y>>g)+_]=I<<24|P<<16|M|0;while(_!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==C){for(g===0&&(g=m),E+=f,v=u-g,x=1<<v;v+g<p&&(x-=T[v+g],!(x<=0));)v++,x<<=1;if(b+=1<<v,e===h3&&b>Tpe||e===Ipe&&b>Ape)return 1;C=y&S,o[C]=m<<24|v<<16|E-i|0}}return y!==0&&(o[E+y]=u-g<<24|64<<16|0),a.bits=m,0};var Ab=Tkn;const Akn=0,I3e=1,P3e=2,{Z_FINISH:Ppe,Z_BLOCK:Dkn,Z_TREES:h2,Z_OK:om,Z_STREAM_END:Ikn,Z_NEED_DICT:Pkn,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:O3e,Z_MEM_ERROR:$3e,Z_BUF_ERROR:Okn,Z_DEFLATED:Ope}=Lm,nD=16180,$pe=16181,Rpe=16182,Mpe=16183,Fpe=16184,Lpe=16185,Bpe=16186,Npe=16187,zpe=16188,Vpe=16189,Dk=16190,nu=16191,p3=16192,Hpe=16193,m3=16194,Upe=16195,Wpe=16196,Ype=16197,qpe=16198,p2=16199,m2=16200,Gpe=16201,Kpe=16202,Zpe=16203,Xpe=16204,Qpe=16205,g3=16206,Jpe=16207,eme=16208,pr=16209,R3e=16210,M3e=16211,$kn=852,Rkn=592,Mkn=15,Fkn=Mkn,tme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Lkn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<nD||t.mode>M3e?1:0},F3e=e=>{if(Bm(e))return Ga;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=nD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array($kn),t.distcode=t.distdyn=new Int32Array(Rkn),t.sane=1,t.back=-1,om},L3e=e=>{if(Bm(e))return Ga;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,F3e(e)},B3e=(e,t)=>{let n;if(Bm(e))return Ga;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ga:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,L3e(e))},N3e=(e,t)=>{if(!e)return Ga;const n=new Lkn;e.state=n,n.strm=e,n.window=null,n.mode=nD;const r=B3e(e,t);return r!==om&&(e.state=null),r},Bkn=e=>N3e(e,Fkn);let nme=!0,v3,y3;const Nkn=e=>{if(nme){v3=new Int32Array(512),y3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ab(I3e,e.lens,0,288,v3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ab(P3e,e.lens,0,32,y3,0,e.work,{bits:5}),nme=!1}e.lencode=v3,e.lenbits=9,e.distcode=y3,e.distbits=5},z3e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},zkn=(e,t)=>{let n,r,o,i,s,a,l,u,d,f,p,m,v,g,x=0,b,y,w,_,C,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bm(e)||!e.output||!e.input&&e.avail_in!==0)return Ga;n=e.state,n.mode===nu&&(n.mode=p3),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=l,j=om;e:for(;;)switch(n.mode){case nD:if(n.wrap===0){n.mode=p3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0),u=0,d=0,n.mode=$pe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=pr;break}if((u&15)!==Ope){e.msg="unknown compression method",n.mode=pr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=pr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?Vpe:nu,u=0,d=0;break;case $pe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Ope){e.msg="unknown compression method",n.mode=pr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=pr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=Rpe;case Rpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Oo(n.check,k,4,0)),u=0,d=0,n.mode=Mpe;case Mpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=Fpe;case Fpe:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Lpe;case Lpe:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Bpe;case Bpe:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Npe;case Npe:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=zpe;case zpe:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=pr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=nu;break;case Vpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=tme(u),u=0,d=0,n.mode=Dk;case Dk:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,Pkn;e.adler=n.check=1,n.mode=nu;case nu:if(t===Dkn||t===h2)break e;case p3:if(n.last){u>>>=d&7,d-=d&7,n.mode=g3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Hpe;break;case 1:if(Nkn(n),n.mode=p2,t===h2){u>>>=2,d-=2;break e}break;case 2:n.mode=Wpe;break;case 3:e.msg="invalid block type",n.mode=pr}u>>>=2,d-=2;break;case Hpe:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pr;break}if(n.length=u&65535,u=0,d=0,n.mode=m3,t===h2)break e;case m3:n.mode=Upe;case Upe:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,l-=m,s+=m,n.length-=m;break}n.mode=nu;break;case Wpe:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pr;break}n.have=0,n.mode=Ype;case Ype:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Ab(Akn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=pr;break}n.have=0,n.mode=qpe;case qpe:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,y=x>>>16&255,w=x&65535,!(b<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=b,d-=b,n.lens[n.have++]=w;else{if(w===16){for(A=b+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=b,d-=b,n.have===0){e.msg="invalid bit length repeat",n.mode=pr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=b+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=b,d-=b,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=b+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=b,d-=b,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===pr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=pr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Ab(I3e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=pr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Ab(P3e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=pr;break}if(n.mode=p2,t===h2)break e;case p2:n.mode=m2;case m2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,Ckn(e,p),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===nu&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,y=x>>>16&255,w=x&65535,!(b<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(_=b,C=y,S=w;x=n.lencode[S+((u&(1<<_+C)-1)>>_)],b=x>>>24,y=x>>>16&255,w=x&65535,!(_+b<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=b,d-=b,n.back+=b,n.length=w,y===0){n.mode=Qpe;break}if(y&32){n.back=-1,n.mode=nu;break}if(y&64){e.msg="invalid literal/length code",n.mode=pr;break}n.extra=y&15,n.mode=Gpe;case Gpe:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Kpe;case Kpe:for(;x=n.distcode[u&(1<<n.distbits)-1],b=x>>>24,y=x>>>16&255,w=x&65535,!(b<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(_=b,C=y,S=w;x=n.distcode[S+((u&(1<<_+C)-1)>>_)],b=x>>>24,y=x>>>16&255,w=x&65535,!(_+b<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=b,d-=b,n.back+=b,y&64){e.msg="invalid distance code",n.mode=pr;break}n.offset=w,n.extra=y&15,n.mode=Zpe;case Zpe:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pr;break}n.mode=Xpe;case Xpe:if(l===0)break e;if(m=p-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=m2);break;case Qpe:if(l===0)break e;o[s++]=n.length,l--,n.mode=m2;break;case g3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,s-p):Vx(n.check,o,p,s-p)),p=l,n.wrap&4&&(n.flags?u:tme(u))!==n.check){e.msg="incorrect data check",n.mode=pr;break}u=0,d=0}n.mode=Jpe;case Jpe:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=pr;break}u=0,d=0}n.mode=eme;case eme:j=Ikn;break e;case pr:j=O3e;break e;case R3e:return $3e;case M3e:default:return Ga}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<pr&&(n.mode<g3||t!==Ppe))&&z3e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,e.next_out-p):Vx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===nu?128:0)+(n.mode===p2||n.mode===m3?256:0),(f===0&&p===0||t===Ppe)&&j===om&&(j=Okn),j},Vkn=e=>{if(Bm(e))return Ga;let t=e.state;return t.window&&(t.window=null),e.state=null,om},Hkn=(e,t)=>{if(Bm(e))return Ga;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,om):Ga},Ukn=(e,t)=>{const n=t.length;let r,o,i;return Bm(e)||(r=e.state,r.wrap!==0&&r.mode!==Dk)?Ga:r.mode===Dk&&(o=1,o=Vx(o,t,n,0),o!==r.check)?O3e:(i=z3e(e,t,n,n),i?(r.mode=R3e,$3e):(r.havedict=1,om))};var Wkn=L3e,Ykn=B3e,qkn=F3e,Gkn=Bkn,Kkn=N3e,Zkn=zkn,Xkn=Vkn,Qkn=Hkn,Jkn=Ukn,ejn="pako inflate (from Nodeca project)",fu={inflateReset:Wkn,inflateReset2:Ykn,inflateResetKeep:qkn,inflateInit:Gkn,inflateInit2:Kkn,inflate:Zkn,inflateEnd:Xkn,inflateGetHeader:Qkn,inflateSetDictionary:Jkn,inflateInfo:ejn};function tjn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var njn=tjn;const V3e=Object.prototype.toString,{Z_NO_FLUSH:rjn,Z_FINISH:ojn,Z_OK:Wx,Z_STREAM_END:b3,Z_NEED_DICT:x3,Z_STREAM_ERROR:ijn,Z_DATA_ERROR:rme,Z_MEM_ERROR:sjn}=Lm;function b_(e){this.options=tD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A3e,this.strm.avail_out=0;let n=fu.inflateInit2(this.strm,t.windowBits);if(n!==Wx)throw new Error(nm[n]);if(this.header=new njn,fu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ux.string2buf(t.dictionary):V3e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=fu.inflateSetDictionary(this.strm,t.dictionary),n!==Wx)))throw new Error(nm[n])}b_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?ojn:rjn,V3e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=fu.inflate(n,s),i===x3&&o&&(i=fu.inflateSetDictionary(n,o),i===Wx?i=fu.inflate(n,s):i===rme&&(i=x3));n.avail_in>0&&i===b3&&n.state.wrap>0&&e[n.next_in]!==0;)fu.inflateReset(n),i=fu.inflate(n,s);switch(i){case ijn:case rme:case x3:case sjn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===b3))if(this.options.to==="string"){let l=Ux.utf8border(n.output,n.next_out),u=n.next_out-l,d=Ux.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Wx&&a===0)){if(i===b3)return i=fu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};b_.prototype.onData=function(e){this.chunks.push(e)};b_.prototype.onEnd=function(e){e===Wx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ZN(e,t){const n=new b_(t);if(n.push(e),n.err)throw n.msg||nm[n.err];return n.result}function ajn(e,t){return t=t||{},t.raw=!0,ZN(e,t)}var ljn=b_,cjn=ZN,ujn=ajn,djn=ZN,fjn=Lm,hjn={Inflate:ljn,inflate:cjn,inflateRaw:ujn,ungzip:djn,constants:fjn};const{Deflate:pjn,deflate:mjn,deflateRaw:gjn,gzip:vjn}=wkn,{Inflate:yjn,inflate:bjn,inflateRaw:xjn,ungzip:wjn}=hjn;var _jn=pjn,Cjn=mjn,Sjn=gjn,Ejn=vjn,kjn=yjn,jjn=bjn,Tjn=xjn,Ajn=wjn,Djn=Lm,H3e={Deflate:_jn,deflate:Cjn,deflateRaw:Sjn,gzip:Ejn,Inflate:kjn,inflate:jjn,inflateRaw:Tjn,ungzip:Ajn,constants:Djn};function Ijn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function U3e(e,t){return l0(e)?e[Number(t)]:e[t]}function W3e(e,t){if(e){var n=t.shift(),r=U3e(e,n);return t.length&&(l0(r)||Yx(r))?W3e(r,t):r}}function l0(e){return Array.isArray(e)}function Yx(e){return e&&typeof e=="object"}function w3(e,t,n){if(l0(e)){e[Number(t)]=n;return}if(Yx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function ome(e){if(l0(e))return e.slice(0);if(Yx(e))return Ijn({},e);throw new Error("shallowClone: source must be an object or an array")}function Pjn(e,t){return t?W3e(e,t.split("/")):e}function Ojn(e,t,n){if(!t){if(l0(n)||Yx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(Pjn(e,t)===n)return e;for(var r=ome(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var l=U3e(i,a);if(l===void 0&&(l={},w3(i,a,l)),!l0(l)&&!Yx(l))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=l;var u=ome(i);w3(s,a,u),s=u}else w3(s,a,n)}return r}const Cv=[],Q4={},$jn="auto",Rjn=1,Ik=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],ime=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function Y3e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const Mjn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function Fjn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function q3e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[l,u]=a;return"&".concat(l,"=").concat(u)})].join("")}const G3e=h.createContext(null);function h1(){const e=h.useContext(G3e);if(!e)throw new Error("Props: missing context value");return e}const Ljn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=h1();return c.jsxs(W,{as:"label",padding:3,children:[c.jsx(F,{marginRight:2,style:{lineHeight:0},children:c.jsx(Bj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),c.jsx(F,{paddingY:1,children:c.jsx(B,{size:1,weight:"semibold",children:n.name})})]})}),Bjn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=h1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Zr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),Njn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=h1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,l]of s)if(l===r)return a;return""},[n,r]);return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Ff,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,l=n.options[a];o(n.name,l)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return c.jsx("option",{value:a,children:a},a)})})})]})}),zjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=h1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Zr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),Vjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=h1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Mxe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function Hjn(e){const{schema:t,value:n}=e;return t.type==="boolean"?c.jsx(Ljn,{schema:t,value:n}):t.type==="number"?c.jsx(Bjn,{schema:t,value:n}):t.type==="select"?c.jsx(Njn,{schema:t,value:n}):t.type==="string"?c.jsx(zjn,{schema:t,value:n}):t.type==="text"?c.jsx(Vjn,{schema:t,value:n}):c.jsx(F,{padding:2,children:c.jsxs(B,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",c.jsxs("code",{children:[t.name,": ",t.type]})]})})}const Ujn=h.memo(function(){const{schemas:t,value:n}=h1();return c.jsxs(F,{padding:2,children:[t.length===0&&c.jsx(F,{padding:2,children:c.jsx(B,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>c.jsx(Hjn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Sv=Yt,K3e=h.createContext(null);function nl(){const e=h.useContext(K3e);if(!e)throw new Error("Workshop: missing context value");return e}const Wjn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,Yjn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function qjn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return Wjn(t)}function Gjn(e){const t=Yjn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function Kjn(e){if(e.length===0)return"";const t=Gjn(e);return H3e.inflate(t,{to:"string"})}function Zjn(e){if(e.length===0)return"";const t=H3e.deflate(e);return qjn(t)}function Xjn(e){return Zjn(JSON.stringify(e))}function sme(e){try{return JSON.parse(Kjn(e))}catch{return{}}}function Qjn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const Jjn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=nl(),s=i.value,a=h.useRef(s),[{schemas:l,value:u},d]=h.useState({schemas:[],value:sme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,x)=>{o({type:"workshop/props/setPropValue",name:g,value:x})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:l,setPropValue:m,unregisterProp:p,value:u}),[f,l,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(x=>{const b=Qjn(x,g);return Sv(x,b)?x:b})}),[r]),h.useEffect(()=>{const g=Xjn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:sme(String(s))||{}})))},[s]),c.jsx(G3e.Provider,{value:v,children:n})});function eTn(){return{name:"props",title:"Properties",inspector:Ujn,provider:Jjn}}const Z3e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:l,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Cv,collections:v=Cv,frameUrl:g="/frame/",scopes:x,title:b="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[eTn(),...m],[m]),{scope:w,story:_}=h.useMemo(()=>Fjn(x,l),[l,x]),C=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:l,payload:u,scheme:d,scope:w,scopes:x,story:_,title:b,viewport:f,zoom:p}),[y,n,o,v,s,g,a,l,u,d,w,x,_,b,f,p]);let S=r;for(const E of y)E.provider&&(S=h.createElement(E.provider,{options:E.options||Q4},S));return c.jsx(K3e.Provider,{value:C,children:S})});function X3e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Sv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Sv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Sv(e.payload,n)?e:{...e,payload:n}}return e}const ame=(()=>{try{return{}.ROOT_PATH}catch{return}})(),tTn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,nTn=/\/@fs\//g,rTn=/\?([a-z]{1})=([0-9]+)/g;function lme(e){let t=decodeURIComponent(e);return t=e.replace(tTn,"").replace(nTn,"/").replace(rTn,""),ame?oTn(t,ame+"/"):t}function oTn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const iTn=h.memo(function(){const{story:t}=nl(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:l}=s;r({error:a,errorInfo:l})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?c.jsx(ee,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:c.jsx(aTn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{hidden:!0,children:t.title}),c.jsx(h.Suspense,{fallback:c.jsx(sTn,{story:t}),children:c.jsx(ee,{as:"main",height:"fill",children:c.jsx(_0,{onCatch:o,children:h.createElement(t.component)})})})]}):c.jsx(c.Fragment,{})}),sTn=h.memo(function(t){const{story:n}=t;return c.jsxs(c.Fragment,{children:[c.jsxs("h1",{hidden:!0,children:["Loading ",c.jsx("em",{children:n.title}),""]}),c.jsx(W,{align:"center",as:"main",height:"fill",justify:"center",children:c.jsx(Vr,{muted:!0})})]})}),aTn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return c.jsx(F,{padding:4,children:c.jsxs(ne,{space:4,children:[c.jsx(ii,{as:"h1",size:[1,1,2],children:n.message}),c.jsx(F,{children:c.jsx(ae,{onClick:o,text:"Retry"})}),n.stack&&c.jsx(xr,{size:1,children:lme(n.stack)}),r&&c.jsx(xr,{size:1,children:"Component stack:"+lme(r.componentStack)})]})})});function Q3e(e){return Array.isArray(e)}function J3e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function lTn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const l=a.data;if(Q3e(l)){for(const u of l)if(J3e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function cTn(){const e=typeof window>"u"?{}:Mjn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>lTn(),[]),i=h.useMemo(()=>Y3e(),[]),[s,a]=h.useState(null),[l,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:x},b]=h.useState(()=>cTn());return h.useEffect(()=>i.subscribe(y=>b(w=>X3e(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),c.jsx(EL,{children:c.jsx(gm,{element:s,children:c.jsx(C0,{element:l,children:c.jsx(Z3e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:x,children:c.jsxs(ee,{height:"fill",ref:a,children:[c.jsx(iTn,{}),c.jsx("div",{"data-portal":"",ref:u})]})})})})})});var cme=Object.freeze,uTn=Object.defineProperty,dTn=(e,t)=>cme(uTn(e,"raw",{value:cme(t||e.slice())})),ume;ave(ume||(ume=dTn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var dme=Object.freeze,fTn=Object.defineProperty,hTn=(e,t)=>dme(fTn(e,"raw",{value:dme(t||e.slice())})),fme;const pTn=h.memo(Yxe),mTn=O(ee)(fme||(fme=hTn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),gTn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>c.jsx(vTn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return c.jsx(es,{style:i,children:c.jsx(mTn,{padding:2,shadow:1,children:c.jsx(qxe,{space:1,children:s})})})});function vTn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return c.jsx(pTn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var hme=Object.freeze,yTn=Object.defineProperty,bTn=(e,t)=>hme(yTn(e,"raw",{value:hme(t||e.slice())})),pme;const xTn=O(ee)(pme||(pme=bTn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),mme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),wTn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=nl(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),l=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(xTn,{display:u,flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[l&&c.jsx(gTn,{currentTabId:i,onTabChange:s,tabs:o}),l&&o.map(d=>c.jsx(aJe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&c.jsx(mme,{component:d.plugin.inspector,options:d.plugin.options||Q4})},d.id)),!l&&(a==null?void 0:a.plugin.inspector)&&c.jsx(F,{flex:1,overflow:"auto",children:c.jsx(mme,{component:a.plugin.inspector,options:a.plugin.options||Q4})})]})})}),gme=Qx;function _Tn(){const{broadcast:e,scope:t,story:n,title:r}=nl(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return c.jsx(CTn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const CTn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return c.jsxs(_L,{separator:c.jsx(B,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[c.jsx(B,{size:[2,2,1],weight:"bold",children:c.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&c.jsx(B,{align:"center",size:[2,2,1],children:r}),o&&c.jsx(B,{size:[2,2,1],children:o})]})}),STn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=nl(),a=h.useMemo(()=>n==="/"?void 0:q3e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return c.jsx(ae,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:m0,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function ETn(){const{broadcast:e,scheme:t}=nl(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return c.jsx(kTn,{dark:t==="dark",onToggleScheme:n})}const kTn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return c.jsx(ae,{fontSize:1,icon:n?TF:OF,mode:"bleed",onClick:r,padding:2})}),jTn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=nl(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return c.jsx(ATn,{disabled:!n,setViewport:o,viewport:r})}),TTn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},ATn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return c.jsx(rn,{button:c.jsx(ae,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Ik.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:c.jsx(Ht,{children:Ik.map(s=>c.jsx(Me,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:TTn})});function DTn(){const{broadcast:e,story:t,zoom:n}=nl(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return c.jsx(PTn,{disabled:!t,setZoom:r,zoom:n})}const ITn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},PTn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return c.jsx(rn,{button:c.jsx(ae,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=ime.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:c.jsx(Ht,{children:ime.map(s=>c.jsx(Me,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:ITn})}),OTn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=mm(),{story:a,title:l}=nl();return c.jsx(ee,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:c.jsxs(W,{gap:1,children:[c.jsx(F,{display:["block","block","none"],flex:"none",children:c.jsx(ae,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:jF,mode:"bleed",onClick:i,padding:2,selected:r})}),c.jsxs(W,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&c.jsx(B,{weight:"bold",children:(a==null?void 0:a.title)||l}),s>=2&&c.jsx(_Tn,{})]}),c.jsx(F,{display:["block","block","none"],flex:"none",children:c.jsx(ae,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:nj,mode:"bleed",onClick:o,padding:2,selected:n})}),c.jsx(F,{display:["none","none","block"],flex:"none",children:c.jsxs(Jt,{space:1,children:[c.jsx(STn,{}),c.jsx(jTn,{}),c.jsx(DTn,{}),c.jsx(ETn,{})]})})]})})});function e$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,l]=s;return e$e((r==null?void 0:r.children)||[],l,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function $Tn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},l={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=l}let r={};for(const i of Object.values(n))r=Ojn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...e$e(e,s,i));return o}const RTn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return c.jsx(ne,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return c.jsx(ee,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:c.jsx(B,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),MTn=h.memo(function(t){const{items:n}=t;return c.jsx(Xxe,{space:1,children:c.jsx(t$e,{items:n})})}),t$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=nl(),l=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:c.jsx(c.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return c.jsx(FTn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?c.jsx(tx,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:l,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?c.jsx(LTn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:l},u.name):c.jsx(tx,{text:"unknown"},d)})}),[n,s,a,l,r,i])}),FTn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>c.jsx(t$e,{basePath:o,items:r.items}),[r,o]);return c.jsx(tx,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),LTn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>c.jsx(tx,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return c.jsx(tx,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var vme=Object.freeze,BTn=Object.defineProperty,NTn=(e,t)=>vme(BTn(e,"raw",{value:vme(t||e.slice())})),yme;const zTn=O(ee)(yme||(yme=NTn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),VTn={flex:"none"},HTn={lineHeight:0},UTn=[2,2,1],WTn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=nl(),s=h.useMemo(()=>$Tn(n,i),[n,i]),[a,l]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Cv;const v=a.toLowerCase(),g=[];for(const x of i)for(const b of x.stories)((m=x.title)!=null&&m.toLowerCase().includes(v)||b.title.toLowerCase().includes(v))&&g.push({scope:x,story:b});return g},[a,i]),d=h.useCallback(m=>l(m.currentTarget.value),[]),f=h.useCallback(()=>l(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),l(""))},[o]);return c.jsx(YTn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),YTn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:l}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(zTn,{display:u,flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[c.jsx(es,{style:VTn,children:c.jsx(ee,{padding:2,shadow:1,style:HTn,children:c.jsx(Zr,{border:!1,clearButton:!!l,fontSize:UTn,icon:Yi,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:l})})}),c.jsxs(ee,{flex:1,overflow:"auto",children:[l&&r.length>0&&c.jsx(F,{padding:2,children:c.jsx(RTn,{matches:r,onStoryClick:a})}),!l&&o.type==="list"&&c.jsx(F,{padding:2,children:c.jsx(MTn,{items:o.items})})]})]})})});var bme=Object.freeze,qTn=Object.defineProperty,GTn=(e,t)=>bme(qTn(e,"raw",{value:bme(t||e.slice())})),xme;const KTn=O.iframe(xme||(xme=GTn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),ZTn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:l,title:u,viewport:d,zoom:f}=nl(),p=Ik.find(w=>w.name===d)||Ik[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>q3e({baseUrl:i,path:s,payload:a,scheme:l,viewport:d,zoom:f})),x=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),b=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return c.jsx(ee,{display:b,flex:1,overflow:"hidden",tone:"transparent",children:c.jsxs(W,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&c.jsx(sa,{width:0,children:c.jsxs(ne,{padding:4,space:4,children:[c.jsx(ii,{align:"center",children:u}),c.jsx(B,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&c.jsx(Vr,{muted:!0}),c.jsx(sa,{height:"fill",hidden:!o||s==="/",style:x,width:"auto",children:c.jsx(ee,{height:"fill",shadow:1,children:c.jsx(KTn,{ref:n,src:g,style:y})})})]})})});function XTn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var l;(l=t==null?void 0:t.contentWindow)==null||l.postMessage(n,window.location.origin),n=[],r=null},0)}function i(l){const u=l.data;if(Q3e(u)){for(const d of u)if(J3e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(l){l!=null&&l.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(l){n.push(l),o()},subscribe(l){return e.add(l),()=>{e.delete(l)}}},setElement(l){const u=t;t=l,l?s():u&&a(u)}}}function wme(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...l}=o;return{frameReady:n||!1,path:r,payload:l,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function _me(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==$jn&&(s.viewport=o),i&&i!==Rjn&&(s.zoom=i),t)for(const[a,l]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=l;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,l=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>Y3e(),[]),d=h.useMemo(()=>XTn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:x,payload:b,scheme:y,viewport:w,zoom:_},C]=h.useState(()=>wme(i.get(),a)),S=mm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(y),I=h.useRef(x),P=h.useRef({scheme:y,viewport:w,zoom:_,...b}),M=h.useCallback(z=>{u.publish(z),d.message.publish(z)},[u,d]),$=h.useMemo(()=>gme(z=>i.push(z),150),[i]),V=h.useMemo(()=>gme(z=>i.replace(z),150),[i]),L=h.useCallback(()=>{j(z=>!z),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(z=>!z)},[]),U=h.useRef(S);return h.useEffect(()=>{U.current<2&&S>=2&&(j(!1),T(!1)),U.current=S},[S]),h.useEffect(()=>{j(!1)},[x]),h.useEffect(()=>()=>$.cancel(),[$]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(z=>{C(Y=>{const te=X3e(Y,z),N=!Sv(Y,te);if(N){if(z.type==="workshop/setPath"){if(I.current!==te.path){I.current=te.path;const G=_me(te,!1);$({path:te.path,query:G})}}else if(z.type!=="workshop/setState"){const G=_me(te);Sv(P.current,G)||(P.current=G,V({path:te.path,query:G}))}}return N?te:Y})}),[$,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(z=>{const Y=wme(z,void 0,g);M({type:"workshop/setState",value:Y})}),[M,g,i]),h.useEffect(()=>{D.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,M({type:"workshop/setScheme",value:a}))},[M,a]),o.scopes?c.jsx(Z3e,{config:o,broadcast:M,channel:u,frameReady:g,origin:"main",path:x,payload:b,scheme:y,viewport:w,zoom:_,children:c.jsx(EL,{children:c.jsx(gm,{element:f,children:c.jsx(C0,{element:m,children:c.jsxs(W,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[l&&c.jsx(OTn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:H,onNavigatorToggle:L}),c.jsxs(W,{flex:1,children:[c.jsx(WTn,{collections:o.collections,expanded:E}),c.jsx(ZTn,{frameRef:d.setElement,hidden:E||k}),c.jsx(wTn,{expanded:k})]}),c.jsx("div",{"data-portal":"",ref:v})]})})})})}):c.jsx(c.Fragment,{children:"No scopes"})});function QTn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:l}=e,[u,d]=h.useState(Cv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Cv)},[a,u]),m=h.useMemo(()=>m_(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),x=h.useCallback(()=>{var w,_;d(Cv),(w=f.current)==null||w.discardDialogController.close(),(_=f.current)==null||_.focus()},[]),b=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:n})]});return c.jsx(JA,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:b,onDiscardConfirm:x,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:y,readOnly:l,ref:f,value:u})}var Cme=Object.freeze,JTn=Object.defineProperty,n$e=(e,t)=>Cme(JTn(e,"raw",{value:Cme(t||e.slice())})),Sme,Eme;const eAn=O(W)(Sme||(Sme=n$e([`
  min-height: 25px;
`]))),tAn=O(ae)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(Eme||(Eme=n$e([`
    --card-fg-color: `,`;
  `])),n)});function nAn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,mentionOptions:s,onNewThreadCreate:a,onPathSelect:l,readOnly:u}=e,d=h.useCallback(()=>{l==null||l(Cf(i))},[i,l]),f=h.useCallback(v=>{const g={fieldPath:i,message:v,parentCommentId:void 0,status:"open",threadId:sd()};a==null||a(g)},[a,i]),p=h.useMemo(()=>(t==null?void 0:t.map(v=>v.title))||[],[t]),m=p[p.length-1];return c.jsxs(ne,{space:2,children:[c.jsx(eAn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:c.jsx(ne,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(tAn,{"aria-label":"Go to ".concat(m," field"),mode:"bleed",onClick:d,padding:2,children:c.jsx(O5n,{maxLength:3,titlePath:p})})})})}),n&&c.jsx(a3e,{children:c.jsx(QTn,{currentUser:o,fieldName:m,mentionOptions:s,onNewThreadCreate:f,readOnly:u})}),c.jsx(ne,{space:2,children:r})]})}const kme={open:{title:"No open comments yet",message:c.jsxs("span",{children:["Open comments on this document ",c.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:c.jsxs(c.Fragment,{children:["Resolved comments on this document ",c.jsx("br",{}),"will be shown here."]})}};function rAn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?c.jsx(W,{align:"center",justify:"center",flex:1,padding:4,children:c.jsx(W,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:"Something went wrong"})})}):r?c.jsx(W,{align:"center",justify:"center",flex:1,padding:4,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(Vr,{muted:!0,size:1}),c.jsx(B,{size:1,muted:!0,children:"Loading comments..."})]})}):o?c.jsx(W,{align:"center",justify:"center",flex:1,sizing:"border",children:c.jsx(sa,{width:0,padding:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{align:"center",size:1,muted:!0,weight:"semibold",children:kme[t].title}),c.jsx(B,{align:"center",size:1,muted:!0,children:kme[t].message})]})})}):null}const oAn={behavior:"smooth",block:"start",inline:"nearest"};function iAn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const sAn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:x,selectedPath:b,status:y}=t,[w,_]=h.useState(null),C=h.useCallback(k=>{const T=document==null?void 0:document.querySelector('[data-comment-id="'.concat(k,'"]'));T&&T.scrollIntoView(oAn)},[]),S=h.useCallback((k,T)=>{m==null||m(k,T)},[m]);h.useImperativeHandle(n,()=>({scrollToComment:C}),[C]);const E=h.useMemo(()=>Object.entries(iAn(r)),[r]),j=!s&&!i&&E.length>0;return c.jsxs(W,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:_,sizing:"border",children:[c.jsx(rAn,{error:i,hasNoComments:E.length===0,loading:s,status:y}),j&&c.jsx(ne,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:c.jsx(gm,{element:w,children:E==null?void 0:E.map(k=>{let[T,A]=k;const D=A[0].breadcrumbs,I=A[0].threadId;return c.jsx(ne,{as:"li","data-group-id":I,paddingTop:3,children:c.jsx(nAn,{breadcrumbs:D,canCreateNewThread:y==="open",currentUser:o,fieldPath:T,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:x,children:A.map(P=>{var M,$;const V=P.replies.slice().reverse(),L=y==="open"&&((M=P.parentComment._state)==null?void 0:M.type)!=="createError"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createRetrying",H=b==null?void 0:b.threadId,U=(b==null?void 0:b.threadId)===P.threadId,z=(b==null?void 0:b.fieldPath)===P.fieldPath,Y=U||z&&!H;return c.jsx(I5n,{canReply:L,currentUser:o,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:te=>S(te,P.threadId),onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:x,replies:V,selected:Y},P.parentComment._id)})},T)},T)})})})]})}),aAn=oe.memo(sAn),lAn={thread:{title:"Delete this comment thread?",body:"All comments in this thread will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function cAn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:l,confirmButtonText:u}=lAn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return c.jsx(pa,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:c.jsxs(ln,{columns:2,padding:2,gap:2,children:[c.jsx(ae,{text:"Cancel",mode:"ghost",onClick:n}),c.jsx(ae,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:c.jsxs(ne,{padding:4,space:4,children:[c.jsx(B,{children:l}),s&&c.jsx(sr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var jme=Object.freeze,uAn=Object.defineProperty,dAn=(e,t)=>jme(uAn(e,"raw",{value:jme(t||e.slice())})),Tme;const fAn=O(Cxe)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(Tme||(Tme=dAn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function hAn(){return c.jsx(fAn,{children:"Beta"})}var Ame=Object.freeze,pAn=Object.defineProperty,mAn=(e,t)=>Ame(pAn(e,"raw",{value:Ame(t||e.slice())})),Dme;const gAn=O(F)(Dme||(Dme=mAn([`
  max-width: 280px;
`])));function vAn(e){const{onDismiss:t}=e;return c.jsx(hn,{content:c.jsx(gAn,{padding:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",size:1,children:"Collaborate in One Place"}),c.jsx(B,{size:1,children:"Add a comment on any field. All comments for this document will be here, grouped by field."}),c.jsx(W,{justify:"flex-end",marginTop:2,children:c.jsx(ae,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const XN=h.createContext(null);function yAn(e){const t={};return e!==null&&(t.identity=e.id),t}const _3=new Map;async function bAn(e,t,n){_3.has(t)||_3.set(t,aje("*[".concat(t,"]")));const r=_3.get(t),o=yAn(e),{identity:i}=o,s={...o},a=await(await tje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function xAn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await bAn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const Ime={data:[],error:null,loading:!0};let Pme=null;function wAn(e){const{documentValue:t}=e,n=Pwn(),r=ON(),o=Cr(gn),[i,s]=h.useState(Ime),a=h.useMemo(()=>{const u=n.get().pipe(ce(v=>{var g;return(g=v.members)==null?void 0:g.filter(x=>!x.isRobot)})).pipe(tt(async v=>{const g=v.map(b=>{let{id:y}=b;return y});return await r.getUsers(g)}),ce(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=Pme,f=d?be(d):o.observable.fetch('*[_type == "system.group"]');return bet([u,f]).pipe(vt(async v=>{let[g,x]=v;d||(Pme=x);const b=g==null?void 0:g.map(async w=>{const C=[...x.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await xAn(w,C,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(b||[])})).pipe(ce(v=>({error:null,loading:!1,data:wm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const l=be(Ime),d=fo(l,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function _An(e){const{documentId:t,documentType:n}=e||{},r=dr().get(n),{title:o}=Nl(),{createPathWithParams:i,params:s}=XA(),a=Os(),l=Ao(()=>!t||!r?be(null):uA(a,r,t,""),[t,a,r]),{published:u,draft:d}=l||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:kb}),x="".concat(window.location.origin).concat(g);return{documentTitle:f,url:x,workspaceTitle:o}},[i,f,s,o])}}function CAn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:l,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,x=cT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:b}=Nl(),y=h.useMemo(()=>b.find(k=>k.name===x),[x,b]),{getNotificationValue:w}=_An({documentId:o,documentType:i}),_=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||sd(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},M={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},$={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:M,tool:(y==null?void 0:y.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a($),!t){try{await m($)}catch(V){throw l==null||l($._id,V),V}return}try{await t.create($)}catch(V){throw l==null||l($._id,V),V}},[y==null?void 0:y.name,g,t,r,o,i,w,s,a,l,p,m,v]),C=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:_,edit:S,remove:C,update:E}),[_,C,S,E])}}function r$e(){const e=h.useContext(XN);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function SAn(){const e=h.useContext(l$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function QN(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=ZPe("studioComments"),{enabled:i}=ur().document.unstable_comments,s=i({documentType:n,documentId:Zn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const o$e=h.createContext(null),EAn=1,i$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(EAn),kAn=e=>{try{window.localStorage.setItem(i$e,JSON.stringify(e))}catch{}},jAn=()=>{try{const e=window.localStorage.getItem(i$e);return e?JSON.parse(e):!1}catch{return!1}};function TAn(e){const{children:t}=e,[n,r]=h.useState(jAn()),o=h.useCallback(()=>{r(!0),kAn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return c.jsx(o$e.Provider,{value:i,children:t})}function AAn(){const e=h.useContext(o$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function DAn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function IAn(e,t){switch(t.type){case"COMMENTS_SET":{const n=DAn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const PAn={comments:{}},OAn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},$An="_createdAt",RAn="desc",MAn=['_type == "comment"',"target.document._ref == $documentId"],FAn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,LAn="order(".concat($An," ").concat(RAn,")"),Ome="*[".concat(MAn.join(" && "),"] ").concat(FAn," | ").concat(LAn);function BAn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(IAn,PAn),[i,s]=h.useState(t!==null),[a,l]=h.useState(null),u=h.useMemo(()=>({documentId:Zn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(Ome,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){l(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(Ome,u,OAn).pipe(Xn(g=>(l(g),be(g)))):be(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function s$e(e,t){var n;const r=Cf(t),o=r[0];if(o&&Ka(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=vr(r.slice(1));return s?s$e(i.type,s):i}}}function NAn(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function zAn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Cf(r),s=[];let a=null;return i.forEach((l,u)=>{var d,f,p;const m=i.slice(0,u+1),v=i.slice(0,u),g=s$e(n,vr(m)),x=l.hasOwnProperty("_key"),b=Cl(o,v),y=Cl(o,m),w={document:o,currentUser:t,parent:b,value:y};if(x&&Array.isArray(b)){const _=NAn(b,l),C=typeof _=="number";s.push({invalid:_===!1,isArrayItem:!0,title:C?"#".concat(Number(_)+1):"Unknown array item"});return}if(g!=null&&g.type){const _=_o(g.type.hidden,w);s.push({invalid:_,isArrayItem:!1,title:t0(g.type)}),a=g.type;return}if(Ol(a)){const _=Cl(o,v),C=_==null?void 0:_._type,S=(d=a==null?void 0:a.of)==null?void 0:d.find(D=>D.name===C),E=(f=S==null?void 0:S.fields)==null?void 0:f.find(D=>D.name===l);if(!E){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const j=t0(E==null?void 0:E.type),k=_o((p=S==null?void 0:S.type)==null?void 0:p.hidden,w),T=_o(E==null?void 0:E.type.hidden,w),A=k||T;s.push({invalid:A,isArrayItem:!1,title:j}),a=E==null?void 0:E.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function VAn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const l=zAn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(l.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:l,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const J4=[],a$e={open:J4,resolved:J4},HAn={data:a$e,error:null,loading:!1},UAn={data:[],error:null,loading:!1},eF=async()=>{await Promise.resolve()},g2={execute:eF},WAn={comments:HAn,create:g2,edit:g2,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:UAn,remove:g2,selectedPath:null,setSelectedPath:eF,setStatus:eF,status:"open",update:g2},YAn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=QN({documentId:r,documentType:o});return i?c.jsx(qAn,{...t}):c.jsx(XN.Provider,{value:WAn,children:n})}),qAn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState(null),[a,l]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=SAn(),p=Zn(r),m=SN(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:x=J4,error:b,loading:y}=BAn({documentId:p,client:u}),w=wAn(h.useMemo(()=>({documentValue:v}),[v])),_=dr().get(o),C=si(),{name:S,dataset:E,projectId:j}=Nl(),k=h.useMemo(()=>{if(!_||!C)return a$e;const U=B0(x,["_createdAt"],["desc"]),z=VAn({comments:U,schemaType:_,currentUser:C,documentValue:v});return{open:z.filter(Y=>Y.parentComment.status==="open"),resolved:z.filter(Y=>Y.parentComment.status==="resolved")}},[C,x,v,_]),T=h.useCallback(U=>k.open.filter(z=>z.threadId===U).length,[k.open]),A=h.useCallback(U=>x==null?void 0:x.find(z=>z._id===U),[x]),D=h.useCallback(U=>{const z=A(U);return z?z.target.path.field:null},[A]),I=h.useCallback(U=>{if(U===null){s(null);return}setTimeout(()=>{s(U)})},[]),P=h.useCallback(async U=>{var z,Y;const te=((Y=(z=x==null?void 0:x.find(N=>N._id===U._id))==null?void 0:z._state)==null?void 0:Y.type)==="createError";g({type:"COMMENT_ADDED",payload:{...U,_state:te?{type:"createRetrying"}:void 0}})},[x,g]),M=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,...z}})},[g]),$=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,...z}})},[g]),V=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,_state:{error:z,type:"createError"}}})},[g]),{operation:L}=CAn(h.useMemo(()=>({client:u,currentUser:C,dataset:E,documentId:p,documentType:o,projectId:j,schemaType:_,workspace:S,getThreadLength:T,runSetup:d,onCreate:P,onCreateError:V,onEdit:$,onUpdate:M}),[u,C,E,p,o,j,_,S,T,d,P,V,$,M])),H=h.useMemo(()=>({setSelectedPath:I,selectedPath:i,isRunningSetup:f,status:a,setStatus:l,getComment:A,getCommentPath:D,comments:{data:k,error:b,loading:y||f},create:{execute:L.create},remove:{execute:L.remove},edit:{execute:L.edit},update:{execute:L.update},mentionOptions:w}),[I,i,f,a,A,D,k,b,y,L.create,L.remove,L.edit,L.update,w]);return c.jsx(XN.Provider,{value:H,children:n})}),l$e=h.createContext(null);function GAn(e){const{children:t}=e,{dataset:n,projectId:r}=Nl(),o=Cr(gn),[i,s]=h.useState(null),[a,l]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{l(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),l(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){l(!1);return}const x=d(g);s(x),await x.create(m)}catch(v){throw v}finally{l(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return c.jsx(l$e.Provider,{value:p,children:t})}const KAn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),ZAn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return c.jsx(KAn,{ref:n,children:c.jsxs(W,{padding:2,children:[c.jsxs(W,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[c.jsx(B,{as:"h1",size:1,weight:"semibold",children:"Comments"}),c.jsx(hAn,{})]}),c.jsxs(W,{flex:"none",padding:1,gap:2,children:[c.jsx(rn,{id:"comment-status-menu-button",button:c.jsx(ae,{text:an(i),fontSize:1,padding:2,mode:"bleed",iconRight:Rl,space:2}),menu:c.jsxs(Ht,{style:{width:"180px"},children:[c.jsx(Me,{fontSize:1,iconRight:i==="open"?za:void 0,onClick:s,text:"Open comments"}),c.jsx(Me,{fontSize:1,iconRight:i==="resolved"?za:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),c.jsx(ae,{"aria-label":"Close comments",fontSize:1,icon:wve,mode:"bleed",onClick:r,padding:2})]})]})})});function XAn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,u]=h.useState(null),d=h.useRef(null),f=si(),{params:p,createPathWithParams:m,setParams:v}=XA(),g=Go(p)||ZOe,x=h.useRef(g==null?void 0:g.comment),b=Ai().push,{onPathOpen:y,ready:w}=hh(),{isDismissed:_,setDismissed:C}=AAn(),{comments:S,create:E,edit:j,getComment:k,getCommentPath:T,isRunningSetup:A,mentionOptions:D,remove:I,selectedPath:P,setSelectedPath:M,setStatus:$,status:V,update:L}=r$e(),H=h.useMemo(()=>S.data[V],[S,V]),U=h.useMemo(()=>S.loading||!w,[S.loading,w]),z=h.useCallback(ie=>{$(ie),M(null)},[M,$]),Y=h.useCallback(()=>{t(),M(null)},[t,M]),te=h.useCallback(ie=>{const ye=m({...p,comment:ie}),Ce="".concat(window.location.origin).concat(ye);navigator.clipboard.writeText(Ce).then(()=>{b({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{b({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[m,p,b]),N=h.useCallback(ie=>{const ye=k(ie);ye&&E.execute({fieldPath:ye.target.path.field,id:ye._id,message:ye.message,parentCommentId:ye.parentCommentId,status:ye.status,threadId:ye.threadId})},[E,k]),G=h.useCallback(()=>{s||(r(!1),i(null))},[s]),q=h.useCallback((ie,ye)=>{y(ie),M({fieldPath:vr(ie),origin:"inspector",threadId:ye||null})},[y,M]),K=h.useCallback(ie=>{E.execute(ie),M({fieldPath:ie.fieldPath,origin:"inspector",threadId:ie.threadId})},[E,M]),Q=h.useCallback(ie=>{E.execute(ie)},[E]),X=h.useCallback((ie,ye)=>{j.execute(ie,ye)},[j]),Z=h.useCallback((ie,ye)=>{L.execute(ie,{status:ye})},[L]),re=h.useCallback(ie=>{var ye;const Ce=H.find(xe=>{var Ze;return((Ze=xe.parentComment)==null?void 0:Ze._id)===ie}),Ae=!!(Ce&&((ye=Ce==null?void 0:Ce.replies)==null?void 0:ye.length)>0);r(!0),i({commentId:ie,isParent:Ae})},[H]),le=h.useCallback(async ie=>{try{a(!0),await I.execute(ie),G()}catch(ye){u(ye)}finally{a(!1)}},[G,I]),he=h.useCallback((ie,ye)=>{ye&&requestAnimationFrame(()=>{var Ce;M({fieldPath:ye,origin:"inspector",threadId:null}),(Ce=d.current)==null||Ce.scrollToComment(ie),v({...p,comment:void 0}),x.current=void 0})},[p,v,M]);return h.useEffect(()=>{const ie=T(x.current||"");ie&&!U&&x.current&&he(x.current,ie)},[T,he,U]),c.jsxs(h.Fragment,{children:[o&&n&&c.jsx(cAn,{...o,error:l,loading:s,onClose:G,onConfirm:le}),c.jsxs(W,{direction:"column",overflow:"hidden",height:"fill",children:[c.jsx(vAn,{onDismiss:C,open:!_,placement:"left-start",children:c.jsx(ZAn,{onClose:Y,onViewChange:z,view:V})}),f&&c.jsx(aAn,{comments:H,currentUser:f,error:S.error,loading:U,mentionOptions:D,onCopyLink:te,onCreateRetry:N,onDelete:re,onEdit:X,onNewThreadCreate:K,onPathSelect:q,onReply:Q,onStatusChange:Z,readOnly:A,ref:d,selectedPath:P,status:V})]})]})}function QAn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=QN({documentId:t,documentType:n});return{hidden:!r,icon:yve,showAsAction:!0,title:"Comments"}}const JAn={name:kb,component:XAn,useMenuItem:QAn};var $me=Object.freeze,eDn=Object.defineProperty,c$e=(e,t)=>$me(eDn(e,"raw",{value:$me(t||e.slice())})),Rme,Mme;const Fme={open:500},tDn=O(B)(Rme||(Rme=c$e([`
  width: max-content;
`]))),nDn=O(ne)(Mme||(Mme=c$e([`
  width: 320px;
`])));function rDn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:l,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),x=h.useRef(null),b=t>0,y=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{l(),y()},[y,l]),_=h.useMemo(()=>m_(m),[m]),C=h.useCallback(()=>{var T;if(!_){y();return}(T=x.current)==null||T.discardDialogController.open()},[y,_]),S=h.useCallback(T=>{T.isDefaultPrevented()||(T.key==="Escape"&&(T.preventDefault(),T.stopPropagation(),C()),d&&d(T))},[d,C]),E=h.useCallback(()=>{var T;(T=x.current)==null||T.discardDialogController.close()},[]),j=h.useCallback(()=>{var T;(T=x.current)==null||T.discardDialogController.close(),y(),u()},[y,u]);zr(C,[v]);const k=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:r})]});if(!b){const T=c.jsx(nDn,{padding:2,space:4,children:c.jsx(JA,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:k,readOnly:o,ref:x,value:m})});return c.jsx(hn,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:g,children:c.jsx("div",{children:c.jsx(yt,{delay:Fme,disabled:f,portal:!0,placement:"top",content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Add comment"})}),children:c.jsx(ae,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:ISn,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return c.jsx(yt,{portal:!0,placement:"top",content:c.jsx(F,{padding:2,sizing:"border",children:c.jsxs(tDn,{size:1,children:["View comment",t>1?"s":""]})}),delay:Fme,fallbackPlacements:["bottom"],children:c.jsx(ae,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(B,{size:1,children:c.jsx(PSn,{})}),c.jsx(B,{size:0,children:t>9?"9+":t})]})})})}var Lme=Object.freeze,oDn=Object.defineProperty,u$e=(e,t)=>Lme(oDn(e,"raw",{value:Lme(t||e.slice())})),Bme,Nme;const iDn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function sDn(e){const{documentId:t,documentType:n}=hh(),{isEnabled:r}=QN({documentId:t,documentType:n});return r?c.jsx(cDn,{...e}):e.renderDefault(e)}const zme={behavior:"smooth",block:"start",inline:"nearest"},aDn=O(Mj.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(Bme||(Bme=u$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),lDn=O(ne)(Nme||(Nme=u$e([`
  position: relative;
`])));function cDn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:l}=Jf(),{openInspector:u,inspector:d}=hh(),f=si(),{comments:p,create:m,isRunningSetup:v,mentionOptions:g,selectedPath:x,setSelectedPath:b,setStatus:y,status:w}=r$e(),_=RYe(a),C=h.useMemo(()=>t0(e.schemaType),[e.schemaType]),S=h.useMemo(()=>p.data[w],[p.data,w]),[E,j]=h.useState(!1),k=h.useMemo(()=>(d==null?void 0:d.name)===kb,[d==null?void 0:d.name]),T=h.useMemo(()=>!k||(x==null?void 0:x.origin)==="field"?!1:(x==null?void 0:x.fieldPath)===vr(e.path),[k,e.path,x==null?void 0:x.fieldPath,x==null?void 0:x.origin]),A=h.useMemo(()=>{var z;const Y=vr(e.path);return(z=S.find(te=>te.fieldPath===Y))==null?void 0:z.threadId},[S,e.path]),D=h.useMemo(()=>{const z=vr(e.path);return p.data.open.map(te=>te.fieldPath===z?te.commentsCount:0).reduce((te,N)=>te+N,0)||0},[p.data.open,e.path]),I=D>0,P=h.useCallback(z=>{if(k&&i&&z){const Y=document.querySelector('[data-group-id="'.concat(z,'"]'));Y&&(Y.scrollIntoView(zme),s(!1))}},[i,k]),M=h.useCallback(()=>u(kb),[u]),$=h.useCallback(()=>{I&&w==="resolved"&&y("open"),I?(n(!1),u(kb)):n(z=>!z),A&&(s(!0),P(A),b({fieldPath:vr(e.path),origin:"field",threadId:null}))},[I,w,A,y,u,P,b,e.path]),V=h.useCallback(()=>{if(r){const z=sd(),Y={fieldPath:vr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:z};m.execute(Y),M(),y("open"),o(null),requestAnimationFrame(()=>{b({fieldPath:vr(e.path),origin:"field",threadId:z}),s(!0),P(z)})}},[m,M,P,e.path,b,y,r]),L=h.useCallback(()=>o(null),[]);h.useEffect(()=>{A&&P(A)},[A,P]);const H=h.useMemo(()=>({...zme,boundary:l,scrollMode:"if-needed",block:"start"}),[l]);h.useEffect(()=>{T&&a.current&&yx(a.current,H)},[l,T,e.path,H,x]),h.useEffect(()=>{j(_&&T);const Y=setTimeout(()=>{j(!1)},1200);return()=>clearTimeout(Y)},[S,_,T,e.path,x]);const U=h.useMemo(()=>({button:f&&c.jsx(rDn,{count:Number(D),currentUser:f,fieldTitle:C,isRunningSetup:v,mentionOptions:g,onChange:o,onClick:$,onCommentAdd:V,onDiscard:L,open:t,setOpen:n,value:r}),hasComments:I,isAddingComment:t}),[f,D,C,g,$,V,L,t,r,v,I]);return c.jsxs(lDn,{ref:a,children:[c.jsx(dL,{children:E&&c.jsx(aDn,{animate:"animate",exit:"exit",initial:"initial",variants:iDn})}),e.renderDefault({...e,__internal_comments:U})]})}function uDn(e){return c.jsx(GAn,{children:c.jsx(TAn,{children:e.renderDefault(e)})})}const dDn=lB({name:"sanity/desk/comments",document:{inspectors:[JAn]},form:{components:{field:sDn}},studio:{components:{layout:uDn}}}),d$e=h.createContext(null);function f$e(){const e=h.useContext(d$e);if(!e)throw new Error("DeskTool: missing context value");return e}const fDn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},hDn={create:M3,delete:uo,discardDraft:ua,initial:M3,editDraft:Du,editLive:Du,publish:Jx,unpublish:YS};function h$e(e){return fDn[e]}function pDn(e){return hDn[e]}function mDn(e){let{maxLength:t,userIds:n}=e;return c.jsx(Lj,{maxLength:t,children:n.map(r=>c.jsx(qa,{user:r,withTooltip:!0},r))})}var Vme=Object.freeze,gDn=Object.defineProperty,Dp=(e,t)=>Vme(gDn(e,"raw",{value:Vme(t||e.slice())})),Hme,Ume,Wme,Yme,qme,Gme,Kme;const NS=O(W)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(Hme||(Hme=Dp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),vDn=O(ae)(e=>{let{$selected:t,$disabled:n}=e;return de(Yme||(Yme=Dp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),NS,NS,t&&de(Ume||(Ume=Dp([`
      `,`::before {
        background: transparent;
      }
    `])),NS),n&&de(Wme||(Wme=Dp([`
      cursor: not-allowed;
    `]))))}),yDn=O(F)(qme||(qme=Dp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),bDn=O(B)(Gme||(Gme=Dp([`
  text-transform: capitalize;
`]))),xDn=O(F)(Kme||(Kme=Dp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ge(t.sanity.space[1]))}),Zme={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function wDn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:l}=e;const u=pDn(l),d=Array.from(t.authors),f=l!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Zo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return c.jsx(vDn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":Zme[t.type],children:c.jsx(F,{paddingX:2,children:c.jsxs(W,{align:"stretch",children:[c.jsx(NS,{align:"center",children:c.jsx(yDn,{padding:2,children:c.jsx(B,{size:2,children:u&&h.createElement(u)})})}),c.jsxs(ne,{space:2,margin:2,children:[o&&c.jsx(W,{children:c.jsx(ee,{padding:1,radius:2,shadow:1,tone:i?"primary":Zme[t.type],children:c.jsx(Nt,{muted:!0,size:0,children:"Latest"})})}),c.jsx(F,{children:c.jsx(bDn,{size:1,weight:"medium",children:h$e(l)||c.jsx("code",{children:l})})}),c.jsx(xDn,{paddingX:1,children:c.jsx(B,{size:0,muted:!0,children:p})})]}),c.jsx(W,{flex:1,justify:"flex-end",align:"center",children:c.jsx(mDn,{maxLength:3,userIds:d})})]})})})}var Xme=Object.freeze,_Dn=Object.defineProperty,Pk=(e,t)=>Xme(_Dn(e,"raw",{value:Xme(t||e.slice())})),Qme,Jme,ege,tge;const CDn=O(ne)(Qme||(Qme=Pk([`
  max-width: 200px;
`]))),SDn=O(W)(Jme||(Jme=Pk([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),EDn=O(F)(e=>{let{$visible:t}=e;return de(tge||(tge=Pk([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(ege||(ege=Pk([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),tF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[l,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const x=g===0,b=d&&g===d.length-1||!1;return c.jsxs(F,{paddingBottom:b?1:0,paddingTop:x?1:0,paddingX:1,children:[c.jsx(wDn,{chunk:m,isFirst:x,isLast:b,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&c.jsx(W,{align:"center",justify:"center",padding:4,children:c.jsx(Vr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),c.jsxs(EDn,{$visible:!f||l,"data-ui":"timeline",children:[d.length===0&&c.jsxs(CDn,{padding:3,space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"No document history"}),c.jsx(B,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&c.jsx(SDn,{direction:"column",children:c.jsx(Im,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};tF.displayName="Timeline";function kDn(){return c.jsxs(W,{align:"flex-start",gap:3,padding:4,children:[c.jsx(sr,{tone:"critical",children:c.jsx(da,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),c.jsx(sr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var nge=Object.freeze,jDn=Object.defineProperty,TDn=(e,t)=>nge(jDn(e,"raw",{value:nge(t||e.slice())})),rge;const ADn=O(hn)(rge||(rge=TDn([`
  overflow: hidden;
  overflow: clip;
`])));function DDn(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:l,isDeleted:u}=hh(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),x=Ai(),b=Vi(l,L=>L.chunks),y=Vi(l,L=>L.isLoading),w=Vi(l,L=>L.hasMoreChunks),_=Vi(l,L=>L.realRevChunk),C=Vi(l,L=>L.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(L=>{d&&(L.key==="Escape"||L.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);zr(j,[p,v]),Ds(k);const T=h.useCallback(L=>{try{const[H,U]=l.findRangeForRev(L);i("closed"),o(H,U)}catch(H){x.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,x]),A=h.useCallback(L=>{try{const[H,U]=l.findRangeForSince(L);i("closed"),o(H,U)}catch(H){x.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,x]),D=h.useCallback(()=>{y||l.loadMore()},[y,l]),I=s?c.jsx(kDn,{}):c.jsxs(c.Fragment,{children:[n==="rev"&&c.jsx(tF,{chunks:b,firstChunk:_,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:T}),n==="since"&&c.jsx(tF,{chunks:b,disabledBeforeFirstChunk:!0,firstChunk:_,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:A})]}),P=IDn((t==null?void 0:t.endTimestamp)||""),M=t?"".concat(P2e(h$e(t.type)),": ").concat(P):"Latest version",$=t?"Since: ".concat(P):"Since: unknown version",V=n==="rev"?M:$;return c.jsx(ADn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:c.jsx(ae,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Ml,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function IDn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Zo(n,"MMM d, yyyy, hh:mm a")},[e])}const PDn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function p$e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return c.jsxs(PDn,{...s,as:t,children:[c.jsxs(W,{padding:2,children:[c.jsx(F,{flex:1,padding:3,children:c.jsx(B,{as:"h1",size:1,weight:"semibold",children:i})}),c.jsx(F,{flex:"none",padding:1,children:c.jsx(ae,{"aria-label":r,fontSize:1,icon:ua,mode:"bleed",onClick:o,padding:2})})]}),n]})}var oge=Object.freeze,ODn=Object.defineProperty,$Dn=(e,t)=>oge(ODn(e,"raw",{value:oge(t||e.slice())})),ige;const RDn=O.div(ige||(ige=$Dn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function MDn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=l=>{l.preventDefault(),t(l.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return c.jsxs(RDn,{onMouseDown:o,children:[c.jsx("span",{}),c.jsx("span",{})]})}var sge=Object.freeze,FDn=Object.defineProperty,LDn=(e,t)=>sge(FDn(e,"raw",{value:sge(t||e.slice())})),age;const BDn=O(F)(age||(age=LDn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function ROn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),l=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{l.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=l.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return c.jsxs(BDn,{as:t,...i,ref:a,style:m,children:[n,c.jsx(MDn,{onResize:p,onResizeStart:f})]})}function NDn(){return c.jsx(CCn,{ms:300,children:c.jsxs(W,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[c.jsx(Vr,{muted:!0}),c.jsx(F,{marginTop:3,children:c.jsx(B,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function zDn(e){const t=new Map;return dA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var lge=Object.freeze,VDn=Object.defineProperty,HDn=(e,t)=>lge(VDn(e,"raw",{value:lge(t||e.slice())})),cge;const UDn=O(Z7)(cge||(cge=HDn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function WDn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=hh(),a=h.useRef(null),l=Vi(i,x=>x.diff),u=Vi(i,x=>x.onOlderRevision),d=Vi(i,x=>x.selectionState),f=Vi(i,x=>x.sinceTime),p=d==="loading",m=!u,v=oe.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:ZHt,rootDiff:l,isComparingCurrent:m,value:s}),[n,l,m,r,s]),g=oe.useMemo(()=>l?zDn(l):[],[l]);return c.jsxs(W,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(p$e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:c.jsxs(W,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(F,{flex:1,children:c.jsx(DDn,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(F,{flex:"none",children:c.jsx(Ki,{annotations:g,description:"Changes by",portal:!0,children:c.jsx(Lj,{maxLength:4,"aria-label":"Changes by",children:g.map(x=>{let{author:b}=x;return c.jsx(qa,{user:b},b)})})})})]})}),c.jsx(ee,{flex:1,children:c.jsx(gm,{element:a.current,children:c.jsx(UDn,{"data-ui":"Scroller",ref:a,children:c.jsx(F,{flex:1,padding:4,children:c.jsx(YDn,{diff:l,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function YDn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?c.jsx(u4,{}):o?c.jsx(NDn,{}):n?c.jsx(bAe.Provider,{value:r,children:c.jsx(n_,{diff:n,schemaType:i})}):c.jsx(u4,{})}const qDn={name:V4,useMenuItem:()=>{const{features:e}=f$e();return{hidden:!e.reviewChanges,icon:DF,title:"Review changes"}},component:WDn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function GDn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!_t(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const l=i.fields.find(u=>u.name===a);if(!l)throw new Error("Field type not found: .".concat(a));i=l.type,o.push(i);continue}if(typeof a=="number"){if(!KJ(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const l=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":_t(s)?u.name===(s==null?void 0:s._type):!1);if(!l)throw new Error("Item type not found: [".concat(a,"]"));i=l,o.push(i);continue}if(_t(a)&&a._key){if(!KJ(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>_t(d)&&d._key===a._key),!_t(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>_t(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const KDn={error:da,warning:Xr,info:lm},ZDn={error:"critical",warning:"caution",info:"primary"};function XDn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=hh(),a=h.useCallback(l=>{r(l),n(l)},[n,r]);return c.jsxs(W,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(p$e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),c.jsxs(ee,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&c.jsx(F,{padding:2,children:c.jsx(B,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&c.jsx(ne,{space:2,children:i.map((l,u)=>c.jsx(QDn,{marker:l,onOpen:a,schemaType:o,value:s},u))})]})]})}function QDn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return c.jsxs(_0,{onCatch:a,children:[s&&c.jsx(ee,{padding:3,radius:2,tone:"critical",children:c.jsxs(B,{size:1,children:["ERROR: ",s.error.message]})}),!s&&c.jsx(ee,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:ZDn[t.level],children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(F,{flex:"none",children:c.jsx(B,{size:1,children:h.createElement(KDn[t.level])})}),c.jsxs(ne,{flex:1,space:2,children:[c.jsx(JDn,{path:t.path,schemaType:r,value:o}),c.jsx(B,{muted:!0,size:1,children:t.item.message})]})]})})]})}function JDn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>GDn({path:t,schemaType:n,value:r}),[t,n,r]);return c.jsx(B,{size:1,children:o.map((i,s)=>c.jsxs(h.Fragment,{children:[s>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function eIn(e){const{documentId:t,documentType:n}=e,{validation:r}=EN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(K$e),s=o.some(Z$e),a=h.useMemo(()=>i?da:s?Xr:Jk,[i,s]),l=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:l,showAsAction:!0}}const tIn={name:iSn,component:XDn,useMenuItem:eIn},nIn=[GOe,KOe,WOe,YOe,UOe,qOe],rIn=[B2n],oIn=[tIn,qDn],iIn=lB(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,...nIn])),badges:t=>Array.from(new Set([...t,...rIn])),inspectors:t=>Array.from(new Set([...t,...oIn]))},plugins:[dDn()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||Ave,component:h.lazy(()=>g8(()=>import("./index-dd34e89c-8db61293.js"),["static/index-dd34e89c-8db61293.js","static/index-77e956b7.js"]).then(function(t){return t.index})),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:N2n,options:e,router:q2n}]}));function sIn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const l=o[s];return!l||l.hidden?null:{action:"".concat(z4).concat(i.name),group:l.showAsAction?void 0:"inspectors",icon:l.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=l.hotkeys)==null?void 0:a.join("+"),showAsAction:l.showAsAction,title:l.title,tone:l.tone}}).filter(Boolean)}function aIn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:p0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function lIn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:Cve,shortcut:"Ctrl+Alt+O"}:null}function cIn(e){const t=sIn(e),n=[lIn(e)].filter(Boolean);return[...t,aIn(e),...n]}const uIn=e=>_t(e)&&typeof e._id=="string"&&typeof e._type=="string";function dIn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=ur().document,s=Zet(e);if(r)throw r;return h.useEffect(()=>{s.pipe(Dwe(500),tt(a=>uIn(a)?wr(i({document:a})):be(void 0)),Xn(a=>{const l=_t(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[i,s]),t}function fIn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(l=>l.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const hIn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Go(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),c.jsx(c.Fragment,{})});function pIn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,l]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,l(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{l(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),c.jsx(c.Fragment,{children:r.map((f,p)=>f.useMenuItem&&c.jsx(hIn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const mIn=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=dr(),s=d_(),{actions:a,badges:l,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=ur().document,p=RN(),m=XA(),v=m.setParams,{features:g}=f$e(),{push:x}=Ai(),{options:b,menuItemGroups:y=oSn,title:w=null,views:_=[]}=r,C=Go(b),S=C.id,E=Zn(S),j=b.type,k=Go(m.params)||rSn,T=Go(m.payload),{templateName:A,templateParams:D}=h.useMemo(()=>fIn(s,{documentType:j,templateName:C.template,templateParams:C.templateParameters,panePayload:T,urlTemplate:k.template}),[j,C,k,T,s]),I=txn({documentId:E,documentType:j,templateName:A,templateParams:D}),P=Go(I),{patch:M}=Wc(E,j),$=SN(E,j),{validation:V}=EN(E,j),L=rbn(E,j),H=i.get(j),U=($==null?void 0:$.draft)||($==null?void 0:$.published)||P.value,[z,Y]=h.useState(!1),[te,N]=h.useState([]),G=h.useMemo(()=>a({schemaType:j,documentId:E}),[a,E,j]),q=h.useMemo(()=>l({schemaType:j,documentId:E}),[l,E,j]),K=h.useMemo(()=>d({schemaType:j,documentId:E}),[E,j,d]),Q=Go(V),X=Go(_),[Z,re]=h.useState(()=>k.path?Cf(k.path):[]),le=k.view||X[0]&&X[0].id||null,[he,ie]=h.useState("closed"),[ye,Ce]=h.useState(null),Ae=awn({documentId:E,documentType:j,onError:Ce,rev:k.rev,since:k.since}),xe=Vi(Ae,He=>He.onOlderRevision),Ze=Vi(Ae,He=>He.revTime),rt=Vi(Ae,He=>He.sinceAttributes),at=Vi(Ae,He=>He.timelineDisplayed),nt=Vi(Ae,He=>He.timelineReady),Kt=Vi(Ae,He=>He.isPristine),Ye=h.useMemo(()=>nt?!($!=null&&$.draft)&&!($!=null&&$.published)&&!Kt:!1,[$==null?void 0:$.draft,$==null?void 0:$.published,Kt,nt]),me=dIn(U),[Ue,qe]=h.useState([]);h.useEffect(()=>{const He=p.documentPresence(E).subscribe(Mn=>{qe(Mn)});return()=>{He.unsubscribe()}},[E,p]);const Ne=h.useMemo(()=>f({documentId:E,documentType:j}),[E,j,f]),[bt,Tt]=h.useState(()=>k.inspect||null),St=h.useRef(k.inspect);h.useEffect(()=>{St.current!==k.inspect&&(St.current=k.inspect,Tt(k.inspect||null))},[k.inspect]);const Zt=Ne==null?void 0:Ne.find(He=>He.name===bt),Oi=Ne.find(He=>He.name===V4),is=(Zt==null?void 0:Zt.name)===V4,$s=!!U,Ut=h.useMemo(()=>cIn({currentInspector:Zt,features:g,hasValue:$s,inspectorMenuItems:te,inspectors:Ne,previewUrl:me}),[Zt,g,$s,te,Ne,me]),Ur=k.inspect==="on",Hl=is?rt:($==null?void 0:$.published)||null,rl=h.useMemo(()=>H?u({documentId:E,documentType:j,schemaType:H}):[],[E,j,u,H]),ai=L==="connected"&&$.ready&&(nt||!!ye),Rn=h.useMemo(()=>xe?at||{_id:U._id,_type:U._type}:U,[xe,at,U]),Rr=h.useCallback((He,Mn)=>{v({...k,since:He,rev:Mn||void 0})},[k,v]),Jr=h.useCallback(He=>{re(He),p.setLocation([{type:"document",documentId:E,path:He,lastActiveAt:new Date().toISOString()}])},[E,p,re]),ze=h.useCallback(He=>{re([])},[re]),mt=h.useRef(()=>{throw new Error("Nope")});mt.current=He=>{M.execute(r_n(He.patches),P.value)};const Qn=h.useCallback(He=>mt.current(He),[]),vn=h.useCallback(He=>{var Mn,Tn,Do,gh;const Gc=He&&Ne.find(ci=>ci.name===He);if(He&&!Gc){console.warn('No inspector named "'.concat(He,'"'));return}if(Zt){if(Gc){const ci=(Tn=(Mn=Gc.onClose)==null?void 0:Mn.call(Gc,{params:k}))!=null?Tn:{params:k};Tt(null),St.current=void 0,v({...ci.params,inspect:void 0});return}if(Zt){const ci=(gh=(Do=Zt.onClose)==null?void 0:Do.call(Zt,{params:k}))!=null?gh:{params:k};Tt(null),St.current=void 0,v({...ci.params,inspect:void 0})}}},[Zt,Ne,k,v]),li=h.useCallback((He,Mn)=>{var Tn,Do,gh,Gc;const ci=Ne.find(uz=>uz.name===He);if(!ci){console.warn('No inspector named "'.concat(He,'"'));return}if((Zt==null?void 0:Zt.name)===ci.name){v({...k,...Mn,inspect:ci.name});return}let y1=k;Zt&&(y1=((Do=(Tn=ci.onClose)==null?void 0:Tn.call(ci,{params:y1}))!=null?Do:{params:y1}).params);const z$e=(Gc=(gh=ci.onOpen)==null?void 0:gh.call(ci,{params:y1}))!=null?Gc:{params:y1};Tt(ci.name),St.current=ci.name,v({...z$e.params,...Mn,inspect:ci.name})},[Zt,Ne,k,v]),mo=h.useCallback(()=>{Oi&&vn(Oi.name)},[vn,Oi]),ss=h.useCallback(()=>{g.reviewChanges&&Oi&&li(Oi.name)},[g.reviewChanges,li,Oi]),Rs=h.useCallback(()=>m.closeCurrent(),[m]),Ul=h.useCallback(()=>m.duplicateCurrent(),[m]),qc=h.useCallback(function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Ur;v(He?{...k,inspect:"on"}:ji(k,"inspect"))},[Ur,k,v]),Nm=h.useCallback(He=>{if(He.action==="production-preview"&&me)return window.open(me),!0;if(He.action==="inspect")return qc(!0),!0;if(He.action==="reviewChanges")return ss(),!0;if(typeof He.action=="string"&&He.action.startsWith(z4)){const Mn=He.action.slice(z4.length),Tn=Ne.find(Do=>Do.name===Mn);if(Tn)return Tn.name===bt?vn(Tn.name):li(Tn.name),!0}return!1},[vn,ss,bt,Ne,li,me,qc]),ph=h.useCallback(He=>{for(const Mn of Ut)if(Mn.shortcut&&Fi(Mn.shortcut,He)){He.preventDefault(),He.stopPropagation(),Nm(Mn);return}},[Nm,Ut]),mh=h.useCallback(()=>qc(!1),[qc]),[g1,D$e]=h.useState([]),[I$e,rz]=h.useState(),[oz,iz]=h.useState(),[sz,az]=h.useState(),P$e=h.useCallback((He,Mn)=>{iz(Tn=>Kh(Tn,He,Mn))},[]),O$e=h.useCallback((He,Mn)=>{az(Tn=>Kh(Tn,He,Mn))},[]),$$e=h.useCallback((He,Mn)=>rz(Tn=>Kh(Tn,He,Mn)),[]),R$e=U._createdAt?"update":"create",lz=!!(H!=null&&H.liveEdit),aD=U._id?U._id:"dummy-id",M$e=h.useMemo(()=>({...U,_id:lz?Zn(aD):ni(aD)}),[lz,U,aD]),[v1,lD]=axn({document:M$e,permission:R$e}),cz=!(U!=null&&U._id),F$e=h.useMemo(()=>{var He;const Mn=!lD&&!(v1!=null&&v1.granted),Tn=!PK(H,"update"),Do=cz&&!PK(H,"create"),gh=L==="reconnecting",Gc=(He=$.transactionSyncLock)==null?void 0:He.enabled;return!ai||Ze!==null||Mn||Tn||Do||gh||Gc||z||Ye},[L,$.transactionSyncLock,cz,Ye,z,lD,v1==null?void 0:v1.granted,ai,Ze,H]),cD=n_n(H,{value:Rn,readOnly:F$e,comparisonValue:Hl,focusPath:Z,openPath:g1,collapsedPaths:oz,presence:Ue,validation:Q,collapsedFieldSets:sz,fieldGroupState:I$e,changesOpen:is}),__=h.useRef(cD);__.current=cD;const uD=h.useCallback(He=>{Vwn(__.current,He).forEach(Tn=>{Tn.type==="expandPath"&&iz(Do=>Kh(Do,Tn.path,!1)),Tn.type==="expandFieldSet"&&az(Do=>Kh(Do,Tn.path,!1)),Tn.type==="setSelectedGroup"&&rz(Do=>Kh(Do,Tn.path,Tn.groupName))}),D$e(He)},[__]),L$e={actions:G,activeViewId:le,badges:q,changesOpen:is,closeInspector:vn,collapsedFieldSets:sz,collapsedPaths:oz,compareValue:Hl,connectionState:L,displayed:Rn,documentId:E,documentIdRaw:S,documentType:j,editState:$,fieldActions:rl,focusPath:Z,inspector:Zt||null,inspectors:Ne,menuItems:Ut,onBlur:ze,onChange:Qn,onFocus:Jr,onPathOpen:uD,onHistoryClose:mo,onHistoryOpen:ss,onInspectClose:mh,onKeyUp:ph,onMenuAction:Nm,onPaneClose:Rs,onPaneSplit:Ul,onSetActiveFieldGroup:$$e,onSetCollapsedPath:P$e,onSetCollapsedFieldSet:O$e,openInspector:li,index:n,inspectOpen:Ur,validation:Q,menuItemGroups:y||[],paneKey:o,previewUrl:me,ready:ai,schemaType:H,isPermissionsLoading:lD,permissions:v1,setTimelineMode:ie,setTimelineRange:Rr,setIsDeleting:Y,isDeleting:z,isDeleted:Ye,timelineError:ye,timelineMode:he,timelineStore:Ae,title:w,value:U,views:X,formState:cD,unstable_languageFilter:K};h.useEffect(()=>{L==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:c.jsx(c.Fragment,{children:"Connection lost. Reconnecting"})})},[L,x]),h.useEffect(()=>{var He;if(ai&&k.path){const{path:Mn,...Tn}=k,Do=_Re((He=__.current)==null?void 0:He.value,Cf(Mn));re(Do),uD(Do),m.setParams(Tn)}},[k,E,uD,ai,m]);const[B$e,N$e]=h.useState([]);return c.jsxs(HOe.Provider,{value:L$e,children:[Ne.length>0&&c.jsx(pIn,{documentId:E,documentType:j,inspectors:Ne,onMenuItems:N}),rl.length>0&&H&&c.jsx(Jw,{actions:rl,documentId:E,documentType:j,onActions:N$e,path:Vn,schemaType:H}),c.jsx(r_,{actions:B$e,path:Vn,children:c.jsx(YAn,{documentId:E,documentType:j,children:t})})]})});mIn.displayName="DocumentPaneProvider";var gIn=Object.defineProperty,vIn=(e,t,n)=>t in e?gIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uge=(e,t,n)=>(vIn(e,typeof t!="symbol"?t+"":t,n),n);class nn extends Error{constructor(t,n,r,o){super(t),uge(this,"path"),uge(this,"helpId");const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Pn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Pn||{});const yIn=["_id","_type","_createdAt","_updatedAt","_rev"];function nF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return yIn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(l=>nF(l,r)).join(","),"}")}const i=r.length>0&&nF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function bIn(e,t){return t.map(n=>nF(e,n.field.split("."))).join(", ")}const m$e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},xIn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},wIn=m$e,dge=[m$e,xIn];var _In=Object.defineProperty,CIn=(e,t,n)=>t in e?_In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SIn=(e,t,n)=>(CIn(e,typeof t!="symbol"?t+"":t,n),n);function g$e(e,t,n){return e instanceof Wf?e.serialize({path:n,index:t}):e}class Wf{constructor(t,n){this._context=t,SIn(this,"spec"),this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new nn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Pn.TITLE_REQUIRED)}if(!r&&!o)throw new nn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new nn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Wf(this._context);return n.spec={...this.spec,...t||{}},n}}function v$e(e,t,n){return new Wf(e).group("sorting").title("Sort by ".concat(t.title)).icon(PF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function y$e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(dge):dge).map(o=>v$e(e,o,bIn(r,o.by)))}var EIn=Object.defineProperty,kIn=(e,t,n)=>t in e?EIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fge=(e,t,n)=>(kIn(e,typeof t!="symbol"?t+"":t,n),n);function b$e(e,t,n){return e instanceof qx?e.serialize({path:n,index:t}):e}class qx{constructor(t,n){this._context=t,fge(this,"_id"),fge(this,"_title"),this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new qx(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new qx(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new nn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new nn("`title` is required for a menu item group",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);return{id:n,title:r}}}const x$e=/([^A-Za-z0-9-_.])/;function x_(e,t,n){if(typeof e!="string")throw new nn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(x$e)||[];if(r)throw new nn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new nn("Structure node id cannot start with __edit__",t,n);return e}function rD(e,t){if(t)return t;const n=Qfe(e);return x$e.test(n)?Qfe(Wke(e)):n}var jIn=Object.defineProperty,TIn=(e,t,n)=>t in e?jIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AIn=(e,t,n)=>(TIn(e,typeof t!="symbol"?t+"":t,n),n);class Gx{constructor(t){AIn(this,"spec"),this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:rD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new nn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!s)throw new nn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);return{id:x_(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,l)=>g$e(a,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>b$e(a,l,t.path))}}clone(t){const n=new Gx;return n.spec={...this.spec,...t||{}},n}}async function w$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Zn(t),o=ni(t);return(await e(gn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}var DIn=Object.defineProperty,IIn=(e,t,n)=>t in e?DIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PIn=(e,t,n)=>(IIn(e,typeof t!="symbol"?t+"":t,n),n);class JN{constructor(){PIn(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||_Cn(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new nn("`id` is required for view item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new nn("`title` is required for view item",t.path,t.index).withHelpUrl(Pn.TITLE_REQUIRED);return{id:x_(n,t.path,t.index),title:r,icon:o}}}function OIn(e){return typeof e.serialize=="function"}function _$e(e,t,n){return OIn(e)?e.serialize({path:n,index:t}):e}var $In=Object.defineProperty,RIn=(e,t,n)=>t in e?$In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MIn=(e,t,n)=>(RIn(e,typeof t!="symbol"?t+"":t,n),n);const FIn=e=>_t(e)&&e.type==="component";class oD extends JN{constructor(t){const n=FIn(t)?{...t}:{options:{}};super(),MIn(this,"spec"),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new nn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Pn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new oD;return n.spec={...this.spec,...t||{}},n}}var LIn=Object.defineProperty,BIn=(e,t,n)=>t in e?LIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NIn=(e,t,n)=>(BIn(e,typeof t!="symbol"?t+"":t,n),n);class iD extends JN{constructor(t){super(),NIn(this,"spec"),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new iD;return n.spec={...this.spec,...t||{}},n}}const C$e=e=>new iD(e),zIn=e=>new oD(e);var VIn=Object.freeze({__proto__:null,ComponentViewBuilder:oD,FormViewBuilder:iD,GenericViewBuilder:JN,component:zIn,form:C$e,maybeSerializeView:_$e}),HIn=Object.defineProperty,UIn=(e,t,n)=>t in e?HIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WIn=(e,t,n)=>(UIn(e,typeof t!="symbol"?t+"":t,n),n);const YIn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const l=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await w$e(n,r)),!a)throw new nn("Failed to resolve document, and no type provided in parameters.",l,u);return t({documentId:r,schemaType:a})}};class Yf{constructor(t,n){this._context=t,WIn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:rD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new nn("`id` is required for document nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!s||!s.id)throw new nn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Pn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new nn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[C$e()]).map((d,f)=>_$e(d,f,t)),l=a.map(d=>d.id),u=co(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new nn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||YIn(this._context),id:x_(i,t,n),type:"document",options:qIn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Yf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function qIn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function GIn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Yf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function KIn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const hge=["default","card","media","detail","block"],S$e=Symbol("Document type list canHandleIntent"),ez=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",l=r,u=((o=l.options)==null?void 0:o.filter)||"",d=((i=l.options)==null?void 0:i.params)||{},f=l.schemaTypeName?[l.schemaTypeName]:tz(u,d),p=l.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};ez.identity=S$e;var ZIn=Object.defineProperty,XIn=(e,t,n)=>t in e?ZIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QIn=(e,t,n)=>(XIn(e,typeof t!="symbol"?t+"":t,n),n);class sD{constructor(t,n){this._context=t,QIn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new nn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!o.templateId)throw new nn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);const a=s.find(l=>l.id===o.templateId);if(!a)throw new nn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new sD(this._context);return n.spec={...this.spec,...t},n}}function JIn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function ePn(e,t,n){return e instanceof sD?e.serialize({path:n,index:t}):e}function tPn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=Fbt({type:i&&i.schemaType,template:o.templateId},Boolean),l=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Wf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||bp).intent({type:"create",params:l}).serialize()})}var nPn=Object.defineProperty,rPn=(e,t,n)=>t in e?nPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pge=(e,t,n)=>(rPn(e,typeof t!="symbol"?t+"":t,n),n);function oPn(){}const E$e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&ez(e,t,{pane:r,index:o})};class k$e{constructor(){pge(this,"initialValueTemplatesSpecified",!1),pge(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:rD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!hge.includes(o))throw new nn("`layout` must be one of ".concat(hge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>ePn(s,a,r));return{id:x_(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||oPn,canHandleIntent:this.spec.canHandleIntent||E$e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>g$e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>b$e(s,a,r))}}}var iPn=Object.defineProperty,sPn=(e,t,n)=>t in e?iPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aPn=(e,t,n)=>(sPn(e,typeof t!="symbol"?t+"":t,n),n);const lPn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new nn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Pn.QUERY_PROVIDED_FOR_FILTER);return r},cPn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||w$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Yf(e).id("editor").documentId(t).schemaType(""))};class w_ extends k$e{constructor(t,n){super(),this._context=t,aPn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new nn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Pn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new nn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Pn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),rSe(Pn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||cPn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||gn.apiVersion,filter:lPn(this.spec,t)}}}clone(t){const n=new w_(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=uPn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=dPn(n.spec)),n}getSpec(){return this.spec}}function uPn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(tz(i,s)));if(a.length!==0)return a.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:bp}))}function dPn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=tz(n,r);return o.length===1?o[0]:void 0}function tz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fPn(e,t);return n.length===0&&(n=hPn(e,t)),n}function fPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function hPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}var pPn=Object.defineProperty,mPn=(e,t,n)=>t in e?pPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gPn=(e,t,n)=>(mPn(e,typeof t!="symbol"?t+"":t,n),n);const vPn=e=>e instanceof p1?"ListBuilder":_Pn(e)?"Promise":Array.isArray(e)?"array":typeof e,yPn=e=>e.type==="listItem",bPn=(e,t,n)=>(n.pane.items||[]).filter(DPn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||E$e(e,t,n),xPn=(e,t)=>{const o=(t.parent.items.filter(yPn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function wPn(e,t,n){if(e instanceof m1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||vPn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new nn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Pn.INVALID_LIST_ITEM)}return e}function _Pn(e){return _t(e)&&typeof e.then=="function"}class p1 extends k$e{constructor(t,n){super(),this._context=t,gPn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new nn("`id` is required for lists",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new nn("`items` must be an array of items",t.path,t.index).withHelpUrl(Pn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,l)=>wPn(a,l,o)),s=i.filter((a,l)=>Hke(i,{id:a.id},l+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),l=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new nn("List items with same ID found (".concat(l,")"),t.path,t.index).withHelpUrl(Pn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||bPn,child:this.spec.child||xPn,items:i}}clone(t){const n=new p1(this._context);return n.spec={...this.spec,...t||{}},n}}var CPn=Object.defineProperty,SPn=(e,t,n)=>t in e?CPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EPn=(e,t,n)=>(SPn(e,typeof t!="symbol"?t+"":t,n),n);class m1{constructor(t,n){this._context=t,EPn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:rD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new nn("`id` is required for list items",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new nn("`title` is required for list items",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const l=this._context.schema.get(i);if(!l)throw new nn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Pn.SCHEMA_TYPE_NOT_FOUND);i=l}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Gx||o instanceof w_||o instanceof Yf||o instanceof p1?o.serialize(s):o;if(typeof a=="function"){const l=a;a=(u,d)=>l(u,{...d,serializeOptions:s})}return{...this.spec,id:x_(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new m1(this._context);return n.spec={...this.spec,...t||{}},n}}var kPn=Object.defineProperty,jPn=(e,t,n)=>t in e?kPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TPn=(e,t,n)=>(jPn(e,typeof t!="symbol"?t+"":t,n),n);const APn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Yf(e).id("documentEditor").documentId(n)};class nz extends m1{constructor(t,n){super(t,n),this._context=t,TPn(this,"spec"),this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new nn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Pn.SCHEMA_TYPE_REQUIRED);const r=n.child||APn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new nz(this._context);return n.spec={...this.spec,...t||{}},n}}function DPn(e){return _t(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}var IPn=Object.defineProperty,PPn=(e,t,n)=>t in e?IPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OPn=(e,t,n)=>(PPn(e,typeof t!="symbol"?t+"":t,n),n);class Ok extends w_{constructor(t,n){super(t),this._context=t,OPn(this,"spec"),this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new Ok(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new Ok(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===S$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function $Pn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const RPn=["sanity.imageAsset","sanity.fileAsset"];function MPn(e){return RPn.includes(e)}function FPn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function LPn(e){return e.type==="list"}function BPn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&FPn(r)}).filter(n=>!MPn(n))}function j$e(e){return BPn(e).map(n=>T$e(e,n))}function T$e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||an(t);return new m1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,l=LPn(a)?a.items.find(d=>d.id===i):null;let u=A$e(e,t);return l&&l.title&&(u=u.title(l.title)),u})}function A$e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const l=a.title||an(i),u=$Pn(a);return new Ok(e).id(s.id||i).title(s.title||l).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(wIn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||ez).menuItems(s.menuItems||[...y$e(e,a),new Wf(e).group("layout").title("Compact view").icon($ve).action("setLayout").params({layout:"default"}),new Wf(e).group("layout").title("Detailed view").icon(Rve).action("setLayout").params({layout:"detail"})])}function NPn(e){return!e||typeof e=="string"?!1:!!e.icon}function zPn(e){const t=j$e(e);return new p1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>NPn(n.getSchemaType())))}function VPn(e){let{defaultDocumentNode:t,source:n}=e;const r=Ymn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Yf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Zn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>zPn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return A$e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return T$e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return j$e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Yf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return KIn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new p1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new m1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Wf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new qx(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return tPn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new w_(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new nz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return v$e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return y$e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return GIn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return JIn(o,...a)},initialValueTemplateItem:(s,a)=>new sD(o,{id:s,parameters:a,templateId:s}),component:s=>Or.isValidElementType(s)?new Gx().component(s):new Gx(s),divider:()=>({id:xSe("__divider__"),type:"divider"}),view:VIn,context:o};return i}function MOn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=ur(),a=Wmn(s),l=Vl(),u=h.useMemo(()=>VPn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:l}):u.defaults(),[u,n,a,l]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return c.jsx(d$e.Provider,{value:p,children:r})}const HPn=lB(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||EF,component:h.lazy(()=>g8(()=>import("./SanityVision-77b499dd-270dd1a3.js"),["static/SanityVision-77b499dd-270dd1a3.js","static/index-77e956b7.js"])),options:o,router:gi.create("/*")}]}}),UPn={title:"Block Content",name:"blockContent",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"},{title:"Open in new tab",name:"blank",type:"boolean"}]}]}},{type:"image",options:{hotspot:!0}}]},WPn={name:"category",title:"Category",type:"document",fields:[{name:"title",title:"Title",type:"string"}]},YPn={name:"post",title:"Post",type:"document",fields:[{name:"title",title:"Title",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}},{name:"postImage",title:"Post image",type:"image",options:{hotspot:!0}},{name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]},{name:"publishedDate",title:"Published Date",type:"datetime"},{name:"body",title:"Body",type:"blockContent"}],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(e){const{author:t}=e;return Object.assign({},e,{subtitle:t&&`by ${t}`})}}},qPn=[YPn,WPn,UPn],GPn="gu6z0750",KPn="production",ZPn={title:"vrsacinfo-studio",projectId:GPn,dataset:KPn,plugins:[iIn(),HPn()],tools:(e,t)=>t.currentUser.roles.find(({name:r})=>r==="administrator")?e:e.filter(r=>r.name!=="vision"),schema:{types:qPn}};nbn(document.getElementById("sanity"),ZPn,{reactStrictMode:!1,basePath:"/"});export{jo as $,_F as A,ae as B,sa as C,mIn as D,_On as E,W as F,Cr as G,ii as H,gn as I,Tr as J,ce as K,ki as L,Xn as M,Wa as N,Bf as O,wOn as P,Yt as Q,Wn as R,spn as S,B as T,Awe as U,Zr as V,Yi as W,G7 as X,ee as Y,Xw as Z,jOn as _,Or as a,sbn as a$,vt as a0,j0 as a1,be as a2,Ya as a3,Ewe as a4,xn as a5,M5 as a6,ys as a7,Zke as a8,fo as a9,g8 as aA,Ai as aB,hh as aC,obn as aD,gOn as aE,de as aF,ge as aG,Ao as aH,ua as aI,cOn as aJ,ex as aK,vA as aL,uOn as aM,LAe as aN,j2n as aO,zOe as aP,k2n as aQ,Vi as aR,DDn as aS,x2n as aT,JCn as aU,yt as aV,y6e as aW,qOe as aX,Mj as aY,oe as aZ,Uf as a_,Zi as aa,Ei as ab,Dc as ac,rj as ad,NKt as ae,Os as af,XA as ag,PN as ah,XPn as ai,$Cn as aj,Qu as ak,yv as al,Rp as am,IFe as an,Xr as ao,xs as ap,Ie as aq,nx as ar,Wj as as,pn as at,zt as au,rd as av,cT as aw,_t as ax,Vl as ay,eOn as az,SOn as b,Ht as b$,gw as b0,pOn as b1,hOe as b2,dOn as b3,d_ as b4,AYt as b5,hd as b6,OQe as b7,C0 as b8,AOn as b9,IOn as bA,Nl as bB,DOn as bC,_0 as bD,MOn as bE,ROn as bF,$On as bG,tt as bH,Kn as bI,iwe as bJ,sd as bK,nn as bL,Nt as bM,xr as bN,rSe as bO,ML as bP,zet as bQ,pa as bR,SCn as bS,aJe as bT,Wc as bU,AF as bV,d0 as bW,si as bX,vOn as bY,rn as bZ,Rl as b_,COn as ba,Fi as bb,Is as bc,sOn as bd,TOn as be,lOn as bf,vr as bg,MCn as bh,bOn as bi,xOn as bj,ji as bk,ZA as bl,Dwe as bm,qxe as bn,Yxe as bo,HTe as bp,Nj as bq,gm as br,mk as bs,iWt as bt,Mf as bu,o6e as bv,Jx as bw,e0 as bx,POn as by,OOn as bz,kOn as c,Me as c0,Jt as c1,Cxe as c2,SN as c3,set as c4,wr as c5,RL as c6,TS as c7,Z7 as c8,hn as c9,Rc as ca,zr as cb,Ds as cc,ln as cd,aOn as ce,RCn as cf,EOn as cg,Tvt as ch,gl as ci,ml as cj,n3 as ck,N4 as cl,zve as cm,QPn as cn,Fft as co,Lu as cp,Ff as cq,Au as cr,da as cs,CL as ct,w6e as cu,d_e as cv,Qx as cw,Dv as cx,fe as cy,yOn as d,zN as e,F as f,Xk as g,dr as h,ur as i,c as j,Go as k,LL as l,Cf as m,Pr as n,bc as o,_f as p,NN as q,h as r,O as s,Zn as t,f$e as u,Vr as v,ne as w,oj as x,CCn as y,Im as z};
